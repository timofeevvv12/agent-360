
window._bubble_page_load_data.run_js_start = Date.now();
/*! jQuery v3.6.4 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,y=n.hasOwnProperty,a=y.toString,l=a.call(Object),v={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.4",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=y.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:v}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,y,s,c,v,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",$=new RegExp(M+"+","g"),B=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&v(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!y||!y.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ve(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace(B,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ye(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ve(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.cssHas=ce(function(){try{return C.querySelector(":has(*,:jqfake)"),!1}catch(e){return!0}}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],y=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&y.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||y.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||y.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||y.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||y.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||y.push(".#.+[+~]"),e.querySelectorAll("\\\f"),y.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&y.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&y.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&y.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),y.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),d.cssHas||y.push(":has"),y=y.length&&new RegExp(y.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),v=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType&&e.documentElement||e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&v(p,e)?-1:t==C||t.ownerDocument==p&&v(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!y||!y.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),v(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace($," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,y){var v="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===y?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=v!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(v){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=y)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace(B,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ye(function(){return[0]}),last:ye(function(e,t){return[t-1]}),eq:ye(function(e,t,n){return[n<0?n+t:n]}),even:ye(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ye(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ye(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ye(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,y,v,e){return y&&!y[S]&&(y=Ce(y)),v&&!v[S]&&(v=Ce(v,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?v||(e?d:l||y)?[]:t:f;if(g&&g(f,p,n,r),y){i=Te(p,u),y(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(v||d){if(v){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);v(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=v?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),v?v(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(B,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace(B," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,y,v,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(y=o,m=0<(v=i).length,x=0<y.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=y[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=v[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+v.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ve(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function $(){E.removeEventListener("DOMContentLoaded",$),C.removeEventListener("load",$),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",$),C.addEventListener("load",$));var B=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)B(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):B(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),v.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",v.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ye(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ve(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,v.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ye(f.appendChild(o),"script"),l&&ve(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=y.events)||(u=y.events=Object.create(null)),(a=y.handle)||(a=y.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Y.hasData(e)&&Y.get(e);if(y&&(u=y.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,y.handle)||S.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(t,e){S.event.special[t]={setup:function(){return Se(this,t,Ce),!1},trigger:function(){return Se(this,t),!0},_default:function(e){return Y.get(e.target,t)},delegateType:e}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!v.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ye(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ye(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ye(r)),r.parentNode&&(n&&ie(r)&&ve(ye(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ye(c),r=0,i=(o=ye(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ye(e),a=a||ye(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ye(c,"script")).length&&ve(a,!f&&ye(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return B(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ye(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return B(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ye(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ye(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=/^--/,Me=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Ie=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},We=new RegExp(ne.join("|"),"i"),Fe="[\\x20\\t\\r\\n\\f]",$e=new RegExp("^"+Fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fe+"+$","g");function Be(e,t,n){var r,i,o,a,s=Re.test(t),u=e.style;return(n=n||Me(e))&&(a=n.getPropertyValue(t)||n[t],s&&a&&(a=a.replace($e,"$1")||void 0),""!==a||ie(e)||(a=S.style(e,t)),!v.pixelBoxStyles()&&Pe.test(a)&&We.test(t)&&(r=u.width,i=u.minWidth,o=u.maxWidth,u.minWidth=u.maxWidth=u.width=a,a=n.width,u.width=r,u.minWidth=i,u.maxWidth=o)),void 0!==a?a+"":a}function _e(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(v,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var ze=["Webkit","Moz","ms"],Ue=E.createElement("div").style,Xe={};function Ve(e){var t=S.cssProps[e]||Xe[e];return t||(e in Ue?e:Xe[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=ze.length;while(n--)if((e=ze[n]+t)in Ue)return e}(e)||e)}var Ge=/^(none|table(?!-c[ea]).+)/,Ye={position:"absolute",visibility:"hidden",display:"block"},Qe={letterSpacing:"0",fontWeight:"400"};function Je(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ke(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Ze(e,t,n){var r=Me(e),i=(!v.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=Be(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!v.boxSizingReliable()&&i||!v.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ke(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Be(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Re.test(t),l=e.style;if(u||(t=Ve(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),v.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Re.test(t)||(t=Ve(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=Be(e,t,r)),"normal"===i&&t in Qe&&(i=Qe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ge.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Ze(e,u,n):Ie(e,Ye,function(){return Ze(e,u,n)})},set:function(e,t,n){var r,i=Me(e),o=!v.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Ke(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Ke(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Je(0,t,s)}}}),S.cssHooks.marginLeft=_e(v.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Be(e,"marginLeft"))||e.getBoundingClientRect().left-Ie(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Je)}),S.fn.extend({css:function(e,t){return B(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Me(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=et).prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[Ve(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=et.prototype.init,S.fx.step={};var tt,nt,rt,it,ot=/^(?:toggle|show|hide)$/,at=/queueHooks$/;function st(){nt&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(st):C.setTimeout(st,S.fx.interval),S.fx.tick())}function ut(){return C.setTimeout(function(){tt=void 0}),tt=Date.now()}function lt(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(ft.tweeners[t]||[]).concat(ft.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function ft(o,e,t){var n,a,r=0,i=ft.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=tt||ut(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:tt||ut(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=ft.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ct,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(ft,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],ft.tweeners[n]=ft.tweeners[n]||[],ft.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),y=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],ot.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=y&&y.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(y?"hidden"in y&&(g=y.hidden):y=Y.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ct(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?ft.prefilters.unshift(e):ft.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=ft(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&at.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(lt(r,!0),e,t,n)}}),S.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),tt=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){nt||(nt=!0,st())},S.fx.stop=function(){nt=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},rt=E.createElement("input"),it=E.createElement("select").appendChild(E.createElement("option")),rt.type="checkbox",v.checkOn=""!==rt.value,v.optSelected=it.selected,(rt=E.createElement("input")).value="t",rt.type="radio",v.radioValue="t"===rt.value;var pt,dt=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return B(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?pt:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),pt={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=dt[t]||S.find.attr;dt[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=dt[o],dt[o]=r,r=null!=a(e,t,n)?o:null,dt[o]=i),r}});var ht=/^(?:input|select|textarea|button)$/i,gt=/^(?:a|area)$/i;function yt(e){return(e.match(P)||[]).join(" ")}function vt(e){return e.getAttribute&&e.getAttribute("class")||""}function mt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return B(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):ht.test(e.nodeName)||gt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),v.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).addClass(t.call(this,e,vt(this)))}):(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++)i=e[o],n.indexOf(" "+i+" ")<0&&(n+=i+" ");a=yt(n),r!==a&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return m(t)?this.each(function(e){S(this).removeClass(t.call(this,e,vt(this)))}):arguments.length?(e=mt(t)).length?this.each(function(){if(r=vt(this),n=1===this.nodeType&&" "+yt(r)+" "){for(o=0;o<e.length;o++){i=e[o];while(-1<n.indexOf(" "+i+" "))n=n.replace(" "+i+" "," ")}a=yt(n),r!==a&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,n){var e,r,i,o,a=typeof t,s="string"===a||Array.isArray(t);return m(t)?this.each(function(e){S(this).toggleClass(t.call(this,e,vt(this),n),n)}):"boolean"==typeof n&&s?n?this.addClass(t):this.removeClass(t):(e=mt(t),this.each(function(){if(s)for(o=S(this),i=0;i<e.length;i++)r=e[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else void 0!==t&&"boolean"!==a||((r=vt(this))&&Y.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":Y.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+yt(vt(n))+" ").indexOf(t))return!0;return!1}});var xt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(xt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:yt(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},v.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),v.focusin="onfocusin"in C;var bt=/^(?:focusinfocus|focusoutblur)$/,wt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=y.call(e,"type")?e.type:e,h=y.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!bt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,bt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,wt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,wt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),v.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var Tt=C.location,Ct={guid:Date.now()},Et=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var St=/\[\]$/,kt=/\r?\n/g,At=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function jt(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||St.test(n)?i(n,t):jt(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)jt(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)jt(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&Nt.test(this.nodeName)&&!At.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(kt,"\r\n")}}):{name:t.name,value:n.replace(kt,"\r\n")}}).get()}});var Dt=/%20/g,qt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Pt=/^\/\//,Rt={},Mt={},It="*/".concat("*"),Wt=E.createElement("a");function Ft(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function $t(t,i,o,a){var s={},u=t===Mt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Bt(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Wt.href=Tt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Tt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Tt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":It,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,S.ajaxSettings),t):Bt(S.ajaxSettings,e)},ajaxPrefilter:Ft(Rt),ajaxTransport:Ft(Mt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,y=S.ajaxSetup({},t),v=y.context||y,m=y.context&&(v.nodeType||v.jquery)?S(v):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=y.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=Ht.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(y.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),y.url=((e||y.url||Tt.href)+"").replace(Pt,Tt.protocol+"//"),y.type=t.method||t.type||y.method||y.type,y.dataTypes=(y.dataType||"*").toLowerCase().match(P)||[""],null==y.crossDomain){r=E.createElement("a");try{r.href=y.url,r.href=r.href,y.crossDomain=Wt.protocol+"//"+Wt.host!=r.protocol+"//"+r.host}catch(e){y.crossDomain=!0}}if(y.data&&y.processData&&"string"!=typeof y.data&&(y.data=S.param(y.data,y.traditional)),$t(Rt,y,t,T),h)return T;for(i in(g=S.event&&y.global)&&0==S.active++&&S.event.trigger("ajaxStart"),y.type=y.type.toUpperCase(),y.hasContent=!Ot.test(y.type),f=y.url.replace(qt,""),y.hasContent?y.data&&y.processData&&0===(y.contentType||"").indexOf("application/x-www-form-urlencoded")&&(y.data=y.data.replace(Dt,"+")):(o=y.url.slice(f.length),y.data&&(y.processData||"string"==typeof y.data)&&(f+=(Et.test(f)?"&":"?")+y.data,delete y.data),!1===y.cache&&(f=f.replace(Lt,"$1"),o=(Et.test(f)?"&":"?")+"_="+Ct.guid+++o),y.url=f+o),y.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(y.data&&y.hasContent&&!1!==y.contentType||t.contentType)&&T.setRequestHeader("Content-Type",y.contentType),T.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+It+"; q=0.01":""):y.accepts["*"]),y.headers)T.setRequestHeader(i,y.headers[i]);if(y.beforeSend&&(!1===y.beforeSend.call(v,T,y)||h))return T.abort();if(u="abort",b.add(y.complete),T.done(y.success),T.fail(y.error),c=$t(Mt,y,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,y]),h)return T;y.async&&0<y.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},y.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(y,T,n)),!i&&-1<S.inArray("script",y.dataTypes)&&S.inArray("json",y.dataTypes)<0&&(y.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(y,s,T,i),i?(y.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===y.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(v,[o,l,T]):x.rejectWith(v,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,y,i?o:a]),b.fireWith(v,[T,l]),g&&(m.trigger("ajaxComplete",[T,y]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var _t={0:200,1223:204},zt=S.ajaxSettings.xhr();v.cors=!!zt&&"withCredentials"in zt,v.ajax=zt=!!zt,S.ajaxTransport(function(i){var o,a;if(v.cors||zt&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(_t[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var Ut,Xt=[],Vt=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||S.expando+"_"+Ct.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Vt,"$1"+r):!1!==e.jsonp&&(e.url+=(Et.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),v.createHTMLDocument=((Ut=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ut.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(v.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=yt(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return B(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=_e(v.pixelPosition,function(e,t){if(t)return t=Be(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return B(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Gt=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Gt,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Yt=C.jQuery,Qt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Qt),e&&C.jQuery===S&&(C.jQuery=Yt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});

/*
 * Copyright Bubble Group, Inc.
 */

window.bubble_bundle_name = 'run';
(function(){function e(t,r,n){function o(i,a){if(!r[i]){if(!t[i]){var l="function"==typeof require&&require;if(!a&&l)return l(i,!0);if(s)return s(i,!0);var u=new Error("Cannot find module '"+i+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[i]={exports:{}};t[i][0].call(c.exports,(function(e){var r=t[i][1][e];return o(r||e)}),c,c.exports,e,t,r,n)}return r[i].exports}for(var s="function"==typeof require&&require,i=0;i<n.length;i++)o(n[i]);return o}return e})()({1:[function(e,t,r){t.exports={ADMIN_EMAIL:"admin@bubble.io",ADMIN_NO_REPLY:"admin-no-reply@bubbleapps.io",MAX_ALLOWED_REQUEST:5e4,MAX_LIST_LENGTH:1e4,PROD_DOMAINS:{main:"bubble.io",old:"bubble.is"},REQUEST_TTL:36e5,SUPPORT_EMAIL:"support@bubble.io",SUPPORT_NAME:"Bubble Support",a_record_ip:"54.203.28.28",amplitude_experiment_key:"client-mzmGCQlKvIat72aRwurU9POklOVWqQYc",amplitude_experiments_enabled:true,apps_domain:"bubbleapps.io",braintree_partner_code:"Bubble_SP",breaking_revision:5,browser_console_log_level:"error",cdn_host:"d3dqmih97rcqmh.cloudfront.net",commit_sha:"7e0de7b67262976d167ff8164897136f43d64907",commit_timestamp:1683667752e3,database_query_limit:200,env:"prod",environment_name:"main",firebase_app_config:{apiKey:"AIzaSyDVlyff9gf_eG2kq_OTfhUytinKJ619FrM",appId:"1:380032246750:web:50d6f5f804d7ce281e334f",authDomain:"bubble-workflow.firebaseapp.com",databaseURL:"https://bubble-workflow.firebaseio.com",messagingSenderId:"380032246750",projectId:"bubble-workflow",storageBucket:"bubble-workflow.appspot.com"},help_center_red_indicator_launch_date:"08/23/2022",hide_export_bulk_operation:true,image_optimization_service:"d1muf25xaso8hp.cloudfront.net",is_clustered:true,librato_email:"admin@bubble.is",librato_public_token:"8f023f218c0603231233b38040006a49d167697071a2aa97b51db7a90e946b19",max_api_bulk_post:1e3,max_new_list_length:100,meta_billing_api_endpoint:"https://bubble.io/api/1.1/",meta_upload_tracking_api_endpoint:"https://bubble.io/api/1.1/",notifier_domain:"main",notifier_host:"notify.bubble.is",page_speed_metrics_on:true,paid_features:true,plugin_commission:.75,plugins_live_here:true,private_version_prefix:"p_",use_analytics:true,use_cloudflare:true,user_file_bucket:"appforest_uf",user_file_cdn:"a3f482aa37473c68f97b76bd2e4a3782.cdn.bubble.io/",user_file_url:"s3.amazonaws.com/appforest_uf/"}},{}],2:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw l}}}}function s(e,t){return c(e)||u(e,t)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function c(e){if(Array.isArray(e))return e}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)v(e,t)}function v(e,t){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return v(e,t)}function b(e){var t=g();return function r(){var n=w(e),o;if(t){var s=w(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return h(this,o)}}function h(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return j(e)}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}var O=e("../u");var S=e("../logger");var k=e("../u/shared/async/b_fiber");var A=e("../u/shared/incremental");var E=e("../lang/btypes");var x=e("../lang/btype_ids");var M=e("../external/StructValue");var P=e("../db/values/StaticObject");var T=e("../db/values/StaticList");var I=e("../constants/apiconnectorbase");var C=function(e){y(r,e);var t=b(r);function r(e,n,o,s){var i;var a;f(this,r);(i=o)!=null?i:o={};var l={extract:function e(t){return O.incremental_json_stringify(t.body)},caption:"raw body text",ret_value:"text"};var u=Object.assign(n,{body_raw_text:l});a=t.call(this,e,u,o);a.key_prefix=s;return a}p(r,[{key:"get_message_names",value:function e(){var t;return Object.entries((t=this._fields())!=null?t:{}).filter((function(e){var t=s(e,2),r=t[0],n=t[1];return n.ret_value!==I.IGNORE_FIELD})).map((function(e){var t=s(e,1),r=t[0];return r}))}},{key:"flatten_raw",value:function e(t){var r=this;if(!t){return{}}var n={};var o=this._fields();for(var s in o){var i=o[s];A.optional_pause_tick(20,"flatten raw call field key (".concat(s,")"));var a=void 0;if(i.extract){a=i.extract(t)}else if(i.no_key){a=t}else{var l;var u=(l=i.path)!=null?l:[s.replace(this.key_prefix,"")];a=O.extract_from_object(t,u)}if(i.post_call_processing){a=i.post_call_processing(a,t)}if(a!=null&&typeof a!=="function"){if(i.ret_value){var c=E.get(i.ret_value);if(x.is_list(i.ret_value)&&Array.isArray(a)){(function(){var e=c.inner();if(e.is_missing()){throw new O.OwnerError("Issue with call",{display:"Issue with the call "+r.human+". Please initialize it again"})}a=a.map((function(t){var r,n,o;return(r=(n=(o=e.plugin).extract)==null?void 0:n.call(o,t))!=null?r:t}))})()}else{var f,d,p;if(c.is_missing()){throw new O.OwnerError("Issue with call",{display:"Issue with the call "+this.human+". Please initialize it again"})}a=(f=(d=(p=c.plugin).extract)==null?void 0:d.call(p,a))!=null?f:a}}n[s]=a}}k.optional_pause("finished flatten raw");return n}},{key:"convert_to_bubble_instance",value:function e(t){var s,i;if(Array.isArray(t)){s=[];i=E.get(this.full_name);if(i.plugin.convert_to_bubble_instance){var a=o(t),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;s.push(i.plugin.convert_to_bubble_instance(u))}}catch(e){a.e(e)}finally{a.f()}return new T(s,undefined,this.full_name)}else{return new T(t,undefined,this.full_name)}}else if(t!=null&&n(t)==="object"){s={};var c=this._fields();for(var f in c){var d=c[f];i=E.get(d.ret_value);if(x.is_list(d.ret_value)&&Array.isArray(t[f])){var p=i.inner();if(p.plugin instanceof r){s[f]=p.plugin.convert_to_bubble_instance(t[f])}else{s[f]=i.cast(t[f])}}else{var _,m,y;if(i.is_missing()){S.owner_error("Missing API connector response type data",{display:"Cannot properly interpret response from API call ".concat(this.human,", please reinitialize the call")})}s[f]=(_=(m=(y=i.plugin).convert_to_bubble_instance)==null?void 0:m.call(y,t[f]))!=null?_:t[f]}}s._id=t._id;return new P(s,undefined,this.full_name)}else{return t}}},{key:"export_to_string",value:function e(){return"(data from API connector)"}}]);return r}(M);t.exports=C},{"../constants/apiconnectorbase":57,"../db/values/StaticList":464,"../db/values/StaticObject":466,"../external/StructValue":487,"../lang/btype_ids":536,"../lang/btypes":537,"../logger":617,"../u":687,"../u/shared/async/b_fiber":696,"../u/shared/incremental":710,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],3:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o,s,i,a,l,u,c,f,d,p;function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,v(n.key),n)}}function y(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(e){var t=b(e,"string");return n(t)==="symbol"?t:String(t)}function b(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h(){if(typeof Reflect!=="undefined"&&Reflect.get){h=Reflect.get.bind()}else{h=function e(t,r,n){var o=j(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return h.apply(this,arguments)}function j(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=E(e);if(e===null)break}return e}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return w(e,t)}function O(e){var t=A();return function r(){var n=E(e),o;if(t){var s=E(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return S(this,o)}}function S(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return k(e)}function k(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function A(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return E(e)}function x(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var M=e("lodash/isEqual");var P=e("../u");var T=e("../lib");var I=e("../lang/caching");var C=e("../constants/plugin");var R=e("../shared/external_api_utilities");var N=e("../lang/btype_ids");var L=e("../external/ExternalCall");var z=e("../external/ExternalService");var D=e("../external/StructValue");var q=e("./call_objects");var B=e("./call_btypes");var U=e("./post_processing");var W=e("./xml_to_json");var F=(o=I.cached({type:I.AUTORUN}),s=I.cached({type:I.AUTORUN}),i=I.cached({type:I.AUTORUN}),a=I.cached({type:I.AUTORUN}),l=I.cached({type:I.AUTORUN}),u=I.cached({type:I.AUTORUN}),c=I.cached({type:I.AUTORUN}),f=I.cached({type:I.AUTORUN,compare_fn:function e(t,r){if(t!=null&&t.call_raw_data&&r!=null&&r.call_raw_data){return M(t.call_raw_data,r.call_raw_data)}return P.compare(t,r)}}),d=I.cached({type:I.AUTORUN}),p=function(e){g(r,e);var t=O(r);function r(){var e;_(this,r);e=t.call(this);e.keys={};return e}y(r,[{key:"dynamic_calls",get:function e(){return true}},{key:"public_values",value:function e(){var t=[];var r=this.get_all_apis();for(var n in r){var o=r[n];for(var s in o.calls){var i=o.calls[s];if(i.initialized){if(i.no_types){continue}for(var a in i.types){t.push(a)}}}}return t}},{key:"values",value:function e(){var t={};var r=this.get_all_apis();for(var n in r){var o=r[n];if(o.auth==="oauth2_user"){t[n+"_oauth_profile"]=new D("Profile "+o.human,{id:{path:o.id_path!=null?o.id_path.split("."):undefined},email:{path:o.email_path!=null?o.email_path.split("."):undefined}})}B.get_btypes_from_call(n,o,t,this.key_prefix)}return t}},{key:"public_calls",value:function e(){return this._get_sorted_list("data")}},{key:"action_calls",value:function e(){return this._get_sorted_list("action")}},{key:"user_calls",value:function e(){var t=[];var r=this.get_all_apis();for(var n in r){var o=r[n];if(o.auth==="oauth2_user"){t.push(n+"_oauth_user_data_call")}}return t}},{key:"oauth_providers",value:function e(){var t=[];var r=this.get_all_apis();for(var n in r){var o=r[n];if(o.auth==="oauth2_user"){t.push({id:this.BASE+C.PLUGIN_SEPARATOR+n,display:"API - "+o.human})}}return t}},{key:"do_not_report_error",get:function e(){return true}},{key:"get_call_class",value:function e(t){var r=this.calls()[t];if(r==null){return}if(t.indexOf("_oauth_user_data_call")!==-1||t==="TestAPICall"){return r}else{return q.get_call_from_raw(t.split(".")[1],r,this.plugin_name,this.BASE)}}},{key:"get_call",value:function e(t){var r=this._instantiate_call(t,this.get_call_class(t));if(!r&&!T().is_edit_mode()&&t.indexOf("_oauth_user_data_call")===-1){throw new P.OwnerError("missing call",{display:this.plugin_name+" error: the call "+t+" is missing, please reinitialize your calls."})}return r}},{key:"calls",value:function e(){var e={};var t=this.BASE;var r=this.plugin_name;var n=this.get_all_apis();var o=function o(s){var i=n[s];if(i.auth==="oauth2_user"){var a=s+"_oauth_user_data_call";e[a]=function(e){g(o,e);var n=O(o);function o(){_(this,o);return n.apply(this,arguments)}y(o,[{key:"human",get:function e(){return i.human}},{key:"_must_proxy",get:function e(){return true}},{key:"value_id",get:function e(){return N.api_type(t+"."+s+"_oauth_profile")}},{key:"build",value:function e(t,n){if(!i.oauth_user_data_call){return{dont_do_call:true,message:r+" error: the User profile endpoint is missing, please check your configuration.",force_error_message:true}}var o=i.oauth_user_data_call;return{path:o}}},{key:"get_authenticator",value:function e(){return this.service().get_authenticator(s)}}]);return o}(L)}for(var l in i.calls){var u=i.calls[l];u.api_human=i.human;u.api_id=s;e[s+"."+l]=u}};for(var s in n){o(s)}return e}},{key:"handle_request_failures",value:function e(t){return R.handle_request_failures(t)}},{key:"_get_sorted_list",value:function e(t){var r=[];var n=0;var o=this.get_all_apis();for(var s in o){var i=o[s];for(var a in i.calls){var l,u;var c=i.calls[a];(l=c.publish_as)!=null?l:c.publish_as="data";if(c.publish_as!==t||!q.is_call_initialized(c)){continue}r.push({id:s+"."+a,rank:(u=c.rank)!=null?u:n});n++}}r.sort((function(e,t){if(e.rank<t.rank){return-1}else{return 1}}));return r.map((function(e){return e.id}))}},{key:"base_url",value:function e(){return""}},{key:"response_to_data",value:function e(t,n,o,s){var i=h(E(r.prototype),"response_to_data",this).call(this,t,n,o,s,s==null?void 0:s.wrap_error);if(s!=null&&s.get_headers||s!=null&&s.wrap_error){var a=n.headers;return{body:i,headers:a}}return i}},{key:"get_error_message",value:function e(t,r){return q.get_error_message(t,r)}}]);return r}(z),x(p.prototype,"public_values",[o],Object.getOwnPropertyDescriptor(p.prototype,"public_values"),p.prototype),x(p.prototype,"values",[s],Object.getOwnPropertyDescriptor(p.prototype,"values"),p.prototype),x(p.prototype,"public_calls",[i],Object.getOwnPropertyDescriptor(p.prototype,"public_calls"),p.prototype),x(p.prototype,"action_calls",[a],Object.getOwnPropertyDescriptor(p.prototype,"action_calls"),p.prototype),x(p.prototype,"user_calls",[l],Object.getOwnPropertyDescriptor(p.prototype,"user_calls"),p.prototype),x(p.prototype,"oauth_providers",[u],Object.getOwnPropertyDescriptor(p.prototype,"oauth_providers"),p.prototype),x(p.prototype,"get_call_class",[c],Object.getOwnPropertyDescriptor(p.prototype,"get_call_class"),p.prototype),x(p.prototype,"get_call",[f],Object.getOwnPropertyDescriptor(p.prototype,"get_call"),p.prototype),x(p.prototype,"calls",[d],Object.getOwnPropertyDescriptor(p.prototype,"calls"),p.prototype),p);t.exports=F},{"../constants/plugin":86,"../external/ExternalCall":484,"../external/ExternalService":485,"../external/StructValue":487,"../lang/btype_ids":536,"../lang/caching":539,"../lib":614,"../shared/external_api_utilities":659,"../u":687,"./call_btypes":5,"./call_objects":6,"./post_processing":8,"./xml_to_json":10,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/isEqual":1184}],4:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(){if(typeof Reflect!=="undefined"&&Reflect.get){o=Reflect.get.bind()}else{o=function e(t,r,n){var o=s(t,r);if(!o)return;var i=Object.getOwnPropertyDescriptor(o,r);if(i.get){return i.get.call(arguments.length<3?t:n)}return i.value}}return o.apply(this,arguments)}function s(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=v(e);if(e===null)break}return e}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function u(e){var t=c(e,"string");return n(t)==="symbol"?t:String(t)}function c(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return d(e,t)}function p(e){var t=y();return function r(){var n=v(e),o;if(t){var s=v(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return _(this,o)}}function _(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var b=e("../lib");var h=e("../db/db");var j=e("../lang/appquery");var g=e("../constants/locations");var w=e("../external/authenticators");var O=r;function S(e,t){if(!e){return}if(j.app_version()!==g.LIVE_VERSION){var r;return(r=e[t+"_test"])!=null?r:e[t]}else{return e[t]}}var k=function(e){f(r,e);var t=p(r);function r(e){var n;i(this,r);n=t.call(this,e);var o=n._get_api();if(!n.params.token_param_name){if(o.auth==="private_key_url"){n.params.token_param_name="private_key"}else if(o.auth==="private_key_header"){n.params.token_param_name="Authorization"}}return n}l(r,[{key:"get_secret_key",value:function e(){return S(this._get_api(),"private_key")}}]);return r}(w.PrivateKey);var A=function(e){f(r,e);var t=p(r);function r(){i(this,r);return t.apply(this,arguments)}l(r,[{key:"get_secret_key",value:function e(){var t;return(t=this._get_api())==null?void 0:t.password}},{key:"get_public_key",value:function e(){var t;return(t=this._get_api())==null?void 0:t.username}}]);return r}(w.BasicAuth);var E=function(e){f(r,e);var t=p(r);function r(){i(this,r);return t.apply(this,arguments)}l(r,[{key:"get_key",value:function e(t){var r;return(r=this._get_api())==null?void 0:r[t]}}]);return r}(w.SSLProtocol);var x=function(e){f(r,e);var t=p(r);function r(){i(this,r);return t.apply(this,arguments)}l(r,[{key:"get_secret_key",value:function e(){var t;return(t=this._get_api())==null?void 0:t.password}},{key:"get_public_key",value:function e(){var t;return(t=this._get_api())==null?void 0:t.username}}]);return r}(w.Oauth2PWFlow);var M=function(e){f(r,e);var t=p(r);function r(){i(this,r);return t.apply(this,arguments)}l(r,[{key:"_get_token_request",value:function e(){return this.service().get_call(this.params.call_id+".token_call").build()}}]);return r}(w.Oauth2Custom);var P=function(e){f(r,e);var t=p(r);function r(){i(this,r);return t.apply(this,arguments)}l(r,[{key:"get_key",value:function e(t){var r;if(t==="iss"){return this.get_property("iss")}return(r=this._get_api())==null?void 0:r[t]}}]);return r}(w.JWT);var T=function(e){f(r,e);var t=p(r);function r(){i(this,r);return t.apply(this,arguments)}l(r,[{key:"get_secret_key",value:function e(){return S(this._get_api(),"appsecret")}},{key:"get_public_key",value:function e(){return S(this._get_api(),"appid")}},{key:"get_oauth_user_data_call",value:function e(){return this.service().get_call(this.params.api_id+"_oauth_user_data_call")}},{key:"get_user_authentication_node",value:function e(t){if(b().is_edit_mode()){return new h.StaticNode(this.get_owner_token_data(),null,"sys.json")}else{return o(v(r.prototype),"get_user_authentication_node",this).call(this,t)}}},{key:"tested",value:function e(){return this._get_api().tested}},{key:"has_token_data",value:function e(){return this._get_api().has_token_data}},{key:"get_owner_token_data",value:function e(){return this._get_api().token_data}}]);return r}(w.Oauth2);O.APIConnectorBasePrivateKey=k;O.APIConnectorBasicAuth=A;O.APIConnectorBaseSSLProtocol=E;O.APIConnectorBaseOauth2PWFlow=x;O.APIConnectorBaseOauth2Custom=M;O.APIConnectorBaseJWT=P;O.APIConnectorBaseOauth2=T},{"../constants/locations":82,"../db/db":420,"../external/authenticators":501,"../lang/appquery":535,"../lib":614,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],5:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=e("../lang/btypes");var o=e("../constants/apiconnectorbase");var s=e("./APIConnectorStructValue");var i=r;i.get_btypes_from_call=function(e,t,r,i){for(var a in t.calls){var l=t.calls[a];for(var u in l.types){var c=l.types[u];var f=function e(t){var r=c.fields[t];if([null,undefined,o.IGNORE_FIELD].includes(r.ret_value)){delete c.fields[t]}else{var s;if(r.ret_value==="date_unix"){s=true;r.ret_value="date"}r.post_call_processing=function(e){var t;if(r.ret_value==="geographic_address"){t=n.get(r.ret_value);return t.plugin.cast(e)}if(r.ret_value==="date"){if(s){if(typeof e==="number"){e=e*1e3}}else{if(typeof e==="number"&&String(e).length<10){e=e*1e3}}t=n.get(r.ret_value);return t.plugin.cast(e)}else{return e}}}};for(var d in c.fields){f(d)}r[u]=new s(c.caption,c.fields,{storable:true},i)}}}},{"../constants/apiconnectorbase":57,"../lang/btypes":537,"./APIConnectorStructValue":2,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],6:[function(e,t,r){"use strict";e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.split.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("url");var v=e("../u");var b=e("../logger");var h=e("../lib");var j=e("../constants/time");var g=e("../constants/apiconnectorbase");var w=e("../lang/btype_ids");var O=e("../lang/btypes");var S=e("../external/ExternalCall");var k=e("./template_parser");var A=e("./post_processing");var E=e;var x;if(v.on_server()){x=E("../server/utility/reserved_address")}var M=r;M.methods={get:"GET",post:"POST",put:"PUT",patch:"PATCH",delete_method:"DELETE"};M.method_uses_body=function(e){return["PUT","PATCH","POST","DELETE_METHOD"].includes(e==null?void 0:e.toUpperCase())};var P={none:"text",text:"text",number:"text",JSON:"json",null:"json",undefined:"json"};var T=["url_params","headers","params","body_params","shared_headers","shared_params"];var I={none:true,text:true,number:true,JSON:true,null:true,undefined:true};M.user_friendly_parameter_names={headers:"(header)",params:"(param.)",url_params:"(path)",body_params:"(body)",shared_headers:"(shared headers)",shared_params:"(shared param.)"};function C(e){return!e.body_params||v.is_empty(e.body_params)}M.is_call_initialized=function(e){return e.initialized||e.no_types};M.get_error_message=function(e,t,r){var n,o;var s=(n=t==null?void 0:(o=t.display)==null?void 0:o.call(t))!=null?n:"this service";if(e.statusCode>=400&&e.statusCode<=499){var i="The service "+s+" just returned an error (HTTP "+e.statusCode+"). ";if(r){i+="Please contact the plugin author directly for feedback."}else{i+="Please consult their documentation to ensure your call is setup properly."}i+=" Raw error:\n\n".concat(v.escape(e.body));return i}else if(e.statusCode>=500&&e.statusCode<=599){return"Temporary error connecting to "+s+" (raw message: "+e.body+")"}else if(e.statusCode<200||e.statusCode>299){return"Error connecting to "+s+": expected a 2XX statusCode but got "+e.statusCode}};M.can_be_in_browser=function(e,t){if(!t){return false}if(!I[t.data_type]){return false}if(t.get_headers){return false}if(t.publish_as==="action"){return false}if(t.url_private){return false}for(var r=0,n=T;r<n.length;r++){var o=n[r];for(var s=0,i=Object.values((a=t[o])!=null?a:{});s<i.length;s++){var a;var l=i[s];if(o==="headers"){for(var u in t[o]){if(Object.keys(t[o][u]).length!==0){return false}}}if(l.private){return false}}}if(e==null){return true}if(e.auth!=null&&e.auth!=="none"){return false}for(var c=0,f=T;c<f.length;c++){var d=f[c];for(var p=0,_=Object.values((m=e[d])!=null?m:{});p<_.length;p++){var m;var y=_[p];if(d==="shared_headers"){return false}if(y.private){return false}}}return true};M.get_call_from_raw=function(e,t,r,n){var s;var a,l,c;if(!t){return}if(!n){c=e}else{c=t.api_id+"."+e}var d={};if((!t.url_params||v.is_empty(t.url_params))&&!t.url_private&&n&&!t.url_cant_be_private){d.url={display:"Call endpoint - URL",editor:"LongText",no_enter:true,no_rich_text_editing:true,default:t.url}}function p(e){var r=t[e];for(var o in r){var s=r[o];if(s!=null&&s.key){if(n&&!s.private||!n&&[undefined,"public"].includes(s.visibility)){var i;var a=void 0;if(t.body_type==="form_data"&&s.binary_file){a="DynamicFile"}else{if(s.long_text){a="LongText"}else{a="ShortText"}}d[v.encode_key(e+"_"+s.key)]={display:((i=M.user_friendly_parameter_names)==null?void 0:i[e])+" "+s.key,editor:a,default:!s.allow_blank?s.value:null,optional:s.optional||s.allow_blank,doc:s.doc}}}}}var _=["url_params","headers","shared_headers","shared_params"];if(t.body_type!=="plain_text"){_.push("params")}for(var m=0,y=_;m<y.length;m++){var b=y[m];p(b)}if(t.body&&M.method_uses_body(t.method)){if(C(t)){d.body={display:"Body (JSON object)",editor:"LongText",no_rich_text_editing:true,default:t.body}}else{p("body_params")}}if(!t.no_types){if(t.ret_value===g.IGNORE_FIELD){a="null"}else{var h=O.get(t.ret_value);if(!h.is_missing()&&h.plugin.is_simple){a=t.ret_value}else if(n){a=w.api_type(n+"."+c)}else{a=w.api_type(t.api_id+".plugin_api."+c)}}}else if(["image","text","number","file"].includes(t.data_type)){a=t.data_type}(s=a)!=null?s:a="null";var j=M.can_be_in_browser(null,t);var k=t.in_browser&&j;if(v.on_client()&&k){l=P[t.data_type]}var E=function(s){u(p,s);var c=f(p);function p(){o(this,p);return c.apply(this,arguments)}i(p,[{key:"human",get:function e(){return t.api_human+" - "+t.name}},{key:"_must_proxy",get:function e(){return!k}},{key:"value_id",get:function e(){return a}},{key:"doc_link",get:function e(){return t.doc_link}},{key:"is_list",get:function e(){return t.is_list&&a!=="null"}},{key:"category",get:function e(){return"plugins"}},{key:"parameters",get:function e(){return d}},{key:"get_headers",get:function e(){return t.get_headers}},{key:"return_type",get:function e(){if(t.no_types||["XML","image","file","text","number"].includes(t.data_type)){return"raw"}else{return"json"}}},{key:"data_type_for_ajax_call",get:function e(){return l}},{key:"wrap_error",get:function e(){return t.wrap_error}},{key:"can_be_used_as_action",get:function e(){return t.publish_as==="action"}},{key:"get_authenticator",value:function e(){return this.service().get_authenticator(t.api_id)}},{key:"build",value:function o(s,i){var a=this;return M.generate_request_from_call_data(t,i,r,(function(t){var r=t.param_id,o=t.type,s=t.miss_ok,i=s===void 0?false:s;if(n){return}if(["shared_headers","shared_params"].includes(o)){return a.get_key(o+"_"+r,undefined,i)}else{return a.get_key(e+"_"+o+"_"+r,undefined,i)}}))}},{key:"post_processing",value:function e(r,n,o,s){var i;var a={data_type:t.data_type,passed_url:t.url,api_human:t.api_human,name:t.name,get_headers:this.get_headers,wrap_error:this.wrap_error,returned_an_error:r==null?void 0:(i=r.body)==null?void 0:i.returned_an_error};return A(n,o,s,a)}}]);return p}(S);return E};var R=/\n/g;var N="BODY UNUSED";var L=2.5*j.MINUTE_MS;var z=4;function D(){return{timeout:L,max_retries:z}}M.generate_request_from_call_data=function(e,t,r,n){var o,s,i;(o=t)!=null?o:t={};var a=M.methods[e.method];var l=M.method_uses_body(e.method)?e.body_type:N;var u=(s=t.url)!=null?s:e.url;var c=t==null;function f(r,o,s){var i;var a=v.encode_key("".concat(r,"_").concat(s.key));var l=(i=t)==null?void 0:i[a];var u=s.value;if(s.optional&&!c){if(!v.is_empty(t)){return l}else{b.warn("inconsistent blank api optional param autofilled",{default_value:u,param_id:o,type:r,raw:s})}}if(l===""&&![null,undefined,""].includes(u)){l=undefined}var f=s.allow_blank&&!e.initialize_mode;if(f){var d;return(d=l)!=null?d:n==null?void 0:n({param_id:o,type:r,miss_ok:true})}else{var p,_;return(p=(_=l)!=null?_:u)!=null?p:n==null?void 0:n({param_id:o,type:r,miss_ok:false})}}if(e.url_params){var d=k.find_between_characters(u,"bracket");for(var p in e.url_params){var _=e.url_params[p];if(d.includes(_.key)){u=v.replace_all(u,"["+_.key+"]",f("url_params",p,_))}}}if(v.on_server()){u=M.sanitize_url(u,e)}var m;if(e.headers!=null){m={};for(var y in e.headers){var j=e.headers[y];if(!M.validate_header_name(j.key)){throw new v.OwnerError("Header name is not correct",{display:e.api_human+" error: this header name is not correct "+j.key})}var g=f("headers",y,j);if(!j.optional||j.optional&&![null,undefined,""].includes(g)){if(!M.validate_header_value(g)){throw new v.OwnerError("header value is not correct",{display:e.api_human+" error: this header value for "+j.key+" is not correct "+g})}m[j.key.trim()]=g}if(!j.optional&&[null,undefined,""].includes(g)){return{dont_do_call:true,message:e.api_human+" error: the header "+j.key+" is empty and is mandatory"}}}}var w;if(l!==N&&l!=="form_data"&&![null,undefined,""].includes((i=e.body)==null?void 0:i.trim())){if(!C(e)||t.body==null){w=e.body;if(e.body_params){var O=function e(t,r){var n=f("body_params",t,r);if([null,undefined,""].includes(n)){return"null"}return n};var S=e.data_type==="XML"||l==="plain_text";if(S){var A=k.find_between_characters(w,"_*_");for(var E in e.body_params){var x=e.body_params[E];if(A.includes(x.key)){w=v.replace_all(w,"_*_"+x.key+"_*_",O(E,x))}}}else{var P=k.find_between_characters(w,"less_than");for(var T in e.body_params){var I=e.body_params[T];if(P.includes(I.key)){w=v.replace_all(w,"<"+I.key+">",O(T,I).replace(R,"\\n"))}}}}}else{w=t.body}}var L=l==="plain_text";var z,q;if(e.params!=null){z={};q={};for(var B in e.params){var U=e.params[B];if(U.key!=null){var W=f("params",B,U);var F=U.key.trim();var G=l===N||U.querystring&&l!=="form_data";var X=[null,undefined,""].includes(W);var $=U.optional||G&&!U.binary_file;if(X&&!$){return{dont_do_call:true,message:"".concat(e.api_human," error: the parameter ").concat(F," cannot be empty")}}else if(X){continue}if(G){q[F]=W}else if(U.binary_file){if(W.slice(0,2)==="//"){W="http:"+W}var V=decodeURIComponent(W.split("/").pop());var H=void 0;try{H=h().http_request({uri:W,encoding:null}).block()}catch(e){return{dont_do_call:true,message:"Error trying to fetch file at URL '".concat(W,"': ").concat(e.message)}}if(H.statusCode!==200){return{dont_do_call:true,message:r+" error: the parameter "+F+" is not a valid file"}}z[F]={value:H.body,options:{filename:V}}}else{z[F]=W}}}if(q!=null&&v.is_empty(q)){q=undefined}if(z!=null&&!L){if(v.is_empty(z)){z=undefined}else if(w!=null){try{w=v.json_parse(w)}catch(t){throw new v.OwnerError("Body could not be parsed",{display:e.api_human+" error: this body could not be parsed as JSON "+w})}v.extend(w,z);z=undefined}}}if(L){z=undefined}var Y;if(["image","file"].includes(e.data_type)){Y=null}var K=D(),J=K.timeout,Z=K.max_retries;var Q={method:a,path:u,headers:m,encoding:Y,timeout:J,max_retries:Z};if(l==="form_data"){Q.formData=z}else if(l===N){var ee;Q.qs=(ee=q)!=null?ee:{}}else{Q.body=w;Q.data=z;Q.qs=q}return Q};M.validate_header_name=function(e){if(typeof e!=="string"||!(e!=null&&e.length)){return false}for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r>=65&&r<=90){continue}if(r>=97&&r<=122){continue}if([94,95,96,124,126].includes(r)){continue}if([48,49,50,51,52,53,54,55,56].includes(r)){continue}if(r>=33&&r<=46){if([34,40,41,44].includes(r)){return false}continue}return false}return true};M.validate_header_value=function(e){if(e==null){return false}e=""+e;if(!e.length){return false}for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(r===9){continue}if(r<=31||r>255||r===127){return false}}return true};M.add_shared_params_and_headers=function(e,t,r,o,s){var i;if(e.shared_headers!=null){var a;(a=t.headers)!=null?a:t.headers={};for(var l in e.shared_headers){var u=e.shared_headers[l];if(t.headers[u.key]==null&&u.key){if(!M.validate_header_name(u.key)){var c;throw new v.OwnerError("Header name is not correct",{display:((c=e.human)!=null?c:r)+" error: this header name is not correct "+u.key})}i=o(l,u);if(!M.validate_header_value(i)){var f;throw new v.OwnerError("Header Value not correct",{display:((f=e.human)!=null?f:r)+" error: this header value for "+u.key+" is not correct "+i})}t.headers[u.key]=i}}}if(e.shared_params!=null){var d,p,_;var m=(d=(p=(_=t.data)!=null?_:t.body)!=null?p:t.formData)!=null?d:t.qs;var y=m!=null?m:{};for(var b in e.shared_params){var h=e.shared_params[b];if(n(y)==="object"&&y[h.key]==null&&h.key){i=s(b,h);y[h.key]=i}}if(!m){t.body=y}}}},{"../constants/apiconnectorbase":57,"../constants/time":99,"../external/ExternalCall":484,"../lang/btype_ids":536,"../lang/btypes":537,"../lib":614,"../logger":617,"../u":687,"./post_processing":8,"./template_parser":9,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,url:748}],7:[function(e,t,r){"use strict";var n=r;var o=e("../safe_require");o.safe_register("./apiconnectorbase",n);var s=e("./template_parser");var i=e("./call_objects");var a=e("./xml_to_json");var l=e("./auth_classes");var u=e("./call_btypes");var c=e("./APIConnectorStructValue");var f=e("./BaseAPIConnector");n.find_between_characters=s.find_between_characters;n.methods=i.methods;n.method_uses_body=i.method_uses_body;n.user_friendly_parameter_names=i.user_friendly_parameter_names;n.can_be_in_browser=i.can_be_in_browser;n.get_call_from_raw=i.get_call_from_raw;n.sanitize_url=i.sanitize_url;n.generate_request_from_call_data=i.generate_request_from_call_data;n.validate_header_name=i.validate_header_name;n.validate_header_value=i.validate_header_value;n.add_shared_params_and_headers=i.add_shared_params_and_headers;n.is_call_initialized=i.is_call_initialized;n.get_error_message=i.get_error_message;n.xml_to_json=a;n.APIConnectorBasePrivateKey=l.APIConnectorBasePrivateKey;n.APIConnectorBasicAuth=l.APIConnectorBasicAuth;n.APIConnectorBaseSSLProtocol=l.APIConnectorBaseSSLProtocol;n.APIConnectorBaseOauth2PWFlow=l.APIConnectorBaseOauth2PWFlow;n.APIConnectorBaseOauth2Custom=l.APIConnectorBaseOauth2Custom;n.APIConnectorBaseJWT=l.APIConnectorBaseJWT;n.APIConnectorBaseOauth2=l.APIConnectorBaseOauth2;n.APIConnectorStructValue=c;n.BaseAPIConnector=f;n.get_btypes_from_call=function(){return u.get_btypes_from_call.apply(u,arguments)};n.get_private_key_auth_params=function(e){return{token_param_name:e.token_param_name,add_to_header:e.auth==="private_key_header",add_to_url:e.auth==="private_key_url"}};n.get_oauth2_user_auth_params=function(e){var t;return{token_param_name:(t=e.token_param_name)!=null?t:"access_token",header_key:e.header_key,scope:e.scope,authentication_url:e.authentication_url,generate_token_from_code_uri:e.generate_token_from_code_uri,add_to_header:e.add_to_header,add_to_url:!e.add_to_header,add_basic_authentication:e.add_basic_authentication,data_type:e.token_data_type?"querystring":undefined,access_type:e.add_offline?"offline":undefined,prompt:e.add_offline?"consent":undefined,server_redirect:e.server_redirect}};n.get_oauth2_pw_auth_params=function(e){return{generate_token_from_code_uri:e.token_endpoint,grant_type:"password",use_username_password:true}};n.get_jwt_auth_params=function(e){return{iss:e.iss,scope:e.scope,generate_token_from_code_uri:e.generate_token_from_code_uri}}},{"../safe_require":643,"./APIConnectorStructValue":2,"./BaseAPIConnector":3,"./auth_classes":4,"./call_btypes":5,"./call_objects":6,"./template_parser":9,"./xml_to_json":10}],8:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.url.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.trim.js");var n=e("../u");var o=e("../lib");var s=e("./xml_to_json");var i=e;var a,l,u;if(n.on_server()){l=i("../server/fileupload");a=i("../monitoring/apm/activityApm");u=i("content-disposition")}t.exports=c;function c(e,t,r,n,o){var s=function s(){return f(e,t,r,n,o)};if(a){return a.traceSpan("post processing",{},(function(e){var n,o,i,a;var l=e.recordActivity;l("api_outbound",{count:1,request_bytes:(n=(o=r.body)==null?void 0:o.length)!=null?n:0,response_bytes:(i=(a=t.body)==null?void 0:a.length)!=null?i:0});return s()}))}else{return s()}}function f(e,t,r,i,a){var u,c,f;var d,p,_,m;var y=i.data_type,v=i.passed_url,b=i.api_human,h=i.name,j=i.get_headers;var g=(u=e.appname)!=null?u:o().appname();var w=(c=e.app_version)!=null?c:o().app_version();var O=i.wrap_error;var S=(f=t.headers)==null?void 0:f["content-disposition"];if(/filename/.test(S)){S=S.replace(/;$/,"");m=extract_filename_from_content_disposition(S)}if(!m){var k;try{var A=new URL(r.url);k=A.pathname}catch(e){k=v}m=k.split("/").filter(Boolean).pop()||"root_file"}if(y==="XML"){try{d=s(t.body.toString("utf8"))}catch(e){if(O){i.returned_an_error=true;t.statusCode=400;t.statusMessage="Issue Parsing XML";t.body="There was an issue parsing the XML body for the call "+b+" - "+h}else{throw new n.OwnerError("issue parsing XML",{display:"There was an issue parsing the XML body for the call "+b+" - "+h})}}}else if(["image","file"].includes(y)){var E=String(t.body);try{JSON.parse(E);p=true}catch(e){}if(p){if(O){i.returned_an_error=true;t.statusCode=400;t.statusMessage="Issue Getting File For Call";t.body="There was an issue getting the file for the call "+b+" - "+h+". See the response "+E}else{throw new n.OwnerError("Issue getting file for call",{display:"There was an issue getting the file for the call "+b+" - "+h+". See the response "+E})}}else{var x;if(a){x="api_initialize_"+y}else{x=m}d=l.save_to_s3(t.body,x,t.headers["content-type"],undefined,undefined,g,w)}}else if(["text","number"].includes(y)){d=t.body.toString("utf8")}else if(y==="empty"){d=null}else{var M=t.body;if(t.statusCode===202){var P;(P=M)!=null?P:M="{}"}if(M!=null&&typeof M==="string"){M=M.trim()}try{d=JSON.parse(M)}catch(e){p=e;if(a&&(!j||!O)){if(t.body){throw new n.OwnerError("The API call returns a non-object and you picked JSON. Please check.",{original:p})}else{throw new n.OwnerError("The API call returns an empty body and you picked JSON. Please check.",{original:p})}}else{d={}}}}if(j||O){_={body:d};if(O){var T;if(a||i.returned_an_error){var I={status_code:t.statusCode,status_message:t.statusMessage,body:JSON.stringify(t.body)};_.error=I}_.returned_an_error=(T=i.returned_an_error)!=null?T:false}if(j){_.headers=t.headers}}else{_=d}return _}},{"../lib":614,"../u":687,"./xml_to_json":10,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.url.js":995}],9:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.slice.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../u/shared/b_array");var a=r;var l=/\[([^\]]+)]/g;var u=/<[^>]+>/g;a.find_between_characters=function(e,t){var r,o;var s=[];if(!e){return s}switch(t){case"bracket":o=l;r="[";break;case"less_than":o=u;r="<";break;default:r=t;for(var a=0,c=["\\",".","^","$","*","+","?"];a<c.length;a++){var f=c[a];t=t.split(f).join("\\"+f)}o=new RegExp(t+"(.*?)"+t,"g")}var d=e.match(o);var p=n(d!=null?d:[]),_;try{for(p.s();!(_=p.n()).done;){var m=_.value;if(["bracket","less_than"].includes(t)){if(m.slice(1).indexOf(r)===-1){s.push(m.slice(1,-1))}}else{s.push(m.slice(r.length,-r.length))}}}catch(e){p.e(e)}finally{p.f()}return i.unique(s)}},{"../u/shared/b_array":698,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],10:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=e("../u");var s=e("../lib");var i=e("../u/shared/async/b_fiber");var a=e("../u/shared/incremental");var l=e;var u;if(o.on_server()){u=l("xml2js")}function c(e){var t;a.optional_pause_tick(1,"xml simplify");if(Array.isArray(e)){if(e.length===1){return c(e[0])}return e.map((function(e){return c(e)}))}else if(e&&n(e)==="object"){var r={};for(var o in e){t=e[o];if(o!=="$"){r[o]=c(t)}}return r}else{return e}}function f(e){a.optional_pause_tick(1,"xml_to_json");return e}},{"../lib":614,"../u":687,"../u/shared/async/b_fiber":696,"../u/shared/incremental":710,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],11:[function(e,t,r){"use strict";var n=e("./safe_require");var o=t.exports;n.safe_register("./assert",o);o.assert=s;o.fail=i;function s(e,t){console.log("Asserting true: ".concat(e));if(!e){i(t!=null?t:"expected true, got: "+e)}}function i(e){throw new Error(e)}},{"./safe_require":643}],12:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("./u");var l=e("./safe_require");l.safe_register("./box",i);i.left=function(e,t){return b(e,"left",t)};i.top=function(e,t){return b(e,"top",t)};i.offset_left=function(e){return e.offset().left};i.offset_top=function(e){return e.offset().top};i.right=function(e){return i.left(e)+i.width(e)};i.bottom=function(e){return i.top(e)+i.height(e)};i.width=function(e,t){return b(e,"width",t)};i.height=function(e,t){return b(e,"height",t)};i.inner_left=function(e){return i.left(e)+b(e,"border-left-width")};i.inner_top=function(e){return i.top(e)+b(e,"border-top-width")};i.inner_right=function(e){return i.right(e)-b(e,"border-right-width")};i.inner_bottom=function(e){return i.bottom(e)-b(e,"border-bottom-width")};i.inner_width=function(e){return i.inner_right(e)-i.inner_left(e)};i.inner_height=function(e){return i.inner_bottom(e)-i.inner_top(e)};i.offset_bottom=function(e){return i.offset_top(e)+i.height(e)};i.offset_right=function(e){return i.offset_left(e)+i.width(e)};i.min_width=function(e){return b(e,"border-left-width")+b(e,"border-right-width")+b(e,"padding-left")+b(e,"padding-right")};i.min_height=function(e){return b(e,"border-top-width")+b(e,"border-bottom-width")+b(e,"padding-top")+b(e,"padding-bottom")};i.get=function(e,t){return r[t](e)};i.set=function(e,t,n){return r[t](e,n)};i.get_dim=function(e){var t=f[d(e)];if(!t){throw new a.UnexpectedError("unrecognized: "+d(e))}return t};i.dim_props=function(e){return c[e]};i.transform_dim=function(e,t){var r=a.extend({},c[e],t);return i.get_dim(r)};var u=["width","left","right","inner_left","inner_right","inner_width","height","top","bottom","inner_top","inner_bottom","inner_height"];var c={};var f={};function d(e){return e.axis+e.type+e.edge+e.rank}function p(e,t,r){if(!c[e]){c[e]={}}c[e][t]=r}function _(e,t){var r=n(t),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;if(e.indexOf(s)!==-1){return true}}}catch(e){r.e(e)}finally{r.f()}return false}for(var m=0,y=u;m<y.length;m++){var v=y[m];if(_(v,["width","left","right"])){p(v,"axis","x")}else{p(v,"axis","y")}if(_(v,["inner"])){p(v,"edge","inner")}else{p(v,"edge","outer")}if(_(v,["width","height"])){p(v,"rank","span")}else if(_(v,["left","top"])){p(v,"rank","near")}else{p(v,"rank","far")}f[d(c[v])]=v}function b(e,t,r){if(r===undefined||r===null){r=Math.round(parseFloat(e.css(t)));if(isNaN(r)){return 0}return r}else{return e.css(t,r+"px")}}},{"./safe_require":643,"./u":687,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],13:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Bubble status quo as of rolling out this versioning system";n.link="https://forum.bubble.io/t/important-new-tab-in-editor/27047";var o=e("../constants/time");function s(e,t){var r;return e.setHours(e.getHours()-((r=t==null?void 0:t.timezone_offset)!=null?r:0)/60)}function i(e){var t=parseFloat(e);if(!isFinite(t)){return null}else{return t}}function a(e){var t;if(e instanceof Date){t=e}else if(typeof e==="number"){t=new Date(e)}else if(typeof e==="string"){if(String(parseFloat(e))===e){t=new Date(parseFloat(e))}else{t=new Date(Date.parse(e))}}else{t=new Date(NaN)}if(isNaN(t.valueOf())){return null}else{return t}}n.date={plus_seconds:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setSeconds(n.getSeconds()+r);return n}},plus_minutes:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{var s=o.MINUTE_MS*r;n.setTime(n.getTime()+s);return n}},plus_hours:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{var s=o.HOUR_MS*r;n.setTime(n.getTime()+s);return n}},plus_days:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setDate(n.getDate()+r);return n}},plus_months:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setMonth(n.getMonth()+r);return n}},plus_years:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setFullYear(n.getFullYear()+r);return n}},change_seconds:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setSeconds(i(r));n.setMilliseconds(0);return n}},change_minutes:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setMinutes(i(r));return n}},change_hours:function e(t,r,n,o,l){var u=new Date(a(t));s(u,l);if(t===null){return null}else{var c;u.setHours(i(r)+((c=l==null?void 0:l.timezone_offset)!=null?c:0)/60);return u}},change_date:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setDate(i(r));return n}},change_month:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setMonth(i(r)-1);return n}},change_years:function e(t,r){var n=new Date(a(t));if(t===null){return null}else{n.setFullYear(i(r));return n}},extract_from_date:function e(t,r,n,o,i){t=a(t);if(!t){return""}if(n.component_to_extract!=="UNIX"){s(t,i)}function l(e){var t=new Date(e.getTime());t.setHours(0,0,0,0);t.setDate(t.getDate()+3-(t.getDay()+6)%7);var r=new Date(t.getFullYear(),0,4);return 1+Math.round(((t.getTime()-r.getTime())/864e5-3+(r.getDay()+6)%7)/7)}switch(n.component_to_extract){case"minute":return t.getMinutes();case"hour":return t.getHours();case"day":return t.getDay();case"date":return t.getDate();case"week":return l(t);case"month":return t.getMonth()+1;case"year":return t.getYear()+1900;case"UNIX":return t.getTime()}}};e("./bubble_version").register(0,n)},{"../constants/time":99,"./bubble_version":36,"core-js/modules/es.string.link.js":975}],14:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Text elements now consistently display leading whitespace";n.link="https://forum.bubble.io/t/new-feature-breaking-change-text-elements-always-handle-leading-whitespace/122509";n.date=1605895717933;e("./bubble_version").register(10,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],15:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Workflows with consecutive database update actions (e.g. create a new thing, update a thing, delete a thing) are batched together.";n.link="https://forum.bubble.io/t/new-feature-workflow-performance-improvements/127002/";n.date=16109568e5;e("./bubble_version").register(11,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],16:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;var o=e("../constants/auth");n.message="Inputs with a number content format now require an initial content of type number, not text.";n.link="https://forum.bubble.io/t/breaking-change-inputs-with-a-number-format-now-take-a-number-as-initial-content/139711";n.date=1614958909e3;n.NO_SUCH_USER=o.NO_SUCH_USER;n.WRONG_PASSWORD=o.WRONG_PASSWORD;n.wrong_password_msg="Sorry, that's not the right password";n.throw_on_failed_pwd_reset=true;e("./bubble_version").register(12,n)},{"../constants/auth":61,"./bubble_version":36,"core-js/modules/es.string.link.js":975}],17:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Only show one message on login failure, and silently fail on password reset for non-existent email";n.link="https://forum.bubble.io/t/breaking-change-login-failure-messages/151087";n.date=1620413682153;e("./bubble_version").register(13,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],18:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message='Fix amounts used by zero-decimal currencies for Stripe actions "Create an invoice item", "Adjust a user balance", "Create a Stripe coupon", "Create payout" and "Transfer to seller"';n.link="https://forum.bubble.io/t/announcements-breaking-version-14-fix-zero-decimal-currency-amounts-for-some-stripe-actions/156627";n.date=1624281552106;e("./bubble_version").register(14,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],19:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Fix the way we store conditions to always respect the order as list length grows or condition moved up/down";n.link="https://forum.bubble.io/t/announcements-breaking-version-15-fix-the-way-we-store-conditions-to-always-respect-the-order-as-list-length-grows-or-condition-moved-up-down/166467";n.date=1629989931728;e("./bubble_version").register(15,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],20:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Dropdowns are now cross-browser compatible";n.link="https://forum.bubble.io/t/breaking-change-dropdown-browser-compatibility/207363";n.date=1652972216e3;e("./bubble_version").register(16,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],21:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Date parsing now consistently uses client timezone rather than UTC serverside";n.link="https://forum.bubble.io/t/breaking-change-date-parsing-on-the-server/210557";n.date=1654802861961;e("./bubble_version").register(17,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],22:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;var o=e("../constants/runmode");n.message="Date/Time Picker and Picture Uploader padding now consistent with other input elements + Increase spacing between date/time inputs in Date/Time Picker";n.link="https://forum.bubble.io/t/breaking-change-small-ui-updates-for-date-time-picker-and-picture-uploader/227112";n.date=1664383262e3;n.MAX_POPUP_ZINDEX=o.POPUP_ZINDEX+1;e("./bubble_version").register(18,n)},{"../constants/runmode":91,"./bubble_version":36,"core-js/modules/es.string.link.js":975}],23:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Popups now have a z-index assigned based on order being shown. Date/time input uses selected font in calendar buttons";n.link="https://forum.bubble.io/t/breaking-change-popup-ordering-date-picker-font/232977";n.date=1668709780446;e("./bubble_version").register(19,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],24:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Changes to date manipulation functions";n.link="https://forum.bubble.io/t/changes-to-date-manipulation-functions/27046";n.date=1522863076584;e("./bubble_version").register(1,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],25:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="You can now change the timezone that is used at input to generate a new "+"absolute time that is stored in your database (through Date-Time Picker or Input). "+"Group Focus is now positioned relative to the reference element including padding and border, "+"rather than overlapping with padding as it did previously -- no change will be observed if "+"the reference element has no padding."+'\n\nNote: the experimental feature "Overriding timezones more broadly" will be deprecated with this version.';n.link="https://forum.bubble.io/t/breaking-change-overriding-timezones-group-focus-element-positioning/235726";n.date=167026396e4;e("./bubble_version").register(20,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],26:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="This feature enables a new experimental rendering pipeline which more optimally renders any elements you have on the page. It does so by precomputing a lot of the properties on the server beforehand, and shipping a static CSS file to the client to avoid repeated work";n.link="https://forum.bubble.io/t/upgrade-to-bubble-version-21-improved-runtime-performance/240651";n.date=1673288443e3;e("./bubble_version").register(21,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],27:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Adds a new section for Advanced options in settings to enable more advanced timezones overriding features. Optionally transitions over users who have had these features toggled on previously as part of the experimental feature.";n.link="https://forum.bubble.io/t/new-feature-advanced-options-including-advanced-timezone-controls/258429";n.date=1681935138e3;e("./bubble_version").register(22,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],28:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Bux fix to the responsive engine";n.link="https://forum.bubble.io/t/new-breaking-change-responsive-engine/28927";n.date=1525714293007;e("./bubble_version").register(2,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],29:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.includes.js");var n=r;n.message="Change to custom HTML headers rendering";n.link="https://forum.bubble.io/t/new-breaking-change-custom-html-header/29375";n.date=1526335265254;e("./bubble_version").register(3,n);e("./../u");n.apply_dynamic_properties_text=function(t){var r=e("./../lang/elements");var n=e("./../core/core_elements/core_elements_utilities/element_utils");var o=e("./../u");var s=e("./../core/property_applications");var i=e("../lang/evaluation/element_eval");var a=t.get_canvas();var l=t.get_static_property("stretch_to_fit");var u=t.get_static_property("cut_off_content");var c=t.get_static_property("shrink_if_less_high");var f=null;var d=null;var p=null;var _=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[-A-Z0-9+&@#/%=~_|$?!:,.])*(?:\([-A-Z0-9+&@#/%=~_|$?!:,.]*\)|[A-Z0-9+&@#/%=~_|$])/gim;var m=/([a-zA-Z0-9+._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gim;var y=s.apply_css_style;function v(e){if(typeof e==="string"&&t.run_mode()){var r=function e(r){var n=i.evaluate_property(t,"link_color");if(n!=null){var s=o.rgb_to_hex(n);return"[color="+s.code+"]"+r+"[/color]"}return r};var n=i.evaluate_property(t,"nofollow");e=e.replace(_,(function(e,t,o,s){var i;if(e.indexOf("http")===-1){i="http://"+e}else{i=e}var a="[url="+i;if(n){a+=" nofollow=true"}a+="]"+e+"[/url]";return r(a)}));e=e.replace(m,(function(e,t,n,o){return r("[email="+e+"]"+e+"[/email]")}))}return e}function b(e,r){var n=t.get_static_property("recognize_links");var s=t.get_static_property("no_bbcode");if(s){if(!o.has_bbcode(r)){if(n){r=o.bbcode_to_html(v(r))}else{r=o.bbcode_to_html(r)}e.html(r)}else{e.text(r);y(a,{"white-space":"pre-wrap"})}}else{if(n){r=v(r)}e.html(o.bbcode_to_html(r))}}t.autorun((function(){t.state("notify_width");var e={};for(var s=0,_=["text","font_size","padding_vertical","line_height","rotation_angle"];s<_.length;s++){var m=_[s];e[m]=i.evaluate_property(t,m)}e.notify_width=t.state("notify_width");if(t.run_mode()||t.responsive_mode()){var y,v,h;if((y=t.element.root())!=null&&y.use_responsive_algorithm()){var j;a[0].style["padding-bottom"]=((j=e.padding_vertical)!=null?j:0)+"px"}if((v=t.element.root())!=null&&v.use_responsive_algorithm()&&!u||!((h=t.element.root())!=null&&h.use_responsive_algorithm())&&l){if(JSON.stringify(e)===d){return}f=e;if((t.is_visible()||p)&&!t.is_animating()){var g=function r(n){var o;if(t.is_animating(true)){n();return}var s=t.is_visible(true);if(!s&&!p){n();return}p=s;if(((o=f.text)==null?void 0:o.indexOf(" "))===-1){a[0].style["word-break"]="break-word"}if(t.is_visible()){d=JSON.stringify(f)}b(w,f.text);var i=a.outerHeight()-a.height();if(e.rotation_angle!=null&&![0,180].includes(e.rotation_angle)){n();return}var l=parseInt(w.css("height").replace("px",""));var u=t.element.get_height();if(c){t.set_height(l+i)}else{t.set_height(Math.max(u,l+i))}n()};var w=a.find(".content");if(w.length===0){w=o.div("content",a)}var O=r.add_layout_resizing_key();o.wait_for_updates((function(){return g((function(){return O.turn()}))}))}}else{if(t.is_visible()){var S;b(a,e.text);(S=a.trigger)==null?void 0:S.call(a,"update.dot")}}}else{var k;b(a,e.text);(k=a.trigger)==null?void 0:k.call(a,"update.dot");n.do_add_an_invisible_div_on_the_top(t)}}))}},{"../lang/evaluation/element_eval":567,"./../core/core_elements/core_elements_utilities/element_utils":282,"./../core/property_applications":405,"./../lang/elements":557,"./../u":687,"./bubble_version":36,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.link.js":975,"core-js/modules/es.string.replace.js":977}],30:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=r;n.message="Invisible text elements now have zero height.";n.link="https://forum.bubble.io/t/breaking-change-invisible-text-elements-now-collapse/38334";n.date=1537371411459;e("./bubble_version").register(4,n);var o=e("../constants/special_keys");var s=e("../core/core_datasources/utilities/core_ds_db_ops_utilities");var i=e("./../geolocation/b_location");n.resolve_constraints=function(e){var t=[];var r=e!=null?e:[];for(var n in r){var a=r[n];if(a){if(a.constraint_type||a.key===o.UNIQUE_ID){if(a.key===o.UNIQUE_ID){var l;(l=a.constraint_type)!=null?l:a.constraint_type="equals"}if(["in","not in"].includes(a.constraint_type)){var u,c,f,d;var p=Array.isArray(a.value)?a.value:(u=(c=a.value)==null?void 0:(f=(d=c).all)==null?void 0:f.call(d))!=null?u:[];t.push({key:a.key,constraint_type:a.constraint_type,value:p})}else if(["range_contains","range_contained_by","range_overlaps","range_greater_than","range_less_than"].includes(a.constraint_type)){var _,m,y,v;var b=Array.isArray(a.value)?a.value:(_=(m=a.value)==null?void 0:(y=(v=m).all)==null?void 0:y.call(v))!=null?_:[];if(b.length){t.push({key:a.key,constraint_type:a.constraint_type,value:b})}}else if(s.constraints_without_values.includes(a.constraint_type)){t.push(a)}else if(a.constraint_type!=="geographic_search"&&a.value!=null&&a.value!==""){t.push(a)}else if(a.constraint_type==="geographic_search"&&a.value.origin_address!=null&&a.value.origin_address!==""){a.value.origin_address=i.from_address(a.value.origin_address);t.push(a)}}if(a.key===o.ADVANCED_SEARCH_CONSTRAINT){t.push(a)}}}return t}},{"../constants/special_keys":95,"../core/core_datasources/utilities/core_ds_db_ops_utilities":232,"./../geolocation/b_location":505,"./bubble_version":36,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.link.js":975}],31:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Null parameters not dropped by default in search/filter.";n.link="https://forum.bubble.io/t/new-feature-breaking-change-null-search-filter-parameters-no-longer-dropped-by-default/40545";n.date=1537371411459;e("./bubble_version").register(5,n);n.fileupload_too_large=function(e){return e>50*1e3*1e3}},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],32:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=r;n.message="File Upload element now allows files of up to 5 GB, rather than the old limit of 50 MB. File requests now redirect to download directly from amazon, rather than proxying the files.";n.link="https://forum.bubble.io/t/new-feature-beta-large-file-uploads/84395";n.date=158577093e4;e("./bubble_version").register(6,n);var o=e("./../u");var s=e("../constants/special_keys");var i=e("../core/core_datasources/utilities/core_ds_db_ops_utilities");var a=e("./../geolocation/b_location");function l(e){if(!e){return e}var t={};var r=e!=null?e:[];for(var n in r){var s=r[n];if(s){var a=o.extend({},s);if([null,""].includes(a.value)){if(a.constraint_type==="equals"){a.constraint_type="is_empty"}if(!i.constraints_without_values.includes(a.constraint_type)){a.constraint_type="return_empty_set"}}if(a.constraint_type==="geographic_search"&&!a.value.origin_address){a.constraint_type="return_empty_set"}t[n]=a}}return t}n.resolve_constraints=function(e,t){var r;if(t){e=l(e)}var n=[];var u=(r=e)!=null?r:[];for(var c in u){var f=u[c];if(f!=null){if(f.constraint_type||f.key===s.UNIQUE_ID){if(f.key===s.UNIQUE_ID){var d;(d=f.constraint_type)!=null?d:f.constraint_type="equals"}if(["in","not in"].includes(f.constraint_type)){var p,_,m,y;var v=Array.isArray(f.value)?f.value:(p=(_=f.value)==null?void 0:(m=(y=_).all)==null?void 0:m.call(y))!=null?p:[];n.push(o.extend({},f,{value:v}))}else if(["range_contains","range_contained_by","range_overlaps","range_greater_than","range_less_than"].includes(f.constraint_type)){var b,h,j,g;var w=Array.isArray(f.value)?f.value:(b=(h=f.value)==null?void 0:(j=(g=h).all)==null?void 0:j.call(g))!=null?b:[];if(w.length){n.push(o.extend({},f,{value:w}))}}else if(i.constraints_without_values.includes(f.constraint_type)){n.push({key:f.key,constraint_type:f.constraint_type,self:f.self})}else if(f.constraint_type!=="geographic_search"&&f.value!=null&&f.value!==""){n.push(f)}else if(f.constraint_type==="geographic_search"&&f.value.origin_address!=null&&f.value.origin_address!==""){f.value.origin_address=a.from_address(f.value.origin_address);n.push(f)}else if(f.constraint_type==="return_empty_set"){n.push(f)}}if(f.key===s.ADVANCED_SEARCH_CONSTRAINT){n.push(f)}}}return n}},{"../constants/special_keys":95,"../core/core_datasources/utilities/core_ds_db_ops_utilities":232,"./../geolocation/b_location":505,"./../u":687,"./bubble_version":36,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.link.js":975}],33:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message='"Ignore empty constraints" is now applied to empty lists used as the value of "in" and "not in" constraints.';n.link="https://forum.bubble.io/t/new-feature-changing-how-constraints-work-with-empty-lists/93286";n.date=159052358e4;e("./bubble_version").register(7,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],34:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Mutliline Inputs with stretched to fit content selected now default to one row instead of two";n.link="https://forum.bubble.io/t/new-feature-version-8-multiline-input-stretched-defaults-to-one-line/105091";n.date=159672112e4;e("./bubble_version").register(8,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],35:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;n.message="Results of step (...) of a Change Thing action do not store fields and values that would have been changed by the action";n.link="https://forum.bubble.io/t/new-feature-version-9-update-thing-actions-that-did-not-change-a-thing-dont-store-updated-fields-in-results-of-step-thing/113607";n.date=1601129650137;e("./bubble_version").register(9,n)},{"./bubble_version":36,"core-js/modules/es.string.link.js":975}],36:[function(e,t,r){"use strict";e("core-js/modules/es.string.link.js");var n=r;var o=e("./../u");n.LATEST_VERSION=22;var s=null;n.get_bv=function(e){if(!s){c()}return s[e]};var i=null;n.get_all_version_messages=function(){if(!i){var e=[];for(var t=0;t<=n.LATEST_VERSION;t++){var r=u(t);e.push({id:t,message:r.message,link:r.link,date:r.date})}i=e}return i};var a=e;var l={};n.register=function(e,t){l[e]=t};function u(e){var t;return(t=l[e])!=null?t:a("./"+String(e))}function c(){var t;if(o.on_client()){var r;t=(r=window.bubble_version)!=null?r:n.LATEST_VERSION}else{t=0}var i=e("./latest");var a={};for(var l=n.LATEST_VERSION;l>=t;l--){i=a[l]=o.extend({},i,u(l))}s=a}},{"./../u":687,"./latest":37,"core-js/modules/es.string.link.js":975}],37:[function(e,t,r){"use strict";var n=r;var o=e("./../u/shared/b_date");n.date_code=o.date_math;var s=e("./../core/core_elements/legacy/responsive_v0/shared/text_elements");n.apply_dynamic_properties_text=s.apply_dynamic_properties_text;var i=e("../core/core_datasources/utilities/core_ds_db_ops_utilities");n.resolve_constraints=i.resolve_constraints;n.s3_get=function(e,t,r){return e.get_redirect({path:t,appname:r})};n.fileupload_too_large=function(e){return false};var a=e("../constants/auth");n.NO_SUCH_USER=a.INVALID_LOGIN_CREDENTIALS;n.WRONG_PASSWORD=a.INVALID_LOGIN_CREDENTIALS;n.wrong_password_msg="We didnt find an account with those login credentials";n.throw_on_failed_pwd_reset=false;var l=e("../constants/runmode");n.MAX_POPUP_ZINDEX=l.MAX_POPUP_ZINDEX},{"../constants/auth":61,"../constants/runmode":91,"../core/core_datasources/utilities/core_ds_db_ops_utilities":232,"./../core/core_elements/legacy/responsive_v0/shared/text_elements":350,"./../u/shared/b_date":699}],38:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.track_with_marketing_metadata=r.track_count=r.track=r.retrieve_utm_from_header=r.reset=r.page=r.package_utm_data=r.manage_utm_data=r.init_segment=r.format_campaign_data=void 0;var n=o(e("./../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./client/analytics",t.exports);function s(e,t){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}if(window.meta_analytics){var s;return(s=window.meta_analytics)[e].apply(s,n)}else{return t}}}var i=s("retrieve_utm_from_header",[]);r.retrieve_utm_from_header=i;var a=s("format_campaign_data",{});r.format_campaign_data=a;var l=s("package_utm_data","");r.package_utm_data=l;var u=s("manage_utm_data",undefined);r.manage_utm_data=u;var c=s("init_segment",undefined);r.init_segment=c;var f=s("reset",undefined);r.reset=f;var d=s("track_with_marketing_metadata",undefined);r.track_with_marketing_metadata=d;var p=s("track",undefined);r.track=p;var _=s("page",undefined);r.page=_;var m=s("track_count",undefined);r.track_count=m},{"./../safe_require":643}],39:[function(e,t,r){"use strict";e("core-js/modules/es.math.log2.js");var n=r;var o=e("../shared/initializer");var s=e("../logger");var i=e("./logging_medium");var a=e("./scheduledTasks");var l=e("../safe_require");var u=e("./elementservice");e("../core/core_elements");e("../external");var c=e("../core/plugin_initializer");var f=e("../db/values/registration");var d=e("../geolocation/client/client_core");e("../shared/payment_converter");e("../u/shared/decaf");var p=e("../lib/default_lib");n.initialize=function(){o.initialize();p.register();_();if(typeof window!=="undefined"){var t=e("../../vendor/jquery_plugins/moment.timezone.min.js");l.safe_register("moment",t)}s.register_logger(i);a.start();c.initialize();f.register_values();d.init();u.initialize()};function _(){var e;(e=Math.log2)!=null?e:Math.log2=function(e){return Math.log(e)*Math.LOG2E}}},{"../../vendor/jquery_plugins/moment.timezone.min.js":1305,"../core/core_elements":318,"../core/plugin_initializer":377,"../db/values/registration":470,"../external":502,"../geolocation/client/client_core":506,"../lib/default_lib":613,"../logger":617,"../safe_require":643,"../shared/initializer":662,"../shared/payment_converter":664,"../u/shared/decaf":706,"./elementservice":40,"./logging_medium":43,"./scheduledTasks":50,"core-js/modules/es.math.log2.js":945}],40:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function s(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function i(e,t){return f(e)||c(e,t)||l(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function f(e){if(Array.isArray(e))return e}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,m(n.key),n)}}function _(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function m(e){var t=y(e,"string");return n(t)==="symbol"?t:String(t)}function y(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return b(e,t)}function h(e){var t=w();return function r(){var n=O(e),o;if(t){var s=O(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return j(this,o)}}function j(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return g(e)}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function w(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}var S=e("./../u");var k=e("../lib");var A=e("../lang/appquery");var E=e("events");var x=e("./epoch");var M=e("../constants/epoch");var P={template:function(){},createContext:function(){},delegateEvents:function(){}},T=P.render;var I=e("../lang/elements/rendering_perf");var C=e("../constants/server_rendering"),R=C.CSS_FLAG;var N=e("../renderer/RenderElement"),L=N.RenderElement;var z=r;z.initialize=function(){B.set_responsive_container(q)};z.ElementService=function(e){v(r,e);var t=h(r);function r(){var e;d(this,r);e=t.call(this);e.ready_key=S.MakeKey(null,"ElementService ready");return e}_(r,[{key:"display",value:function e(t){var r=this;var n=t.get_responsive_version();x.addEpochLabels({responsive_version:n});var s;if(n>0){s=new q(null,$("body"))}else if(t.use_responsive_algorithm()){s=new B.Container(null,$("body"))}else{s=new B.OldContainer(null,$("body"))}t=D.ElementInstance(t,D.RUN);t.split_namespace();t.register(null);this._page=t;var i=M.SPANS.page_draw;var a=function e(t){return x.traceSpan(i.name,i.type,(function(){if(n===1&&(A.has_feature_enabled("react_upgrade")||A.get_public_setting("bubble_version")>=21||k().location.get_query().new_elements_rendering)&&typeof T==="function"){if(!getComputedStyle(document.body).getPropertyValue(R)){delete window._bubble_watcher_cache}else if(window._bubble_watcher_cache!=null){document.documentElement.classList.add("b-root")}s=new q(null);t.set_containers(s);T((function(){return(0,o.createComponent)(L,{instance:t})}),document.body)}else{t.create_skeleton(s)}t.start_draw_tree();t.ensure_drawn()}))};var l={deferred_drawing_enabled:true};var u=I.measure_initial_draw(l,(function(){a(t)}));x.addEpochLabels(u);setTimeout((function(){r.ready_key.turn()}))}},{key:"_loading_key",value:function e(t){return t?"_page_done_loading_entire":"_page_done_loading"}},{key:"on_page_done_loading",value:function e(t,r){var n=this;var o=S.Watcher((function(){return n.page_done_loading(t)}));o.on_value((function(e){if(e){r();o.destroy()}}))}},{key:"page_done_loading",value:function e(t){var r=this._loading_key(t);if(!this[r]){this[r]=S.Box(false);this._check_if_page_is_done(t,true)}return this[r]()}},{key:"_check_if_page_is_done",value:function e(t,r){var n=this;var o=function e(r){var n;var o=r.get_canvas();if(!o||o.is(":hidden")||o.css("visibility")==="hidden"){return null}if(!t){if($(window).height()<o.offset().top){return null}}for(var a=0,l=Object.values((u=r._watchers)!=null?u:{});a<l.length;a++){var u;var c=l[a];var f=c.get_current_status_array(),d=i(f,3),p=d[0],_=d[1],m=d[2];if(!p&&!_){return m}}var y=r.element.can_have_children();if(r.is_ready&&!y){return null}var v=r.get_children_drawn_key();if(!v.is_turned()){return v}var b=s((n=r.children)!=null?n:[]),h;try{for(b.s();!(h=b.n()).done;){var j=h.value;var g=e(j);if(g){return g}}}catch(p){b.e(p)}finally{b.f()}return null};var a=function e(){var r=o(n._page);if(r==null){n[n._loading_key(t)](true)}else{S.WaitFor(r,n._check_if_page_is_done.bind(n,t))}};if(r&&this.ready_key.is_turned()){a()}else{S.WaitFor(this.ready_key,(function(){setTimeout(a,100)}))}}},{key:"get_page",value:function e(){return this._page}}]);return r}(E.EventEmitter);var D=e("./../lang/elements");var q=e("../shared/responsive/ResponsiveContainer");var B=e("./responsive_v0/containers")},{"../constants/epoch":74,"../constants/server_rendering":94,"../lang/appquery":535,"../lang/elements/rendering_perf":560,"../lib":614,"../renderer/RenderElement":636,"../shared/responsive/ResponsiveContainer":666,"./../lang/elements":557,"./../u":687,"./epoch":41,"./responsive_v0/containers":48,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,events:745}],41:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-set.js");e("core-js/modules/web.dom-collections.iterator.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){f(e,t);t.add(e)}function f(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function d(e,t,r){if(!t.has(e)){throw new TypeError("attempted to get private field on non-instance")}return r}var p=r;var _=e("../u/shared/uuid");var m=e("../monitoring/apm");var y=e("../constants/epoch");var v=e("../lib");var b=e("../u/shared/mode_check");var h=e("../u/client/client_storage");var j=new WeakSet;var g=function e(t){u(this,e);c(this,j);this.name=t;this.id=_.UUID();this.labels=d(this,j,w).call(this);this.transaction=m.startTransaction(t,this.labels)};function w(){var e=v().location.base_url;var t=v().location.get_page();var r=O();var n=v().appname();var o=this.id;var s=this.name;return{epoch_name:s,epoch_id:o,user_appname:r,appname:n,url:e,page:t}}p.start=function(e){p.end();var t=new g(e);h.set_active_epoch(t)};p.end=function(){var e=h.get_active_epoch();if(e){var t,r,n,o;var s=(t=window)==null?void 0:(r=t.performance)==null?void 0:(n=r.timing)==null?void 0:n.fetchStart;var i=((o=Object.values(y.EPOCHS).find((function(t){return t.name===e.name})))==null?void 0:o.start_at_page_load)||false;if(i&&s){S(e,s)}m.endTransaction(e.transaction)}h.set_active_epoch(undefined)};p.addEpochLabels=function(e){var t=h.get_active_epoch();if(t){Object.assign(t.labels,e);m.addTransactionLabels(e)}};p.startSpan=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=h.get_active_epoch();if(n){return m.startSpan(e,s(s({},n.labels),{},{type:t}),r)}};p.traceSpan=function(e,t,r){var n=h.get_active_epoch();if(n){return m.traceSpan(e,s(s({},n.labels),{},{type:t}),r)}else{return r()}};p.endSpan=function(e){m.endSpan(e)};var O=function e(){var t=v().appname();if(b.is_edit_mode()){var r,n;return(r=(n=v().location.get_query())==null?void 0:n.id)!=null?r:t}else{return t}};var S=function e(t,r){var n=t.transaction;n.setStart(r);n.spans.filter((function(e){var t;return(t=Object.values(y.SPANS).find((function(t){return t.name===e.name})))==null?void 0:t.start_at_page_load})).forEach((function(e){return e.setStart(r)}))}},{"../constants/epoch":74,"../lib":614,"../monitoring/apm":619,"../u/client/client_storage":680,"../u/shared/mode_check":713,"../u/shared/uuid":716,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-set.js":989,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],42:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../u/shared/async/async_state");var v=e("./../locations");var b=e("./../lib");var h=e("./../logger");var j=e("../u/shared/mode_check");var g=e("../u/shared/async/b_async");var w=e("../u/shared/b_object");var O=e("../u/shared/errors");var S=e("../u/shared/uuid");var k=e("./../client/analytics");var A=e("../u/client/client_storage");var E={};var x=null;var M={"server://workflow/start":true,"server://user/hi":true};function P(e){return M[e]}function T(e){if(e!=null){window.bubble_session_uid=e.bubble_session_uid}}function I(e){if(j.on_phonegap()){var t=e.getResponseHeader("Set-Cookie");if(t){var r=[];var n=t.split(",");var o=n[0];var s=0;while(o){o=n[s];if(o.indexOf("expires=")!==-1){o=o+","+n[s+1];s++}r.push(o);s++;o=n[s]}for(var i=0,a=r;i<a.length;i++){var l=a[i];var u=l.split("=");var c=u[0].trim();var f=u[1].split(";")[0];A.createCookie(c,f)}}}}t.exports=function(e){u(r,e);var t=f(r);function r(e){var n;o(this,r);n=t.call(this,e);n.open_requests=g.MakeKeyList();return n}i(r,[{key:"load",value:function e(){var t=b();t.workflow.announce_event("PageLoaded");return b().user.ready()}},{key:"change_page",value:function e(t,r,n){document.location.href=this.get_page_url(t,r,n)}},{key:"reload_page",value:function e(){return document.location.reload()}},{key:"set_url_without_refresh",value:function e(t){var r=t.url,n=t.push_state;if(n){window.history.pushState({},document.title,r)}else{window.history.replaceState({},document.title,r)}this.base_url=r}},{key:"get",value:function e(t,r){return this.request(t,"get",null,r)}},{key:"post",value:function e(t,r,n){return this.request(t,"post",r,n)}},{key:"put",value:function e(t,r,n){return this.request(t,"put",r,n)}},{key:"delete",value:function e(t,r){return this.request(t,"delete",null,r)}},{key:"request",value:function e(t,r,n,o,s,i,a){var l,u,c,f,d,p=this;(l=s)!=null?l:s=500;(u=a)!=null?u:a=Date.now();if(Date.now()-a>R.REQUEST_TTL*2/3){throw new O.OwnerError("Could not reach server")}var _=g.Promise(null,r+" "+t);(c=i)!=null?c:i=S.UUID();if(o){_.callback(o)}var m=t;t=t.toLowerCase();var v=false;var E=false;if(t.indexOf("server://")!==-1){t=this.get_server_base()+t.split("server://")[1];v=true}else if(t.indexOf("meta://")!==-1){var M={};if(!document.location.href.startsWith(b().location.get_base_for_meta())){M.protocol="HTTPS:"}t=this.get_base_for_meta(M)+"/"+t.split("meta://")[1];v=true;E=true}else if(t.indexOf("bubble:")===0){v=true;t=t.slice(7)}else{v=false;h.warn("Using Lib().location.request to hit a non-Bubble server. Use Lib().http_request instead! If this actually"+' is bubble, prefix url with "server://"',{uri:t})}var N={processData:false,type:r,dataType:"json"};(f=N.xhrFields)!=null?f:N.xhrFields={};(d=N.headers)!=null?d:N.headers={};if(E||j.on_phonegap()){N.xhrFields.withCredentials=true}if(j.on_phonegap()){var L;(L=n)!=null?L:n={};n.headers_for_phonegap=b().location.base_url}if(r!=="get"&&r!=="delete"){try{var z;N.data=JSON.stringify((z=n)!=null?z:{})}catch(e){var D;var q={};var B=(D=n)!=null?D:{};for(var U in B){var W=B[U];try{q[U]=JSON.stringify(W)}catch(e){}}N.data=JSON.stringify(q)}N.contentType="application/json";N.headers["cache-control"]="no-cache"}if(v){var F,G,X;var V=(F=window)==null?void 0:(G=F.read_url)==null?void 0:G.call(F).app_id;if(j.is_edit_mode()&&V){N.headers["X-Bubble-Appname"]=V}else if(j.is_plugin_edit_mode()){N.headers["X-Bubble-Appname"]="meta"}N.headers["X-Bubble-Breaking-Revision"]=R.breaking_revision;N.headers["X-Bubble-R"]=encodeURI(this.base_url);(X=x)!=null?X:x=S.LUID();N.headers["X-Bubble-PL"]=x;var H=A.get_active_epoch();if(H){N.headers["X-Bubble-Epoch-ID"]=H.id;N.headers["X-Bubble-Epoch-Name"]=H.name}N.headers["X-Bubble-Fiber-ID"]=i;var Y=k.package_utm_data();if(Y){N.headers["X-Bubble-UTM-Data"]=Y}}var e=$.ajax(t,N);e.done((function(r,n,o){if(v){y.server_connection_problems=false}if(window.start_debugger!=null&&b().workflow.debugger!=null){var s=parseInt(o.getResponseHeader("X-Bubble-Capacity-Limit"));if(!isNaN(s)){b().workflow.debugger.report_capacity(s)}b().workflow.debugger.get_request_size(t)}I(e);if(P(m)){T(r)}A.rebuild_cookies();return C.recheck_uid((function(){return _.resolve(r)}),m)}));e.fail((function(o,l,u){var c,f;var d=o.getResponseHeader("x-bubble-change-page");if(d){var j=document.location.href;var g={referrer:encodeURIComponent(j)};var S=w.extend({},b().location.get_query(),g);p.change_page(d,S);return}I(e);A.rebuild_cookies();C.recheck_uid();if(v){if(o.status>=400&&o.status<=599){y.server_connection_problems=false}else{y.server_connection_problems=true}}if([503,0,12017].includes(o.status)||v&&[502,504].includes(o.status)){if(o.status===0&&u!=null){h.warn(new O.UnexpectedError("Bad request not sent",{status:u}))}setTimeout((function(){return _.resolve(p.request(m,r,n,null,Math.min(s*2),i,a))}),s);return}if(((c=o.responseText)==null?void 0:(f=c.indexOf)==null?void 0:f.call(c,"Chrome Data Compression Proxy"))!==-1||[12019,524].includes(o.status)){if(s<2e3){setTimeout((function(){return _.resolve(p.request(m,r,n,null,s*2,i,a))}),s);return}}if(!v){var k;try{k=w.json_parse(o.responseText)}catch(e){k=o.responseText}_.reject(new O.UnexpectedError(k));return}_.reject(p.response_to_error(o,{uri:t,request_data:N,method:r,fiber_id:i}))}));this.open_requests.add_key(_.ready_key());return _}},{key:"response_to_error",value:function e(t,r){var n=r!=null?r:{},o=n.uri,s=n.request_data,i=n.method,a=n.fiber_id;var l=null;if(t.responseText&&t.getResponseHeader("Content-Type")==="application/json"){try{l=JSON.parse(t.responseText)}catch(e){}}var u=t.getAllResponseHeaders();if(l==null||!l.error_class){return new O.UnexpectedError("unexpected server response",{statusCode:t.status,response_body:t.responseText,uri:o,request_data:s,method:i,headers_string:u,code:a})}var c=O.from_json_client(l);if(c instanceof O.UnexpectedError){c.extend({uri:o,request_data:s,method:i})}return c}},{key:"request_synchronous",value:function e(t,r,n){var o;function s(e){var t=e.response,r=e.error,n=e.cache_status,o=e.current_version;if(n.version===o){n.response=t;n.error=r;n.keys.map((function(e){return e.turn()}));n.version+=1;n.state="complete"}}var i=w.json_stringify({uri:t,method:r,data:n});(o=E[i])!=null?o:E[i]={state:"invalidated",version:0};var a=E[i];if(a.state==="invalidated"){var l;var u=a.version;a.state="pending";(l=a.keys)!=null?l:a.keys=[];a.keys.push(g.MakeKey(null,"request_synchronous "+t));var c=this.request(t,r,n);c.then((function(e){s({response:e,cache_status:a,current_version:u})}),(function(e){s({error:e,cache_status:a,current_version:u})}))}g.ensure_ready(a.keys[a.keys.length-1]);if(a.error){throw a.error}else{return a.response}}},{key:"wipe_request_cache",value:function e(t,r,n){var o=w.json_stringify({uri:t,method:r,data:n});if(E[o]!=null){E[o].state="invalidated";E[o].version+=1;delete E[o].response;delete E[o].error}}}]);return r}(v.Location);var C=e("./../db/client_db");var R=e("./../client_config")},{"../u/client/client_storage":680,"../u/shared/async/async_state":692,"../u/shared/async/b_async":695,"../u/shared/b_object":702,"../u/shared/errors":708,"../u/shared/mode_check":713,"../u/shared/uuid":716,"./../client/analytics":38,"./../client_config":55,"./../db/client_db":417,"./../lib":614,"./../locations":616,"./../logger":617,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],43:[function(e,t,r){"use strict";e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");var n=r;var o=e("../lib");var s=e("../u/shared/async/async_state");var i=e("../u/shared/b_object");var a=e("./../client_config");var l=e("../u/shared/errors");var u=e("../u/shared/mode_check");var c=e("../u/shared/logging");var f=e("../u/client/test_state");var d=e("../u/shared/uuid");var p=e("../lang/appquery");var _=Date.now();var m={debug:"debug",verbose:"debug",info:"info",warn:"warn",error:"error",fatal:"error"};var y={user_error:"info",owner_warn:"warn",owner_error:"error"};var v={};var b=0;var h=0;var j=false;var g=false;function w(){if(g){return}g=true;console.warn("Note: we are hiding further messages to avoid excess logging")}n.fiber_wrapper=function(e){return e};n.log=function(e,t,r){var n,g,O,S,k,A;(n=v[t])!=null?n:v[t]=0;if(v[t]>=5){w();return}if(b>=20){w();return}v[t]++;b++;var E=y[(g=r.tags)==null?void 0:g.user_level];(S=(O=r).code)!=null?S:O.code=d.UUID();if(E||c.level_gte(e,a.browser_console_log_level)){var x,M,P;var T=E!=null?E:e;var I=(x=(M=console[m[T]])==null?void 0:M.bind(console))!=null?x:console.log.bind(console);var C;if(E){var R;if(r.element_instance!=null){C="Element ".concat(r.element_instance.element.get_name()," - ")}else if(r.event){C="Event ".concat(r.event.display()," - ")}else if(r.action){C="Action ".concat(r.action.display()," - ")}else{C=""}if(r.prop_name){C+=r.prop_name+" "}C+=(R=r.display)!=null?R:t}else if(t!=null){C=t;if(typeof r.stack==="string"){C=[C].concat(r.stack.split("\n").slice(1)).join("\n")+"\n"}}else{C=r.stack}var N=i.extend({},r);delete N.stack;delete N.tags;delete N.display;if(/Bubble Tests/.test((P=navigator)==null?void 0:P.userAgent)){N.bubble_level=e}if(C[-1]!=="\n"){C+="\n"}I(C,N)}if(c.level_gte(e,"warn")){f.all_page_errors.push({message:t,stack:r.stack,data:r,level:e})}if(o().workflow.debugger&&c.level_gte(E,"warn")){var L,z;var D,q;if(E){var B;D=(B=r.display)!=null?B:t}else{if(j){return}j=true;D="Sorry, we have encountered an unexpected error. Please <a href='https://bubble.io/support/report?app=".concat(p.appname(),"&fiber=").concat(r.code,'\' class="click-for-bug-report" target="_blank">click here to file a bug report</a>, including error code ').concat(r.code," and a step-by-step explanation of how to reproduce this issue.")}if(r.event){q="workflow"}else if(r.action){q="action"}else if(r.element_instance){q="element"}else if(c.level_gte(E!=null?E:e,"error")){q="general"}else{q="warning"}var U=(L=r.action)!=null?L:r.element_instance;var W=r,F=W.event;var G=r,X=G.prop_name;var $={message:D};(z=o().workflow.debugger)==null?void 0:z.report_error({type:q,instance:U,event:F,prop_name:X,error:$})}if(r.server_generated){return}if(!c.level_gte(e,"info")){return}r=l.clean_args({args:r});var V={level:e,message:t,data:r,server_connection_problems:s.server_connection_problems,session_count:h,js_user_agent:window.navigator.userAgent,page_load_time:_,client_commit_sha:a.commit_sha,client_commit_timestamp:a.commit_timestamp,client_page_url:(k=o().location)==null?void 0:(A=k.my_location)==null?void 0:A.call(k),mode:u.is_edit_mode()?"edit":u.is_plugin_edit_mode()?"plugin":"run"};if(c.level_gte(e,"error")){h++}function H(e){if(e){console.error(e)}}o().location.request("server://bug/client_log","POST",V,H,null,r.code)}},{"../lang/appquery":535,"../lib":614,"../u/client/test_state":685,"../u/shared/async/async_state":692,"../u/shared/b_object":702,"../u/shared/errors":708,"../u/shared/logging":712,"../u/shared/mode_check":713,"../u/shared/uuid":716,"./../client_config":55,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],44:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.search.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("./../u");var a=e("./../logger");var l=e("../constants/workflow");var u=e("../u/shared/callbacks"),c=u.ignoreError;var f=e("./../lib");var d=e("./../services");var p=e("./../lang/appquery");var _=e("url");var m=e("./../core/core_events");var y={invalid:"Invalid login link.",user:"User attempting to login does not exist.",expired:"This link is expired or has already been used. Please request another.",robot:"Incompatible browser."};function v(e){if(!e){return false}try{return i.json_parse(e).oauth_provider}catch(e){return false}}function b(e){if(!e){return false}try{return i.json_parse(e).magic_link_status}catch(e){return false}}r.onload=function(e){var t,r;var o=_.parse(document.location.href,true);var s=o.query;var u=i.json_deep_copy(s);if((t=s.state)!=null&&t.replace){var h=/&#34;/g;s.state=s.state.replace(h,'"')}s.state=decodeURIComponent(s.state);var j,g;if(s.oauth_provider){j=i.json_deep_copy(s);var w=j;g=w.run_id;delete s.oauth_provider;delete s.run_id}else if(v(s.state)){var O,S;j=i.json_parse(s.state);(S=(O=j).code)!=null?S:O.code=s.code;delete s.state}else if(b(s.state)){var k;j=i.json_parse(s.state);delete s.state;delete o.search;f().location.set_url_without_refresh({url:_.format(o)});var A=(k=y[j.magic_link_status])!=null?k:"Invalid login link.";m.handle_uncaught_error({original_error:new i.OwnerError(A),caught_from:l.ERROR_SOURCES.ELEMENT_WORKFLOW,cb:function e(t){if(t){window.alert(A)}}});e==null?void 0:e();return}else{e==null?void 0:e();return}var E=d.get_oauth_authenticator(j.oauth_provider);if(E==null){window.alert(f().get_text("CORE","OAUTH_ISSUE"));e==null?void 0:e();return}var x=n((r=E.get_property("additional_query_url_to_delete"))!=null?r:[]),M;try{for(x.s();!(M=x.n()).done;){var P=M.value;delete s[P]}}catch(e){x.e(e)}finally{x.f()}delete s.code;delete s.resume_key;delete o.search;delete o.hash;f().location.set_url_without_refresh({url:_.format(o)});var T=g||j.resume_key;if(!j.code&&!j.oauth_token){a.error("oauth login failed",{service_name:E.id(),original_query:u});var I=f().get_text("CORE","OAUTH_ISSUE")+E.id()+". "+f().get_text("CORE","TRY_AGAIN");var C=new i.OwnerError(I);m.handle_uncaught_error({original_error:C,caught_from:l.ERROR_SOURCES.ELEMENT_WORKFLOW,cb:function e(t){if(t){window.alert(a.human_friendly(t))}}});e==null?void 0:e();return}var R=E.get_data_for_login(j);var N=f().workflow.resume(T,R);N.callback((function(t){if(t){m.handle_uncaught_error({original_error:t,caught_from:l.ERROR_SOURCES.ELEMENT_WORKFLOW,cb:function e(t){if(t){window.alert(a.human_friendly(t))}}})}e==null?void 0:e();if(!t&&j.oauth_provider.indexOf("apiconnector")===0&&i.is_debug_mode()&&p.app_version()!=="live"){if(!E.has_token_data()){var r={api_id:j.oauth_provider,current_user_id:f().current_user()._id(),appname:p.appname(),plugin:j.oauth_provider.indexOf("apiconnector2")===0?"apiconnector2":"apiconnector"};f().location.post("server://api/1.1/u/save_owner_oauth_token",r).callback(c((function(e){if(e===true){window.alert("You have successfully initialized the OAuth2 connection for ".concat(E.display(),". You can go back to the Editor and keep building!"))}})))}}}))}},{"../constants/workflow":101,"../u/shared/callbacks":705,"./../core/core_events":372,"./../lang/appquery":535,"./../lib":614,"./../logger":617,"./../services":646,"./../u":687,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.search.js":978,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,url:748}],45:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.can_use=d;r.fully_loaded=h;r.render_end=v;r.render_start=m;e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var o=l(e("./epoch"));var s=l(e("../constants/epoch"));var i=l(e("../db/db"));function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(){var e;return((e=window.performance)==null?void 0:e.timing)!=null&&window._bubble_page_load_data!=null}var p;var _;function m(e){p=Date.now();if(e){o.start(e);var t=s.SPANS.render;_=o.startSpan(t.name,t.type,t.sync)}}var y;function v(){o.endSpan(_);y=Date.now()}var b;function h(){var e,t,r;b=Date.now();o.end();var n=i.global_data_items_loaded;if(!d()){return}var s=window.performance.timing.fetchStart;var a=window.performance.timing.responseEnd;var l=a-s;var c=p-s;var f=y-s;var _=b-s;var m=window._bubble_page_load_data,v=m.pre_runjs,h=m.run_js_start,j=m.post_runjs,g=m.static_js_start,w=m.dynamic_js_start,O=m.pre_staticjs,S=m.pre_dynamicjs;var k;var A;var E;var x;var M=u((e=(t=(r=window.performance).getEntriesByType)==null?void 0:t.call(r,"resource"))!=null?e:[]),P;try{for(M.s();!(P=M.n()).done;){var T=P.value;var I=T;if(I.name.includes("/package/run_js/")){k=I;x=k.encodedBodySize}else if(I.name.includes("/package/run_js_page/")){A=I}if(I.name.includes("/package/run_js/")){var C;(C=E)!=null?C:E=0;E+=I.encodedBodySize}}}catch(e){M.e(e)}finally{M.f()}var R=_;var N=function e(t){return Math.round(t*1e3/R)/10};function L(e,t,r){if(typeof performance.now!=="function"||r==null){return}var n=t-window.performance.timing.fetchStart;var o=Math.max(0,r.responseStart-n);var s=Math.max(0,r.responseEnd-Math.max(n,r.responseStart));e.request=N(o);e.download=N(s)}var z=h-v;var D={total:N(z)};L(D,v,k);var q=g-O;var B=w-S;var U={total:N(q)};var W={total:N(B)};L(U,j,A);L(W,j,A);var F={page_data:n,page_html:l,page_render_start:c,page_render:f,page_full:_};if(E!=null){F.packager_size=E}if(x!=null){F.run_js_size=x}return F}},{"../constants/epoch":74,"../db/db":420,"./epoch":41,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],46:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.page_load_performance_metrics=f;var o=c(e("../lang/appquery"));var s=u(e("../constants/bundle"));var i=c(e("./../lib"));var a=u(e("../logger"));function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=l(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function c(e){return e&&e.__esModule?e:{default:e}}function f(e){var t=Date.now();var r=window.location.href;var n=o.default.appname();var l=o.default.app_version();var u=window.bubble_bundle_name;var c=s.BASE_BUNDLES[u];var f=c!=null&&c.is_debug_mode?"debugger":"runmode";var d={timestamp:t,url:r,appname:n,app_version:l,bundle_type:f};if(e!==undefined){d.page_data=e.page_data;d.page_html=e.page_html;d.page_render_start=e.page_render_start;d.page_render=e.page_render;d.page_full=e.page_full;d.packager_size=e.packager_size;d.run_js_size=e.run_js_size}i.default.or_throw().location.post("server://user/m",d,(function(e){if(e){a.log(e)}}))}},{"../constants/bundle":62,"../lang/appquery":535,"../logger":617,"./../lib":614,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],47:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("./../lib");var c=e("./../u");var f=e("../page_thing_utils");t.exports=function(){function e(){o(this,e);this._dependency=c.Dependency()}i(e,[{key:"invalidate",value:function e(){if(!c.on_phonegap()){u().location.base_url=document.location.href}u().workflow.announce_event("PageLoaded");this._dependency.invalidate()}},{key:"get",value:function e(){if(f.get_page_thing_id(u().location)!=null){this.exists=true}else{this.exists=false}this._dependency.register();if(!this.exists){var t,r,n;if(((t=u().element)==null?void 0:(r=t.get_page())==null?void 0:(n=r.element)==null?void 0:n.get_static_property("page_item_type"))!=null){console.log("warning: no id specified.  this page expects an id")}return null}else{return f.get_page_thing(u().location)}}}]);return e}()},{"../page_thing_utils":623,"./../lib":614,"./../u":687,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],48:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.fixed.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function o(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)s(e,t)}function s(e,t){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return s(e,t)}function i(e){var t=u();return function r(){var n=c(e),o;if(t){var s=c(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return a(this,o)}}function a(e,t){if(t&&(f(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function u(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function c(e){c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return c(e)}function f(e){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e){return y(e)||m(e)||_(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function m(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y(e){if(Array.isArray(e))return v(e)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,g(n.key),n)}}function j(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function g(e){var t=w(e,"string");return f(t)==="symbol"?t:String(t)}function w(e,t){if(f(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O=e("./../../u");var S=e("./../../lang/appquery");var k=e("events");var A=r;var E=null;var x=function(){function e(t,r){var n;b(this,e);this.owner_instance=t;this.container_canvas=r;this.container_canvas.css("box-sizing","border-box");if(this.owner_instance){var o=this.owner_instance.element;this.info=O.json_deep_copy(o.get_responsive_data())}(n=this.info)!=null?n:this.info={};this.is_initialized=O.MakeKey(null,"container initialized")}j(e,[{key:"destroy",value:function e(){var t;(t=this.owner_instance)==null?void 0:t.destroy();this.owner_instance=null}},{key:"resize_width",value:function e(){}},{key:"add_to_instances",value:function e(){}},{key:"ready_key",value:function e(){return this.is_initialized}},{key:"get_canvas",value:function e(){return this.container_canvas}},{key:"get_owner",value:function e(){return this.owner_instance}},{key:"render",value:function e(t){var r=$(t);r.addClass("bubble-element");return r}},{key:"recalculate",value:function e(t){var r,n=this;var o=this.info[t];(r=o.pushed_by)!=null?r:o.pushed_by=[];var s=Object.values(o.pushed_by).map((function(e){return n.info[e].height_delta+n.info[e].top_delta}));var i=Math.max.apply(Math,d(s));if(i!==o.top_delta){o.top_delta=i;o.instance.canvas.css("top",o.top_delta+o.it);this.calculate_children(t);this.recalculate_stripe(t)}}},{key:"calculate_children",value:function e(t){var r;var n=this.info[t];(r=n.pushes)!=null?r:n.pushes=[];if(O.is_empty(n.pushes)){this.recalculate_container(t)}else{for(var o in n.pushes){var s=n.pushes[o];this.recalculate(s)}}}},{key:"recalculate_container",value:function e(t){var r;for(var n in this.info.container_bottoms){var o=this.info.container_bottoms[n];var s=this.info[o];if(r==null){r=s.height_delta+s.top_delta}else{r=Math.max(r,s.height_delta+s.top_delta)}}if(this.owner_instance.supports_message("child_movement")){this.owner_instance.message("child_movement",r)}}},{key:"recalculate_stripe",value:function e(t){if(!this.owner_instance.supports_message("movement_in_stripe")||this.info[t].pushes_stripe==null){return}var r=this.info[t].pushes_stripe;var n;for(var o in this.info){var s=this.info[o];if(s.pushes_stripe===r){if(n==null){n=s.height_delta+s.top_delta}else{n=Math.max(n,s.height_delta+s.top_delta)}}}this.owner_instance.message("movement_in_stripe",r,n)}},{key:"set_height",value:function e(t,r,n){var o,s=this;(o=n)!=null?o:n={};O.WaitFor(this.is_initialized,(function(){var e=t.element_id();if(s.info[e].current_height===r){return}s.info[e].current_height=r;if(!n.no_css_update){t.canvas.css("height",r)}var o=r-s.info[e].ih;if(o===s.info[e].height_delta){return}s.info[e].height_delta=o;s.calculate_children(e);s.recalculate_stripe(e)}))}},{key:"add",value:function e(t,r){var n=t.element;var o=n.id();var s=this.info[o];if(s==null){if(r){t.wait_for_visible_lite((function(){var e=t.canvas[0].style;e.boxSizing="border-box";e.position="absolute";e.zIndex=t.element.get_zindex();e.left=t.element.get_left()+"px";e.top=t.element.get_top()+"px";e.width=t.element.get_width()+"px";e.height=t.element.get_height()+"px"}))}return}O.extend(s,{current_height:s.ih,top_delta:0,height_delta:0,instance:t});t.wait_for_visible_lite((function(){var e=t.canvas[0].style;e.boxSizing="border-box";e.position="absolute";e.zIndex=s.iz;e.left=s.il+"px";e.top=s.it+s.top_delta+"px";e.width=s.iw+"px";e.height=s.current_height+"px";return t.notify_width(s.iw)}));this.container_canvas.append(t.canvas)}},{key:"create_child",value:function t(r,n){var o=r.element.E.custom_definition;if(o){var s;if(o().get_responsive_version()>0){return new E(r,n)}if(!o().use_responsive_algorithm()){s=new e(r,n)}else{s=new M(r,n,r.element.get_responsive_data())}s.resize_width(O.real_inner_width(n));return s}else{return new e(r,n)}}},{key:"initialize",value:function e(){P.tab_container(this.owner_instance);this.is_initialized.turn()}},{key:"detach",value:function e(t){t.canvas.detach()}}]);return e}();var M=function(e){o(r,e);var t=i(r);function r(e,n,o,s){var i,a,l,u,c,f,d,p,_,m;var y;b(this,r);y=t.call(this);y.owner_instance=e;y.container_canvas=n;y.owner=s;y.container_canvas[0].style["box-sizing"]="border-box";if(y.owner_instance){var v=O.json_deep_copy(o!=null?o:{});y.elements=v.elements;y.boxes=v.boxes;y.lines=v.lines;y.lines_length=v.lines_length}(a=(i=y).elements)!=null?a:i.elements={};(u=(l=y).boxes)!=null?u:l.boxes={};(f=(c=y).lines)!=null?f:c.lines={};(p=(d=y).lines_length)!=null?p:d.lines_length=0;y.instances={};y.instances_keys={};(m=(_=y).lines)!=null?m:_.lines={};y.child_containers=[];y.flow_created=O.MakeKey(null,"flow created");return y}j(r,[{key:"destroy",value:function e(){var t,r;this.destroyed=true;(t=this.owner_instance)==null?void 0:t.destroy();this.owner_instance=null;var o=(r=this.instances)!=null?r:{};for(var s in o){var i=o[s];i.destroy()}this.instances=null;var a=n(this.child_containers),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;u.destroy()}}catch(e){a.e(e)}finally{a.f()}this.elements=this.boxes=this.lines=this.lines_length=this.instance_keys=this.flow_created=null}},{key:"ready_key",value:function e(){return this.flow_created}},{key:"get_canvas",value:function e(){return this.container_canvas}},{key:"get_owner",value:function e(){return this.owner_instance}},{key:"render",value:function e(t){var r=$(t);r.addClass("bubble-element");return r}},{key:"_show_line",value:function e(t){var r,n,o,s;(r=this._lines)!=null?r:this._lines={};(o=(n=this._lines)[t])!=null?o:n[t]=O.div("bubble-r-line",this.container_canvas);this._lines[t].show();this._num_lines=Math.max((s=this._num_lines)!=null?s:0,parseInt(t)+1);return this._lines[t]}},{key:"_hide_lines",value:function e(t){this.last_display_line=t-1;for(var r=t;r<this._num_lines;r++){this._lines[r].hide()}}},{key:"_get_box",value:function e(t){var r;(r=this._boxes)!=null?r:this._boxes={};if(!this._boxes[t]){this._boxes[t]=O.div("bubble-r-box");this.recalculate_box_height(t);this._boxes[t][0].box_debugging_metadata=this.boxes[t]}return this._boxes[t]}},{key:"recalculate_box_height",value:function e(t){var r=this.boxes[t];var n=null;for(var o in r.bottoms){var s;var i=r.bottoms[o];var a=this.elements[i];var l=this._get_height_delta(i)+((s=a.top_delta)!=null?s:0);if(n==null){n=l}else{n=Math.max(n,l)}}var u=n+(r.ih-r.line_gap);if(u!==r.height){var c;r.height=u;this._get_box(t)[0].style.height=Math.max(u,0)+"px";var f=(c=this.box_to_display_line)==null?void 0:c[t];if(f){this.update_display_line_height(f)}}}},{key:"update_display_line_height",value:function e(t){var r;var n=(r=this._lines[t.idx])==null?void 0:r[0];if(n){n.style.height=Math.max(this.get_display_line_height(t),0)+"px"}}},{key:"_update_instance",value:function e(t,r){if(this.instances[t]){this.instances[t].wait_for_visible_lite(r)}else{var n,o;(o=(n=this.instances_keys)[t])!=null?o:n[t]=O.MakeKey(null,"waiting for instance for "+t);O.WaitFor(this.instances_keys[t],this._update_instance.bind(this,t,r))}}},{key:"_wait_for_instance_added",value:function e(t,r){if(this.instances[t]){r()}else{var n,o;(o=(n=this.instances_keys)[t])!=null?o:n[t]=O.MakeKey(null,"waiting for instance for "+t);O.WaitFor(this.instances_keys[t],this._wait_for_instance_added.bind(this,t,r))}}},{key:"_set_element_width",value:function e(t,r,n){var o=this;var s=this.elements[t];s.width=r;s.left=n;this._update_instance(t,(function(){o.to_canvas(o.instances[t])[0].style.width=s.width+"px";o.to_canvas(o.instances[t])[0].style.left=s.left+"px";o.instances[t].notify_width(s.width)}))}},{key:"get_display_line_top",value:function e(t){var r=0;for(var n=0;n<t.idx;n++){var o=this.display_lines[n];r+=o.top_margin;r+=this.get_display_line_height(o)}return r+t.top_margin}},{key:"get_display_line_height",value:function e(t){return Math.max.apply(Math,d(t.boxes.map((function(e){return e.height}))))}},{key:"get_hidden_elements",value:function e(){var t;var r=[].concat((t=this._visibility_rules)!=null?t:[]);return r.concat.apply(r,d(this.child_containers.map((function(e){return e.get_hidden_elements()}))))}},{key:"get_all_instances",value:function e(){var t=Object.values(this.instances);var r=n(this.child_containers),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;t.push.apply(t,d(s.get_all_instances()))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"get_element_box",value:function e(t,r){var n=this.search_for_element(t);if(!n){return null}if(r){return n.instances[t]}else{var o=n.elements[t].box;return n.boxes[o]}}},{key:"search_for_element",value:function e(t){if(this.destroyed){return null}if(!this.elements[t]){var r=n(this.child_containers),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;var i=s.search_for_element(t);if(i!=null){return i}}}catch(e){r.e(e)}finally{r.f()}return null}return this}},{key:"get_margin_info",value:function e(t){var r;var n=this.search_for_element(t);if(!n||n.elements[t].box==null){return null}if(((r=n.owner_instance)==null?void 0:r.element.type())==="RepeatingGroup"){var o;return(o=n.child_containers)==null?void 0:o[0].get_margin_info(t)}else{return n.margin_debugging[n.elements[t].box]}}},{key:"resize_width",value:function e(t){var r=this,n;if(this.container_width===t||this.destroyed){return}this.container_width=t;this._visibility_rules=[];this.margin_debugging={};var o=function e(t,n){if(n===0){var o=r.lines[t.line_idx];var s=r.boxes[o.boxes[0]];r.margin_debugging[t.box_id].left.from_element=s.leftmost;r.margin_debugging[t.box_id].left.from_dir="left";r.margin_debugging[t.box_id].left.original=s.left_margin;return s.left_margin}else{r.margin_debugging[t.box_id].left.from_element=t.leftmost;r.margin_debugging[t.box_id].left.from_dir="left";r.margin_debugging[t.box_id].left.original=t.left_margin;return t.left_margin}};var s=function e(t){var n=r.lines[t.line_idx];var o=r.boxes[n.boxes[n.boxes_length-1]];r.margin_debugging[t.box_id].right.from_element=o.rightmost;r.margin_debugging[t.box_id].right.from_dir="right";r.margin_debugging[t.box_id].right.original=o.right_margin;return o.right_margin};var i=function e(n){if(I().bubble_version()>=2&&r.owner_instance.get_static_property("fixed_width")){return true}if(n.rs==="<="&&t<=n.rsw){return false}else if(n.rs===">"&&t>n.rsw){return false}else{return true}};this.box_to_display_line={};this.display_lines=[];var a;var l=null;for(var u=0;u<this.lines_length;u++){var c=this.lines[u];if(!this.elements[this.boxes[c.boxes[0]].first].wtp){l=null}for(var f=0;f<c.boxes_length;f++){var p,_;var m=c.boxes[f];var y=this.boxes[m];var v=0;var b=-Infinity;var h=false;for(var j in y.contains){var g=y.contains[j];if(i(this.elements[g])){h=true;v=Math.max(v,this.elements[g].mw);var w=this.elements[g].maxw;if(w!=null){w=w/this.elements[g].iw*y.iw;b=Math.max(b,w)}else{b=Infinity}}}if(!h){var O;this._get_box(y.box_id).hide();(O=this._visibility_rules).push.apply(O,d(Object.values(y.contains)));continue}if(isFinite(b)){y.max_width=b}y.min_width=Math.min(t,v);var S=(p=(_=l)==null?void 0:_.boxes.length)!=null?p:0;var k=y.min_width;this.margin_debugging[m]={right:{},left:{}};if(y.align!=="right"||S!==0&&l.boxes[S-1].align!=="left"){k+=o(y,S);this.margin_debugging[m].left.break_first=true}else{this.margin_debugging[m].left.break_first=false}if(y.align!=="left"){k+=s(y);this.margin_debugging[m].right.break_first=true}else{this.margin_debugging[m].right.break_first=false}if(l==null){l={boxes:[y],top_margin:c.top_margin,idx:this.display_lines.length,topmost:c.topmost};this.display_lines.push(l);a=0}else if(a+k<=t){l.boxes.push(y)}else{l={boxes:[y],top_margin:c.top_margin,idx:this.display_lines.length,topmost:c.topmost};this.display_lines.push(l);a=0;S=0}a+=y.min_width+o(y,S);this.box_to_display_line[m]=l}}var A=(n=this.display_lines)!=null?n:[];var E,x;var M=function e(){var n;var a=A[E];var l=0;var u=0;var c=0;var f=0;var d=0;(n=a.boxes)!=null?n:a.boxes=[];var p=function e(t,n){if(t.align==="left"){r.margin_debugging[t.box_id].left.fixed=t.contains[0];r.margin_debugging[t.box_id].left.fixed_dir="left";return false}var o=a.boxes[n-1];if((o==null?void 0:o.align)==="right"){r.margin_debugging[t.box_id].left.fixed=o.contains[0];r.margin_debugging[t.box_id].left.fixed_dir="right";return false}r.margin_debugging[t.box_id].left.fixed=null;return true};for(var _=0;_<a.boxes.length;_++){var m=a.boxes[_];u+=m.iw-m.min_width;if(m.max_width){c+=m.max_width-m.min_width}else{if(m.iw!==m.min_width){c=Infinity}}var y=o(m,_);l+=m.iw+y;if(p(m,_)){f+=y;d++}if(_===a.boxes.length-1){var v=s(m);l+=v;if(m.align!=="right"){r.margin_debugging[m.box_id].right.fixed=null;f+=v;d++}else{r.margin_debugging[m.box_id].right.fixed=m.contains[0];r.margin_debugging[m.box_id].right.fixed_dir="right"}}}var b=l-t;var h=void 0;if(u===0){h=1}else{if(a.boxes.length===1&&a.boxes[0].collapse_margin!=null&&a.boxes[0].collapse_margin>=t){x=true;b-=f}else{x=false}if(u>=b){if(u-b>c){h=c/u;b+=c-u}else{h=(u-b)/u;b=0}}else{h=0;b-=u}}var j=void 0;if(f===0){j=1}else if(x){j=0}else{j=(f-b)/f;b=0}var g=b/-d;var w=new Array(a.boxes.length);var O=0;var S=0;for(var k=0;k<a.boxes.length;k++){var M=a.boxes[k];var P=M.min_width+(M.iw-M.min_width)*h;if(M.max_width&&P>M.max_width){O+=P-M.max_width;w[k]=M.max_width}else{S+=M.iw-M.min_width;w[k]=P}}while(O>0){var T=0;var I=0;for(var C=0;C<a.boxes.length;C++){var R=a.boxes[C];if(!R.max_width||w[C]<R.max_width){var N=w[C]+O*(R.iw-R.min_width)/S;if(R.max_width&&N>R.max_width){I+=R.max_width-w[C];w[C]=R.max_width}else{I+=N-w[C];T+=R.iw-R.min_width;w[C]=N}}}O-=I;if(O<1){O=0}S=T}var L=r._show_line(E);L[0].style["margin-top"]=a.top_margin+"px";var z=0;var D=function e(n){var s;var l=a.boxes[n];var u=r._get_box(l.box_id);u.show();if(L[0].lastChild!==u[0]){L.append(u)}var c=void 0;if(p(l,n)){c=o(l,n)*j+g}else{c=o(l,n)}var f=w[n];u[0].style.left=z+c+"px";z+=c+f;u[0].style.width=f+"px";var d=f/l.iw;r.margin_debugging[l.box_id].left.actual=c;if(n===a.boxes.length-1){r.margin_debugging[l.box_id].right.actual=t-z}r.margin_debugging[l.box_id].left.collapsed=x&&r.margin_debugging[l.box_id].left.fixed_dir!=="left";r.margin_debugging[l.box_id].right.collapsed=x&&r.margin_debugging[l.box_id].right.fixed_dir!=="right";var _=j>1||g>0;var m=j<1||g<0;r.margin_debugging[l.box_id].left.stretched=_;r.margin_debugging[l.box_id].right.stretched=_;r.margin_debugging[l.box_id].left.squeezed=m;r.margin_debugging[l.box_id].right.squeezed=m;r.margin_debugging[l.box_id].left.things_to_break=a.boxes.length>1;r.margin_debugging[l.box_id].right.things_to_break=a.boxes.length>1;r.margin_debugging[l.box_id].top={actual:a.top_margin,from_element:a.topmost};if(n>0){r.margin_debugging[a.boxes[n-1].box_id].right=r.margin_debugging[l.box_id].left}var y=(s=l.contains)!=null?s:{};var v=function e(n){var o=y[n];var s=Math.min(r.elements[o].mw,t);var a=Math.max(s,r.elements[o].iw*d);if(r.elements[o].maxw&&a>r.elements[o].maxw){a=r.elements[o].maxw}var c=f-a;var p=void 0;if(l.iw-r.elements[o].iw===0){p=c/2}else{var _=r.elements[o].il/(l.iw-r.elements[o].iw);p=_*c}var m=i(r.elements[o]);if(m&&!r.elements[o].is_attached){r.elements[o].is_attached=true;r.calculate_children(o);var v=function e(t,r){return t.append(r)};r._wait_for_instance_added(o,(function(){var e;var t=r.instances[o];var n=(e=t.element.E.wrapped_canvas_append)!=null?e:v;n(u,r.to_canvas(r.instances[o]))}))}else if(r.elements[o].is_attached!==false&&!m){r.elements[o].is_attached=false;r.calculate_children(o);r._wait_for_instance_added(o,(function(){r.to_canvas(r.instances[o]).detach()}))}if(m){r._set_element_width(o,a,p)}if(!r.elements[o].is_attached){r._visibility_rules.push(o)}};for(var b in y){v(b)}};for(var q=0;q<a.boxes.length;q++){D(q)}r.update_display_line_height(a)};for(E=0;E<A.length;E++){M()}this._hide_lines(E);this.recalculate_container();this.flow_created.turn();this.emit("resize_width",t)}},{key:"recalculate_container",value:function e(){var t=this;O.WaitFor(this.flow_created,(function(){if(t.owner_instance.supports_message("child_movement")&&t.lines_length>0){var e;var r=t.lines[t.lines_length-1].bottom;var o=0;var s=n((e=t.display_lines)!=null?e:[]),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;var l=0;var u=n(a.boxes),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;l=Math.max(l,f.height)}}catch(e){u.e(e)}finally{u.f()}o+=l+a.top_margin}}catch(e){s.e(e)}finally{s.f()}var d=o-r;t.owner_instance.message("child_movement",d)}}))}},{key:"set_height",value:function e(t,r,n){var o,s,i=this;(o=n)!=null?o:n={};var a=t.element_id();var l=(s=this.elements[a])!=null?s:{};if(l.height===r){return}l.height=r;if(!n.no_css_update){this._update_instance(a,(function(){i.to_canvas(t)[0].style.height=l.height+"px"}))}var u=r-l.ih;if(u===l.height_delta){return}l.height_delta=u;this.calculate_children(a)}},{key:"calculate_children",value:function e(t){var r=this.elements[t];if(r==null){var n;var o=S.by_id(t);var s=o==null?void 0:o.display();if(s!=null){var i=o.root().display();n="Could not draw element ".concat(s," on ").concat(i,", please make some changes to it or recreate it in the editor and retry")}else{n="Could not draw an element on the page, please ask the Bubble team for guidance"}throw new O.OwnerError("Missing responsive index",{display:n,element_id:t,tags:{user_level:"owner_error"}})}if(!r.pushes){this.recalculate_box_height(r.box);this.recalculate_container()}else{for(var a in r.pushes){var l=r.pushes[a];this.recalculate(l)}}}},{key:"_get_height_delta",value:function e(t){if(this.elements[t].is_attached){var r;return(r=this.elements[t].height_delta)!=null?r:0}else{var n;return(n=-this.elements[t].ih)!=null?n:0}}},{key:"recalculate",value:function e(t){var r=this;var n;var o=this.elements[t];if(!o.pushed_by){n=0}else{var s=Object.values(o.pushed_by).map((function(e){var t;return r._get_height_delta(e)+((t=r.elements[e].top_delta)!=null?t:0)}));n=Math.max.apply(Math,d(s))}if(n!==o.top_delta){o.top_delta=n;var i=o.top_delta+o.it;if(o.top!==i){o.top=i;this._update_instance(t,(function(){r.to_canvas(r.instances[t])[0].style.top=o.top+"px"}))}this.calculate_children(t)}}},{key:"to_canvas",value:function e(t){return t.canvas}},{key:"add_to_instances",value:function e(t){var r,n,o;(o=(r=this.elements)[n=t.element_id()])!=null?o:r[n]={};this.instances[t.element_id()]=t}},{key:"add",value:function e(t){var r=t.element;var n=this.to_canvas(t);if(r instanceof T.Root){this.container_canvas.append(n);n[0].style["z-index"]=2;n[0].style.position="absolute";return}var o=r.id();var s=this.elements[o];if(s==null){return}this.instances[o]=t;if(this.instances_keys[o]){this.instances_keys[o].turn();this.instances_keys[o]=null}t.wait_for_visible_lite((function(){var e=n[0].style;e.position="absolute";e.boxSizing="border-box";e.zIndex=s.iz;if(s.height==null){s.height=s.ih;e.height=s.height+"px"}if(s.width==null){s.width=s.iw;e.width=s.width+"px"}if(s.left==null){s.left=s.il;e.left=s.left+"px"}if(s.top==null){s.top=s.it;e.top=s.top+"px"}}))}},{key:"create_child",value:function e(t,n){var o=t.element.E.custom_definition;if(o){if(o().get_responsive_version()>0){return new E(t,n)}if(!o().use_responsive_algorithm()){return new x(t,n)}else{return new r(t,n,t.element.get_responsive_data())}}else{var s=new this.constructor(t,n,t.element.get_responsive_data(),this.owner);this.child_containers.push(s);return s}}},{key:"initialize",value:function e(){P.tab_container(this.owner_instance)}},{key:"detach",value:function e(t){this.to_canvas(t).detach()}}]);return r}(k.EventEmitter);A.Container=M;A.OldContainer=x;A.set_responsive_container=function(e){E=e};var P=e("../tab");var T=e("../../lang/lang");var I=e("../../lib")},{"../../lang/lang":590,"../../lib":614,"../tab":52,"./../../lang/appquery":535,"./../../u":687,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.fixed.js":971,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,events:745}],49:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("./../u");u.get=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}var o=JSON.stringify({function_name:e,args:r});if(window.bubble_run_derived[o]){return new f(window.bubble_run_derived[o])}else{throw new c.UnexpectedError("Derived not included in package",{function_name:e,args:r})}};var f=function(){function e(t){o(this,e);this._content=t}i(e,[{key:"content",value:function e(){return this._content}},{key:"set_app",value:function e(t){}}]);return e}()},{"./../u":687,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],50:[function(e,t,r){"use strict";var n=r;var o=e("../lib");var s=e("../constants/time");var i=e("../monitoring/apm/clientApm");var a=s.SECOND_MS*2;n.start=function(){l()};function l(){var e=i.getCompletedTransactions();if(e.length){o().location.post("server://user/apm",{completedTransactions:e,apm:true});i.clearCompletedTransactions()}setTimeout(l,a)}},{"../constants/time":99,"../lib":614,"../monitoring/apm/clientApm":618}],51:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=r;var c=e("./../u");var f=e("./../lib");var d=e("./../logger");u.do_it=function(){if(c.on_phonegap()){return}c.run_once(30,(function(){return f().current_user().is_logged_in()}),(function(e,t){if(e){d.log(e);return}if(!t){var r=f().location.post("server://frg",{action:"ask",url:document.location.href});r.then((function(e){if(e){var t=$("html").html();var r=t.split('<meta charset="utf-8">'),o=n(r,2),s=o[0],i=o[1];t=s+'<script type="text/javascript">window.dont_call_page_display = true;<\/script>'+'<meta charset="utf-8">'+i;f().location.post("server://frg",{action:"set",html:t,url:document.location.href})}}))}}))}},{"./../lib":614,"./../logger":617,"./../u":687,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],52:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");function n(e){return i(e)||s(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return u(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=1;r.tab_container=function(e){e.wait_for_visible_lite((function(){var t=[];var r=a(e.children),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;if(s.element.get_messages().includes("set_focus")||s.element.get_related_workflows("ButtonClicked").length){t.push(s)}}}catch(e){r.e(e)}finally{r.f()}var i=t.filter((function(e){return!e.state("tab_index")}));i.sort((function(e,t){return e.element.get_top()-t.element.get_top()}));function l(e,t){return Math.max.apply(Math,n(e.map((function(e){return e.element.get_top()+e.element.get_height()}))))>=t.element.get_top()}var u=[];var f=[];var d=a(i),p;try{for(d.s();!(p=d.n()).done;){var _=p.value;if(f.length===0||l(f,_)){f.push(_)}else{u.push(f);f=[_]}}}catch(e){d.e(e)}finally{d.f()}u.push(f);for(var m=0,y=u;m<y.length;m++){var v=y[m];v.sort((function(e,t){return e.element.get_left()-t.element.get_left()}));var b=a(v),h;try{for(b.s();!(h=b.n()).done;){var j=h.value;j.message("add_tab_index",c);c++}}catch(e){b.e(e)}finally{b.f()}}}))}},{"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],53:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("./../u");var v=e("events");var b=e("url");var h=e("./../lib");var j=e("../logger");var g=e("./../db/client_db");var w=e("../db/db");var O=e("../constants/db");var S=e("../core/core_events");var k=e("../constants/workflow"),A=k.ERROR_SOURCES;if(typeof window!=="undefined"&&window!==null){window.authenticate_as=function(e){return h().location.post("server://user/auth_as/"+e,{},(function(e,t){if(e){console.log("Authentication failed")}else{console.log("Authentication succeeded.  Refreshing...");setTimeout((function(){return window.document.location.reload()}),1e3)}}))}}t.exports=function(e){u(r,e);var t=f(r);function r(){var e;o(this,r);e=t.call(this);e.ready_key=y.MakeKey(null,"user_service");e.has_changed_flag=false;e.heartbeat_interval=null;var n=function t(){e.heartbeat_interval=setInterval((function(){return h().location.post("server://user/hi",null)}),5*60*1e3)};y.WaitFor(e.ready_key,(function(){if(e.heartbeat_interval==null){h().location.post("server://user/hi",null,n)}var t=y.Watcher((function(){var e,t;var r=g.current_user();var n=r.is_logged_in();var o=r._id();var s=(e=h().pageparam.get())==null?void 0:(t=e._id)==null?void 0:t.call(e);return n+"_"+o+"_"+s}));t.on_value((function(t){var r=g.current_user().is_logged_in();if(h().current_user()._id()!==O.NO_USER){w.wipe_no_user();e.emit("cookie_opt_in")}var n=h().location.get_query(),o=n.on_login;if(r&&o){e.has_changed_flag=true;h().workflow.about_to_change_page=true;var s=h().location.get_server_base()+"api/1.1/util/rr/"+o;window.location.replace(s)}if(r){h().workflow.announce_event("LoggedIn")}else{h().workflow.announce_event("LoggedOut")}}))}));return e}i(r,[{key:"on_cookie_opt_in",value:function e(t){if(h().current_user()._id()!==O.NO_USER){t()}else{this.once("cookie_opt_in",t)}}},{key:"is_cookie_opt_in",value:function e(){return h().current_user()._id()!==O.NO_USER}},{key:"has_changed",value:function e(){if(h().current_user().is_logged_in()){return this.has_changed_flag}}},{key:"ready",value:function e(){this.ready_key.turn()}},{key:"on_page_load_for_confirmation_email",value:function e(){$(document).ready((function(){var e=b.parse(h().location.base_url,true);var t=e.query;if(t.confirmation_email){var r=h().location.post("server://user/confirm_email",{confirmation_email_id:t.confirmation_email});r.then((function(){h().current_user().flush();delete t.confirmation_email;delete e.search;delete e.hash;h().location.set_url_without_refresh({url:b.format(e)})}),(function(e){S.handle_uncaught_error({original_error:e,caught_from:A.GENERAL_WORKFLOW,cb:function e(t){if(t){window.alert(j.human_friendly(t))}}})}))}}))}}]);return r}(v.EventEmitter)},{"../constants/db":69,"../constants/workflow":101,"../core/core_events":372,"../db/db":420,"../logger":617,"./../db/client_db":417,"./../lib":614,"./../u":687,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.search.js":978,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,events:745,url:748}],54:[function(e,t,r){(function(r){(function(){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("./../u");var p=e("../db/hydrate");var _=e("./../u/shared/mode_check");var m=e("url");var y=e("./../client_config");var v=e("../constants/db");var b=e("./../constants/locations");var h=e("../constants/notifier_topics");var j=e("../core/core_datasources/utilities/core_ds_workflow_utilities");var g=e("../lang/evaluation/node_eval");var w=e("../lang/evaluation/FrozenState");var O=e("../lang/evaluation/page_state");var S=e("./../logger");var k=e("./../lib");var A=e("./../lang/appquery");var E=e("./../lang/expressions");var x=e("./../notifier/client");var M=e("./../locations");t.exports=function(){function t(){var r=this;a(this,t);this._global=new(e("events").EventEmitter);this._initialized=d.MakeKey(null,"workflow engine initialized");this.open_server_actions=[];this.all_sent_to_server=d.MakeKeyList();this.all_client_completed=d.MakeKeyList();this.all_server_completed=d.MakeKeyList();this.everything_completed=d.MakeKeyList([this.all_client_completed,this.all_server_completed]);this.debug_queue=[];this.disabled=d.Box(false);this.about_to_change_page=false;if(!_.running_test()){setTimeout((function(){if(k()&&!k().is_edit_mode()){if(typeof window!=="undefined"&&window!==null&&!["tour","learn"].includes(k().appname())){window.onbeforeunload=function(){if(!r.warn_on_page_change){return undefined}if(r.about_to_change_page){return undefined}if(r.can_change_page()){return undefined}return k().get_text("CORE","STILL_CHANGING")}}if(typeof window!=="undefined"&&window!==null){if(M.is_hardcode(k().appname(),k().app_version())){return}var e=b.BREAKING_REVISION_TOPIC;x.watch([h.LastChangeTopic,k().appname(),k().app_version()],(function(){return A.app().json.child("last_change_as_of").get()}),(function(e){var t=e.message;if(t!=null&&t!==A.last_change()){console.log("PLEASE REFRESH:","last change",t,A.last_change());r.show_bad_revision()}}));return x.watch(e,(function(){return y.breaking_revision}),(function(e){var t=e.version;if(t!=null&&t!==y.breaking_revision){console.log("BREAKING REVISION:","breaking revision",t,y.breaking_revision);r.show_bad_revision()}}))}}}),1e3)}}u(t,[{key:"everything_done_key",value:function e(){return this.everything_completed}},{key:"can_change_page",value:function e(){return this.all_client_completed.is_turned()&&this.all_sent_to_server.is_turned()}},{key:"show_bad_revision",value:function e(){if(this.bad_revision){return}this.bad_revision=true;var t=d.div("bad-revision",$("body"));if(d.on_phonegap()||d.is_on_mobile_or_tablet()){t.html(k().get_text("CORE","BAD_REVISION_PHONE"));t.css("font-size","16px")}else{t.append(k().get_text("CORE","BAD_REVISION"))}t.on("click",(function(){if(d.on_phonegap()){navigator.splashscreen.show()}window.location.reload(true)}))}},{key:"show_db_limit_reached",value:function e(){if(this.db_limit_reached){return}this.db_limit_reached=true;var t=d.div("db-limit-reached",$("body"));t.append(k().get_text("CORE","DB_LIMIT_REACHED"));if(d.is_debug_mode()){t.css("cursor","pointer");t.on("click",(function(){var e=A.get_editor_link()+"&tab=tabs-6&subtab=Plan";window.open(e)}))}}},{key:"show_app_limit_reached",value:function e(){if(this.app_limit_reached){return}this.app_limit_reached=true;var t=d.div("app-limit-reached",$("body"));t.append(k().get_text("CORE","APP_LIMIT_REACHED"));if(d.is_debug_mode()){t.css("cursor","pointer");t.on("click",(function(){var e=A.get_editor_link()+"&tab=tabs-6&subtab=Plan";window.open(e)}))}}},{key:"toggle",value:function e(){this.disabled(!this.disabled())}},{key:"set_debugger",value:function e(t){this.debugger=t}},{key:"debug",value:function e(t,r,n){var o=this;if(this.debugger==null||t.get_static_property("workflow_disabled")){return d.Promise(true)}var s=d.Promise(null,"waiting for debugger to finish with "+t.id());var i=function e(){s.resolve();o._debugger_send_next_item(true)};this.debug_queue.push({item:t,context:n,next:i,properties_promise:r});this._debugger_send_next_item();return s}},{key:"_debugger_send_next_item",value:function e(t){var r=this;if(t){this._debugger_waiting=false}if(this._debugger_waiting){return}var n;if(this._current_debug_run==null){n=this.debug_queue.shift()}else{n=null;var s=o(this.debug_queue),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.context.run_id===this._current_debug_run){n=a;d.array_remove(this.debug_queue,n);break}}}catch(e){s.e(e)}finally{s.f()}}if(n!=null){this._debugger_waiting=true;this._was_debugging=true;var l=n,u=l.item,c=l.context,f=l.next,p=l.properties_promise;this._current_debug_run=c.run_id;p.callback((function(e,t){if(e){r._debugger_waiting=false;f()}else{var n=E.make_partial_expression_evaluator(c);r.debugger.highlight(u,t,n,c,f)}}))}}},{key:"debug_done",value:function e(t){var n=this;if(this._current_debug_run===t){this._current_debug_run=null}r((function(){if(n.debug_queue.length===0&&n._was_debugging&&!n._debugger_waiting){var e;(e=n.debugger)==null?void 0:e.all_finished((function(){return n.debug_queue.length===0&&!n._debugger_waiting}));n._was_debugging=false}else{n._debugger_send_next_item()}}))}},{key:"announce_event",value:function e(t){this._global.emit(t)}},{key:"on_event",value:function e(t,r){this._global.setMaxListeners(200);this._global.on(t,r)}},{key:"off_event",value:function e(t,r){this._global.removeListener(t,r)}},{key:"abort_server_calls",value:function e(){if(this.bad_revision){return new d.UserError("BAD_REVISION")}if(this.db_limit_reached){return new d.UserError("DB_LIMIT_REACHED")}if(this.app_limit_reached){return new d.UserError("APP_LIMIT_REACHED")}return null}},{key:"run_workflows",value:function e(t,r,n){var s,i=this;var a=d.Promise(null,"running workflows");(s=t.datasources)!=null?s:t.datasources=O.get_basic_datasources(t.element.element.root());if(!t.element){throw new d.UnexpectedError("context must contain an element")}if(!t.frozen_state){new w(t)}var l=this.all_sent_to_server.make(30,"freezing workflows");var u=this.all_client_completed.make(30,"starting workflows");if(n){this.warn_on_page_change=true;var c=function e(){if(i.can_change_page()){i.warn_on_page_change=false}else{d.WaitFor(i.all_client_completed,i.all_sent_to_server,(function(){setTimeout(e,100)}))}};c()}t.frozen_state.freeze_workflows(r,(function(e){if(e){l.turn();u.turn();a.reject(e)}else{var n=r.map((function(e){return{event:e,context:i.create_context(t,e)}}));a.resolve(i.should_events_run(n).then((function(e){return i.refreeze_states(e).then((function(e){try{e=i.filter_invalid_states(e);i._start_workflows_on_server(e);l.turn();var t=d.Promise(true);var r=o(e),n;try{var s=function e(){var r=n.value;t=t.then((function(){return i._run_workflow(r.context,r.event)}))};for(r.s();!(n=r.n()).done;){s()}}catch(e){r.e(e)}finally{r.f()}return t.then((function(){return e.map((function(e){return e.event}))}))}finally{l.turn();u.turn()}}))}),(function(e){l.turn();return e})))}}));return a}},{key:"filter_invalid_states",value:function e(t){var r=[];var n=o(t),s;try{for(n.s();!(s=n.n()).done;){var i=s.value,a=i.event,l=i.context;if(l.frozen_state.has_invalid_state()){var u=new d.OwnerError("Cannot run workflow -- relies on invalid inputs");this.report_error(u,l)}else{r.push({event:a,context:l})}}}catch(u){n.e(u)}finally{n.f()}return r}},{key:"refreeze_states",value:function e(t){var r=[];var n=o(t),s;try{var i=function e(){var t=s.value,n=t.event,o=t.context;var i=d.Promise(null,"refreezing");r.push(i);o.frozen_state.freeze_workflows([n],(function(e){if(e){i.reject(e)}else{i.resolve({event:n,context:o})}}))};for(n.s();!(s=n.n()).done;){i()}}catch(e){n.e(e)}finally{n.f()}return d.promise_array(r)}},{key:"_start_workflows_on_server",value:function e(t){var r=[];var n=this.abort_server_calls();var s=o(t),i;try{for(s.s();!(i=s.n()).done;){var a=i.value,l=a.context,u=a.event;if(!d.cookies_enabled()&&this.uses_cookies(u)){throw new d.UserError(null,"Oops! Your browser seems to have cookies disabled. Make sure cookies are enabled.")}if(this.uses_server(u)){if(n){throw n}r.push({context:l,item:u});l.is_running_on_server=true}else{l.server_completion_promise=d.Promise(true);l.server_initiation_promise=d.Promise(true)}}}catch(e){s.e(e)}finally{s.f()}this.start_server_call(r)}},{key:"start_server_call",value:function e(t){var r=this;if(t.length===0){return}var n=o(t),s;try{var i=function e(){var t=s.value;t.context.server_initiation_promise=d.Promise(null,"server call initiated for "+t.item.id());t.context.server_completion_promise=d.Promise(null,"server call completed for "+t.item.id());t.server_call_id=d.UUID();t.context.server_call_id=t.server_call_id;t.context.server_call_context="";t.context.server_initiation_promise.callback((function(e){if(e){t.context.server_completion_promise.reject(e)}}));r.all_server_completed.add_promise(t.context.server_completion_promise)};for(n.s();!(s=n.n()).done;){i()}}catch(e){n.e(e)}finally{n.f()}var a=this.all_sent_to_server.make(30,"start_server_call");d.run_once(30,(function(){var e;var n=k().current_user();var s=n._id();if(s===v.NO_USER){e=n.raw()}else{e=undefined}var i={wait_for:d.json_deep_copy(r.open_server_actions),app_last_change:A.last_change(),client_breaking_revision:y.breaking_revision,calls:[],timezone_offset:(new Date).getTimezoneOffset(),timezone_string:k().current_timezone(),user_id:s,no_user_data:e};var a=o(t),l;try{for(a.s();!(l=a.n()).done;){var u=l.value,c=u.context,f=u.item,_=u.send_to_server,m=u.server_call_id;i.calls.push({client_state:c.frozen_state.get_client_state(),run_id:c.run_id,server_call_id:m,item_id:f.id(),element_id:c.element.element_id(),additional_parameters:_,uid_generator:c.uid_generator,random_seed:c.random_seed,current_date_time:O.get_page_data("Current Date/Time",c).getTime(),current_wf_params:j.dehydrate_wf_params(c,(function(e){return p.dehydrate_tree(e)}))})}}catch(e){a.e(e)}finally{a.f()}return i}),(function(e,n){if(e){var s=o(t),i;try{for(s.s();!(i=s.n()).done;){var l=i.value.context;l.server_completion_promise.reject(e);l.server_initiation_promise.reject(e)}}catch(e){s.e(e)}finally{s.f()}a.turn();return}k().location.post("server://workflow/start",n).callback((function(e,s){if(e){if(e.message==="BAD_REVISION"){console.log("PLEASE REFRESH:","workflow",JSON.stringify(n));r.show_bad_revision()}else if(e.message==="DB_LIMIT_REACHED"){r.show_db_limit_reached()}else if(e.message==="APP_LIMIT_REACHED"){r.show_app_limit_reached()}else{S.log(e)}}else{k().db_instance().ensure_object_updates(s.object_updates)}var i=o(t),a;try{for(i.s();!(a=i.n()).done;){var l=a.value,u=l.context,c=l.server_call_id;if(e){u.server_completion_promise.reject(e)}else{(function(){var t=s[c];if(!t){u.server_completion_promise.reject(new d.UnexpectedError("missing outcome",{res:s,server_call_id:c}))}else if(t.outcome==="error"){e=d.errors.from_json_client(t.error);u.server_completion_promise.reject(e)}else if(t.outcome==="event_failed"){u.server_completion_promise.reject(new d.UserError(null,"We weren't able to complete your action.  Please try again..."))}else if(t.outcome==="redirect"){u.server_completion_promise.resolve(t);r.wait_for_safe(u,(function(){return document.location.href=t.next_url}))}else if(t.outcome!=="success"){u.server_completion_promise.reject(new d.UnexpectedError("non-success workflow outcome: "+JSON.stringify(t)))}else{u.server_completion_promise.resolve(t)}})()}}}catch(e){i.e(e)}finally{i.f()}}));setTimeout((function(){return a.turn()}),200);var u=o(t),c;try{var f=function e(){var t=c.value,n=t.context,o=t.server_call_id;n.server_initiation_promise.resolve();var s=function e(){r.open_server_actions=r.open_server_actions.filter((function(e){return e.server_call_id!==o}))};n.server_completion_promise.callback(s);setTimeout((function(){var e=r.open_server_actions;s();if(e.length!==r.open_server_actions.length){var t=n.server_completion_promise.inspect().state;var i=e.filter((function(e){return!r.open_server_actions.includes(e)}));S.error("MANUALLY REMOVING SERVER_CALL_ID",{server_call_id:o,removed:i,promise_state:t})}}),5*60*1e3)};for(u.s();!(c=u.n()).done;){f()}}catch(e){u.e(e)}finally{u.f()}}))}},{key:"should_events_run",value:function e(t){var r=this;var n=[];var s=o(t),i;try{var a=function e(){var t=i.value,o=t.event,s=t.context;var a=d.Promise(null,"should event run: "+o.id());n.push(a);d.run_once(30,(function(){return r.should_workflow_run(s,o)}),(function(e,t){if(e){a.reject(e)}else if(!t){a.resolve(r.debug(o,d.Promise(null),s).then((function(){r.debug_done(s.run_id);return false})))}else{a.resolve(true)}}))};for(s.s();!(i=s.n()).done;){a()}}catch(e){s.e(e)}finally{s.f()}return d.promise_array(n).then((function(e){var r=[];for(var n=0;n<e.length;n++){var o=e[n];if(o){r.push(t[n])}}return r}))}},{key:"_run_workflow",value:function e(t,r){var n=this;if(this.disabled()){var o=d.Promise(true);return o}var s=this.debug(r,d.Promise(null),t).then((function(){return n.run_subsequent_actions(t,r)}));this.all_client_completed.add_promise(s);var i=s.then((function(){return t.server_initiation_promise}));this.add_error_handling(t,i);return i}},{key:"add_logger",value:function e(t){var r=[];t.log=function(e){return r.push(e)};t.dump_log=function(){return r}}},{key:"create_context",value:function e(t,r){var n,o,s,i;var a=d.extend({},t);delete a.frozen_state;t.frozen_state.clone(a);a.inputs_must_be_valid=true;(n=a.datasources)!=null?n:a.datasources=O.get_basic_datasources(a.element.element.root());a.event=r;var l=d.get_random_seed();(o=a.uid_generator)!=null?o:a.uid_generator={timestamp:Date.now(),seed:l};a.UUID_SEED=d.get_uuid_seed(a.uid_generator);(s=a.random_seed)!=null?s:a.random_seed=Math.random();a.random_generator=new d.Random(a.random_seed);this.add_logger(a);(i=a.run_id)!=null?i:a.run_id=d.UUID();a.get_server_outcome=function(e,t){return a.server_completion_promise.callback((function(r,n){a.server_workflow_completed=true;if(r){t(r)}else{var o=n.step_results[e.id()],s=o.return_value,i=o.random_interations,l=o.UUID_iterations;if(l&&l!==a.UUID_SEED.iterations){a.UUID_SEED=d.get_uuid_seed({seed:a.UUID_SEED.seed,timestamp:a.UUID_SEED.timestamp,iterations:l})}if(i&&i!==a.random_generator.iterations){a.random_generator=new d.Random(a.random_generator.seed,i)}t(null,p.rehydrate_tree(k().db_instance(),s))}}))};a.update_from_action=function(e,t,r){var n,o=this;if(((n=this.original_context)!=null?n:this).server_workflow_completed&&e.can_fall_back_to_server()){return this._fetch_updates(e).then((function(e){for(var t in e){var r=e[t];if(r.x){o.frozen_state.clear(t)}else{o.frozen_state.set(t,r.v)}}return null}))}else{return this.frozen_state.update_from_action(e,r,t,this)}};a._fetch_updates=function(e){return a.server_completion_promise.then((function(t){var r;var n=p.rehydrate_tree(k().db_instance(),(r=t.state_changes[e.id()])!=null?r:{});if(n==null){S.error("unexpected null _fetch_updates result",{res:t,item_id:e.id()})}return n!=null?n:{}}))};return a}},{key:"resume_action",value:function e(t,r){var n=this;var o=d.Promise(null,"Resuming "+r.id());t.log("about to resume "+r.type()+" "+r.id());r.resume(t,(function(e,s){if(e){o.reject(e)}else{t.log("successfully resumed "+r.type()+" with result "+s);var i=g.evaluate_action_clientside(r,t);o.resolve(t.update_from_action(r,i,s).then((function(){return n.run_subsequent_actions(t,r)})))}}));return o}},{key:"run_subsequent_actions",value:function e(t,r){var n=this;var o=r.next();if(o==null){t.log("workflow is finished");return d.Promise(true)}var s=g.evaluate_action_clientside(o,t);return this.debug(o,s,t).then((function(){var e;var r=d.Promise(null,(e="Running action "+(o==null?void 0:o.id()))!=null?e:"<done>");t.log("about to run "+o.type()+" "+o.id());if(["TriggerCustomEvent","TriggerCustomEventFromReusable"].includes(o.type())){r.resolve(n.start_custom_workflow(t,o))}else{o.run(t,s,(function(e,i){if(e){if(e==="aborted"){r.resolve()}else{r.reject(e)}}else{t.log("successfully ran "+o.type()+" "+o.id()+" with result "+i);t.update_from_action(o,s,i).callback((function(e){if(e){r.reject(e);return}if(o.requires_server()&&t.server_completion_promise.inspect().state==="pending"){if(!t.server_call_id){throw new Error("could not find our server call")}var s=t.server_call_context+o.id();n.open_server_actions.push({server_call_id:t.server_call_id,action_id:s})}if(o.type()==="DisplayGroupData"){setTimeout((function(){r.resolve(n.run_subsequent_actions(t,o))}),0)}else{r.resolve(n.run_subsequent_actions(t,o))}}))}}))}return r}))}},{key:"start_custom_workflow",value:function e(t,r){var n=this;var o=A.event(r.get_static_property("custom_event"));var s=function e(){return n.run_subsequent_actions(t,r)};return g.evaluate_wf_properties(r,t).then((function(e){var i,a;if(!e.condition){a=d.Promise(false)}else{var l;var u=j.wf_params_from_properties(e);i=j.build_duplicate_per_item_context(t,u);i.event=o;if(t._previously_run_custom_events){i._previously_run_custom_events=d.extend({},t._previously_run_custom_events)}else{i._previously_run_custom_events={}}if(i._previously_run_custom_events[r.id()]){throw new d.OwnerError("Circular custom workflow -- custom workflows cannot call themselves (either directly or indirectly)")}i._previously_run_custom_events[r.id()]=true;i.original_context=(l=t.original_context)!=null?l:t;if(r.type()==="TriggerCustomEventFromReusable"){i.element=t.element.find_instance_by_id(r.get_static_property("element_id"))}else{i.element=t.element.find_instance_by_id(r.root().id())}i.server_call_context+=r.id()+".";i.get_server_outcome=function(e,n){return t.get_server_outcome(r,(function(r,o){i.server_workflow_completed=true;if(r){n(r);return}if(!(e.id()in o)){r=new d.UnexpectedError("Error Getting Server Outcome",{outcome_for:e.id(),have_outcomes:Object.keys(o)});n(r);return}var s=o[e.id()],a=s.return_value,l=s.random_interations,u=s.UUID_iterations;if(u&&u!==t.UUID_SEED.iterations){t.UUID_SEED=d.get_uuid_seed({seed:t.UUID_SEED.seed,timestamp:t.UUID_SEED.timestamp,iterations:u})}if(l&&l!==t.random_generator.iterations){t.random_generator=new d.Random(t.random_generator.seed,l)}n(null,a)}))};i._fetch_updates=function(e){return t._fetch_updates(r).then((function(t){return t[e.id()]}))};a=d.run_once(30,(function(){return n.should_workflow_run(i,o)}))}return a.then((function(e){if(!e){return s()}else{return n._run_workflow(i,o).then(s)}}))}))}},{key:"_uses",value:function e(t,r){var n=o(t.actions()),s;try{for(n.s();!(s=n.n()).done;){var i=s.value;if(i["requires_"+r]()){return true}}}catch(e){n.e(e)}finally{n.f()}return false}},{key:"uses_server",value:function e(t){return this._uses(t,"server")}},{key:"uses_cookies",value:function e(t){return this._uses(t,"cookies")}},{key:"should_workflow_run",value:function e(t,r){var n,o;(n=t.log)==null?void 0:n.call(t,"in should_workflow run for "+r.id());var s=g.evaluate_event_condition(r,t);(o=t.log)==null?void 0:o.call(t,"should_workflow_run: "+s);return s}},{key:"add_error_handling",value:function e(t,r){var n=this;return r.callback((function(e){n.debug_done(t.run_id);if(e){return n.report_error(e,t)}}))}},{key:"report_error",value:function e(t,r){d.ensure_bubble_error(t).extend({event:r.event,element_instance:r==null?void 0:r.element,log:r==null?void 0:r.dump_log()});S.log(t)}},{key:"wait_for_server",value:function e(t){var r=this;if(this.all_server_completed.is_turned()){t()}else{d.WaitFor(this.all_server_completed,(function(){setTimeout((function(){r.wait_for_server(t)}),10)}))}}},{key:"wait_for_safe",value:function e(t,r){var n=this;this.debug_done(t.run_id);if(this.all_sent_to_server.is_turned()&&this.all_server_completed.is_turned()){this.about_to_change_page=true;r()}else{d.WaitFor(this.all_sent_to_server,this.all_server_completed,(function(){setTimeout((function(){n.wait_for_safe(t,r)}),100)}))}}},{key:"initialize",value:function e(){var t=m.parse(k().location.base_url,true);var r=t.query.resume;if(r){delete t.query.resume;var n={};for(var o in t.query){var s=t.query[o];if(s!=null){n[o]=s}}t.query=n;delete t.search;k().location.set_url_without_refresh({url:m.format(t)});this.resume(r)}this._initialized.turn()}},{key:"initialize_key",value:function e(){return this._initialized}},{key:"resume_uses_server",value:function e(t,r){return r||t.terminate_server_workflow()}},{key:"make_resume_key",value:function e(t,r,n){if(r.next()||this.resume_uses_server(r,n)){var o=j.dehydrate_wf_params(t,(function(e){if((e==null?void 0:e.dehydrate)!=null){return e.dehydrate()}else{return e}}));var s=t.server_completion_promise.inspect(),i=s.state,a=s.value,l=s.reason;var u=a;if(i!=="fulfilled"){S.warn("bad server outcome before navigation",{state:i,value:a,reason:l})}var c={element_instance:t.element.dehydrate(),element_id:t.element.element_id(),current_wf_params:o,to_resume:r.id(),frozen_state:t.frozen_state.serialize(),run_id:t.run_id,server_workflow_terminated:n,uid_generator:t.uid_generator,server_outcome_value:u};if(c.uid_generator!=null){c.uid_generator.iterations=t.UUID_SEED.iterations}var f=t.run_id;d.local_storage_put(f,c,true);return f}}},{key:"resume",value:function e(t,r){var n=this;var o=d.local_data_retrieve(t);if(!o){S.error("Could not resume workflow, was not able to retrieve data",{resume_key:t});return d.Promise(false)}var s=A.action(o.to_resume);var i=d.Promise(null,"finished resuming workflow");d.run_once(30,(function(){k().app_language();var e=o.element_instance;var t="";var r=/(.*?:[a-zA-Z]+)_group_item_.*?_(\d+):/;var n=e.match(r);while(n!=null){var s=p.rehydrate_tree(k().db_instance(),t+n[1]);var i=n[2];s.message("draw_till",i);s.repeating_group_layout.raw_list_data();d.ensure_ready(s.repeating_group_layout.finished_loading_switch);e=e.substring(n[0].length);t+=n[0];n=e.match(r)}return{element:p.rehydrate_tree(k().db_instance(),o.element_instance)}}),(function(e,t){if(e){i.reject(e);return}var a=t.element;if(!a){a=new P(o.element_instance,o.element_id)}var l={element:a,run_id:o.run_id,uid_generator:o.uid_generator};var u=w.deserialize(l,o.frozen_state);l.frozen_state=u;l=n.create_context(l,s.event());l.datasources.get_wf_param=j.generate_wf_param_datasource(o.current_wf_params);l.log("resuming workflow at action "+s.id()+" "+s.type());if(n.resume_uses_server(s,o.server_workflow_terminated)){n.start_server_call([{context:l,item:s,send_to_server:r}])}else{l.server_completion_promise=d.Promise(o.server_outcome_value);l.server_initiation_promise=d.Promise(true)}var c=n.resume_action(l,s);i.resolve(c.then((function(){return l.server_initiation_promise})));n.add_error_handling(l,i)}));return i}}]);return t}();var P=function(){function e(t,r){a(this,e);this.instance_id=t;this._element_id=r;this.element=A.element(this._element_id)}u(e,[{key:"dehydrate",value:function e(){return this.instance_id}},{key:"element_id",value:function e(){return this._element_id}},{key:"find_instance_by_id",value:function e(t){return null}}]);return e}()}).call(this)}).call(this,e("timers").setImmediate)},{"../constants/db":69,"../constants/notifier_topics":84,"../core/core_datasources/utilities/core_ds_workflow_utilities":236,"../db/hydrate":422,"../lang/evaluation/FrozenState":564,"../lang/evaluation/node_eval":574,"../lang/evaluation/page_state":575,"./../client_config":55,"./../constants/locations":82,"./../lang/appquery":535,"./../lang/expressions":588,"./../lib":614,"./../locations":616,"./../logger":617,"./../notifier/client":620,"./../u":687,"./../u/shared/mode_check":713,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.search.js":978,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,events:745,timers:1289,url:748}],55:[function(e,t,r){"use strict";var n=s(e("./safe_require"));var o=s(e("../client_config.json"));function s(e){return e&&e.__esModule?e:{default:e}}var i=o.default;t.exports=i;n.default.safe_register("./client_config",i)},{"../client_config.json":1,"./safe_require":643}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ORDERED_ADVANCED_FEATURES=r.ADVANCED_FEATURE_JSON_SETTINGS_PATH=r.ADVANCED_FEATURES=void 0;var n="advanced_features";r.ADVANCED_FEATURE_JSON_SETTINGS_PATH=n;var o=["timezone_controls","expose_id_option"];r.ORDERED_ADVANCED_FEATURES=o;var s={timezone_controls:{display:"Enable timezone override controls",enabled_by_default:true,children_advanced_features:["timezone_controls_date_time_inputs","timezone_controls_page","timezone_controls_backend_workflows"]},timezone_controls_date_time_inputs:{display:"Date-time inputs (Date-Time Picker and Input)",enabled_by_default:true,parent_advanced_feature:"timezone_controls"},timezone_controls_page:{display:"Page (at the individual page level)",enabled_by_default:false,parent_advanced_feature:"timezone_controls",fallback:["experimental_feature","timezone_improvements"]},timezone_controls_backend_workflows:{display:"Backend workflows (API workflows, scheduled workflows, data triggers",enabled_by_default:false,parent_advanced_feature:"timezone_controls",fallback:["experimental_feature","timezone_improvements"]},expose_id_option:{display:"Expose the option to add an ID attribute to HTML elements",enabled_by_default:false,fallback:["raw_path","settings.client_safe.expose_id_option"]}};r.ADVANCED_FEATURES=s},{}],57:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.IGNORE_FIELD=void 0;var n="_ignore";r.IGNORE_FIELD=n},{}],58:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PROTECTED_PAGE_NAMES=r.PROTECTED_KEYS=r.OBJECT_MARKER=r.CONFLICT_PATHS=r.BUBBLE_RESERVED_KEYS=void 0;e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/app_json",r);var s=new Set(["constructor","__defineGetter__","__defineSetter__","hasOwnProperty","__lookupGetter__","__lookupSetter__","isPrototypeOf","propertyIsEnumerable","toString","valueOf","__proto__","toLocaleString"]);r.PROTECTED_KEYS=s;var i="__obj_marker__";r.OBJECT_MARKER=i;var a=new Set(["type","id","_id","length",i,"phone_number"]);r.BUBBLE_RESERVED_KEYS=a;var l=new Set(["index","reset_pw","404"]);r.PROTECTED_PAGE_NAMES=l;var u=["settings.client_safe.uid_counter","uid_counter","conflicts","conflicts_theirs_version_name","conflicts_undo_snapshot_id","merge_changes","no_merge_changes","_index","screenshot"];r.CONFLICT_PATHS=u},{"../safe_require":643,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/web.dom-collections.iterator.js":991}],59:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");Object.defineProperty(r,"__esModule",{value:true});r.UserSelectablePre2019Plans=r.TEST_PLAN=r.TEMPLATE=r.PricingModel2023Plans=r.PricingModel2022Plans=r.PLANS_2023_SORTED_BY_PRICE=r.LEGACY_PAID_ON_2022_PRICING_LAUNCH=r.LEGACY_2019_PLANS=r.LATEST_ENTERPRISE_PLAN=r.FREE=r.ExperimentalPlans=r.ENTERPRISE_PLANS=r.DO_NOT_MARK_AS_LEGACY=r.DEFAULT_DEDICATED_PLAN=r.CurrentPlans=r.BASIC_PLANS_SORTED_BY_PRICE=r.AllPre2019Plans=r.AllPlans=r.APP_TEAM_2023=r.APP_STARTER_2023=r.APP_PROFESSIONAL_2019=r.APP_PRODUCTION_2019=r.APP_PERSONAL_2019=r.APP_GROWTH_2023=r.APP_CUSTOM_2023=r.AGENCY_PLAN=void 0;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.freeze.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var u="app_free2";r.FREE=u;var c="app_personal_2019";r.APP_PERSONAL_2019=c;var f="app_professional_2019";r.APP_PROFESSIONAL_2019=f;var d="app_production_2019";r.APP_PRODUCTION_2019=d;var p="app_starter_2023";r.APP_STARTER_2023=p;var _="app_growth_2023";r.APP_GROWTH_2023=_;var m="app_team_2023";r.APP_TEAM_2023=m;var y="app_custom_2023";r.APP_CUSTOM_2023=y;var v="template_app";r.TEMPLATE=v;var b="enterprise";r.DEFAULT_DEDICATED_PLAN=b;var h="enterprise_2022";r.LATEST_ENTERPRISE_PLAN=h;var j="app_agency";r.AGENCY_PLAN=j;var g="app_testing";r.TEST_PLAN=g;var w=["app_personal","app_production","app_professional","app_team",j,"app_covid","app_education","app_employee","app_free",u,"app_hackathon","app_hobby_2021","app_instructor",c,"app_personal_2022",f,"app_professional_2022",d,"app_production_2022",p,_,m,y,g,b,h,"forum_apps",v,"was_legacy_paid_on_2022_pricing_launch","version_control_beta_2023"];r.AllPlans=w;var O=[u,c,f,d,b,j,"app_education","app_hackathon","app_instructor","app_test_dedicated_on_main",g,"forum_apps",v,"app_covid","app_employee","version_control_beta_2023"];r.CurrentPlans=O;var S=["app_personal","app_production","app_professional","app_team"];r.UserSelectablePre2019Plans=S;var k=["app_free","personal","professional","team"].concat(S);r.AllPre2019Plans=k;var A=["app_personal_2022","app_professional_2022","app_production_2022",h];r.PricingModel2022Plans=A;var E=[p,_,m,y];r.PricingModel2023Plans=E;var x=["app_hobby_2021"];r.ExperimentalPlans=x;var M=Object.freeze([j,"app_covid","app_education","app_employee",u,"app_hackathon","app_instructor","forum_apps",v]);r.DO_NOT_MARK_AS_LEGACY=M;var P=Object.freeze([b,y]);r.ENTERPRISE_PLANS=P;var T="was_legacy_paid_on_2022_pricing_launch";r.LEGACY_PAID_ON_2022_PRICING_LAUNCH=T;var I=Object.freeze([c,f,d]);r.LEGACY_2019_PLANS=I;var C=Object.freeze([u].concat(n(I)));r.BASIC_PLANS_SORTED_BY_PRICE=C;var R=Object.freeze([u].concat(E));r.PLANS_2023_SORTED_BY_PRICE=R},{"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.freeze.js":951,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],60:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.weak-map.js");Object.defineProperty(r,"__esModule",{value:true});r.SPECIAL_APPS=void 0;e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n=s(e("./app_plans"));function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(o=function e(n){return n?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||i(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=o(t);if(r&&r.has(e)){return r.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var l=s?Object.getOwnPropertyDescriptor(e,a):null;if(l&&(l.get||l.set)){Object.defineProperty(n,a,l)}else{n[a]=e[a]}}}n.default=e;if(r){r.set(e,n)}return n}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){t=c(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function c(e){var t=f(e,"string");return i(t)==="symbol"?t:String(t)}function f(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d={blocked:false,editable:false,forkable:false,hard_code:false,meta:false,no_issue_checker:false,test:false};var p={coffeesearcher:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),countrycity:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),cutepuppy:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),demo:l(l({},d),{},{editable:true,hard_code:true,no_issue_checker:true}),empty_template:l(l({},d),{},{hard_code:true}),findatrainer:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),g2_iphone_test:l(l({},d),{},{no_issue_checker:true}),itunessearcher:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),launchpage:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),learn:l(l({},d),{},{editable:true,hard_code:true,no_issue_checker:true}),lostandfound:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),meta:l(l({},d),{},{meta:true,plan:n.DEFAULT_DEDICATED_PLAN}),meta_dedicated:l(l({},d),{},{hard_code:true,meta:true}),meta_public:l(l({},d),{},{editable:true,forkable:true,hard_code:true,meta:true}),microbloggingapp:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),template:l(l({},d),{},{hard_code:true}),template_live:l(l({},d),{},{hard_code:true}),template_new_responsive:l(l({},d),{},{hard_code:true}),test_app:l(l({},d),{},{hard_code:true,no_issue_checker:true,plan:n.TEST_PLAN,test:true}),test_app_editor:l(l({},d),{},{hard_code:true,no_issue_checker:true,plan:n.TEST_PLAN,test:true}),test_app2:l(l({},d),{},{hard_code:true,no_issue_checker:true,plan:n.TEST_PLAN,test:true}),test_app_plugins:l(l({},d),{},{hard_code:true,plan:n.TEST_PLAN,test:true}),test_app_hobby:l(l({},d),{},{hard_code:true,plan:"app_free",test:true}),test_app_internal:l(l({},d),{},{hard_code:true,plan:"app_production_2019",test:true}),test_app_elements:l(l({},d),{},{hard_code:true,no_issue_checker:false,plan:n.TEST_PLAN,test:true}),test_app_cycles:l(l({},d),{},{hard_code:true,no_issue_checker:false,plan:n.TEST_PLAN,test:true}),derived_test:l(l({},d),{},{hard_code:true,test:true}),todomvcapp:l(l({},d),{},{editable:true,forkable:true,hard_code:true}),tour:l(l({},d),{},{editable:true,hard_code:true,no_issue_checker:true}),airbnbclonetemplate:l(l({},d),{},{blocked:true}),bubblewits1:l(l({},d),{},{blocked:true}),bubblewits2:l(l({},d),{},{blocked:true}),bubblewits3:l(l({},d),{},{blocked:true}),spam:l(l({},d),{},{blocked:true}),trello:l(l({},d),{},{blocked:true}),yelpclone:l(l({},d),{},{blocked:true})};r.SPECIAL_APPS=p},{"./app_plans":59,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],61:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.WRONG_PASSWORD=r.NO_SUCH_USER=r.INVALID_LOGIN_CREDENTIALS=void 0;var n="INVALID_LOGIN_CREDENTIALS";r.INVALID_LOGIN_CREDENTIALS=n;var o="NO_SUCH_USER";r.NO_SUCH_USER=o;var s="WRONG_PASSWORD";r.WRONG_PASSWORD=s},{}],62:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.META_APPNAME_FOR_OWN_CDN=r.META_APPNAME_FOR_FILE_CDN=r.DISTINCT_BV_BUNDLES=r.BUNDLE_NAMES=r.BASE_BUNDLES=void 0;var n=["edit","run","run_debug","plugin"];r.BUNDLE_NAMES=n;var o={edit:{entrypoint:"editor.js",is_edit_mode:true},run:{entrypoint:"window.js",is_run:true},run_debug:{entrypoint:"window_debug.js",is_run:true,is_debug_mode:true},plugin:{entrypoint:"editor_plugin.js",is_edit_mode:true,is_plugin_edit_mode:true}};r.BASE_BUNDLES=o;var s=4;r.DISTINCT_BV_BUNDLES=s;var i="meta-p";r.META_APPNAME_FOR_FILE_CDN=i;var a="meta-l";r.META_APPNAME_FOR_OWN_CDN=a},{}],63:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.STORAGE_UNITS=r.MEBIBYTE=r.KIBIBYTE=r.GIBIBYTE=void 0;var n=1024;r.KIBIBYTE=n;var o=n*n;r.MEBIBYTE=o;var s=n*o;r.GIBIBYTE=s;var i=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];r.STORAGE_UNITS=i},{}],64:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.symbol.replace.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.VAR_IDENTIFIER=r.TOKEN_NAME=r.SORTED_DEFAULT_TOKENS=r.RGB_VAR_IDENTIFIER=r.RGB_TOKEN_ALPHA=r.RGBA_TOKEN=r.MISSING_USER_COLOR_TOKEN_TEXT=r.MAX_USER_COLORS=r.DEFAULT_USER_COLOR_TOKEN_RGBA=r.DEFAULT_TOKEN_NAMES_DESCRIPTIONS=r.DEFAULT_COLOR_TOKENS=r.COLOR_VARIANTS=r.CAPTURE_ALPHA=void 0;e("core-js/modules/es.object.set-prototype-of.js");function o(){o=function e(t,n){return new r(t,void 0,n)};var e=RegExp.prototype,t=new WeakMap;function r(e,n,o){var s=new RegExp(e,n);return t.set(s,o||t.get(e)),i(s,r.prototype)}function a(e,r){var n=t.get(r);return Object.keys(n).reduce((function(t,r){var o=n[r];if("number"==typeof o)t[r]=e[o];else{for(var s=0;void 0===e[o[s]]&&s+1<o.length;){s++}t[r]=e[o[s]]}return t}),Object.create(null))}return s(r,RegExp),r.prototype.exec=function(t){var r=e.exec.call(this,t);if(r){r.groups=a(r,this);var n=r.indices;n&&(n.groups=a(n,this))}return r},r.prototype[Symbol.replace]=function(r,o){if("string"==typeof o){var s=t.get(this);return e[Symbol.replace].call(this,r,o.replace(/\$<([^>]+)>/g,(function(e,t){var r=s[t];return"$"+(Array.isArray(r)?r.join("$"):r)})))}if("function"==typeof o){var i=this;return e[Symbol.replace].call(this,r,(function(){var e=arguments;return"object"!=n(e[e.length-1])&&(e=[].slice.call(e)).push(a(e,i)),o.apply(this,e)}))}return e[Symbol.replace].call(this,r,o)},o.apply(this,arguments)}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}var a={primary:{default:"rgba(2, 5, 211, 1)"},primary_contrast:{default:"rgba(255, 255, 255, 1)"},text:{default:"rgba(9, 23, 71, 1)"},surface:{default:"rgba(255, 255, 255, 1)"},background:{default:"rgba(255, 255, 255, 0)"},destructive:{default:"rgba(255, 0, 0, 1)"},success:{default:"rgba(23, 219, 78, 1)"},alert:{default:"rgba(250, 181, 21, 1)"}};r.DEFAULT_COLOR_TOKENS=a;var l="rgba(0,0,0,1)";r.DEFAULT_USER_COLOR_TOKEN_RGBA=l;var u="Custom color (MISSING)";r.MISSING_USER_COLOR_TOKEN_TEXT=u;var c=/var\(--color_[^)]*\)/g;r.RGBA_TOKEN=c;var f=/rgba\(var\(--color_[^)]*\),[^)]*\)/g;r.RGB_TOKEN_ALPHA=f;var d=/var\(--color_([^)]*)\)/;r.TOKEN_NAME=d;var p=o(/rgba\((.*), ?([\.0-9]+)\)/,{base:1,opacity:2});r.CAPTURE_ALPHA=p;var _=24;r.MAX_USER_COLORS=_;var m="var(";r.VAR_IDENTIFIER=m;var y="_rgb";r.RGB_VAR_IDENTIFIER=y;var v=["default"];r.COLOR_VARIANTS=v;var b=["primary","primary_contrast","text","surface","background","destructive","success","alert"];r.SORTED_DEFAULT_TOKENS=b;var h={primary:{name:"Primary",description:"Color for any primary buttons, actions, or hover treatment for clickable elements."},primary_contrast:{name:"Primary contrast",description:"Color of text and icons in a primary button."},text:{name:"Text",description:"Color of static text and icons."},surface:{name:"Surface",description:"Background color for containers."},background:{name:"Background",description:"Background color for pages and page sections."},destructive:{name:"Destructive",description:"Indicates major errors, deleting, and negative values."},success:{name:"Success",description:"Indicates a successful action the user has taken, or positive numerical values."},alert:{name:"Alert",description:"Caution color that notifies a user there is an action to take."}};r.DEFAULT_TOKEN_NAMES_DESCRIPTIONS=h},{"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.replace.js":986,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],65:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.FINITE_OPTION_INPUT_TYPES=r.COMPOSER_INPUT_TYPES_WITH_TYPEAHEAD=r.COMPOSER_INPUT_TYPES=void 0;e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/composer",r);var s=function(e){e["REAL_TIME_SEARCH"]="real_time_search";e["BOOLEAN"]="boolean";e["NUMBER"]="number";e["INTEGER"]="integer";e["TEXT"]="text";e["KEY_COMBINATION"]="key_combination";e["GEOGRAPHIC_ADDRESS"]="geographic_address";e["ENUMERATED"]="enumerated";return e}({});r.COMPOSER_INPUT_TYPES=s;var i=new Set([s.REAL_TIME_SEARCH,s.BOOLEAN,s.NUMBER,s.INTEGER,s.TEXT]);r.COMPOSER_INPUT_TYPES_WITH_TYPEAHEAD=i;var a=new Set([s.ENUMERATED,s.REAL_TIME_SEARCH]);r.FINITE_OPTION_INPUT_TYPES=a},{"../safe_require":643,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/web.dom-collections.iterator.js":991}],66:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SLOW_RANDOM_LENGTH=r.LEGACY_PARAM_ID=r.DROPDOWN_DESCRIPTION_CONTEXT=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/core",r);var s="DROPDOWN_OPTIONS";r.DROPDOWN_DESCRIPTION_CONTEXT=s;var i="_LEGACY_";r.LEGACY_PARAM_ID=i;var a=1e5;r.SLOW_RANDOM_LENGTH=a},{"../safe_require":643}],67:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");Object.defineProperty(r,"__esModule",{value:true});r.legacy_currency_symbols=r.currency_symbols=void 0;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.values.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var u={dollar:"$",euro:"",pound:"",yen:"",rand:"R",naira:"",won:"",peso:"",bgn:""};r.legacy_currency_symbols=u;var c=[".","."];var f=[].concat(n(Object.values(u)),c,["kr",""]);r.currency_symbols=f},{"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],68:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ON_ELEMENT=r.GROUP_TYPES=void 0;var n={Group:"Group",Popup:"Popup",FloatingGroup:"Floating Group"};r.GROUP_TYPES=n;var o=["lock_in_editor","is_visible","top","left","zindex","data_source","custom_id","greyout_color","greyout_blur","responsive_alignment","prevent_user_from_closing_through_esc","collapse_margin","fixed_width","min_width","use_max_width","max_width","responsive_show","responsive_show_width","width","height","floating_reference","floating_reference_horizontal","unique_id","floating_reference_horizontal_resp","float_zindex","parallax","nonant_alignment","vert_alignment","horiz_alignment","order","collapse_when_hidden","collapse_animation","animation_type","single_width","min_width_css","max_width_css","fit_width","single_height","min_height_css","max_height_css","fit_height","margin_left","margin_right","margin_top","margin_bottom","overflow_scroll"];r.ON_ELEMENT=o},{}],69:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.range_states=r.SUPPORTED_AGGREGATIONS=r.RetryError=r.REDIS_ONLY=r.REDIS_AND_POSTGRES=r.POSTGRES_AUTOINDEX_KEY=r.NO_USER=r.NO_SEARCH_PATH=r.NO_DB_CONSTRAINTS=r.NON_AUTHENTICATED_USER_ID=r.MAX_SEARCH_CHUNK=r.MAX_GROUPING_CALL=r.DONT_KNOW=r.DATA_PANEL_SEARCH_FAKE_EVAL_NODE=r.CALENDAR_GROUPINGS=r.BUCKET_GROUPINGS=r.BATCH_SIZE=r.ARCHIVED_DB_COUNT=r.ALL_MAX=r.ADMIN_USER_ID=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}n.default.safe_register("./constants/db",r);var i="no_user";r.NO_USER=i;var a="no_search_path";r.NO_SEARCH_PATH=a;var l="admin_user";r.ADMIN_USER_ID=l;var u="non_authenticated_user";r.NON_AUTHENTICATED_USER_ID=u;var c="<data admin panel>";r.DATA_PANEL_SEARCH_FAKE_EVAL_NODE=c;var f=400;r.MAX_SEARCH_CHUNK=f;var d="dontknow";r.DONT_KNOW=d;var p=100;r.MAX_GROUPING_CALL=p;var _=["list.date_range","list.number_range","list.geographic_address"];r.NO_DB_CONSTRAINTS=_;var m=["count","sum","product","average","median","min","max"];r.SUPPORTED_AGGREGATIONS=m;var y=["day","month"];r.CALENDAR_GROUPINGS=y;var v=["bucket","day","month"];r.BUCKET_GROUPINGS=v;var b=1e12;r.ALL_MAX=b;var h=-2;r.ARCHIVED_DB_COUNT=h;var j=function(e){e["LOADING"]="loading";e["AVAILABLE"]="available";e["ERROR"]="error";e["NOT_STARTED"]="not_started";e["DELETED"]="deleted";e["PAST_END"]="past_end";return e}({});r.range_states=j;var g=function e(){s(this,e)};r.RetryError=g;var w="redis-only";r.REDIS_ONLY=w;var O="redis-and-postgres";r.REDIS_AND_POSTGRES=O;var S=100;r.BATCH_SIZE=S;var k="postgres_auto_index";r.POSTGRES_AUTOINDEX_KEY=k},{"../safe_require":643}],70:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OLD_META_HOSTNAME=r.META_ORIGIN=r.META_HOSTNAME=r.LOCAL_HOSTNAME=r.BLOG_URL=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/domain",r);var s="bubble.io";r.META_HOSTNAME=s;var i="https://bubble.io";r.META_ORIGIN=i;var a="bubble.is";r.OLD_META_HOSTNAME=a;var l="local.bubble.is";r.LOCAL_HOSTNAME=l;var u="https://".concat(s,"/blog/");r.BLOG_URL=u},{"../safe_require":643}],71:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.PUBLIC_ACTIVE_EXPERIMENTS=r.MAX_FILE_COMPOSER_SIZE=r.LEGACY_EXPERIMENTS=r.FEATURE_FLAGS_PATH=r.DEPRECATED_EXPERIMENTS=void 0;var n=e("../constants/byte");var o=50*n.MEBIBYTE;r.MAX_FILE_COMPOSER_SIZE=o;var s="feature_flags.";r.FEATURE_FLAGS_PATH=s;var i={parens:{display:"Expression parentheses",description:"Automatically add parentheses to all dynamic expressions in the editor. Makes Current Page Width +2 *3 display as (Current Page Width + 2) * 3. This feature lets you add to any part of a dynamic expression, and indicate where to apply a piece of a dynamic expression.",launch_date:1650973876351,modification_date:1650973876351,alters_app_json:true},reference_snippet:{display:"Show snippets of the reference on hover",description:"When hovering any feature in the editor, show the beginning of the manual entry.",launch_date:1650973876351,modification_date:1650973876351,alters_app_json:false},reorg_component_selection:{display:"Categorized types, datasources and operators",description:"When creating expressions, select from a categorized list of datasources and operators. When selecting a type in general, select from a categorized list.",launch_date:168002638e4,modification_date:168002638e4,alters_app_json:false}};r.PUBLIC_ACTIVE_EXPERIMENTS=i;var a=["deferred_drawing","tz_info_in_date_input","react_upgrade"];r.LEGACY_EXPERIMENTS=a;var l={timezone_improvements:{display:"Overriding timezones more broadly (deprecated)",description:"This feature set allows you to set an overriding timezone for any page, "+"any backend workflow (API workflow, recurring event, and database trigger event), "+"and when using the :rounding to operator.",launch_date:1657566861888,modification_date:1657566861888,alters_app_json:false,has_been_previously_used:false,deprecation_bv:20,test_app_exceptions:["test_app_elements"]},react_upgrade:{display:"New, more performant elements rendering (deprecated)",description:"This feature enables a new experimental rendering pipeline which more optimally "+"renders any elements you have on the page. It does so by precomputing a lot of the properties "+"on the server beforehand, and shipping a static CSS file to the client to avoid repeated work. "+"\n\nNote: This feature only affects new responsive pages.",launch_date:1659456830513,modification_date:1659456830513,alters_app_json:false,deprecation_bv:21}};r.DEPRECATED_EXPERIMENTS=l},{"../constants/byte":63}],72:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.VERSION_STYLE_OVERRIDES=r.STATE_NOT_READY=r.PLACEHOLDER_COLOR_VERSION=r.PADDING_VERSION=r.OLD_VERSION_OVERRIDE_PROPERTIES=r.NOT_STATIC_PROP=r.LATEST_ELEMENT_VERSION=r.FONT_FAMILY_VERSION=void 0;e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/elements",r);var s=4;r.LATEST_ELEMENT_VERSION=s;var i=4;r.VERSION_STYLE_OVERRIDES=i;var a=["padding_top","padding_bottom","padding_left","padding_right"];r.OLD_VERSION_OVERRIDE_PROPERTIES=a;var l=1;r.FONT_FAMILY_VERSION=l;var u=Symbol("NOT_STATIC_PROP");r.NOT_STATIC_PROP=u;var c={};r.STATE_NOT_READY=c;var f=2;r.PADDING_VERSION=f;var d=3;r.PLACEHOLDER_COLOR_VERSION=d},{"../safe_require":643,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.js":985}],73:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.QA=r.PROD=r.LOCAL=r.DEV=r.ALL=void 0;var n="prod";r.PROD=n;var o="local";r.LOCAL=o;var s="qa";r.QA=s;var i="dev";r.DEV=i;var a=[n,o,s,i];r.ALL=a},{}],74:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SPANS=r.EPOCHS=void 0;var n={drawing:"Drawing",network:"Network"};var o={load_runmode:{name:"Epoch: Runmode page fully loaded",start_at_page_load:true},load_editor:{name:"Epoch: Editor page fully loaded",start_at_page_load:true},load_maison:{name:"Epoch: Editor Maison page fully loaded",start_at_page_load:true}};r.EPOCHS=o;var s={render:{name:"Client: render complete",type:n.drawing,start_at_page_load:true,sync:false},data_retrieval:{name:"Client: data retrieval",type:n.network,sync:false,start_at_page_load:false},autorun_scheduled:{name:"Client: Autorun run_scheduled",type:n.drawing,sync:false,start_at_page_load:false},page_draw:{name:"Client: page.draw()",type:n.drawing,sync:true,start_at_page_load:false},rg_display_data_in_cells:{name:"Client: RepeatingGroup display_data_in_cells",type:n.drawing,sync:true,start_at_page_load:false},rg_add_cells:{name:"Client: RepeatingGroup add_cells",type:n.drawing,sync:true,start_at_page_load:false}};r.SPANS=s},{}],75:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.NV_MARKER=r.NULL_VALUE_TO_REGISTER=r.HYDRATE_STRING=r.EVAL_TYPE=r.ESTATE_PREFIX=r.ELEMENT_INSTANCE_DEHYDRATE=void 0;var n="1348695171700984260__LOOKUP__";r.HYDRATE_STRING=n;var o="ElementInstance";r.ELEMENT_INSTANCE_DEHYDRATE=o;var s="ElementState:";r.ESTATE_PREFIX=s;var i="not_valid_1431708660335x963720156345516400";r.NV_MARKER=i;var a={};r.NULL_VALUE_TO_REGISTER=a;var l=function(e){e["value"]="VALUE";e["thunk"]="THUNK";e["skip"]="SKIP";return e}({});r.EVAL_TYPE=l},{}],76:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.WORKFLOW=r.SYSTEM_FIBER=r.SERVICEHOSTER=r.RUN_DATA_TRIGGER_WORKFLOW=r.RUNNING_TASK=r.QUEUE_TIMEOUT=r.PERCOLATE_FIBER=r.PAGE=r.PACKAGE=r.FiberTag=r.FILE_UPLOAD=r.ELASTICSEARCH=r.API_SERVICE=r.API=void 0;var n=e("./routes");var o="Operation timed out -- app too busy";r.QUEUE_TIMEOUT=o;var s="SYSTEM_FIBER";r.SYSTEM_FIBER=s;var i="servicehoster";r.SERVICEHOSTER=i;var a="running_task";r.RUNNING_TASK=a;var l="run_data_trigger_workflow";r.RUN_DATA_TRIGGER_WORKFLOW=l;var u="percolate_fiber";r.PERCOLATE_FIBER=u;var c=function(e){e["Appname"]="appname";e["AppVersion"]="app_version";e["APIEndpoint"]="api_endpoint";e["AppEditorPath"]="appeditor_path";e["CSVFileName"]="csv_file_name";e["EServiceCommand"]="eservice_command";e["ExternalAPIID"]="external_api_id";e["PageName"]="page_name";e["Path"]="path";e["SearchPath"]="search_path";e["Service"]="service";e["SchedulerName"]="scheduler_name";e["SyncRun"]="syncrun";e["UserAppname"]="user_appname";e["UserAppVersion"]="user_app_version";e["WorkflowItem"]="workflow_item";return e}({});r.FiberTag=c;var f="page";r.PAGE=f;var d=n.PACKAGER_ROUTE;r.PACKAGE=d;var p=n.FILEUPLOAD_ROUTE;r.FILE_UPLOAD=p;var _=n.WORKFLOW_ROUTE;r.WORKFLOW=_;var m=n.DATA_ROUTE;r.ELASTICSEARCH=m;var y=n.API_SERVICE_ROUTE;r.API_SERVICE=y;var v=n.API_ROUTE;r.API=v},{"./routes":90}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TOKEN_NAMES=r.TOKEN_DESCRIPTIONS=r.SPECIAL_DISPLAY=r.NAMED_WEIGHTS=r.MISSING_USER_FONT_TOKEN_TEXT=r.MAX_USER_FONTS=r.FONT_VARIANTS=r.FONT_TOKEN_NAME_AND_WEIGHT=r.FONT_STYLE_LIST=r.DEFAULT_WEIGHT=r.DEFAULT_TOKENS=r.DEFAULT_FONT=r.DEFAULT_FAMILY=r.DEFAULT_CSS_TOKEN=r.CUSTOM_FONT_FLAG=r.ALL_WEIGHTS=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/fonts",r);var s="Lato:::";r.DEFAULT_FONT=s;var i="Lato";r.DEFAULT_FAMILY=i;var a="400";r.DEFAULT_WEIGHT=a;var l=["100","200","300","400","500","600","700","800","900"];r.ALL_WEIGHTS=l;var u={regular:"400",bold:"700"};r.NAMED_WEIGHTS=u;var c=function(e){e["default"]="App Font";return e}({});r.TOKEN_NAMES=c;var f=function(e){e["default"]="Applied to all elements using App Font as their font family in styles.";return e}({});r.TOKEN_DESCRIPTIONS=f;var d=function(e){e["default"]="Lato";return e}({});r.DEFAULT_TOKENS=d;var p=":::custom";r.CUSTOM_FONT_FLAG=p;var _=7;r.MAX_USER_FONTS=_;var m="Custom font (MISSING)";r.MISSING_USER_FONT_TOKEN_TEXT=m;var y="var(--font_default)";r.DEFAULT_CSS_TOKEN=y;var v=/var\(--font_(.*)\)(.*)/;r.FONT_TOKEN_NAME_AND_WEIGHT=v;var b=["default"];r.FONT_VARIANTS=b;var h={100:"100 (Thin)",200:"200 (Extra Light)",300:"300 (Light)",400:"400 (Regular)",500:"500 (Medium)",600:"600 (Semi Bold)",700:"700 (Bold)",800:"800 (Extra Bold)",900:"900 (Black)"};r.SPECIAL_DISPLAY=h;var j=["bold","italic","underline"];r.FONT_STYLE_LIST=j},{"../safe_require":643}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SERVER_SIDE_MAX_REQUEST_PER_MINUTE=r.SAMPLE_VALUE_FRANCE=r.SAMPLE_VALUE=r.MAP_MAX_REQUEST_PER_MINUTE=r.GEOHASH_PRECISION=r.AUTOCOMPLETE_SERVER_SIDE_MAX_REQUEST_PER_MINUTE=void 0;var n={lat:40.72743,lng:-74.00595,address:"175 Varick Street, New York, NY 10014, USA",components:{"street number":"175",street:"Varick Street",neighborhood:"Lower Manhattan",city:"New York","state code":"NY",state:"New York",county:"New York County","zip code":"10014",country:"United States","country code":"US"}};r.SAMPLE_VALUE=n;var o={lat:49.19973,lng:.21102,address:"Coquainvilliers, France",components:{city:"Coquainvilliers","state code":"Lower Normandy",state:"Lower Normandy",country:"France","country code":"FR"}};r.SAMPLE_VALUE_FRANCE=o;var s=2;r.MAP_MAX_REQUEST_PER_MINUTE=s;var i=6;r.SERVER_SIDE_MAX_REQUEST_PER_MINUTE=i;var a=12;r.AUTOCOMPLETE_SERVER_SIDE_MAX_REQUEST_PER_MINUTE=a;var l=15;r.GEOHASH_PRECISION=l},{}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ICONS_CONTENT=void 0;var n={"fa-superscript":"","fa-delicious":"","fa-bathtub":"","fa-s15":"","fa-bath":"","fa-podcast":"","fa-hdd-o":"","fa-vcard-o":"","fa-address-card-o":"","fa-odnoklassniki":"","fa-openid":"","fa-joomla":"","fa-neuter":"","fa-angle-double-up":"","fa-deviantart":"","fa-sliders":"","fa-viadeo-square":"","fa-lock":"","fa-quora":"","fa-safari":"","fa-drivers-license":"","fa-id-card":"","fa-circle":"","fa-bus":"","fa-glide":"","fa-bold":"","fa-flag":"","fa-search-plus":"","fa-hotel":"","fa-bed":"","fa-linode":"","fa-trash":"","fa-snapchat-ghost":"","fa-cny":"","fa-rmb":"","fa-yen":"","fa-jpy":"","fa-subscript":"","fa-battery-4":"","fa-battery":"","fa-battery-full":"","fa-thumbs-o-up":"","fa-tint":"","fa-user-md":"","fa-tripadvisor":"","fa-bitcoin":"","fa-btc":"","fa-file-word-o":"","fa-refresh":"","fa-cc-diners-club":"","fa-sort-alpha-desc":"","fa-mortar-board":"","fa-graduation-cap":"","fa-mars-double":"","fa-text-width":"","fa-shopping-cart":"","fa-minus-circle":"","fa-compass":"","fa-twitter-square":"","fa-genderless":"","fa-leaf":"","fa-arrows-h":"","fa-window-maximize":"","fa-hand-o-down":"","fa-free-code-camp":"","fa-arrow-circle-o-down":"","fa-hand-lizard-o":"","fa-asterisk":"","fa-modx":"","fa-pie-chart":"","fa-square-o":"","fa-magic":"","fa-qrcode":"","fa-yahoo":"","fa-gears":"","fa-cogs":"","fa-spotify":"","fa-bullseye":"","fa-twitch":"","fa-signal":"","fa-user-secret":"","fa-check-square":"","fa-spoon":"","fa-cloud":"","fa-calculator":"","fa-camera":"","fa-video-camera":"","fa-gift":"","fa-hourglass-2":"","fa-hourglass-half":"","fa-mercury":"","fa-street-view":"","fa-chevron-circle-left":"","fa-edit":"","fa-pencil-square-o":"","fa-terminal":"","fa-dashcube":"","fa-github-alt":"","fa-volume-off":"","fa-headphones":"","fa-hourglass-o":"","fa-train":"","fa-send-o":"","fa-paper-plane-o":"","fa-subway":"","fa-500px":"","fa-random":"","fa-expand":"","fa-beer":"","fa-thumb-tack":"","fa-shirtsinbulk":"","fa-map-o":"","fa-fa":"","fa-font-awesome":"","fa-chevron-left":"","fa-hand-grab-o":"","fa-hand-rock-o":"","fa-slideshare":"","fa-cc-stripe":"","fa-play-circle":"","fa-eercast":"","fa-wheelchair":"","fa-slack":"","fa-automobile":"","fa-car":"","fa-opencart":"","fa-scribd":"","fa-remove":"","fa-close":"","fa-times":"","fa-object-group":"","fa-lastfm":"","fa-smile-o":"","fa-object-ungroup":"","fa-cloud-upload":"","fa-align-right":"","fa-i-cursor":"","fa-circle-thin":"","fa-comment":"","fa-recycle":"","fa-wikipedia-w":"","fa-soccer-ball-o":"","fa-futbol-o":"","fa-cc-paypal":"","fa-arrows-alt":"","fa-turkish-lira":"","fa-try":"","fa-venus":"","fa-chevron-up":"","fa-map":"","fa-flickr":"","fa-bookmark-o":"","fa-user":"","fa-handshake-o":"","fa-y-combinator-square":"","fa-yc-square":"","fa-hacker-news":"","fa-arrow-circle-up":"","fa-angle-left":"","fa-hand-peace-o":"","fa-building":"","fa-envelope-open":"","fa-legal":"","fa-gavel":"","fa-moon-o":"","fa-play-circle-o":"","fa-thermometer-1":"","fa-thermometer-quarter":"","fa-level-up":"","fa-mail-reply-all":"","fa-reply-all":"","fa-folder":"","fa-copy":"","fa-files-o":"","fa-mouse-pointer":"","fa-paperclip":"","fa-hand-o-left":"","fa-github":"","fa-exclamation":"","fa-yc":"","fa-y-combinator":"","fa-flask":"","fa-eject":"","fa-forumbee":"","fa-hand-pointer-o":"","fa-stumbleupon-circle":"","fa-calendar-o":"","fa-stop-circle-o":"","fa-sort-amount-desc":"","fa-windows":"","fa-meh-o":"","fa-toggle-off":"","fa-xing":"","fa-server":"","fa-creative-commons":"","fa-toggle-down":"","fa-caret-square-o-down":"","fa-yoast":"","fa-toggle-up":"","fa-caret-square-o-up":"","fa-arrows-v":"","fa-gbp":"","fa-chevron-down":"","fa-underline":"","fa-print":"","fa-vimeo":"","fa-flag-o":"","fa-pagelines":"","fa-vcard":"","fa-address-card":"","fa-exclamation-circle":"","fa-user-plus":"","fa-cc-visa":"","fa-folder-open-o":"","fa-file-zip-o":"","fa-file-archive-o":"","fa-wpbeginner":"","fa-paypal":"","fa-newspaper-o":"","fa-sign-out":"","fa-bitbucket-square":"","fa-text-height":"","fa-align-center":"","fa-google-wallet":"","fa-plus-circle":"","fa-angle-double-left":"","fa-whatsapp":"","fa-question":"","fa-italic":"","fa-git-square":"","fa-opera":"","fa-arrow-circle-left":"","fa-anchor":"","fa-plug":"","fa-cubes":"","fa-yelp":"","fa-list-ul":"","fa-list-ol":"","fa-thumbs-up":"","fa-arrow-circle-o-up":"","fa-phone-square":"","fa-adjust":"","fa-volume-up":"","fa-unlock":"","fa-step-forward":"","fa-header":"","fa-drupal":"","fa-comments":"","fa-amazon":"","fa-caret-up":"","fa-fire-extinguisher":"","fa-film":"","fa-dropbox":"","fa-comment-o":"","fa-tencent-weibo":"","fa-internet-explorer":"","fa-medium":"","fa-arrow-right":"","fa-lastfm-square":"","fa-drivers-license-o":"","fa-id-card-o":"","fa-hand-o-up":"","fa-facebook-f":"","fa-facebook":"","fa-bell":"","fa-gear":"","fa-cog":"","fa-minus":"","fa-globe":"","fa-retweet":"","fa-bullhorn":"","fa-mobile-phone":"","fa-mobile":"","fa-snapchat":"","fa-sort-alpha-asc":"","fa-css3":"","fa-envira":"","fa-leanpub":"","fa-align-justify":"","fa-code-fork":"","fa-angle-double-right":"","fa-xing-square":"","fa-bookmark":"","fa-vine":"","fa-square":"","fa-stack-exchange":"","fa-houzz":"","fa-user-times":"","fa-get-pocket":"","fa-envelope":"","fa-qq":"","fa-linkedin":"","fa-glide-g":"","fa-deafness":"","fa-hard-of-hearing":"","fa-deaf":"","fa-life-bouy":"","fa-life-buoy":"","fa-life-saver":"","fa-support":"","fa-life-ring":"","fa-digg":"","fa-keyboard-o":"","fa-snowflake-o":"","fa-suitcase":"","fa-tty":"","fa-balance-scale":"","fa-ellipsis-h":"","fa-battery-3":"","fa-battery-three-quarters":"","fa-file-pdf-o":"","fa-circle-o":"","fa-pause-circle":"","fa-flag-checkered":"","fa-rotate-left":"","fa-undo":"","fa-send":"","fa-paper-plane":"","fa-cc-amex":"","fa-contao":"","fa-star-half":"","fa-google-plus-square":"","fa-indent":"","fa-angellist":"","fa-trash-o":"","fa-cart-arrow-down":"","fa-wpexplorer":"","fa-bandcamp":"","fa-music":"","fa-skype":"","fa-trello":"","fa-black-tie":"","fa-long-arrow-down":"","fa-google":"","fa-stethoscope":"","fa-caret-down":"","fa-battery-2":"","fa-battery-half":"","fa-cab":"","fa-taxi":"","fa-cc":"","fa-cc-mastercard":"","fa-commenting-o":"","fa-hashtag":"","fa-gitlab":"","fa-cc-jcb":"","fa-check":"","fa-user-circle-o":"","fa-history":"","fa-times-circle-o":"","fa-bar-chart-o":"","fa-bar-chart":"","fa-bell-slash":"","fa-clone":"","fa-briefcase":"","fa-glass":"","fa-calendar-minus-o":"","fa-arrow-left":"","fa-pencil-square":"","fa-money":"","fa-fast-forward":"","fa-bicycle":"","fa-fighter-jet":"","fa-download":"","fa-ticket":"","fa-exchange":"","fa-user-circle":"","fa-map-pin":"","fa-mars-stroke-v":"","fa-key":"","fa-imdb":"","fa-calendar-times-o":"","fa-simplybuilt":"","fa-battery-0":"","fa-battery-empty":"","fa-arrow-up":"","fa-maxcdn":"","fa-pied-piper-pp":"","fa-check-circle-o":"","fa-chevron-right":"","fa-heart":"","fa-eye":"","fa-cut":"","fa-scissors":"","fa-quote-right":"","fa-sellsy":"","fa-wechat":"","fa-weixin":"","fa-search":"","fa-comments-o":"","fa-wordpress":"","fa-sort-numeric-desc":"","fa-hand-spock-o":"","fa-gamepad":"","fa-fax":"","fa-list-alt":"","fa-youtube":"","fa-sticky-note-o":"","fa-ge":"","fa-empire":"","fa-gittip":"","fa-gratipay":"","fa-toggle-left":"","fa-caret-square-o-left":"","fa-tumblr":"","fa-stumbleupon":"","fa-tv":"","fa-television":"","fa-bell-o":"","fa-wifi":"","fa-inbox":"","fa-eyedropper":"","fa-hospital-o":"","fa-ravelry":"","fa-building-o":"","fa-fort-awesome":"","fa-shopping-bag":"","fa-address-book":"","fa-fonticons":"","fa-feed":"","fa-rss":"","fa-toggle-right":"","fa-caret-square-o-right":"","fa-microphone-slash":"","fa-git":"","fa-medkit":"","fa-line-chart":"","fa-shopping-basket":"","fa-external-link-square":"","fa-times-rectangle":"","fa-window-close":"","fa-book":"","fa-rocket":"","fa-caret-left":"","fa-wpforms":"","fa-chain":"","fa-link":"","fa-ioxhost":"","fa-quote-left":"","fa-github-square":"","fa-ban":"","fa-universal-access":"","fa-credit-card":"","fa-steam-square":"","fa-id-badge":"","fa-html5":"","fa-envelope-open-o":"","fa-file-code-o":"","fa-mail-reply":"","fa-reply":"","fa-google-plus":"","fa-youtube-play":"","fa-venus-double":"","fa-stop":"","fa-phone":"","fa-reddit-square":"","fa-reddit-alien":"","fa-product-hunt":"","fa-star-half-empty":"","fa-star-half-full":"","fa-star-half-o":"","fa-long-arrow-up":"","fa-ambulance":"","fa-won":"","fa-krw":"","fa-heartbeat":"","fa-sign-in":"","fa-caret-right":"","fa-chrome":"","fa-save":"","fa-floppy-o":"","fa-female":"","fa-braille":"","fa-pinterest-square":"","fa-paragraph":"","fa-folder-open":"","fa-envelope-square":"","fa-codiepie":"","fa-birthday-cake":"","fa-dot-circle-o":"","fa-sort-down":"","fa-sort-desc":"","fa-signing":"","fa-sign-language":"","fa-frown-o":"","fa-angle-right":"","fa-star-o":"","fa-angle-down":"","fa-space-shuttle":"","fa-arrow-circle-down":"","fa-arrow-circle-right":"","fa-soundcloud":"","fa-pause":"","fa-truck":"","fa-hand-stop-o":"","fa-hand-paper-o":"","fa-credit-card-alt":"","fa-file-photo-o":"","fa-file-picture-o":"","fa-file-image-o":"","fa-level-down":"","fa-backward":"","fa-eye-slash":"","fa-euro":"","fa-eur":"","fa-behance":"","fa-crosshairs":"","fa-certificate":"","fa-copyright":"","fa-meetup":"","fa-thumbs-o-down":"","fa-thermometer-0":"","fa-thermometer-empty":"","fa-meanpath":"","fa-arrows":"","fa-fast-backward":"","fa-vk":"","fa-map-marker":"","fa-bell-slash-o":"","fa-venus-mars":"","fa-map-signs":"","fa-filter":"","fa-calendar-plus-o":"","fa-language":"","fa-warning":"","fa-exclamation-triangle":"","fa-bluetooth-b":"","fa-minus-square-o":"","fa-home":"","fa-plane":"","fa-chevron-circle-up":"","fa-android":"","fa-volume-down":"","fa-institution":"","fa-bank":"","fa-university":"","fa-sort-amount-asc":"","fa-tumblr-square":"","fa-odnoklassniki-square":"","fa-bluetooth":"","fa-tag":"","fa-th":"","fa-ellipsis-v":"","fa-percent":"","fa-adn":"","fa-shekel":"","fa-sheqel":"","fa-ils":"","fa-weibo":"","fa-chevron-circle-down":"","fa-mars":"","fa-share-square":"","fa-search-minus":"","fa-child":"","fa-ruble":"","fa-rouble":"","fa-rub":"","fa-compress":"","fa-thumbs-down":"","fa-check-circle":"","fa-heart-o":"","fa-tags":"","fa-facebook-square":"","fa-asl-interpreting":"","fa-american-sign-language-interpreting":"","fa-motorcycle":"","fa-paste":"","fa-clipboard":"","fa-question-circle":"","fa-cutlery":"","fa-hourglass-3":"","fa-hourglass-end":"","fa-clock-o":"","fa-archive":"","fa-times-rectangle-o":"","fa-window-close-o":"","fa-bug":"","fa-codepen":"","fa-mail-forward":"","fa-share":"","fa-mars-stroke":"","fa-file-excel-o":"","fa-commenting":"","fa-behance-square":"","fa-folder-o":"","fa-microphone":"","fa-h-square":"","fa-etsy":"","fa-vimeo-square":"","fa-ship":"","fa-google-plus-circle":"","fa-google-plus-official":"","fa-info-circle":"","fa-table":"","fa-shower":"","fa-buysellads":"","fa-dollar":"","fa-usd":"","fa-themeisle":"","fa-user-o":"","fa-columns":"","fa-camera-retro":"","fa-star":"","fa-edge":"","fa-file-text-o":"","fa-rss-square":"","fa-laptop":"","fa-calendar-check-o":"","fa-area-chart":"","fa-pinterest":"","fa-plus-square":"","fa-envelope-o":"","fa-window-restore":"","fa-eraser":"","fa-trophy":"","fa-battery-1":"","fa-battery-quarter":"","fa-arrow-circle-o-left":"","fa-foursquare":"","fa-sitemap":"","fa-hourglass-1":"","fa-hourglass-start":"","fa-desktop":"","fa-gg":"","fa-rotate-right":"","fa-repeat":"","fa-calendar":"","fa-stop-circle":"","fa-intersex":"","fa-transgender":"","fa-firefox":"","fa-file-text":"","fa-coffee":"","fa-sort-up":"","fa-sort-asc":"","fa-steam":"","fa-hourglass":"","fa-road":"","fa-mixcloud":"","fa-lightbulb-o":"","fa-arrow-circle-o-right":"","fa-flash":"","fa-bolt":"","fa-hand-scissors-o":"","fa-tree":"","fa-ra":"","fa-resistance":"","fa-rebel":"","fa-audio-description":"","fa-spinner":"","fa-optin-monster":"","fa-facebook-official":"","fa-jsfiddle":"","fa-tablet":"","fa-navicon":"","fa-reorder":"","fa-bars":"","fa-long-arrow-left":"","fa-dribbble":"","fa-volume-control-phone":"","fa-diamond":"","fa-group":"","fa-users":"","fa-youtube-square":"","fa-usb":"","fa-minus-square":"","fa-first-order":"","fa-sticky-note":"","fa-upload":"","fa-thermometer-3":"","fa-thermometer-three-quarters":"","fa-renren":"","fa-times-circle":"","fa-pinterest-p":"","fa-linkedin-square":"","fa-cloud-download":"","fa-wrench":"","fa-file-sound-o":"","fa-file-audio-o":"","fa-linux":"","fa-instagram":"","fa-snapchat-square":"","fa-apple":"","fa-bitbucket":"","fa-align-left":"","fa-viacoin":"","fa-long-arrow-right":"","fa-share-alt-square":"","fa-fire":"","fa-font":"","fa-twitter":"","fa-circle-o-notch":"","fa-angle-up":"","fa-th-list":"","fa-list":"","fa-location-arrow":"","fa-hand-o-right":"","fa-plus-square-o":"","fa-toggle-on":"","fa-crop":"","fa-paw":"","fa-file-movie-o":"","fa-file-video-o":"","fa-dashboard":"","fa-tachometer":"","fa-at":"","fa-male":"","fa-th-large":"","fa-sun-o":"","fa-address-book-o":"","fa-window-minimize":"","fa-forward":"","fa-pied-piper":"","fa-code":"","fa-thermometer-4":"","fa-thermometer":"","fa-thermometer-full":"","fa-registered":"","fa-connectdevelop":"","fa-share-square-o":"","fa-expeditedssl":"","fa-barcode":"","fa-external-link":"","fa-check-square-o":"","fa-pause-circle-o":"","fa-question-circle-o":"","fa-industry":"","fa-chevron-circle-right":"","fa-transgender-alt":"","fa-thermometer-2":"","fa-thermometer-half":"","fa-grav":"","fa-paint-brush":"","fa-pencil":"","fa-skyatlas":"","fa-trademark":"","fa-lemon-o":"","fa-assistive-listening-systems":"","fa-sort-numeric-asc":"","fa-pied-piper-alt":"","fa-power-off":"","fa-cube":"","fa-telegram":"","fa-umbrella":"","fa-viadeo":"","fa-file-o":"","fa-file-powerpoint-o":"","fa-angle-double-down":"","fa-plus":"","fa-database":"","fa-arrow-down":"","fa-microchip":"","fa-unsorted":"","fa-sort":"","fa-photo":"","fa-image":"","fa-picture-o":"","fa-wheelchair-alt":"","fa-mars-stroke-h":"","fa-magnet":"","fa-file":"","fa-step-backward":"","fa-unlink":"","fa-chain-broken":"","fa-strikethrough":"","fa-reddit":"","fa-superpowers":"","fa-bomb":"","fa-cart-plus":"","fa-cc-discover":"","fa-gg-circle":"","fa-share-alt":"","fa-stack-overflow":"","fa-unlock-alt":"","fa-play":"","fa-low-vision":"","fa-binoculars":"","fa-puzzle-piece":"","fa-blind":"","fa-dedent":"","fa-outdent":"","fa-shield":"","fa-info":"","fa-tasks":"","fa-rupee":"","fa-inr":""};var o=n;r.ICONS_CONTENT=o},{}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ZIGGEO=r.TWILIO=r.STRIPE=r.SENDGRID=r.SEGMENT=r.RECAPTCHA=r.PEXELS=r.MAILCHIMP=r.LEGACY_API_CONNECTOR=r.DOCUSIGN=r.DB_CONNECTOR=r.CLOSURE_COMPILER=r.BUBBLE_PLUGIN=r.BUBBLEBOT=r.BRAINTREE=r.BOX=r.BLOCKSPRING=r.API_CONNECTOR=r.ADD_TO_ANY=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/known_plugins",r);var s="apiconnector2";r.API_CONNECTOR=s;var i="Blockspring";r.BLOCKSPRING=i;var a="box";r.BOX=a;var l="braintree";r.BRAINTREE=l;var u="bubble_plugin";r.BUBBLE_PLUGIN=u;var c="bubblebot";r.BUBBLEBOT=c;var f="closurecompiler";r.CLOSURE_COMPILER=f;var d="dbconnector";r.DB_CONNECTOR=d;var p="docusign";r.DOCUSIGN=p;var _="apiconnector";r.LEGACY_API_CONNECTOR=_;var m="mailchimp";r.MAILCHIMP=m;var y="pexels";r.PEXELS=y;var v="recaptcha";r.RECAPTCHA=v;var b="segment";r.SEGMENT=b;var h="sendgrid";r.SENDGRID=h;var j="stripe";r.STRIPE=j;var g="twilio";r.TWILIO=g;var w="ziggeo";r.ZIGGEO=w;var O="addtoany";r.ADD_TO_ANY=O},{"../safe_require":643}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OPTION_VALUE_FORMATS=r.MISSING_TYPE=r.DETECT_FIELD_NAMES=void 0;var n="DETECT";r.DETECT_FIELD_NAMES=n;var o="<<MISSING TYPE INFO>>";r.MISSING_TYPE=o;var s=function(e){e["name_is_key"]="name_is_key";e["name_is_db_value_with_fallback"]="name_is_db_value_with_fallback";return e}({});r.OPTION_VALUE_FORMATS=s},{}],82:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:true});r.VERSION_PATH_PREFIX=r.VERSIONS_DISPLAY=r.TEST_VERSION_DISPLAY=r.TEST_VERSION=r.TEMPLATE_VERSIONS=r.RESERVED_VERSION_NAMES=r.PUBLISHED_TEMPLATE_VERSION=r.PENDING_TEMPLATE_VERSION=r.OKAY_VERSIONS=r.MAIN_VERSION_DISPLAY=r.LIVE_VERSION_DISPLAY=r.LIVE_VERSION=r.LIVE_ENVIRONMENT_DISPLAY=r.HOTFIX_VERSION_DISPLAY=r.ENVIRONMENTS=r.DEVELOPMENT_ENVIRONMENT_DISPLAY=r.DEFAULT_TEST_VC_DESCRIPTION=r.DEFAULT_TEST_NO_VC_DESCRIPTION=r.DEFAULT_LIVE_DESCRIPTION=r.DEFAULT_HOTFIX_DESCRIPTION=r.DEFAULT_CUSTOM_BRANCH_DESCRIPTION=r.BREAKING_REVISION_TOPIC=void 0;e("core-js/modules/es.array.map.js");var o=i(e("../safe_require"));var s;function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t,r){t=l(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}o.default.safe_register("./constants/locations",r);var c="Live";r.LIVE_ENVIRONMENT_DISPLAY=c;var f="Development";r.DEVELOPMENT_ENVIRONMENT_DISPLAY=f;var d=[c,f];r.ENVIRONMENTS=d;var p="live";r.LIVE_VERSION=p;var _="test";r.TEST_VERSION=_;var m=[p,_,f,c].map((function(e){return e.toLowerCase()}));r.RESERVED_VERSION_NAMES=m;var y="pending_template";r.PENDING_TEMPLATE_VERSION=y;var v="published_template";r.PUBLISHED_TEMPLATE_VERSION=v;var b="breaking_revision";r.BREAKING_REVISION_TOPIC=b;var h=[p,_];r.OKAY_VERSIONS=h;var j=[y,v];r.TEMPLATE_VERSIONS=j;var g="version-";r.VERSION_PATH_PREFIX=g;var w="Live";r.LIVE_VERSION_DISPLAY=w;var O="Development";r.TEST_VERSION_DISPLAY=O;var S="hotfix";r.HOTFIX_VERSION_DISPLAY=S;var k="Main";r.MAIN_VERSION_DISPLAY=k;var A=(s={},a(s,_,O),a(s,p,w),s);r.VERSIONS_DISPLAY=A;var E="This is your default development branch. Make changes here, and deploy them to Live.";r.DEFAULT_TEST_NO_VC_DESCRIPTION=E;var x="This is your default deployment branch. Make changes and test them in custom branches, then merge into Main and deploy from Main to Live.";r.DEFAULT_TEST_VC_DESCRIPTION=x;var M="This is your live site on the web.";r.DEFAULT_LIVE_DESCRIPTION=M;var P="This is your custom branch #BRANCHNAME. Make changes here, and merge them into Main for deployment. You can customize this description.";r.DEFAULT_CUSTOM_BRANCH_DESCRIPTION=P;var T="Use this branch to make urgent bug fixes or time-sensitive changes, and deploy them directly to Live.";r.DEFAULT_HOTFIX_DESCRIPTION=T},{"../safe_require":643,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],83:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.UPCOMING_BREAKING_CHANGE_MSG=r.STACK_OMITTED=r.SPECIAL_LOGGING_PROCS=r.PLUGIN_PAGE_HEADER_PREFIX=r.PLUGIN_MAIN_HEADER_PREFIX=r.LOG_LARGE_UPSERTS_TEXT_THRESHOLD=r.LOG_LARGE_UPSERTS_LIST_THRESHOLD=r.LEVEL_SEVERITY=r.CUSTOM_PAGE_HEADER_TAG=r.CUSTOM_APP_HEADER_TAG=r.AREAS=r.ALL_LEVELS=r.ALLOWED_ERRORS_IN_TESTS=void 0;var o=a(e("./redis"));var s=a(e("./postgres_pool"));function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(i=function e(n){return n?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=i(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var l=s?Object.getOwnPropertyDescriptor(e,a):null;if(l&&(l.get||l.set)){Object.defineProperty(o,a,l)}else{o[a]=e[a]}}}o.default=e;if(r){r.set(e,o)}return o}var l=["debug","verbose","info","warn","error","fatal"];r.ALL_LEVELS=l;var u={debug:0,verbose:1,info:2,warn:3,error:4,fatal:5};r.LEVEL_SEVERITY=u;var c=512*1024;r.LOG_LARGE_UPSERTS_TEXT_THRESHOLD=c;var f=5e3;r.LOG_LARGE_UPSERTS_LIST_THRESHOLD=f;var d=function(e){e["cloudflare"]="cloudflare";e["cron"]="cron";e["fibers"]="fibers";e["logging"]="logging";e["metrics"]="metrics";e["notifier"]="notifier";e["percolator"]="percolator";e["postgres"]="postgres";e["pregenerate"]="pregenerate";e["redis"]="redis";e["scheduler"]="scheduler";e["server"]="server";e["threads"]="threads";e["workflow"]="workflow";return e}({});r.AREAS=d;var p={add_mapping:true,cancel_all_tasks:true,delete:true,delete_app:true,finish_task:true,multi_upsert:true,rewind_app:true,schedule_task:true,upsert:true};r.SPECIAL_LOGGING_PROCS=p;var _="app affected by breaking change";r.UPCOMING_BREAKING_CHANGE_MSG=_;var m=[o.SLOW_CALL_MSG,o.SLOW_LOG_MSG,s.POOL_QUERY_OVER_THRESHOLD_MSG,s.ZERO_CLIENTS_NO_SLOTS_MSG,s.TIMEOUT_QUERY_MSG,s.PG_CLIENT_ERR_MSG,s.PG_CLIENT_DESTRUCTION_ERR,s.PG_CLIENT_CANNOT_CONNECT_ERR];r.ALLOWED_ERRORS_IN_TESTS=m;var y="plugin_main_headers_";r.PLUGIN_MAIN_HEADER_PREFIX=y;var v="plugin_page_headers_";r.PLUGIN_PAGE_HEADER_PREFIX=v;var b="custom_page_header";r.CUSTOM_PAGE_HEADER_TAG=b;var h="custom_app_header";r.CUSTOM_APP_HEADER_TAG=h;var j="stack omitted";r.STACK_OMITTED=j},{"./postgres_pool":88,"./redis":89,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],84:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.SearchNotificationTopic=r.NotificationTopic=r.LastChangeTopic=r.EditorUidTopic=r.BreakingRevisionTopic=r.BranchesListTopic=r.AppUsageTopic=r.AppUsagePlanChangedTopic=r.AppSettingTopic=r.AppPlanChangeTopic=void 0;var n="id-update-";r.NotificationTopic=n;var o="search-update";r.SearchNotificationTopic=o;var s="usage-update-";r.AppUsageTopic=s;var i="last-change-";r.LastChangeTopic=i;var a="app-plan-update-";r.AppPlanChangeTopic=a;var l="breaking_revision";r.BreakingRevisionTopic=l;var u="branches-list-";r.BranchesListTopic=u;var c="editor-uid-";r.EditorUidTopic=c;var f="app-setting-";r.AppSettingTopic=f;var d="usage-plan-update-";r.AppUsagePlanChangedTopic=d},{}],85:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ALL_OPTIONS=void 0;var n="all values";r.ALL_OPTIONS=n},{}],86:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.TYPES_TAG_TYPE=r.TYPES=r.THIRD_PARTY_TAG_NAME=r.TAG_TYPE_TO_NAMES=r.PREMIUM_TAG_TYPE=r.PREMIUM_TAG_NAME=r.PLUGIN_TAGS=r.PLUGIN_SEPARATOR=r.PLUGIN_CODE_SRC_PREFIX=r.OFFICIAL_TAG_NAME=r.NO_CREATOR_NAME=r.MAX_FUNCTION_PAYLOAD_LENGTH=r.LICENSE_PRIVATE=r.LICENSE_OPEN_SOURCE=r.LICENSE_COMMERCIAL=r.LEGAL_NODE_VERSIONS=r.LEGACY_NO_CREATOR_NAME=r.KEYS_THAT_CONTAIN_IDS=r.FREE_TAG_NAME=r.CATEGORIES_TAG_TYPE=r.CATEGORIES=r.BUILT_BY_TAG_TYPE=r.BUBBLE_TEAM_MEMBER_IDS=r.ALLOWED_DEPENDENCIES=void 0;e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n=a(e("../safe_require"));var o=e("./byte");var s,i;function a(e){return e&&e.__esModule?e:{default:e}}function l(e){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t,r){t=c(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function c(e){var t=f(e,"string");return l(t)==="symbol"?t:String(t)}function f(e,t){if(l(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}n.default.safe_register("./constants/plugin",r);var d="built_by";r.BUILT_BY_TAG_TYPE=d;var p="premium";r.PREMIUM_TAG_TYPE=p;var _="types";r.TYPES_TAG_TYPE=_;var m="categories";r.CATEGORIES_TAG_TYPE=m;var y="Official";r.OFFICIAL_TAG_NAME=y;var v="Third-party developers";r.THIRD_PARTY_TAG_NAME=v;var b="free";r.FREE_TAG_NAME=b;var h="premium";r.PREMIUM_TAG_NAME=h;var j={Analytics:"analytics",ArtificialIntelligence:"artificial intelligence (AI)",Blog:"blog",Compliance:"compliance",Containers:"containers",CustomerSupport:"customer support",DataThings:"data (things)",Ecommerce:"ecommerce",Email:"email",HealthAndFitness:"health & fitness",InputForms:"input forms",Internationalization:"internationalization",Location:"location",Media:"media",Mobile:"mobile",News:"news",Payment:"payment",Productivity:"productivity",SmallBusiness:"small business",SocialNetwork:"social network",Technical:"technical",Testing:"testing",Video:"video",VisualElements:"visual elements",WebScraping:"web scraping"};r.CATEGORIES=j;var g={Action:"action",Api:"api",BackgroundServices:"background services",Element:"element",Event:"event",LoginService:"login service",Storage:"storage"};r.TYPES=g;var w=(s={},u(s,d,[y,v]),u(s,p,[b,h]),s);r.TAG_TYPE_TO_NAMES=w;var O=(i={},u(i,_,g),u(i,m,j),u(i,d,w[d]),u(i,p,w[p]),i);r.PLUGIN_TAGS=O;var S="-";r.PLUGIN_SEPARATOR=S;var k=["1339510945575x284965680912137020","bubble-1571682061136x385876099972947800"];r.BUBBLE_TEAM_MEMBER_IDS=k;var A=["actions","actions.fields","events","fields","states"];r.KEYS_THAT_CONTAIN_IDS=A;var E=["use_jquery","plugin_api_version"];r.ALLOWED_DEPENDENCIES=E;var x=6*o.MEBIBYTE;r.MAX_FUNCTION_PAYLOAD_LENGTH=x;var M="(no name provided)";r.NO_CREATOR_NAME=M;var P="Bubble user";r.LEGACY_NO_CREATOR_NAME=P;var T="PLUGIN_";r.PLUGIN_CODE_SRC_PREFIX=T;var I="commercial";r.LICENSE_COMMERCIAL=I;var C="private";r.LICENSE_PRIVATE=C;var R="open_source";r.LICENSE_OPEN_SOURCE=R;var N=[14,16];r.LEGAL_NODE_VERSIONS=N},{"../safe_require":643,"./byte":63,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],87:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.INITIAL_POPUP_TOP=r.HORIZONTAL_SPACING=r.FILL_POPUP_BOTTOM=void 0;var n=10;r.HORIZONTAL_SPACING=n;var o=20;r.INITIAL_POPUP_TOP=o;var s=50;r.FILL_POPUP_BOTTOM=s},{}],88:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.mapping_error_regex=r.ZERO_CLIENTS_NO_SLOTS_MSG=r.USER_REQUESTED_CANCEL_CODE=r.USERDB_NAME=r.TIMEOUT_QUERY_MSG=r.TIMEOUT_MSG=r.STRING_TOO_LONG_FOR_TSVECTOR=r.SOURCE_DOES_NOT_EXIST=r.RELATION_DOES_NOT_EXIST=r.QUERY_TIMEOUTS=r.POOL_QUERY_OVER_THRESHOLD_MSG=r.PLV8_EXECUTION_ERROR_CODE=r.PG_CLIENT_ERR_PROPAGATED_MSG=r.PG_CLIENT_ERR_MSG=r.PG_CLIENT_DESTRUCTION_ERR=r.PG_CLIENT_CANNOT_CONNECT_ERR=r.PERCOLATE_NAME=r.MULTI_UPSERT_RETRY_WARN_THRESHOLD=r.MULTI_UPSERT_RETRY_SPEND_TIME_MS=r.MULTI_UPSERT_MIN_EXP_BACKOFF_MS=r.MULTI_UPSERT_MAX_EXP_BACKOFF_MS=r.MAGIC_POOL_READY_STRING=r.DEFAULT_QUERY_NAME=r.CONCURRENT_TRANSACTION_ERROR_CODE=r.APP_ALREADY_EXISTS=r.APPSERVER_NAME=void 0;var n={upsert:1e4,get:1e4,search:1e4,group_by:1e4,aggregate:1e4,aggregate_sql:1e4,percolate:1e4,watch_search:1e4,set_ttl:1e4,mget:1e4,evaluate_search:1e4,check_next_run:1e4,check_operation_state:6e4,delete_app:6e4,add_mapping:6e4,build_concurrent_index:6e4,clear_expired:6e4,clear_searches:6e4,clean_app_references:6e4,clean_deletions:6e4,last_snapshot_time:5e3,get_restore_history:5e3,add_new_annotation:5e3,get_id_counter:5e3,delete_metadata2:5e3,list_apps_by_plugin:5e3,get_plugin_count:5e3,list_plugins_by_count:5e3,read_keys:5e3,read_path:5e3,read_paths:5e3,write_changes2:5e3,snapshot:3e4,delete_app_version:3e4,restore_to:3e4,find_unowned_apps:3e4,copy_app_version:3e4,remove_old_history:3e4,get_indexes:2e4,list_changes:2e4};r.QUERY_TIMEOUTS=n;var o=250;r.MULTI_UPSERT_MIN_EXP_BACKOFF_MS=o;var s=4e3;r.MULTI_UPSERT_MAX_EXP_BACKOFF_MS=s;var i=30;r.MULTI_UPSERT_RETRY_WARN_THRESHOLD=i;var a=10;r.MULTI_UPSERT_RETRY_SPEND_TIME_MS=a;var l="Pool query over threshold";r.POOL_QUERY_OVER_THRESHOLD_MSG=l;var u="postgres_pool.coffee: ready clients and empty clients at 0";r.ZERO_CLIENTS_NO_SLOTS_MSG=u;var c="postgres_pool.coffee: query exceeded timeout";r.TIMEOUT_MSG=c;var f="postgres_pool.coffee: timing out query";r.TIMEOUT_QUERY_MSG=f;var d="Postgres pool: client got an unhandled error";r.PG_CLIENT_ERR_MSG=d;var p="destroying client that had an unhandled error";r.PG_CLIENT_ERR_PROPAGATED_MSG=p;var _="Destroying client due to unexpected error";r.PG_CLIENT_DESTRUCTION_ERR=_;var m="Postgres pool: unable to connect";r.PG_CLIENT_CANNOT_CONNECT_ERR=m;var y="42P01";r.RELATION_DOES_NOT_EXIST=y;var v="57014";r.USER_REQUESTED_CANCEL_CODE=v;var b="App already exists, cannot copy";r.APP_ALREADY_EXISTS=b;var h="Source app does not exist";r.SOURCE_DOES_NOT_EXIST=h;var j=/MAPPING:([^\n]+)/;r.mapping_error_regex=j;var g="XX000";r.PLV8_EXECUTION_ERROR_CODE=g;var w="40001";r.CONCURRENT_TRANSACTION_ERROR_CODE=w;var O="54000";r.STRING_TOO_LONG_FOR_TSVECTOR=O;var S="percolatedb";r.PERCOLATE_NAME=S;var k="userdb";r.USERDB_NAME=k;var A="appserver";r.APPSERVER_NAME=A;var E="POOL_READY";r.MAGIC_POOL_READY_STRING=E;var x="unnamed_query";r.DEFAULT_QUERY_NAME=x},{}],89:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.STATES=r.SLOW_LOG_MSG=r.SLOW_CALL_MSG=r.INSTANCE_NAMES=r.GEOCACHE_PREFIX=void 0;var n=function(e){e["SMALL"]="small";e["WORKFLOW"]="workflow";e["BIG"]="big";e["ELASTICSEARCH"]="elasticsearch";e["CACHE"]="cache";return e}({});r.INSTANCE_NAMES=n;var o="redis slow call";r.SLOW_CALL_MSG=o;var s="redis log call";r.SLOW_LOG_MSG=s;var i=function(e){e["STARTING"]="starting";e["AVAILABLE"]="available";e["IN_USE"]="in_use";e["TERMINATING"]="terminating";e["EMPTY"]="empty";return e}({});r.STATES=i;var a="geo_cache_";r.GEOCACHE_PREFIX=a},{}],90:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.WORKFLOW_ROUTE=r.USER_ROUTE=r.TEST_CREATION_ROUTE=r.STATIC_ROUTE=r.PLUGIN_ROUTE=r.PAGE_ROUTE=r.PACKAGER_ROUTE=r.ILLEGAL_PAGE_NAMES=r.FILEUPLOAD_ROUTE=r.DCV_ROUTE=r.DATA_ROUTE=r.BUG_ROUTE=r.APP_EDITOR_ROUTE=r.API_SERVICE_ROUTE=r.API_ROUTE=void 0;var n="api";r.API_ROUTE=n;var o="apiservice";r.API_SERVICE_ROUTE=o;var s="appeditor";r.APP_EDITOR_ROUTE=s;var i="bug";r.BUG_ROUTE=i;var a="elasticsearch";r.DATA_ROUTE=a;var l=".well-known";r.DCV_ROUTE=l;var u="fileupload";r.FILEUPLOAD_ROUTE=u;var c="package";r.PACKAGER_ROUTE=c;var f="";r.PAGE_ROUTE=f;var d="pluginserver";r.PLUGIN_ROUTE=d;var p="static";r.STATIC_ROUTE=p;var _="versioncontrol";r.TEST_CREATION_ROUTE=_;var m="user";r.USER_ROUTE=m;var y="workflow";r.WORKFLOW_ROUTE=y;var v=[n,o,s,i,a,l,u,c,f,d,p,_,m,y];r.ILLEGAL_PAGE_NAMES=v},{}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.POPUP_ZINDEX=r.MAX_POPUP_ZINDEX=r.FLOATING_GROUP_ZINDEX_OFFSET=r.CLICKABLE_ELEMENT=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/runmode",r);var s="clickable-element";r.CLICKABLE_ELEMENT=s;var i=2002;r.POPUP_ZINDEX=i;var a=i+100;r.MAX_POPUP_ZINDEX=a;var l=500;r.FLOATING_GROUP_ZINDEX_OFFSET=l},{"../safe_require":643}],92:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.USER_FIELDS=r.SOCIAL=r.SECURABLE_PREFIX=r.EMAIL=r.DATE_FIELDS=r.CREATOR_FIELD=r.BUILTIN_FIELDS=r.BUILTIN_CUSTOM_FIELDS=void 0;e("core-js/modules/es.array.concat.js");var n="email";r.EMAIL=n;var o="_social_networks";r.SOCIAL=o;var s=[{display:"email",value:n},{display:"Social Networks",value:o}];r.USER_FIELDS=s;var i=[{display:"Created Date",value:"Created Date"},{display:"Modified Date",value:"Modified Date"}];r.DATE_FIELDS=i;var a=[{display:"Created By",value:"Created By"}];r.CREATOR_FIELD=a;var l="securable_";r.SECURABLE_PREFIX=l;var u=["Created Date","Modified Date","Created By","Slug"];r.BUILTIN_CUSTOM_FIELDS=u;var c=[].concat(u,[n,o]);r.BUILTIN_FIELDS=c},{"core-js/modules/es.array.concat.js":926}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.STYLES_VARIABLE_EDITED=r.STYLES_VARIABLE_DELETED=r.STYLES_VARIABLE_CREATED=r.STYLES_VARIABLES_TAB_CLICKED=r.SERVER_CAPACITY_USAGE_FILTER_SET=r.SERVER_CAPACITY_USAGE_DETAILS_PIE_CHART_CLICKED=r.REDIRECTED_TO_STRIPE_CHECKOUT=r.PREVIEW_VIEWED=r.POINT_IN_PERCENTAGE_OF_DESIGNATED_TIME_CLICKED=r.POINT_IN_AVERAGE_CPU_USAGE_CLICKED=r.PLUGIN_UNINSTALLED=r.PLUGIN_INSTALLED=r.PLUGIN_EDITOR_SUBMIT_NEW_VERSION=r.PAYWALL_MODAL_PLAN_UPGRADE_CLICKED=r.PAYWALL_MODAL_PLAN_DOWNGRADE_CLICKED=r.PAYWALL_MODAL_PLAN_CHOSEN=r.PAYWALL_MODAL_OPENED=r.OPTION_SET_GUIDED_SETUP_SKIP_CLICKED=r.OPTION_SET_GUIDED_SETUP_CREATION_SOURCE=r.OPTION_SET_GUIDED_SETUP_CLICKED=r.OPTION_SET_EDITOR_CREATION_SOURCE=r.OPTION_SET_CREATED=r.OPTION_SET_ATTRIBUTE_CREATED=r.MASONRY_GRID_SETTING_CLICKED=r.HTML_UPLOAD_EVENT=r.HELP_OPENED=r.HELP_ITEM_CLICKED=r.GB_X_OUT_CLICKED=r.GB_START_EDIT_WORKFLOW_ON_SIGNUP_POPUP_CLICKED=r.GB_START_EDIT_WF_ON_SIGNUP_HEADER_CLICKED=r.GB_SIGN_USER_UP_CLICKED=r.GB_SIGNUP_ON_POPUP_CLICKED=r.GB_SIGNUP_ON_HEADER_CLICKED=r.GB_SHOW_ELEMENT_CLICKED=r.GB_SET_TO_COLUMN_CLICKED=r.GB_PREVIEW_CLICKED=r.GB_POPUP_SIGNUP_DRAGGED=r.GB_KEEP_AS_IS_COLUMN_CLICKED=r.GB_HEADER_COMPONENT_DRAGGED=r.GB_FINISH_ON_CONGRATS_CLICKED=r.GB_ENTRY_NO_THANKS_CLICKED=r.GB_ENTRY_GET_STARTED_CLICKED=r.GB_ELEMENT_POPUP_SIGNUP_LOGIN_SELECTED=r.GB_DONE_CLICKED=r.GB_DATA_FIELDS_ON_SIGNUP_COMPLETED=r.GB_CONTINUE_ON_WORKFLOW_TAB_INTRO_CLICKED=r.GB_CONTINUE_ON_INDEX_PE_CLICKED=r.GB_CONTINUE_ON_ALMOST_THERE_CLICKED=r.GB_CONTINUE_NAME_FIELD_CREATED_CLICKED=r.GB_CONTINUE_HIDE_ELEMENT_ACTION_CLICKED=r.GB_CONTINUE_FINAL_ACTIONS_WF_CLICKED=r.GB_ADD_ACTION_FOR_SIGN_USER_UP_CLICKED=r.GB_ADD_ACTION_FOR_SHOW_ELEMENT_CLICKED=r.FREE_TRIAL_CREATED_FROM_CLIENT=r.FREE_TRIAL_CANCELED=r.FIRST_SUBSCRIPTION=r.ELEMENT_TEMPLATE_USED=r.ELEMENT_STYLE_EDITED=r.EDITOR_VISIT=r.DYNAMIC_EXPRESSION_EDITED=r.DETACH_REUSABLE_CLICKED=r.DEPLOY_TO_LIVE_CLICKED=r.DEPLOY_FAILURE_MODAL_SEEN=r.DAILY_EDITOR_VISIT=r.CREATE_VARIABLE_CLICKED=r.COMPONENT_LIBRARY_ONBOARDING_VIEWED=r.COMPONENT_LIBRARY_MENU_CLICKED=r.COMPONENT_CREATED=r.COLOR_PICKER_VALUE_SET=r.CHECKOUT_OPENED=r.CHECKOUT_COMPLETED=r.CAPACITY_USAGE_ANALYTICS_CLOSED=r.APP_PLAN_CONFIRM_CLICKED=r.APP_ASSIST_PLUGIN_NEXT_CLICKED=r.APP_ASSIST_PLUGIN_EDITED=r.APP_ASSIST_PLUGIN_CLICKED=r.APP_ASSIST_LANGUAGE_NEXT_CLICKED=r.APP_ASSIST_LANGUAGE_EDITED=r.APP_ASSIST_FONT_NEXT_CLICKED=r.APP_ASSIST_FONT_EDITED=r.APP_ASSIST_FAVICON_NEXT_CLICKED=r.APP_ASSIST_FAVICON_EDITED=r.APP_ASSIST_COMPLETED_CLICKED=r.APP_ASSIST_COMPLETED=r.APP_ASSIST_COLOR_NEXT_CLICKED=r.APP_ASSIST_COLOR_EDITED=r.APP_ASSIST_CLOSE_CLICKED=r.APP_ASSIST_BROWSER_NEXT_CLICKED=r.APP_ASSIST_BROWSER_EDITED=r.APP_ASSIST_BACK_CLICKED=r.APP_ASSIST_API_NEXT_CLICKED=r.APP_ASSIST_API_CLICKED=r.API_CONNECTOR_INITIALIZE_CALL_SUCCESS=r.API_CONNECTOR_INITIALIZE_CALL_FAILURE=r.API_CONNECTOR_INITIALIZE_CALL_CLICKED=r.API_CONNECTOR_ADD_CALL_CLICKED=r.ACTUALLY_BUILDING_20=r.ACTUALLY_BUILDING_2=r.ACTUALLY_BUILDING_10=r.ACTUALLY_BUILDING=void 0;r.YOUTUBE_VIDEO_RATE_CHANGED=r.YOUTUBE_VIDEO_QUALITY_CHANGED=r.YOUTUBE_VIDEO_PLAYING=r.YOUTUBE_VIDEO_PAUSED=r.YOUTUBE_VIDEO_ENDED=r.YOUTUBE_VIDEO_CUED=r.YOUTUBE_VIDEO_BUFFER=r.WORKLOAD_PIE_CHART_CLICKED=r.WORKLOAD_BAR_CHART_CLICKED=r.VERIFY_SENDGRID_CLICKED=r.VC_UPGRADE_CTA=r.VC_UPDATE_TO_REDESIGN=r.VC_SIDEPANEL_MORE_ACTIONS_MENU_USED=r.VC_SIDEPANEL_MORE_ACTIONS_MENU_OPENED=r.VC_SIDEPANEL_INTERACTION=r.VC_SIDEPANEL_ENGAGEMENT=r.VC_SAVEPOINT_CREATED=r.VC_COPY_LIVE=r.VC_BRANCH_REVERTED=r.VC_BRANCH_NAVIGATED=r.VC_BRANCH_MERGE_COMPLETED=r.VC_BRANCH_MERGE_CANCELED=r.VC_BRANCH_MERGED=r.VC_BRANCH_DEPLOYED=r.VC_BRANCH_DELETED=r.VC_BRANCH_CREATED=r.USER_SUBSCRIBED_TO_PLAN=r.USER_APP_TRANSFERRED=r.TRIAL_BUTTON_CLICKED=r.TOOLBAR_ELEMENTS=r.TOOLBAR_CLICKED=r.STYLE_VALUE_RESET=r.STYLE_VALUE_OVERRIDDEN=void 0;var n="actually building";r.ACTUALLY_BUILDING=n;var o="actually building 2";r.ACTUALLY_BUILDING_2=o;var s="actually building 10";r.ACTUALLY_BUILDING_10=s;var i="actually building 20";r.ACTUALLY_BUILDING_20=i;var a="Deploy To Live Button Clicked";r.DEPLOY_TO_LIVE_CLICKED=a;var l=" Deploy Failure Modal Seen";r.DEPLOY_FAILURE_MODAL_SEEN=l;var u="editor visit";r.EDITOR_VISIT=u;var c="daily editor visit";r.DAILY_EDITOR_VISIT=c;var f="Help Item Clicked";r.HELP_ITEM_CLICKED=f;var d="Help Opened";r.HELP_OPENED=d;var p="Preview Viewed";r.PREVIEW_VIEWED=p;var _="Toolbar Clicked";r.TOOLBAR_CLICKED=_;var m={cursor:"Cursor Icon",undo:"Undo Button",redo:"Redo Button",grid_dropdown:"Grid Settings Menu",arrange_menu:"Arrange Menu",version_dropdown:"Version Menu",logo:"Bubble Logo",releases:"Releases Icon",edit:"Edit Menu",user_menu:"User Icon",project_menu:"Project Menu",login:"Login Button",search:"Search Icon",element_picker:"Element/Workflow Picker",selected_element:"Selected Element",selected_workflow:"Selected Workflow",feedback:"Feedback Icon"};r.TOOLBAR_ELEMENTS=m;var y="Trial button clicked";r.TRIAL_BUTTON_CLICKED=y;var v="Verify SendGrid button clicked";r.VERIFY_SENDGRID_CLICKED=v;var b="Component Onboarding Hoverable Viewed";r.COMPONENT_LIBRARY_ONBOARDING_VIEWED=b;var h="Element template added to editor canvas";r.ELEMENT_TEMPLATE_USED=h;var j="Detach reusable clicked";r.DETACH_REUSABLE_CLICKED=j;var g="Masonry Grid Setting Clicked";r.MASONRY_GRID_SETTING_CLICKED=g;var w="FirstSubscription (client)";r.FIRST_SUBSCRIPTION=w;var O="Free Trial created (client)";r.FREE_TRIAL_CREATED_FROM_CLIENT=O;var S="App Assist - Browser Next Clicked";r.APP_ASSIST_BROWSER_NEXT_CLICKED=S;var k="App Assist - Language Next Clicked";r.APP_ASSIST_LANGUAGE_NEXT_CLICKED=k;var A="App Assist - Favicon Next Clicked";r.APP_ASSIST_FAVICON_NEXT_CLICKED=A;var E="App Assist - API Next Clicked";r.APP_ASSIST_API_NEXT_CLICKED=E;var x="App Assist - Font Next Clicked";r.APP_ASSIST_FONT_NEXT_CLICKED=x;var M="App Assist - Color Next Clicked";r.APP_ASSIST_COLOR_NEXT_CLICKED=M;var P="App Assist - Plugin Next Clicked";r.APP_ASSIST_PLUGIN_NEXT_CLICKED=P;var T="App Assist - Back Clicked";r.APP_ASSIST_BACK_CLICKED=T;var I="App Assist - Browser Edited";r.APP_ASSIST_BROWSER_EDITED=I;var C="App Assist - Language Edited";r.APP_ASSIST_LANGUAGE_EDITED=C;var R="App Assist - Favicon Edited";r.APP_ASSIST_FAVICON_EDITED=R;var N="App Assist - Font Edited";r.APP_ASSIST_FONT_EDITED=N;var L="App Assist - Color Edited";r.APP_ASSIST_COLOR_EDITED=L;var z="App Assist - Plugin Edited";r.APP_ASSIST_PLUGIN_EDITED=z;var D="App Assist - Plugin Clicked";r.APP_ASSIST_PLUGIN_CLICKED=D;var q="App Assist - API Clicked";r.APP_ASSIST_API_CLICKED=q;var B="App Assist - Completed Clicked";r.APP_ASSIST_COMPLETED_CLICKED=B;var U="App Assist - Close Assistant Clicked";r.APP_ASSIST_CLOSE_CLICKED=U;var W="completed new app assistant";r.APP_ASSIST_COMPLETED=W;var F="API Connector - Initialize Call clicked";r.API_CONNECTOR_INITIALIZE_CALL_CLICKED=F;var G="API Connector - Initialize Call success";r.API_CONNECTOR_INITIALIZE_CALL_SUCCESS=G;var X="API Connector - Initialize Call failure";r.API_CONNECTOR_INITIALIZE_CALL_FAILURE=X;var $="API Connector - Add Call clicked";r.API_CONNECTOR_ADD_CALL_CLICKED=$;var V="Option Set Created";r.OPTION_SET_CREATED=V;var H="Option Set Attribute Created";r.OPTION_SET_ATTRIBUTE_CREATED=H;var Y="Option Set Guided Setup Clicked";r.OPTION_SET_GUIDED_SETUP_CLICKED=Y;var K="Option Set Guided Setup Skip Clicked";r.OPTION_SET_GUIDED_SETUP_SKIP_CLICKED=K;var J="editor";r.OPTION_SET_EDITOR_CREATION_SOURCE=J;var Z="guided setup";r.OPTION_SET_GUIDED_SETUP_CREATION_SOURCE=Z;var Q="Paywall Modal Opened";r.PAYWALL_MODAL_OPENED=Q;var ee="Paywall Modal Plan Chosen";r.PAYWALL_MODAL_PLAN_CHOSEN=ee;var te="Paywall Modal Plan Upgrade Clicked";r.PAYWALL_MODAL_PLAN_UPGRADE_CLICKED=te;var re="Paywall Modal Plan Downgrade Clicked";r.PAYWALL_MODAL_PLAN_DOWNGRADE_CLICKED=re;var ne="Plugin editor - Submit a New Version";r.PLUGIN_EDITOR_SUBMIT_NEW_VERSION=ne;var oe="Server capacity usage filter set (start or end)";r.SERVER_CAPACITY_USAGE_FILTER_SET=oe;var se="Point in percentage of designated time clicked";r.POINT_IN_PERCENTAGE_OF_DESIGNATED_TIME_CLICKED=se;var ie="Point in Average CPU usage clicked";r.POINT_IN_AVERAGE_CPU_USAGE_CLICKED=ie;var ae="Capacity Usage Analytics - Closed";r.CAPACITY_USAGE_ANALYTICS_CLOSED=ae;var le="Server capacity usage details - pie chart clicked";r.SERVER_CAPACITY_USAGE_DETAILS_PIE_CHART_CLICKED=le;var ue="Workload Pie Chart clicked";r.WORKLOAD_PIE_CHART_CLICKED=ue;var ce="Workload Bar chart clicked";r.WORKLOAD_BAR_CHART_CLICKED=ce;var fe="App Plan Confirm Clicked";r.APP_PLAN_CONFIRM_CLICKED=fe;var de="Stripe Checkout Opened";r.CHECKOUT_OPENED=de;var pe="Stripe Checkout Completed";r.CHECKOUT_COMPLETED=pe;var _e="Directed to Stripe Checkout";r.REDIRECTED_TO_STRIPE_CHECKOUT=_e;var me="Trial Canceled";r.FREE_TRIAL_CANCELED=me;var ye="User subscribed to plan";r.USER_SUBSCRIBED_TO_PLAN=ye;var ve="Component Added to Page";r.COMPONENT_CREATED=ve;var be="Component Library Menu Clicked";r.COMPONENT_LIBRARY_MENU_CLICKED=be;var he="Styles Variables Tab Clicked";r.STYLES_VARIABLES_TAB_CLICKED=he;var je="Styles Variable Edited";r.STYLES_VARIABLE_EDITED=je;var ge="Create Variable Clicked";r.CREATE_VARIABLE_CLICKED=ge;var we="Styles Variable Created";r.STYLES_VARIABLE_CREATED=we;var Oe="Styles Variable Deleted";r.STYLES_VARIABLE_DELETED=Oe;var Se="Color Picker Value Set";r.COLOR_PICKER_VALUE_SET=Se;var ke="Element Style Edited";r.ELEMENT_STYLE_EDITED=ke;var Ae="Element Style Value Overridden";r.STYLE_VALUE_OVERRIDDEN=Ae;var Ee="Element Style Value Reset";r.STYLE_VALUE_RESET=Ee;var xe="Dynamic expression edited";r.DYNAMIC_EXPRESSION_EDITED=xe;var Me="Plugin Installed";r.PLUGIN_INSTALLED=Me;var Pe="Plugin Uninstalled";r.PLUGIN_UNINSTALLED=Pe;var Te="Version control side panel used";r.VC_SIDEPANEL_INTERACTION=Te;var Ie="Version control more actions menu clicked";r.VC_SIDEPANEL_MORE_ACTIONS_MENU_OPENED=Ie;var Ce="Version control more actions menu engagement";r.VC_SIDEPANEL_MORE_ACTIONS_MENU_USED=Ce;var Re="Version control side panel engagement";r.VC_SIDEPANEL_ENGAGEMENT=Re;var Ne="Version control branch created";r.VC_BRANCH_CREATED=Ne;var Le="Version control branch deleted";r.VC_BRANCH_DELETED=Le;var ze="Version control merge started";r.VC_BRANCH_MERGED=ze;var De="Version control merge canceled";r.VC_BRANCH_MERGE_CANCELED=De;var qe="Version control merge completed";r.VC_BRANCH_MERGE_COMPLETED=qe;var Be="Version control branch navigated";r.VC_BRANCH_NAVIGATED=Be;var Ue="Version control branch deployed to Live";r.VC_BRANCH_DEPLOYED=Ue;var We="Version control branch reverted";r.VC_BRANCH_REVERTED=We;var Fe="Version control upgrade cta clicked";r.VC_UPGRADE_CTA=Fe;var Ge="Version control custom savepoint created";r.VC_SAVEPOINT_CREATED=Ge;var Xe="Version control reset to Live";r.VC_COPY_LIVE=Xe;var $e="Version control update to redesign";r.VC_UPDATE_TO_REDESIGN=$e;var Ve="User Transferred An App";r.USER_APP_TRANSFERRED=Ve;var He="Youtube video ended";r.YOUTUBE_VIDEO_ENDED=He;var Ye="Youtube video playing";r.YOUTUBE_VIDEO_PLAYING=Ye;var Ke="Youtube video buffering";r.YOUTUBE_VIDEO_BUFFER=Ke;var Je="Youtube video cued";r.YOUTUBE_VIDEO_CUED=Je;var Ze="Youtube video paused";r.YOUTUBE_VIDEO_PAUSED=Ze;var Qe="Youtube video playback rate changed";r.YOUTUBE_VIDEO_RATE_CHANGED=Qe;var et="Youtube video playback quality changed";r.YOUTUBE_VIDEO_QUALITY_CHANGED=et;var tt="GB - Entry Get Started Clicked";r.GB_ENTRY_GET_STARTED_CLICKED=tt;var rt="GB - Entry No Thanks Clicked";r.GB_ENTRY_NO_THANKS_CLICKED=rt;var nt="GB - Set to Column Clicked";r.GB_SET_TO_COLUMN_CLICKED=nt;var ot="GB - Keep as Column Clicked";r.GB_KEEP_AS_IS_COLUMN_CLICKED=ot;var st="GB - Continue on Index PE Clicked";r.GB_CONTINUE_ON_INDEX_PE_CLICKED=st;var it="GB - Header Component Dragged";r.GB_HEADER_COMPONENT_DRAGGED=it;var at="GB - Popup Sign Up Dragged";r.GB_POPUP_SIGNUP_DRAGGED=at;var lt="GB - Sign Up on Popup Clicked";r.GB_SIGNUP_ON_POPUP_CLICKED=lt;var ut="GB - Start/Edit Workflow on Sign Up Popup Clicked";r.GB_START_EDIT_WORKFLOW_ON_SIGNUP_POPUP_CLICKED=ut;var ct="GB - Continue on Workflow Tab Intro Clicked";r.GB_CONTINUE_ON_WORKFLOW_TAB_INTRO_CLICKED=ct;var ft="GB - Add an Action for Sign the User Up Clicked";r.GB_ADD_ACTION_FOR_SIGN_USER_UP_CLICKED=ft;var dt='GB - "Sign the User Up" Clicked';r.GB_SIGN_USER_UP_CLICKED=dt;var pt="GB - Continue Name Field Created Clicked";r.GB_CONTINUE_NAME_FIELD_CREATED_CLICKED=pt;var _t="GB - Data Fields on Sign Up Completed";r.GB_DATA_FIELDS_ON_SIGNUP_COMPLETED=_t;var mt="GB - Continue Hide an Element Action Clicked";r.GB_CONTINUE_HIDE_ELEMENT_ACTION_CLICKED=mt;var yt="GB - Continue on Almost There Clicked";r.GB_CONTINUE_ON_ALMOST_THERE_CLICKED=yt;var vt="GB - Sign Up on Header Clicked";r.GB_SIGNUP_ON_HEADER_CLICKED=vt;var bt="GB - Start/Edit Workflow on Sign Up Header Clicked";r.GB_START_EDIT_WF_ON_SIGNUP_HEADER_CLICKED=bt;var ht="GB - Add an Action for Show an Element Clicked";r.GB_ADD_ACTION_FOR_SHOW_ELEMENT_CLICKED=ht;var jt="GB - Show an Element Clicked";r.GB_SHOW_ELEMENT_CLICKED=jt;var gt="GB - Element Popup Sign Up/Log In Selected";r.GB_ELEMENT_POPUP_SIGNUP_LOGIN_SELECTED=gt;var wt="GB - Continue Final Actions Workflow Clicked";r.GB_CONTINUE_FINAL_ACTIONS_WF_CLICKED=wt;var Ot="GB - Done Clicked";r.GB_DONE_CLICKED=Ot;var St="GB - Preview Clicked";r.GB_PREVIEW_CLICKED=St;var kt="GB - Finish on Congrats Clicked";r.GB_FINISH_ON_CONGRATS_CLICKED=kt;var At="GB - X Out Clicked";r.GB_X_OUT_CLICKED=At;var Et="HTML file upload";r.HTML_UPLOAD_EVENT=Et},{}],94:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ROOT_CLASS=r.CSS_FLAG=r.AT_ROOT=void 0;var n="@at-root";r.AT_ROOT=n;var o="b-root";r.ROOT_CLASS=o;var s="--stylesheet-active";r.CSS_FLAG=s},{}],95:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.UNIQUE_ID=r.RANDOM_SORTING=r.DYNAMIC_SORTING_FIELD=r.ALL_DB_FIELDS=r.ADVANCED_SEARCH_CONSTRAINT=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/special_keys",r);var s="_all";r.ALL_DB_FIELDS=s;var i="_advanced_search_constraint";r.ADVANCED_SEARCH_CONSTRAINT=i;var a="_id";r.UNIQUE_ID=a;var l="_dynamic_sort_field";r.DYNAMIC_SORTING_FIELD=l;var u="_random_sorting";r.RANDOM_SORTING=u},{"../safe_require":643}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ALL=void 0;var n={};r.ALL=n},{}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.STYLE_PROPS=r.BORDER_TO_CORNER_MAPPING=void 0;var n={top:"top-left",left:"bottom-left",right:"top-right",bottom:"bottom-right"};r.BORDER_TO_CORNER_MAPPING=n;var o=["Opacity","Font","PlaceholderColor","CenterVertically","BackdropBackground","Stripes","Background","ButtonBackground","Border","Padding","InputPadding","FontShadow","Boxshadow"];r.STYLE_PROPS=o},{}],98:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TEST_APP_KEY=r.OLD_TEST_APP_KEY=r.NUMBER_OF_EDIT_TESTS=r.MAX_EDITMODE_TESTS_PER_CHUNK=r.MAIN_RUNMODE_TESTS_APPNAME=r.FUNCTIONAL_TEST_APPNAME_PREFIXES=r.EDITOR_TESTS_APPNAME=r.E2E_TEST_APPS_PREFIX=r.APPS_WITHOUT_PE_INSPECTOR=r.APPS_WITHOUT_PE_HELP_BUTTON=r.APPS_EXCLUDED_FROM_TUTORIALS=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/test_apps",r);var s="test_app_editor";r.EDITOR_TESTS_APPNAME=s;var i="test_app";r.MAIN_RUNMODE_TESTS_APPNAME=i;var a=["learn","demo"];r.APPS_WITHOUT_PE_INSPECTOR=a;var l=["learn",s,"demo"];r.APPS_WITHOUT_PE_HELP_BUTTON=l;var u="test-app-234789asdfjl";r.TEST_APP_KEY=u;var c="test_app_234789asdfjl";r.OLD_TEST_APP_KEY=c;var f=["backup_test_original","backup-test-original","backup_test_restore","backup-test-restore"];r.FUNCTIONAL_TEST_APPNAME_PREFIXES=f;var d="test_app";r.E2E_TEST_APPS_PREFIX=d;var p=["learn","test_app","test_app2","test_app_internal"];r.APPS_EXCLUDED_FROM_TUTORIALS=p;var _=31;r.NUMBER_OF_EDIT_TESTS=_;var m=7;r.MAX_EDITMODE_TESTS_PER_CHUNK=m},{"../safe_require":643}],99:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.YEAR_S=r.YEAR_MS=r.YEAR_MONTH=r.YEAR_H=r.WEEK_S=r.WEEK_MS=r.WEEK_H=r.THIRTY_DAY_S=r.THIRTY_DAY_H=r.SECOND_MS=r.MINUTE_S=r.MINUTE_MS=r.MILLISECONDS_US=r.MILLISECONDS_NS=r.MICROSECONDS_NS=r.HOUR_S=r.HOUR_MS=r.DAY_S=r.DAY_MS=r.DAY_H=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/time",r);var s=12;r.YEAR_MONTH=s;var i=24;r.DAY_H=i;var a=7*i;r.WEEK_H=a;var l=30*i;r.THIRTY_DAY_H=l;var u=365*i;r.YEAR_H=u;var c=60;r.MINUTE_S=c;var f=60*c;r.HOUR_S=f;var d=i*f;r.DAY_S=d;var p=a*f;r.WEEK_S=p;var _=l*f;r.THIRTY_DAY_S=_;var m=u*f;r.YEAR_S=m;var y=1e3;r.SECOND_MS=y;var v=c*y;r.MINUTE_MS=v;var b=f*y;r.HOUR_MS=b;var h=d*y;r.DAY_MS=h;var j=p*y;r.WEEK_MS=j;var g=m*y;r.YEAR_MS=g;var w=1e3;r.MILLISECONDS_US=w;var O=1e6;r.MILLISECONDS_NS=O;var S=1e3;r.MICROSECONDS_NS=S},{"../safe_require":643}],100:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.MAX_TOKEN_NAME_LENGTH=r.MAX_TOKEN_DESC_LENGTH=r.DELETED_USER_TOKEN_STRING=r.DEFAULT_USER_TOKENS=void 0;var n=" (DELETED)";r.DELETED_USER_TOKEN_STRING=n;var o=30;r.MAX_TOKEN_NAME_LENGTH=o;var s=100;r.MAX_TOKEN_DESC_LENGTH=s;var i={default:{}};r.DEFAULT_USER_TOKENS=i},{}],101:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.KEY_CODE_TO_CHAR=r.ERROR_SOURCES=r.ERROR_CATCHER_TYPES=r.DEFAULT_CATCHER_TYPE=r.CAUGHT_ERROR_SOURCES=void 0;var n=o(e("../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./constants/workflow",r);var s=function(e){e["GENERAL_WORKFLOW"]="general_workflow";e["ELEMENT_WORKFLOW"]="element_workflow";e["ELEMENT"]="element";return e}({});r.ERROR_SOURCES=s;var i=function(e){e["all_wf_errors"]="Any workflow error";e["element_wf_errors"]="Element workflow errors only";return e}({});r.ERROR_CATCHER_TYPES=i;var a="element_wf_errors";r.DEFAULT_CATCHER_TYPE=a;var l={all_wf_errors:[s.GENERAL_WORKFLOW,s.ELEMENT_WORKFLOW,s.ELEMENT],element_wf_errors:[s.ELEMENT_WORKFLOW,s.ELEMENT]};r.CAUGHT_ERROR_SOURCES=l;var u={KeyA:"A",KeyB:"B",KeyC:"C",KeyD:"D",KeyE:"E",KeyF:"F",KeyG:"G",KeyH:"H",KeyI:"I",KeyJ:"J",KeyK:"K",KeyL:"L",KeyM:"M",KeyN:"N",KeyO:"O",KeyP:"P",KeyQ:"Q",KeyR:"R",KeyS:"S",KeyT:"T",KeyU:"U",KeyV:"V",KeyW:"W",KeyX:"X",KeyY:"Y",KeyZ:"Z",Backspace:"Backspace",Tab:"Tab",BracketLeft:"[",BracketRight:"]",Backslash:"\\",Semicolon:";",Quote:"'",Comma:",",Period:".",Slash:"/",Space:"Spacebar",Backquote:"`",Minus:"-",Equal:"=",CapsLock:"Caps Lock",ArrowDown:"Down Arrow",ArrowUp:"Up Arrow",ArrowLeft:"Left Arrow",ArrowRight:"Right Arrow",Enter:"Enter",Escape:"Esc",F1:"F1",F2:"F2",F3:"F3",F4:"F4",F5:"F5",F6:"F6",F7:"F7",F8:"F8",F9:"F9",F10:"F10",F12:"F12",PageUp:"PageUp",PageDown:"PageDown",Delete:"Delete",NumpadAdd:"+",NumpadEnter:"Enter",Numpad1:"1(Numpad)",Numpad2:"2(Numpad)",Numpad3:"3(Numpad)",Numpad4:"4(Numpad)",Numpad5:"5(Numpad)",Numpad6:"6(Numpad)",Numpad7:"7(Numpad)",Numpad8:"8(Numpad)",Numpad9:"9(Numpad)",Numpad0:"0(Numpad)",NumpadDecimal:".(Numpad)",NumpadDivide:"/(Numpad)",NumpadMultiply:"*(Numpad)",NumpadSubtract:"-"};r.KEY_CODE_TO_CHAR=u},{"../safe_require":643}],102:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/state_keys");t.exports={field_names:{user:{},new_email:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"change_email_for_another_user",data_to_refresh:function e(t,r,o){var s={};var i=r.user;if(i!=null){s[n.Message({prev:i,message:"email",prior_btype_id:"user"})]=r.new_email}return s}}},{"../../../lang/evaluation/state_keys":576}],103:[function(e,t,r){"use strict";t.exports={field_names:{token:{},valid_30_days:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"check_2fa_token",data_to_refresh:null}},{}],104:[function(e,t,r){"use strict";t.exports={field_names:{password:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"check_user_password",data_to_refresh:null}},{}],105:[function(e,t,r){"use strict";var n=e("../utilities/account_actions_utilities");t.exports={field_names:{},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"cookie_opt_in",requires_cookies:true,data_to_refresh:n.refresh_current_user}},{"../utilities/account_actions_utilities":175}],106:[function(e,t,r){"use strict";var n=e("../utilities/account_actions_utilities");t.exports={field_names:{},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"cookie_opt_out",requires_cookies:true,data_to_refresh:n.refresh_current_user}},{"../utilities/account_actions_utilities":175}],107:[function(e,t,r){"use strict";var n=e("../../../u/shared/mode_check");var o=e("../../../u/shared/b_object");var s=e("../utilities/generic_actions_utilities");var i=e("../../../constants/eval");t.exports={field_names:o.extend({email:{},password:{},return_user_if_already_exists:{}},s.change_field_names(i.EVAL_TYPE.value)),run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"create_user_account",data_to_refresh:null,return_value:function e(){return a.get("user")},preprocess_properties:function e(t){var r="user";var o="changes";t=s.pre_process_properties({properties:t,prop_name:o,thing_btype_id:r});if(typeof t.email==="string"&&!n.on_server()){t=s.apply_default_fields(o,r,t)}return t}};var a=e("../../../lang/btypes")},{"../../../constants/eval":75,"../../../lang/btypes":537,"../../../u/shared/b_object":702,"../../../u/shared/mode_check":713,"../utilities/generic_actions_utilities":178}],108:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/state_keys");t.exports={field_names:{token:{},password:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"disable_2fa",data_to_refresh:function e(t,r,s){var i={};i[n.Message({prev:o().current_user(),message:"uses_2fa",prior_btype_id:"user"})]=false;return i}};var o=e("../../../lib")},{"../../../lang/evaluation/state_keys":576,"../../../lib":614}],109:[function(e,t,r){"use strict";t.exports={field_names:{password:{}},do_not_log_result:true,run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"generate_2fa_qr_code",data_to_refresh:null,return_value:function e(){return n.get("image")}};var n=e("../../../lang/btypes")},{"../../../lang/btypes":537}],110:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/state_keys");var o=e("../../../lang/btype_ids");t.exports={field_names:{token:{},password:{},number_of_codes:{default:10}},do_not_log_result:true,run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"generate_one_time_codes",data_to_refresh:function e(t,r,o){var i={};i[n.Message({prev:s().current_user(),message:"has_codes",prior_btype_id:"user"})]=true;return i},return_value:function e(){return i.get(o.list_type("text"))}};var s=e("../../../lib");var i=e("../../../lang/btypes")},{"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lang/evaluation/state_keys":576,"../../../lib":614}],111:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=e("../../../u");var o=e("../utilities/account_actions_utilities");t.exports={field_names:{email:{},password:{},stay_logged_in:{default:true},remember_email:{optional:true}},run:function e(t,r,s,i){s.get_server_outcome(t,(function(e,t){if(r.remember_email){n.local_storage_put(o.get_remember_email_key(),{email:r.email})}o.get_iframe_for_cookie_phonegap();i(e,t)}))},server_method:"log_in",data_to_refresh:o.refresh_current_user,requires_cookies:true};var s=e("../../../lang/appquery")},{"../../../lang/appquery":535,"../../../u":687,"../utilities/account_actions_utilities":175,"core-js/modules/es.array.includes.js":933}],112:[function(e,t,r){"use strict";var n=e("../utilities/account_actions_utilities");t.exports={field_names:{},run:function e(t,r,o,s){o.get_server_outcome(t,(function(e,t){n.get_iframe_for_cookie_phonegap();s(e,t)}))},server_method:"log_out",requires_cookies:true,data_to_refresh:n.refresh_current_user}},{"../utilities/account_actions_utilities":175}],113:[function(e,t,r){"use strict";t.exports={field_names:{},server_method:"log_out_other_sessions",data_to_refresh:null}},{}],114:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../../../u");var c=e("../../../constants/db");var f=e("../../data_updates");var d=e("../utilities/generic_actions_utilities");var p=e("../../../constants/eval");t.exports={field_names:s({},d.change_field_names(p.EVAL_TYPE.value)),run:function e(t,r,n,o){if(r.changes&&!u.is_empty(r.changes)){var s=_().current_user();var i=f.update_thing(s,r.changes);i.callback(o)}else{o()}},data_to_refresh:function e(t,r,n){return d.get_data_to_refresh_for_change_action({to_change:_().current_user(),to_change_value_id:"user",changes:r.changes})},return_value:function e(){return null},server_method:"change_current_user",preprocess_properties:d.make_pre_process_properties({prop_name:"changes",thing_btype_id:"user"}),fall_back_to_server:true,requires_server:function e(){if(u.on_client()&&_().current_user()._id()===c.NO_USER){return false}else{return true}}};var _=e("../../../lib")},{"../../../constants/db":69,"../../../constants/eval":75,"../../../lib":614,"../../../u":687,"../../data_updates":375,"../utilities/generic_actions_utilities":178,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],115:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../services");var s=e("../../../services/client/editor_utils");var i=e("../utilities/account_actions_utilities");t.exports={field_names:n.extend({oauth_provider:{}},s.enter_your_api_key_button_field_names),not_api:true,run:function e(t,r,n,s){n.get_server_outcome(t,(function(e,i){if(e){s(e);return}var a=r.oauth_provider;var l=o.get_oauth_authenticator(a);if(!l||!l.login){if(!a){window.alert("Oops, please fill out the social network for this action")}else{window.alert("Undefined oauth provider: "+a)}s("aborted");return}l.login(n,t,i,s)}))},resume:function e(t,r,n){r.get_server_outcome(t,n)},server_method:"oauth_login",server_method_resume:"oauth_login_resume",data_to_refresh:i.refresh_current_user,requires_cookies:true}},{"../../../services":646,"../../../services/client/editor_utils":644,"../../../u":687,"../utilities/account_actions_utilities":175}],116:[function(e,t,r){"use strict";t.exports={field_names:{new_password:{},new_password_again:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"reset_password",data_to_refresh:null}},{}],117:[function(e,t,r){"use strict";var n=e("../../../lang/btypes");t.exports={field_names:{page:{},just_make_token:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"send_confirmation_email",return_value:function e(t){if(t.get_static_property("just_make_token")){return n.get("text")}else{return null}},data_to_refresh:null,check_use_visible:true}},{"../../../lang/btypes":537}],118:[function(e,t,r){"use strict";t.exports={field_names:{email:{},subject:{default:"Your magic link"},body:{default:"Hello,\n\n"+"You requested a magic link to login to your account. Please note that\n"+"this link can only be used to login once and lasts for one hour.\n\n"+"The Team\n\n"},link_text:{default:"Login here"},valid_link_time_frame:{default:null,validation_fn:function e(t){return t<=24&&t>0}},success_page:{},success_customize:{},failure_customize:{},data_to_send_success:{},data_to_send_failure:{},add_parameters_success:{},add_parameters_failure:{},url_parameters_success:{},url_parameters_failure:{},keep_current_page_params_success:{},keep_current_page_params_failure:{},failure_page:{},just_make_link:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"send_magic_link_email",return_value:function e(t){if(t.get_static_property("just_make_link")){return n.get("text")}else{return null}},check_use_visible:true,data_to_refresh:null,do_not_send_result_to_client:true};var n=e("../../../lang/btypes")},{"../../../lang/btypes":537}],119:[function(e,t,r){"use strict";t.exports={field_names:{to:{},subject:{default:"Your password reset request"},body:{default:"Hello,\n\n"+"Someone (hopefully you!) submitted a request to reset your password. If it wasn't you, "+"please ignore this message. If it was you, you can reset your password at the below link.\n\n"+"The Team\n\n"},just_make_token:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"send_password_reset_email",return_value:function e(t){if(t.get_static_property("just_make_token")){return n.get("text")}else{return null}},check_use_visible:true,data_to_refresh:null,do_not_send_result_to_client:true};var n=e("../../../lang/btypes")},{"../../../lang/btypes":537}],120:[function(e,t,r){"use strict";t.exports={field_names:{user:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"set_temporary_password",do_not_log_result:true,data_to_refresh:null,return_value:function e(){return n.get("text")}};var n=e("../../../lang/btypes")},{"../../../lang/btypes":537}],121:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../../../u");var c=e("../utilities/account_actions_utilities");var f=e("../utilities/generic_actions_utilities");var d=e("../../../constants/eval");t.exports={field_names:s({email:{},password:{},password2:{},require_confirm:{},send_confirm_email:{},page:{},remember_email:{optional:true}},f.change_field_names(d.EVAL_TYPE.value)),run:function e(t,r,n,o){n.get_server_outcome(t,(function(e,t){c.get_iframe_for_cookie_phonegap();if(e){o(e);return}p().current_user().flush();if(r.remember_email===true){u.local_storage_put(c.get_remember_email_key(),{email:r.email})}o(e,t)}))},server_method:"sign_up",data_to_refresh:c.refresh_current_user,preprocess_properties:function e(t){var r="user";var n="changes";t=f.pre_process_properties({properties:t,prop_name:n,thing_btype_id:r});t=f.apply_default_fields(n,r,t);return t},requires_cookies:true};var p=e("../../../lib")},{"../../../constants/eval":75,"../../../lib":614,"../../../u":687,"../utilities/account_actions_utilities":175,"../utilities/generic_actions_utilities":178,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],122:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/state_keys");t.exports={field_names:{old_password:{},change_email:{},email:{},change_password:{},password:{},require_confirm:{},password2:{},do_not_show_success_alert:{},send_confirm_email:{},page:{default:"index"}},run:function e(t,r,n,s){n.get_server_outcome(t,(function(e){o().current_user().flush();if(e){s(e)}else{if(!r.do_not_show_success_alert){alert(o().get_text("CORE","UPDATE_CREDENTIAL_SUCCESS"))}s()}}))},server_method:"update_credentials",data_to_refresh:function e(t,r,s){var i={};if(r.change_email){var a=o().current_user();i[n.Message({prev:a,message:"email",prior_btype_id:"user"})]=r.email}return i}};var o=e("../../../lib")},{"../../../lang/evaluation/state_keys":576,"../../../lib":614}],123:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/state_keys");t.exports={field_names:{token:{}},run:function e(t,r,n,o){n.get_server_outcome(t,o)},server_method:"validate_2fa_token",data_to_refresh:function e(t,r,s){var i={};i[n.Message({prev:o().current_user(),message:"uses_2fa",prior_btype_id:"user"})]=true;return i}};var o=e("../../../lib")},{"../../../lang/evaluation/state_keys":576,"../../../lib":614}],124:[function(e,t,r){"use strict";t.exports={field_names:{scheduled_ids:{}},server_method:"cancel_list_scheduled_api_events"}},{}],125:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.number.is-nan.js");var n=e("../../../logger");function o(e){if(e==null||e.split==null){return false}return e.split(",").every((function(e){var t=Number(e);return!Number.isNaN(t)&&parseInt(t)===t}))}t.exports={field_names:{scheduled_id:{}},server_method:"cancel_scheduled_api_event",run:function e(t,r,s,i){s.get_server_outcome(t,(function(e,t){if(e){var s=r.scheduled_id;var a="The id ".concat(s," is not correctly formatted. ");if(o(r.scheduled_id)){a+="It is formatted as a list of ids. Consider using the 'Cancel a list of scheduled API Workflows' action."}else{a="It should be a single numerical ID in a text expression."}n.owner_error("Invalid API workflow id",{display:"Invalid API workflow id: "+a})}i(e,t)}))}}},{"../../../logger":617,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.number.is-nan.js":947,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],126:[function(e,t,r){"use strict";var n=e("../../status_bar");t.exports={field_names:{length:{default:1e3},hide_status_bar:{}},run:function e(t,r,o,s){if(!r.length||r.length<=0){r.length=0}if(r.hide_status_bar){var i=function e(){if(n.bar_visible()){n.hide_run_mode()}else{setTimeout(e,100)}};i()}setTimeout((function(){if(r.hide_status_bar){n.show_run_mode()}s()}),r.length)},not_api:true,data_to_refresh:null}},{"../../status_bar":407}],127:[function(e,t,r){"use strict";var n=e("../../../lang/lang");t.exports={field_names:n.DETECT_FIELD_NAMES,server_method:"schedule_api_event",check_for_errors:function e(t,r,n){return _api_event_schedule_check_for_error(t,r,n)},return_value:function e(){return o.get("text")},run:function e(t,r,n,o){n.get_server_outcome(t,o)}};var o=e("../../../lang/btypes")},{"../../../lang/btypes":537,"../../../lang/lang":590}],128:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.filter.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../../u");var f=e("../../../u/shared/async/b_fiber");var d=e("../../../constants/lang");var p=e("../../../lang/evaluation/evaluate");var _=e("../../../lang/evaluation/eval_node_state");var m=e("../utilities/generic_actions_utilities");var y=e("../../../lang/app_json/json_utils"),v=y.escape_app_json_key;var b=e("../../../lang/btype_ids");t.exports={field_names:d.DETECT_FIELD_NAMES,server_method:"schedule_api_event_on_list",use_injected_datasource:function e(t,r){if(r.node_name().startsWith(m.APIEvent_param_prefix)){return[true,true]}else{var n=r.parent_expression();if(n==null){return[false,true]}return this.use_injected_datasource(t,n)}},get_injected_value:function e(t,r){return t.get_static_property("type_of_list")},get_injected_display:function e(t,r){return"This "+g.get(t.get_static_property("type_of_list")).display()},preprocess_properties:function e(t,r,o){var s,i,l,u;o=c.extend({},o);o.duplicated_from_context=o.object_id;o.object_id=c.UUID();o.duplicated_at="ScheduleAPIEventOnList::preprocess_properties";(s=t.type_of_list)!=null?s:t.type_of_list=g.get(t.type_of_list,{miss_okay:true}).id();o.datasources.injected_value_btype=function(){return t.type_of_list};var d=(i=t.data_source)!=null?i:h().db_instance().static_list(t.type_of_list,[]);delete t.data_source;t.to_run=[];var y=j.workflow_item(t.api_event);var b=(l=y==null?void 0:(u=y.get_custom_parameters)==null?void 0:u.call(y))!=null?l:[];for(var w in t){if(w.startsWith(m.APIEvent_param_prefix)){delete t[w]}}var O=c.on_server()?20:1e3;var S=0;while(true){var k,A;if(c.on_server()){f.optional_pause()}var E=(k=(A=d.get_children)==null?void 0:A.call(d,S,O))!=null?k:[];var x=E.filter((function(e){return e!=null}));var M=a(x),P;try{for(M.s();!(P=M.n()).done;){var T;var I=P.value;(T=I.precache)==null?void 0:T.call(I)}}catch(e){M.e(e)}finally{M.f()}S+=O;if(x.length===0){break}var C=a(x),R;try{var N=function e(){var s=R.value;var i={injected_value:s};o.datasources.injected_value=function(){return s};var l=a(b),u;try{var c=function e(){var t=u.value.param_id;var s=m.APIEvent_param_prefix+v(t);var a=r.property(s);_.with_eval_node(a,(function(){var e=p.evaluate_json(a.json,o,null,null),t=n(e,1),r=t[0];i[s]=r}))};for(l.s();!(u=l.n()).done;){c()}}catch(e){l.e(e)}finally{l.f()}t.to_run.push(i)};for(C.s();!(R=C.n()).done;){N()}}catch(e){C.e(e)}finally{C.f()}}return t},check_for_errors:function e(t,r,n){return _api_event_schedule_check_for_error(t,r,n)},return_value:function e(){return g.get(b.list_type("text"))},run:function e(t,r,n,o){n.get_server_outcome(t,o)}};var h=e("../../../lib");var j=e("../../../lang/appquery");var g=e("../../../lang/btypes")},{"../../../constants/lang":81,"../../../lang/app_json/json_utils":515,"../../../lang/appquery":535,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lang/evaluation/eval_node_state":571,"../../../lang/evaluation/evaluate":572,"../../../lib":614,"../../../u":687,"../../../u/shared/async/b_fiber":696,"../utilities/generic_actions_utilities":178,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],129:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/page_state");var o=e("../../../u");var s=e("../../../logger");var i=e("../../../constants/workflow");var a=e("../../core_datasources/utilities/core_ds_workflow_utilities");var l=0;t.exports={field_names:{custom_event:{},workflow_thing:{legacy:true},arguments:{},delay:{}},run:function e(t,r,d,p){var _;var m=a.wf_params_from_properties(r);var y=c.event(r.custom_event);if(!(y!=null&&y.exists())){console.log("Skipping trigger custom event on change, event does not exist");p();return}var v=d.element;var b=u().workflow;var h=0;var j=y.actions().some((function(e){return e.requires_server()}));if(j){l++;setTimeout((function(){return l--}),30*1e3);if(l>10){h=(l-10)*30*1e3}}var g=((_=r.delay)!=null?_:1)*1e3+h;if(g>2147483647){g=2147483647;s.owner_warn(new o.OwnerError("max_timeout",{action:t,display:"Timeout is above the maximum of 2,147,483 seconds; shortening to 2,147,483"}))}setTimeout((function(){var e=a.build_duplicate_per_item_context({element:v},m);e.datasources=n.get_basic_datasources(e.element.element.root(),e.datasources);b.run_workflows(e,[y],true).callback((function(e){return f.handle_uncaught_error({original_error:e,caught_from:i.ERROR_SOURCES.GENERAL_WORKFLOW,cb:function e(){}})}))}),g);p()},not_api:true};var u=e("../../../lib");var c=e("../../../lang/appquery");var f=e("../../core_events")},{"../../../constants/workflow":101,"../../../lang/appquery":535,"../../../lang/evaluation/page_state":575,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../core_datasources/utilities/core_ds_workflow_utilities":236,"../../core_events":372}],130:[function(e,t,r){"use strict";t.exports={field_names:{recurring_event:{},workflow_thing:{},frequency:{},start_date:{}},server_method:"set_recurring_event"}},{}],131:[function(e,t,r){"use strict";t.exports={field_names:{},handle_condition_internally:true,run:function e(t,r,n,o){if(r.condition){o("aborted")}else if(n.is_running_on_server){n.get_server_outcome(t,(function(e,t){if(e){o(e)}else if(t==="aborted"){o("aborted")}else{o()}}))}else{o()}}}},{}],132:[function(e,t,r){"use strict";t.exports={field_names:{custom_event:{},workflow_thing:{legacy:true},arguments:{}},check_for_errors:function e(t,r,n){return false}}},{}],133:[function(e,t,r){"use strict";t.exports={field_names:{element_id:{},custom_event:{},workflow_thing:{legacy:true},arguments:{}},not_api:true,check_for_errors:function e(t,r,n){if(!n){r(undefined,undefined,t.id());return true}return false}}},{}],134:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");var n=e("../../../u");var o=e("lodash/isEqual");var s=e("../../../constants/core");var i=e("../../core_datasources/utilities/core_ds_workflow_utilities");t.exports={field_names:{custom_event:{},workflow_thing:{},field:{}},check_for_errors:function e(t,r){var n=t.get_static_property("custom_event");if(n){var o;var s=(o=l.event(n))==null?void 0:o.get_custom_parameters().length;if(s!==1){r(this.display(t)+" - can only be used with custom events that take exactly one argument")}}return false},run:function e(t,r,c,f){var d=r.workflow_thing,p=r.field;var _=l.event(r.custom_event);if(d==null||p==null||!(_!=null&&_.exists())){console.log("Skipping trigger custom event on change, missing data");f();return}var m=c.element;var y=a().workflow;n.run_once(30,(function(){if(p==="email_confirmed"){return u.get("user").get_message("email_confirmed").evaluate(d)}else{return d.child(p).raw()}}),(function(e,t){if(e){f(e);return}f();d.poll(5e3,600);var r=false;var a=n.Watcher({fn:function e(){return d.child(p).raw()},compare:o});a.on_value((function(e){if(r){return}if(!n.compare(t,e)){var o,l;r=true;a.destroy();var u=(o=(l=_.get_custom_parameters()[0])==null?void 0:l.param_id)!=null?o:s.LEGACY_PARAM_ID;var c={};c[u]=d;var f=i.build_duplicate_per_item_context({element:m},c);console.log(Object.keys(f.datasources.get_wf_param({param_id:"__ALL__"})));y.run_workflows(f,[_],true)}}))}))},not_api:true};var a=e("../../../lib");var l=e("../../../lang/appquery");var u=e("../../../lang/btypes")},{"../../../constants/core":66,"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lib":614,"../../../u":687,"../../core_datasources/utilities/core_ds_workflow_utilities":236,"core-js/modules/es.object.keys.js":957,"lodash/isEqual":1184}],135:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js");t.exports={api_only:true,field_names:{return_plain_text:{},custom_content_type:{},text:{},custom_text:{},parameters_actions:{}},run:function e(t,r,n,o){},server_method:"api_return_data",check_for_errors:function e(t,r){var n=t.event().actions("APIReturnData").filter((function(e){var t,r,n;return((t=e.property)==null?void 0:(r=t.call(e,"condition"))==null?void 0:(n=r.json)==null?void 0:n.raw())==null})).length;if(n>1){r("You should use only one 'Return data from API' action per API workflow")}return false}}},{"core-js/modules/es.array.filter.js":927}],136:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){t=c(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("../../../u");var p=e("../../../u/shared/async/b_fiber");var _=e("../../../lang/evaluation/eval_node_state");var m=e("../../data_updates");var y=e("../utilities/generic_actions_utilities");var v=e("../../../constants/eval");var b=e("../../../lang/btype_ids");t.exports={field_names:l({type_to_change:{},to_change:{}},y.change_field_names(v.EVAL_TYPE.thunk)),use_injected_datasource:function e(t,r){return y.use_injected_for_change_actions(t,r)},get_injected_value:function e(t,r){return t.get_static_property("type_to_change")},get_injected_display:function e(t,r){return"This "+j.get(t.get_static_property("type_to_change")).display()},preprocess_properties:function e(t,r,n){var s;p.optional_pause();n=d.extend({},n);n.duplicated_from_context=n.object_id;n.object_id=d.UUID();n.duplicated_at="ChangeListOfThings::preprocess_properties";if(!j.is_custom_type(t.type_to_change)){return{changes:null}}n.datasources.injected_value_btype=function(){return t.type_to_change};var i=(s=t.to_change)!=null?s:new h([],null,t.type_to_change);delete t.to_change;var a=t.changes;t.changes=[];var l=r.property("changes");var u=d.on_server()?20:1e3;_.with_eval_node(l,(function(){var e=0;while(true){var r,s;var l=(r=(s=i.get_children)==null?void 0:s.call(i,e,u))!=null?r:[];var c=l.filter((function(e){return(e==null?void 0:e._id)!=null}));var f=o(c),d;try{for(f.s();!(d=f.n()).done;){var _;var m=d.value;(_=m.precache)==null?void 0:_.call(m)}}catch(e){f.e(e)}finally{f.f()}e+=u;if(c.length===0){break}p.optional_pause();var v=o(c),b;try{var h=function e(){var r=b.value;n.datasources.injected_value=function(){return r};var o=a(n);var s=t.type_to_change;var i="changes";t.changes.push(y.pre_process_properties({properties:{item:r,changes:o},prop_name:i,thing_btype_id:s}));p.optional_pause()};for(v.s();!(b=v.n()).done;){h()}}catch(e){v.e(e)}finally{v.f()}}p.optional_pause()}));return t},run:function e(t,r,n,o){if(!r.changes){o(null,null);return}var s=r.changes.map((function(e){var t=e.item,n=e.changes;return m.update_thing(t,n,r.type_to_change)}));d.promise_array(s).callback((function(e){if(!j.is_custom_type(r.type_to_change)){o(null,null);return}o(e,new h(r.changes.map((function(e){var t=e.item;return t})),null,r.type_to_change))}))},data_to_refresh:function e(t,r,n){var o={};if(!r.changes){return o}for(var s=0,i=Object.values(r.changes);s<i.length;s++){var a=i[s],l=a.item,u=a.changes;var c=y.get_data_to_refresh_for_change_action({to_change:l,to_change_value_id:r.type_to_change,changes:u});d.extend(o,c)}return o},return_value:function e(t){var r=t.get_static_property("type_to_change");if(r){return b.list_type(r)}else{return"null"}},server_method:"change_list_of_things",fall_back_to_server:true};var h=e("../../../db/values/StaticList");var j=e("../../../lang/btypes")},{"../../../constants/eval":75,"../../../db/values/StaticList":464,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lang/evaluation/eval_node_state":571,"../../../u":687,"../../../u/shared/async/b_fiber":696,"../../data_updates":375,"../utilities/generic_actions_utilities":178,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],137:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../../../u");var c=e("../../../logger");var f=e("../../../shared/investigations");var d=e("../../data_updates");var p=e("../utilities/generic_actions_utilities");var _=e("../../../constants/eval");var m=e("../../../lang/evaluation/eval_node_state");t.exports={field_names:s({to_change:{},create_if_missing:{}},p.change_field_names(_.EVAL_TYPE.thunk)),run:function e(t,r,n,o){var s=r.to_change;if(s!=null){var i=d.update_thing(s,r.changes);i.callback((function(e){o(e,s)}))}else if(r.create_if_missing){var a;var l=(a=this._get_type(t))==null?void 0:a.id();var u=n.UUID_SEED.UUID();if(l){var c=y().db_instance().create(l,null,u);d.update_thing(c,r.changes).callback((function(e){o(e,c)}))}else{o()}}else{o()}},use_injected_datasource:function e(t,r){return p.use_injected_for_change_actions(t,r)},_get_type:function e(t){return t.property("to_change").get_eval_value()},get_injected_value:function e(t,r){return this._get_type(t)},get_injected_display:function e(t,r){var n;return"This "+((n=this._get_type(t))==null?void 0:n.display())},server_method:"change_thing",data_to_refresh:function e(t,r,n){var o;return p.get_data_to_refresh_for_change_action({to_change:r.to_change,to_change_value_id:(o=this._get_type(t))==null?void 0:o.id(),changes:r.changes})},return_value:function e(t){return this._get_type(t)},preprocess_properties:function e(t,r,n){var o;n=u.extend({},n);n.duplicated_from_context=n.object_id;n.object_id=u.UUID();n.duplicated_at="ChangeThing::preprocess_properties";var s=(o=this._get_type(r))==null?void 0:o.id();var i=t,a=i.to_change;n.datasources.injected_value_btype=function(){return s};n.datasources.injected_value=function(){return a};var l="changes";var d=r.property(l);t.changes=m.with_eval_node(d,(function(){return t.changes(n)}));var _=f.action_update_thing.active();var y={};if(_){y.from_json=u.extend({},t.changes)}t=p.pre_process_properties({properties:t,prop_name:l,thing_btype_id:s});if(_){y.pre_processed=u.extend({},t.changes)}if(a==null&&t.create_if_missing){if(s){t=p.apply_default_fields(l,s,t);if(_){y.with_defaults=u.extend({},t.changes)}}}if(_){c.debug("change_thing pre_evaluation",y)}return t},fall_back_to_server:true,is_mergeable:true};var y=e("../../../lib")},{"../../../constants/eval":75,"../../../lang/evaluation/eval_node_state":571,"../../../lib":614,"../../../logger":617,"../../../shared/investigations":663,"../../../u":687,"../../data_updates":375,"../utilities/generic_actions_utilities":178,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],138:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");var n=e("../../../u");var o=e("../../../logger");var s=e("../../../client_config");var i=e("../utilities/generic_actions_utilities");var a=e("../../../lang/btype_ids");t.exports={field_names:{type_to_copy:{},to_copy:{},information:{}},preprocess_properties:function e(t){var r;if(typeof((r=t.to_copy)==null?void 0:r.length)!=="function"||t.to_copy.length()>s.max_new_list_length){t.to_copy=[]}else{var n,o,i;t.to_copy=(n=(o=t.to_copy)==null?void 0:(i=o.all)==null?void 0:i.call(o))!=null?n:[]}return t},run:function e(t,r,s,a){var f;if(!c.is_custom_type(r.type_to_copy)){a(null,null);return}var d=((f=r.to_copy)!=null?f:[]).filter((function(e){return(e==null?void 0:e._id)!=null}));return n.run_once(30,(function(){return d.map((function(e){return e.raw()}))}),(function(e,t){if(e){o.log(e);return}var n=t.map((function(e){var t=s.UUID_SEED.UUID();var n=i.prepare_raw_thing_to_copy(e);return l().db_instance().create(r.type_to_copy,n,t)}));a(undefined,new u(n,null,r.type_to_copy))}))},data_to_refresh:null,return_value:function e(t){var r=t.get_static_property("type_to_copy");if(r){return a.list_type(r)}else{return"null"}},server_method:"copy_list_of_things",fall_back_to_server:true};var l=e("../../../lib");var u=e("../../../db/values/StaticList");var c=e("../../../lang/btypes")},{"../../../client_config":55,"../../../db/values/StaticList":464,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lib":614,"../../../logger":617,"../../../u":687,"../utilities/generic_actions_utilities":178,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.map.js":936}],139:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}t.exports={field_names:{type_to_delete:{},to_delete:{}},preprocess_properties:function e(t){var r,n,o;t.to_delete=(r=(n=t.to_delete)==null?void 0:(o=n.all)==null?void 0:o.call(n))!=null?r:[];return t},run:function e(t,r,o,s){var i;var a=((i=r.to_delete)!=null?i:[]).filter((function(e){return(e==null?void 0:e._id)!=null}));var l=n(a),u;try{for(l.s();!(u=l.n()).done;){var c;var f=u.value;(c=f.delete)==null?void 0:c.call(f)}}catch(e){l.e(e)}finally{l.f()}s()},data_to_refresh:null,return_value:function e(t){return null},server_method:"delete_list_of_things",fall_back_to_server:true}},{"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],140:[function(e,t,r){"use strict";t.exports={field_names:{to_delete:{}},run:function e(t,r,n,o){var s;var i=r.to_delete;i==null?void 0:(s=i.delete)==null?void 0:s.call(i);o()},data_to_refresh:null,return_value:function e(t){return null},server_method:"delete_thing",fall_back_to_server:true,is_mergeable:true}},{}],141:[function(e,t,r){"use strict";t.exports={field_names:{url_to_delete:{}},data_to_refresh:null,server_method:"delete_upload_file",run:function e(t,r,n,o){n.get_server_outcome(t,(function(e,t){return o(e,t)}))}}},{}],142:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.concat.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e){return l(e)||a(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return u(e)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../../u");var f=e("../../../logger");var d=e("../utilities/core_actions_consts");function p(e,t,r){if(t==null){return""}if(e.has_export_to_string()){return e.export_to_string(t,{option_show_if_deleted:false,custom_use_primary_field:false,booleans_yes_no:false,always_return_text:true,date_formatting:r})}else{f.error("Tried to display a value in DownloadAsCSV but no export_to_string for this value",{ret_btype_id:e.id()});return""}}function _(e,t,r,s,i){var a;(a=s)!=null?a:s=[];var l=[];var u=v.get(t);var c=[];if(u.custom_type()){c.push.apply(c,o(u.custom_type().fields().filter((function(e){return!e.deleted()})).map((function(e){return e.name()}))));c.push.apply(c,["Created Date","Modified Date","_id","Slug"]);if(t==="user"){c.push("email")}else{c.push("Created By")}}else{c.push.apply(c,o(u.get_messages(true).map((function(e){return e.name()}))))}var f=n(e),d;try{for(f.s();!(d=f.n()).done;){var _=d.value;var m={};var y=n(c),b;try{for(y.s();!(b=y.n()).done;){var h=b.value;if(!s.includes(h)){var j=u.get_message(h);var g=j.ret_btype();var w=j.evaluate(_);var O=p(g,w,r);var S=i?j.description(undefined,true):j.name();m[S]=O;if(h==="Created By"&&O){var k;m["Created By - email"]=(k=u.get_message("Created By").evaluate(_).get_email())!=null?k:""}}}}catch(e){y.e(e)}finally{y.f()}l.push(m)}}catch(e){f.e(e)}finally{f.f()}return l}t.exports={not_api:true,field_names:{data_type:{},data_source:{},file_name:{default:"data_export.csv"},date_formatting:{default:"spreadsheet_compatible"},custom_format:{default:"ddd, m/dd/yy, mmmm (mmm) dS, yyyy, h:MM tt, HH:MM:ss.L"},separator:{default:"comma"},show_labels:{default:true},use_quotes:{default:true},use_caption_labels:{default:false},hide_some_fields:{optional:true}},run:function e(t,r,o,s){var i;if(!m().app_plan().import_export_csv){s(new c.OwnerError("Exporting CSV data is not possible under this plan."));return}if(!r.data_type){s(null,"Must set a type of thing")}var a;if(r.separator==="tab"){a="\t"}else{var l;a=(l=d.csv_separators[r.separator])!=null?l:","}var u=r.date_formatting==="custom"?r.custom_format:r.date_formatting;var p=(i=r.data_source)!=null?i:new y([],null,r.data_type);c.run_once(120,(function(){p.all();var e=p.length();var t=100;var n=[];var o=function e(o){n.push(c.run_once(10*60*1e3,(function(){var e,n;var s=(e=p.get_children(o,t))!=null?e:[];return _(s,r.data_type,u,c.json_parse((n=r.hide_some_fields)!=null?n:"[]"),r.use_caption_labels)})))};for(var s=0;s<e;s+=t){o(s)}return n})).then((function(e){return c.promise_array(e).callback((function(e,t){var o=r.file_name;if(o.indexOf(".csv")!==o.length-4){o=o+".csv"}var i;if(e){f.log(e);i="Error exporting data... please try again in a bit"}else{var l=[];var u=n(t),d;try{for(u.s();!(d=u.n()).done;){var p=d.value;l=l.concat(p)}}catch(e){u.e(e)}finally{u.f()}i=c.json_to_csv(l,a,r.show_labels,r.use_quotes)}c.csv_to_downloadable_file(o,i);s(null,i)}))}))},data_to_refresh:null};var m=e("../../../lib");var y=e("../../../db/values/StaticList");var v=e("../../../lang/btypes")},{"../../../db/values/StaticList":464,"../../../lang/btypes":537,"../../../lib":614,"../../../logger":617,"../../../u":687,"../utilities/core_actions_consts":176,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],143:[function(e,t,r){"use strict";var n=e("../../data_updates");var o=e("../utilities/generic_actions_utilities");t.exports={field_names:{thing_type:{},initial_values:{}},run:function e(t,r,o,i){var a=o.UUID_SEED.UUID();var l=s().db_instance().create(r.thing_type,null,a);n.update_thing(l,r.initial_values).callback((function(e){i(e,l)}))},data_to_refresh:null,return_value:function e(t){var r;return i.get((r=t.get_static_property("thing_type"))!=null?r:"null")},server_method:"new_thing",preprocess_properties:function e(t){var r=t.thing_type;var n="initial_values";o.pre_process_properties({properties:t,prop_name:n,thing_btype_id:r});t=o.apply_default_fields(n,r,t);return t},fall_back_to_server:true,is_mergeable:true};var s=e("../../../lib");var i=e("../../../lang/btypes")},{"../../../lang/btypes":537,"../../../lib":614,"../../data_updates":375,"../utilities/generic_actions_utilities":178}],144:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/generic_actions_utilities");t.exports={field_names:n.extend({to_change:{},slug:{default:""}}),server_method:"set_slug",data_to_refresh:function e(t,r){var n;return o.get_data_to_refresh_for_change_action({to_change:r.to_change,to_change_value_id:(n=t.property("to_change").get_eval_value())==null?void 0:n.id(),changes:[{key:"Slug",value:r.slug}]})},run:function e(t,r,n,o){n.get_server_outcome(t,(function(e,t){if((t==null?void 0:t.thing)!=null){t.thing.child("Slug").set(t.slug)}o(e,t)}))}}},{"../../../u":687,"../utilities/generic_actions_utilities":178}],145:[function(e,t,r){"use strict";var n=e("../../../lang/btype_ids");t.exports={field_names:{data_type:{},file:{},separator:{default:"comma"}},run:function e(t,r,n,o){n.get_server_outcome(t,(function(e,t){return o(e,t)}))},data_to_refresh:null,return_value:function e(t){var r=t.get_static_property("data_type");if(r){return n.list_type(r)}else{return"null"}},server_method:"upload_csv_data"}},{"../../../lang/btype_ids":536}],146:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=e("../../../u");var c=e("../utilities/element_actions_utilities");var f=e("../../../lang/evaluation/element_eval");t.exports={field_names:{element_id:{},fade_in:{default:500},hold:{default:2e3},fade_out:{default:500},change_message:{},message:{}},run:function e(t,r,o,s){u.run_once(30,(function(){var e=o.element.find_instance_by_id(r.element_id);var t;if(!r.change_message){t=f.evaluate_property(e,"text")}else{t=undefined}return[t,e]}),(function(e,t){if(e){s(e)}else{var o=n(t,2),i=o[0],a=o[1];if(i){r.message=i}a==null?void 0:a.message("show_alert",r);s()}}))},data_to_refresh:null,check_for_errors:c.element_type_checker}},{"../../../lang/evaluation/element_eval":567,"../../../u":687,"../utilities/element_actions_utilities":177,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],147:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("cancel_upload");s()}}))},data_to_refresh:null,check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],148:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("clear_marker_data");s()}}))},data_to_refresh:null,check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],149:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{},data_source:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("set_group_data",r.data_source);s()}}))},data_to_refresh:function e(t,r,n){return o._get_data_to_refresh_for_group_actions(t,r,n,r.data_source)},check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],150:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{},data_source:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("set_list_data",r.data_source);s(null,null)}}))},data_to_refresh:function e(t,r,n){return o._get_data_to_refresh_for_repeating_group_actions(t,r,n,r.data_source)},check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],151:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{},data_source:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("set_marker_data",r.data_source);s()}}))},data_to_refresh:null,check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],152:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../logger");var s=e("../utilities/element_actions_utilities");t.exports={field_names:n.extend({animation:{no_states:true,default:"none"},direction:{no_states:true,default:"left"}},s.field_names_for_show_hide_action),run:function e(t,r,s,i){n.run_once(30,(function(){return s.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){o.log(e)}if(t.element.added_to_container()&&t.parent()&&!t.parent()._has_become_visible.is_turned()){i();return}t==null?void 0:t.workflow_hide();i()}))},data_to_refresh:null}},{"../../../logger":617,"../../../u":687,"../utilities/element_actions_utilities":177}],153:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("clear_list");s()}}))},data_to_refresh:function e(t,r,n){return o._get_data_to_refresh_for_repeating_group_actions(t,r,n)},check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],154:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{},page:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("go_to_page",r.page);s()}}))},data_to_refresh:o.clear_rg_pagination_frozen_states,check_for_errors:function e(t,r){o.element_type_checker(t,r);return o._check_for_errors_show_previous_next(t,r,this.display)}}},{"../../../u":687,"../utilities/element_actions_utilities":177}],155:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:n.extend({},o.field_names_show_previous_next),run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("show_next",r.wrap_around);s()}}))},data_to_refresh:o.clear_rg_pagination_frozen_states,check_for_errors:function e(t,r){o.element_type_checker(t,r);return o._check_for_errors_show_previous_next(t,r,this.display)}}},{"../../../u":687,"../utilities/element_actions_utilities":177}],156:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:n.extend({},o.field_names_show_previous_next),run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("show_previous",r.wrap_around);s()}}))},data_to_refresh:o.clear_rg_pagination_frozen_states,check_for_errors:function e(t,r){o.element_type_checker(t,r);return o._check_for_errors_show_previous_next(t,r,this.display)}}},{"../../../u":687,"../utilities/element_actions_utilities":177}],157:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../logger");var s=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{},manual_setting:{},center:{},initial_zoom:{default:10}},run:function e(t,r,s,i){n.run_once(30,(function(){return s.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){o.log(e)}t==null?void 0:t.message("map_adjust_zoom",r);i()}))},data_to_refresh:null,check_for_errors:s.element_type_checker}},{"../../../logger":617,"../../../u":687,"../utilities/element_actions_utilities":177}],158:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("reset_group");s()}}))},data_to_refresh:function e(t,r,n){return o._get_data_to_refresh_for_group_actions(t,r,n,null)},check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],159:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../u");t.exports={not_api:true,field_names:{},run:function e(t,r,o,s){i.run_once(30,(function(){var e=t.event();var r=i.unique(e.find_expressions("GetElement").element_id());var n=o.element.element_id();if(e.find_expressions("ThisElement").length&&!r.includes(n)){r.push(n)}return r.map((function(e){return o.element.find_instance_by_id(e)})).filter((function(e){return e&&e.get_messages().includes("reset_input")}))}),(function(e,t){if(e){s(e)}else{var r=n(t),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;i.message("reset_input")}}catch(e){r.e(e)}finally{r.f()}s()}}))},data_to_refresh:null}},{"../../../u":687,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],160:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{},entry:{},animate:{},offset:{default:0}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{if(t&&r.entry!=null){setTimeout((function(){return t.message("scroll_to",r)}),100)}s()}}))},data_to_refresh:null,check_for_errors:function e(t,r){o.element_type_checker(t,r);var n=s.element(t==null?void 0:t.element_id());if(n&&o.is_fixed_rg(n)){r(this.display(t)+": "+n.get_name()+" has a 'Fixed number of cells' layout and can't be scrolled to.")}return false}};var s=e("../../../lang/appquery")},{"../../../lang/appquery":535,"../../../u":687,"../utilities/element_actions_utilities":177}],161:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{},to_select:{}},run:function e(t,r,o,s){n.run_once(30,(function(){return o.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){s(e)}else{t==null?void 0:t.message("set_marker_selection",r.to_select);s()}}))},data_to_refresh:null,check_for_errors:o.element_type_checker}},{"../../../u":687,"../utilities/element_actions_utilities":177}],162:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../lang/evaluation/state_keys");var a=e("../../../u");var l=e("../../../constants/eval");var u=e("../utilities/element_actions_utilities");var c=e("../../../u/shared/decaf");t.exports={field_names:a.extend({value:{optional:true},custom_state:{},custom_states_values:{optional:true}},u.field_names_for_show_hide_action),run:function e(t,r,n,o){a.run_once(30,(function(){var e,t;var o=n.element.find_instance_by_id(r.element_id);var s={instance:o,custom_states:[],values:[]};if(o==null){return s}s.custom_states.push(r.custom_state);var i=o.element.element_custom_state(r.custom_state).make_static();if(i&&(e=r.value)!=null&&(t=e.make_static)!=null&&t.call(e)){s.values.push(r.value.make_static())}else{s.values.push(r.value)}if(r.custom_states_values!=null){for(var a in r.custom_states_values){var l,u,c;var f=r.custom_states_values[a];s.custom_states.push(f.custom_state);i=o.element.element_custom_state(f.custom_state).make_static();if(i&&(l=f.value)!=null&&(u=(c=l).make_static)!=null&&u.call(c)){s.values.push(f.value.make_static())}else{s.values.push(f.value)}}}return s}),(function(e,t){if(e){o(e);return}var r=t.instance,n=t.custom_states,s=t.values;if(!r){o();return}for(var i=0;i<s.length;i++){var a=s[i];r.state(n[i],a!=null?a:null)}o()}))},data_to_refresh:function e(t,r,o){var s;if(!((s=f.element(r.element_id))!=null&&s.exists())){return{}}var a=o.find_instance_by_id(r.element_id);if(a==null){return{}}var u=a.element.get_value_id();var d={};if(r.custom_state){var p,_;var m=a.element.element_custom_state(r.custom_state);var y;if(m.make_static()&&((p=r.value)==null?void 0:p.all)!=null){y=r.value.make_static()}else{y=r.value}d[i.Message({prev:a,message:m.name(),prior_btype_id:u})]=(_=y)!=null?_:l.NULL_VALUE_TO_REGISTER}if(r.custom_states_values){var v=n(c.object_values(r.custom_states_values)),b;try{for(v.s();!(b=v.n()).done;){var h,j;var g=b.value;var w=a.element.element_custom_state(g.custom_state);var O=void 0;if(w.make_static()&&((h=g.value)==null?void 0:h.all)!=null){O=g.value.make_static()}else{O=g.value}d[i.Message({prev:a,message:w.name(),prior_btype_id:u})]=(j=O)!=null?j:l.NULL_VALUE_TO_REGISTER}}catch(e){v.e(e)}finally{v.f()}}return d}};var f=e("../../../lang/appquery")},{"../../../constants/eval":75,"../../../lang/appquery":535,"../../../lang/evaluation/state_keys":576,"../../../u":687,"../../../u/shared/decaf":706,"../utilities/element_actions_utilities":177,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],163:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../logger");var s=e("../utilities/element_actions_utilities");t.exports={field_names:n.extend({},s.field_names_for_show_hide_action),run:function e(t,r,s,i){n.run_once(30,(function(){return s.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){o.log(e)}if(t.element.added_to_container()&&t.parent()&&!t.parent()._has_become_visible.is_turned()){i();return}t==null?void 0:t.workflow_show();i()}))},data_to_refresh:null}},{"../../../logger":617,"../../../u":687,"../utilities/element_actions_utilities":177}],164:[function(e,t,r){"use strict";var n=e("../../../logger");var o=e("../../../u");var s=e("../utilities/element_actions_utilities");t.exports={field_names:o.extend({},s.field_names_for_show_hide_action),run:function e(t,r,s,i){o.run_once(30,(function(){return s.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){n.log(e)}if(t){if(t.element.added_to_container()&&t.parent()&&!t.parent()._has_become_visible.is_turned()){i();return}if(t.is_visible()){t.workflow_hide()}else{t.workflow_show()}}i()}))},data_to_refresh:null}},{"../../../logger":617,"../../../u":687,"../utilities/element_actions_utilities":177}],165:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.keys.js");function n(e){return i(e)||s(e)||c(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return f(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){return p(e)||d(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}var _=e("../../u");var m=e("../../safe_require");var y=r;m.safe_register("./core/core_actions",y);var v=e("./utilities/core_actions_consts");var b=e("../../lib");var h=e("../../lang/appquery");var j=e("../../lang/plugins");var g=e("../../services/shared/service_type_parser");var w=e("../../services/shared/plugin_getter");y.SignUp=e("./account/SignUp");y.OAuthLogin=e("./account/OAuthLogin");y.LogIn=e("./account/LogIn");y.LogOut=e("./account/LogOut");y.CookieOptIn=e("./account/CookieOptIn");y.CookieOptOut=e("./account/CookieOptOut");y.UpdateCredentials=e("./account/UpdateCredentials");y.ChangeEmailForAnotherUser=e("./account/ChangeEmailForAnotherUser");y.MakeChangeCurrentUser=e("./account/MakeChangeCurrentUser");y.SendPasswordResetEmail=e("./account/SendPasswordResetEmail");y.SendMagicLink=e("./account/SendMagicLink");y.SendConfirmationEmail=e("./account/SendConfirmationEmail");y.ResetPassword=e("./account/ResetPassword");y.CreateUserAccount=e("./account/CreateUserAccount");y.CheckUserPassword=e("./account/CheckUserPassword");y.SetTemporaryPassword=e("./account/SetTemporaryPassword");y.LogOutOtherSessions=e("./account/LogOutOtherSessions");y.Generate2FAQRCode=e("./account/Generate2FAQRCode");y.Validate2FAToken=e("./account/Validate2FAToken");y.Check2FAToken=e("./account/Check2FAToken");y.Disable2FA=e("./account/Disable2FA");y.GenerateOneTimeCodes=e("./account/GenerateOneTimeCodes");y.ChangePage=e("./navigation/ChangePage");y.RefreshPage=e("./navigation/RefreshPage");y.GoPrevious=e("./navigation/GoPrevious");y.OpenURL=e("./navigation/OpenURL");y.ScrollToElement=e("./navigation/ScrollToElement");y.AnimateElement=e("./navigation/AnimateElement");y.SetFocusToElement=e("./navigation/SetFocusToElement");y.NewThing=e("./db/NewThing");y.ChangeThing=e("./db/ChangeThing");y.ChangeListOfThings=e("./db/ChangeListOfThings");y.DeleteThing=e("./db/DeleteThing");y.DeleteListOfThings=e("./db/DeleteListOfThings");y.CopyListOfThings=e("./db/CopyListOfThings");y.SetSlug=e("./db/SetSlug");y.DownloadDataAsCSV=e("./db/DownloadDataAsCSV");y.UploadCSVData=e("./db/UploadCSVData");y.APIReturnData=e("./db/APIReturnData");y.DeleteUploadedFile=e("./db/DeleteUploadedFile");y.TriggerCustomEvent=e("./custom_workflows/TriggerCustomEvent");y.TriggerCustomEventFromReusable=e("./custom_workflows/TriggerCustomEventFromReusable");y.TriggerCustomOnChange=e("./custom_workflows/TriggerCustomOnChange");y.ScheduleCustom=e("./custom_workflows/ScheduleCustom");y.ScheduleAPIEvent=e("./custom_workflows/ScheduleAPIEvent");y.ScheduleAPIEventOnList=e("./custom_workflows/ScheduleAPIEventOnList");y.TerminateWorkflow=e("./custom_workflows/TerminateWorkflow");y.CancelScheduledAPIEvent=e("./custom_workflows/CancelScheduledAPIEvent");y.CancelListScheduledAPIEvent=e("./custom_workflows/CancelListScheduledAPIEvent");y.SetRecurringEvent=e("./custom_workflows/SetRecurringEvent");y.PauseWFClient=e("./custom_workflows/PauseWFClient");y.SendEmail=e("./misc_actions/SendEmail");y.SendICSFileEmail=e("./misc_actions/SendICSFileEmail");y.ShowElement=e("./elements/ShowElement");y.HideElement=e("./elements/HideElement");y.ToggleElement=e("./elements/ToggleElement");y.SetCustomState=e("./elements/SetCustomState");y.ResetInputs=e("./elements/ResetInputs");y.CancelUpload=e("./elements/CancelUpload");y.DisplayGroupData=e("./elements/DisplayGroupData");y.ResetGroup=e("./elements/ResetGroup");y.DisplayListData=e("./elements/DisplayListData");y.ListClear=e("./elements/ListClear");y.ListShowNext=e("./elements/ListShowNext");y.ListShowPrevious=e("./elements/ListShowPrevious");y.ListGoToPage=e("./elements/ListGoToPage");y.ScrollToListEntry=e("./elements/ScrollToListEntry");y.AlertShowMessage=e("./elements/AlertShowMessage");y.DisplayMapMarkerData=e("./elements/DisplayMapMarkerData");y.SetCurrentMapMarker=e("./elements/SetCurrentMapMarker");y.ClearMapMarkers=e("./elements/ClearMapMarkers");y.MapAdjustZoom=e("./elements/MapAdjustZoom");y.get_action_object=function(e){if(y[e]){return y[e]}else{var t;var r=g.get_plugin_and_type(e),n=l(r,1),o=n[0];return(t=w.get_plugin(o))==null?void 0:t.get_action(e)}}},{"../../lang/appquery":535,"../../lang/plugins":602,"../../lib":614,"../../safe_require":643,"../../services/shared/plugin_getter":649,"../../services/shared/service_type_parser":651,"../../u":687,"./account/ChangeEmailForAnotherUser":102,"./account/Check2FAToken":103,"./account/CheckUserPassword":104,"./account/CookieOptIn":105,"./account/CookieOptOut":106,"./account/CreateUserAccount":107,"./account/Disable2FA":108,"./account/Generate2FAQRCode":109,"./account/GenerateOneTimeCodes":110,"./account/LogIn":111,"./account/LogOut":112,"./account/LogOutOtherSessions":113,"./account/MakeChangeCurrentUser":114,"./account/OAuthLogin":115,"./account/ResetPassword":116,"./account/SendConfirmationEmail":117,"./account/SendMagicLink":118,"./account/SendPasswordResetEmail":119,"./account/SetTemporaryPassword":120,"./account/SignUp":121,"./account/UpdateCredentials":122,"./account/Validate2FAToken":123,"./custom_workflows/CancelListScheduledAPIEvent":124,"./custom_workflows/CancelScheduledAPIEvent":125,"./custom_workflows/PauseWFClient":126,"./custom_workflows/ScheduleAPIEvent":127,"./custom_workflows/ScheduleAPIEventOnList":128,"./custom_workflows/ScheduleCustom":129,"./custom_workflows/SetRecurringEvent":130,"./custom_workflows/TerminateWorkflow":131,"./custom_workflows/TriggerCustomEvent":132,"./custom_workflows/TriggerCustomEventFromReusable":133,"./custom_workflows/TriggerCustomOnChange":134,"./db/APIReturnData":135,"./db/ChangeListOfThings":136,"./db/ChangeThing":137,"./db/CopyListOfThings":138,"./db/DeleteListOfThings":139,"./db/DeleteThing":140,"./db/DeleteUploadedFile":141,"./db/DownloadDataAsCSV":142,"./db/NewThing":143,"./db/SetSlug":144,"./db/UploadCSVData":145,"./elements/AlertShowMessage":146,"./elements/CancelUpload":147,"./elements/ClearMapMarkers":148,"./elements/DisplayGroupData":149,"./elements/DisplayListData":150,"./elements/DisplayMapMarkerData":151,"./elements/HideElement":152,"./elements/ListClear":153,"./elements/ListGoToPage":154,"./elements/ListShowNext":155,"./elements/ListShowPrevious":156,"./elements/MapAdjustZoom":157,"./elements/ResetGroup":158,"./elements/ResetInputs":159,"./elements/ScrollToListEntry":160,"./elements/SetCurrentMapMarker":161,"./elements/SetCustomState":162,"./elements/ShowElement":163,"./elements/ToggleElement":164,"./misc_actions/SendEmail":166,"./misc_actions/SendICSFileEmail":167,"./navigation/AnimateElement":168,"./navigation/ChangePage":169,"./navigation/GoPrevious":170,"./navigation/OpenURL":171,"./navigation/RefreshPage":172,"./navigation/ScrollToElement":173,"./navigation/SetFocusToElement":174,"./utilities/core_actions_consts":176,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],166:[function(e,t,r){"use strict";t.exports={field_names:{to:{},different_reply_to:{},replyTo:{},sender_name:{},cc:{},bcc:{},subject:{},body:{},ignore_template:{},unsubscribe_group_id:{},list_of_attachments:{}},server_method:"send_email",data_to_refresh:null,run:function e(t,r,n,o){n.get_server_outcome(t,o)},check_use_visible:true}},{}],167:[function(e,t,r){"use strict";t.exports={field_names:{to:{},sender_name:{},start:{},end:{},specify_length:{},event_length:{},summary:{},event_description:{},location:{},change_body:{},SEQUENCE:{},UID:{},METHOD:{},ORGANIZER:{},STATUS:{},body:{default:"Open the attached ICS to put the appointment in your calendar."},ignore_template:{}},server_method:"send_ical_by_email",data_to_refresh:null,check_use_visible:true}},{}],168:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../logger");var s=e("../utilities/generic_actions_utilities");t.exports={field_names:{element_id:{},animation:{default:"callout.bounce"},customize_duration:{},duration:{}},run:function e(t,r,i,a){n.run_once(30,(function(){return i.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){o.log(e)}if(t&&r.animation){t.with_canvas((function(e){var o;if(r.customize_duration){var i;o=(i=r.duration)!=null?i:s.get_velocity_animation_duration(r.animation)}else{o=s.get_velocity_animation_duration(r.animation)}var a={duration:o};if(r.animation.indexOf("transition.")===0){if(r.animation.indexOf("Out")!==-1){t.workflow_hide(r,a,true)}else if(r.animation.indexOf("In")!==-1){t.workflow_show(r,a,true)}}else{setTimeout((function(){var t;if(((t=document)==null?void 0:t.hidden)===false){n.velocity(e,r.animation,a)}}),20)}}))}a()}))},not_api:true,data_to_refresh:null}},{"../../../logger":617,"../../../u":687,"../utilities/generic_actions_utilities":178}],169:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");var n=e("../../../u");var o=e("../../../shared/build_page_url_for_action");var s=e("../../url_data");var i=e("../utilities/generic_actions_utilities");var a=e("../../../logger");var l=e("../../../lang/appquery");t.exports={field_names:{element_id:{},data_to_send:{},dynamic_page_name:{},open_in_new_tab:{},add_parameters:{},url_parameters:{},keep_current_page_params:{},replace_history:{}},run:function e(t,r,c,d){function p(e,t,r,c){var d;switch(t.element_id){case"Current page":d=l.get_page_by_name(u().location.get_page());break;case"Dynamic page":d=l.get_page_by_name(t.dynamic_page_name);break;default:d=i.get_page(t.element_id)}if(!d){console.log("not changing page because page not found");c();return}if(n.on_phonegap()){window.alert("Native apps should be built in a single page, you can't use a change action here");return}var p=d.name();n.run_once(30,(function(){var e;switch(t.element_id){case"Current page":e=u().pageparam.get();break;case"Dynamic page":e="";break;default:e=t.data_to_send}return s.get_data_to_send(e,d.get_static_property("readable_field"))}),(function(n,s){if(n){a.log(n)}var i=o.build_page_url_for_action(t.data_to_send,t.add_parameters,t.url_parameters,t.keep_current_page_params,p,d,s);var l=i.data_fr_link;if(i.pg_thing){p+="/"+i.pg_thing}var _=l.lang;var m=f.app_language();var y=_&&m!==_.toLowerCase();if(t.open_in_new_tab){window.open(u().location.get_page_url(p,l),"_blank");window.focus();c();return}if(d.name()===u().location.get_page()&&!y){var v=u().location.get_page_url(p,l);if(v!==u().location.my_location()){u().location.set_url_without_refresh({url:v,push_state:!t.replace_history});u().pageparam.invalidate()}if(r!=null){r.__investigate_post_changed_page_url_reads=true}c();return}var b=u().workflow.make_resume_key(r,e);if(b){l.resume=b}u().workflow.wait_for_safe(r,(function(){if(!b){c("aborted")}r.__investigate_post_changed_page_url_reads=true;if(y){document.location.href=undefined}u().location.change_page(p,l)}))}))}if(u().location.get_query().on_login!=null){n.run_once(15,(function(){return u().user.has_changed()}),(function(e,n){if(e){a.log(e)}if(!n){p(t,r,c,d)}}))}else{p(t,r,c,d)}},not_api:true,data_to_refresh:null};var u=e("../../../lib");var c=e("../../core_elements/shared/links");var f=e("../../../languages")},{"../../../lang/appquery":535,"../../../languages":612,"../../../lib":614,"../../../logger":617,"../../../shared/build_page_url_for_action":655,"../../../u":687,"../../core_elements/shared/links":361,"../../url_data":408,"../utilities/generic_actions_utilities":178,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/web.dom-collections.iterator.js":991}],170:[function(e,t,r){"use strict";t.exports={field_names:{},run:function e(t,r,o,s){n().workflow.wait_for_safe(o,(function(){window.history.back();s()}))},not_api:true,data_to_refresh:null};var n=e("../../../lib")},{"../../../lib":614}],171:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");var n=e("../../../u");t.exports={field_names:{url:{},open_in_new_tab:{}},run:function e(t,r,i,a){var l=r.url;if(l&&!l.includes("//")&&!s.href_attributes.includes(l.split(":")[0])){l="//"+l}if(n.on_phonegap()){window.open(l,"_blank","location=yes,enableViewportScale=yes");a();return}if(r.open_in_new_tab){window.open(l,"_blank");window.focus();a()}else{o().workflow.wait_for_safe(i,(function(){a("aborted");document.location.href=l}))}},not_api:true,data_to_refresh:null};var o=e("../../../lib");var s=e("../../core_elements/shared/links")},{"../../../lib":614,"../../../u":687,"../../core_elements/shared/links":361,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.split.js":979}],172:[function(e,t,r){"use strict";var n=e("../utilities/generic_actions_utilities");t.exports={field_names:{},run:function e(t,r,s,i){o().workflow.wait_for_safe(s,(function(){document.location.href=n.get_resume_url(s,t)}))},not_api:true,data_to_refresh:null};var o=e("../../../lib")},{"../../../lib":614,"../utilities/generic_actions_utilities":178}],173:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../logger");t.exports={field_names:{element_id:{},offset:{optional:true,default:0}},run:function e(t,r,s,i){n.run_once(30,(function(){return s.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){o.log(e)}if(t){t.with_canvas((function(e){var t;n.velocity(e,"scroll",{duration:300,offset:(t=r.offset)!=null?t:0})}))}i()}))},not_api:true,data_to_refresh:null}},{"../../../logger":617,"../../../u":687}],174:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js");var n=e("../../../u");var o=e("../../../logger");var s=e("../utilities/element_actions_utilities");t.exports={field_names:{element_id:{}},run:function e(t,r,s,i){n.run_once(30,(function(){return s.element.find_instance_by_id(r.element_id)}),(function(e,t){if(e){o.log(e)}if(t){t.wait_for_visible((function(){n.wait_for_updates((function(){var e=t.get_canvas();if(!n.isScrolledIntoView(e).status){if(e.add(e.parents()).filter((function(){return $(this).css("position")==="fixed"})).length===0){n.velocity(e,"scroll",{duration:300,offset:-100})}}t.message("set_focus")}))}))}i()}))},not_api:true,data_to_refresh:null,check_for_errors:s.element_type_checker}},{"../../../logger":617,"../../../u":687,"../utilities/element_actions_utilities":177,"core-js/modules/es.array.filter.js":927}],175:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../u");var a=e("../../../lang/evaluation/state_keys");var l=r;var u=e("../../../client_config");l.get_iframe_for_cookie_phonegap=function(){if(i.on_phonegap()){var e=f.appname();var t;if(u.apps_domain){t="https://"+e+"."+u.apps_domain}else{t=c().location.get_base_for_meta()+"/site/"+e}t+="/version-"+f.app_version()+"/user/hi";var r=$('<iframe src="'.concat(t,'"></iframe>'));r.load((function(){r.remove()}));$("body").append(r)}};l.refresh_current_user=function(){var e={};e[a.CurrentUser()]=null;var t=c().current_user();e[a.Message({prev:t,message:"email",prior_btype_id:"user"})]=null;var r=n(f.get_oauth_providers()),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;e[a.Message({prev:t,message:s,prior_btype_id:"user"})]=null}}catch(e){r.e(e)}finally{r.f()}return e};l.get_remember_email_key=function(){return"_bubble_saved_email_"+c().appname()+"_"+c().app_version()};var c=e("../../../lib");var f=e("../../../lang/appquery")},{"../../../client_config":55,"../../../lang/appquery":535,"../../../lang/evaluation/state_keys":576,"../../../lib":614,"../../../u":687,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],176:[function(e,t,r){"use strict";var n=r;var o=e("../../../safe_require");o.safe_register("./core/core_actions/utilities/core_actions_consts",n);n.csv_separators={comma:",",semicolon:";",tab:"tab",pipe:"|"};n.basic_actions=n.root_actions},{"../../../safe_require":643}],177:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");var n=r;var o=e("../../../lang/evaluation/state_keys");var s=e("../../../db/hydrate");var i=e("../../../constants/eval");var a=e("./core_actions_consts");var l=e("../../core_datasources/utilities/core_ds_element_utilities");n.field_names_for_show_hide_action={element_id:{}};n._get_data_to_refresh_for_group_actions=function(e,t,r,n){var a,c;if(!((a=u.element(t.element_id))!=null&&a.exists())){return{}}var f=r.find_instance_by_id(t.element_id);if(!f){return{}}var d=s.dehydrate_tree(f);var p={};p[o.Message({prev:f,message:"get_group_data",prior_btype_id:f.element.get_value_id()})]=n;p[i.ESTATE_PREFIX+d]={group_data:n};if((f==null?void 0:f.element.id())===((c=l.get_element_parent(e))==null?void 0:c.id())){p[o.ElementParent()]=n}return p};n.field_names_show_previous_next={element_id:{},wrap_around:{default:false}};n.is_fixed_rg=function(e){var t;if(((t=e.root())==null?void 0:t.get_responsive_version())>0){return e.get_static_property("fixed_rows")&&e.get_static_property("fixed_columns")}else{return e.get_static_property("layout_style")==="limit_items"}};n._get_data_to_refresh_for_repeating_group_actions=function(e,t,r,n){var a=r.find_instance_by_id(t.element_id);var l=s.dehydrate_tree(a);var u={};u[o.Message({prev:a,message:"get_list_data",prior_btype_id:a.element.get_value_id()})]=n;u[i.ESTATE_PREFIX+l]={list_data:n};return u};n.clear_rg_pagination_frozen_states=function(e,t,r){var n;if(!((n=u.element(t.element_id))!=null&&n.exists())){return{}}var s=r.find_instance_by_id(t.element_id);if(!s){return{}}var i={};var a=s.element.get_value_id();i[o.Message({prev:s,message:"is_last_page",prior_btype_id:a})]=null;i[o.Message({prev:s,message:"is_first_page",prior_btype_id:a})]=null;i[o.Message({prev:s,message:"page_number",prior_btype_id:a})]=null;return i};var u=e("../../../lang/appquery")},{"../../../constants/eval":75,"../../../db/hydrate":422,"../../../lang/appquery":535,"../../../lang/evaluation/state_keys":576,"../../core_datasources/utilities/core_ds_element_utilities":234,"./core_actions_consts":176,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],178:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.search.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../u");var a=e("../../../lang/evaluation/state_keys");var l=e("../../../lang/btypes");var u=r;var c=e("../../../safe_require");c.safe_register("./core/core_actions/utilities/generic_actions_utilities",u);var f=e("../../../strings/plugin");var d=e("../../../u/shared/decaf");u.make_pre_process_properties=function(e){var t=e.prop_name,r=e.thing_btype_id;return function(e){var n;var o=l.get(r,{miss_okay:true});var s=o.custom_type();(n=e[t])!=null?n:e[t]={};for(var i=0,a=Object.values(e[t]);i<a.length;i++){var u,c,f;var d=a[i];if(d===undefined){continue}var p=void 0;if(s){var _=s.field(d.key).value();p=l.get(_)}if(d.action!=null&&!((u=p)!=null&&(c=(f=u).inner)!=null&&c.call(f))){d.action=null}if(["add_list","remove_list","set_list"].includes(d==null?void 0:d.action)){var m,y,v,b;d.value=((m=(y=d.value)==null?void 0:(v=(b=y).all)==null?void 0:v.call(b))!=null?m:[]).map((function(e){var t,r;return(t=e==null?void 0:(r=e.all)==null?void 0:r.call(e))!=null?t:e}))}}return e}};u.pre_process_properties=function(e){var t=e.properties,r=e.prop_name,n=e.thing_btype_id;return u.make_pre_process_properties({prop_name:r,thing_btype_id:n})(t)};u.apply_default_fields=function(e,t,r){var o,s;if(typeof t!=="string"){return r}var i;try{i=l.get(t).custom_type()}catch(e){if(String(e==null?void 0:e.message).indexOf(f.MISSING_PLUGIN)===-1){throw e}return r}(o=r[e])!=null?o:r[e]={};var a=Object.values(r[e]).filter((function(e){return e==null?void 0:e.key})).map((function(e){return e==null?void 0:e.key}));var u=Object.values(r[e]).length;var c=(s=i.default()||i.get_default_fields())!=null?s:{};var d=n(c),p;try{for(d.s();!(p=d.n()).done;){var _=p.value;if(!_.deleted&&!a.includes(_.name)&&_.default_val!=null){r[e][u]={key:_.name,value:_.default_val};u++}}}catch(e){d.e(e)}finally{d.f()}return r};u.change_field_names=function(e){return{changes:{prop_type:e}}};u.get_page=function(e){var t;var r=_.page(e);(t=r)!=null?t:r=_.get_page_by_name(e);return r};u.get_velocity_animation_duration=function(e){var t,r,n,o,s;var a=(t=$.Velocity)==null?void 0:t.RegisterEffect.packagedEffects;var l=i.custom_transitions;return(r=(n=(o=a[e])==null?void 0:o.defaultDuration)!=null?n:(s=l[e])==null?void 0:s.defaultDuration)!=null?r:300};u.get_data_to_refresh_for_change_action=function(e){var t=e.to_change,r=e.to_change_value_id,o=e.changes;if(t==null&&p().bubble_version()>=9){return{}}var s={};var i=n(d.object_values(o)),l;try{for(i.s();!(l=i.n()).done;){var u=l.value;if(u.key){var c=a.Message({prev:t,message:u.key,prior_btype_id:r});if(!u.action){s[c]=u.value}else{s[c]=null}}}}catch(e){i.e(e)}finally{i.f()}s[a.Message({prev:t,message:"Modified Date",prior_btype_id:r})]=null;return s};u.prepare_raw_thing_to_copy=function(e){if(!e){return null}delete e["Created By"];delete e["Created Date"];delete e["Modified Date"];delete e.Slug;return e};u.sub_node_key_to_value=function(e,t){var r;if(!e){return null}if(!t){return null}return(r=e.get_message(t))==null?void 0:r.ret_btype()};u.APIEvent_param_prefix="_wf_param_";u.get_run_mode_api_event_name=function(e){if(e){if(!p().is_edit_mode()){var t=p().derived("APIWFByName",true).content();for(var r in t){var n=t[r];if(n===e){return r}}}}return undefined};u.get_resume_url=function(e,t,r){var n=m.parse(document.location.href,true);delete n.search;var o=p().workflow.make_resume_key(e,t,r);if(o){n.query.resume=o}return m.format(n)};var p=e("../../../lib");var _=e("../../../lang/appquery");var m=e("url")},{"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lang/evaluation/state_keys":576,"../../../lib":614,"../../../safe_require":643,"../../../strings/plugin":675,"../../../u":687,"../../../u/shared/decaf":706,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.search.js":978,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,url:748}],179:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");function n(e){return i(e)||s(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return u(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=r;var f=e("./../../lang/application/builtins");var d=e("../../lang/btypes_registry");var p=e("./utilities/generate_utilities");c.plugins={};c.plugins.boolean=e("./plugins/boolean");c.plugins.date=e("./plugins/date");c.plugins.dateinterval=e("./plugins/dateinterval");c.plugins.date_range=e("./plugins/date_range");c.plugins.file=e("./plugins/file");c.plugins.geographic_address=e("./plugins/geographic_address");c.plugins.image=e("./plugins/image");c.plugins.key_combination=e("./plugins/key_combination");c.plugins.null=e("./plugins/null");c.plugins.number_range=e("./plugins/number_range");c.plugins.number=e("./plugins/number");c.plugins.text=e("./plugins/text");c.plugins.user=e("./plugins/user");c.providers={};c.providers.api_wf_data=e("./providers/api_wf_data");c.providers.api=e("./providers/api");c.providers.custom=e("./providers/custom");c.providers.element=e("./providers/element");c.providers.list=e("./providers/list");c.providers.option=e("./providers/option");c.providers.struct=e("./providers/struct");c.providers.style=e("./providers/style");c.providers.sys=e("./providers/sys");var _=a(f.SPECIAL_TYPES),m;try{var y=function e(){var t=m.value;var r=t.name();var n=function e(){return p.create_custom_btype(r,t,undefined,undefined,true)};n.dont_list=true;c.plugins[r]=n};for(_.s();!(m=_.n()).done;){y()}}catch(e){_.e(e)}finally{_.f()}var v=["text","number","number_range","null","date","date_range","dateinterval","boolean","file","image","geographic_address","key_combination","user"].concat(n(f.SPECIAL_TYPES.map((function(e){return e.name()}))));var b=["sys","element","style","struct","list","custom","api","api_wf_data","option"];c.all={};var h=a(v),j;try{for(h.s();!(j=h.n()).done;){var g=j.value;d.plugins.add(g,c.plugins[g]);c.all[g]=c.plugins[g]}}catch(e){h.e(e)}finally{h.f()}for(var w=0,O=b;w<O.length;w++){var S=O[w];d.providers.add(S,c.providers[S]);c.all[S]=c.providers[S]}},{"../../lang/btypes_registry":538,"./../../lang/application/builtins":533,"./plugins/boolean":180,"./plugins/date":181,"./plugins/date_range":182,"./plugins/dateinterval":183,"./plugins/file":184,"./plugins/geographic_address":185,"./plugins/image":186,"./plugins/key_combination":187,"./plugins/null":188,"./plugins/number":189,"./plugins/number_range":190,"./plugins/text":191,"./plugins/user":192,"./providers/api":193,"./providers/api_wf_data":194,"./providers/custom":195,"./providers/element":196,"./providers/list":197,"./providers/option":198,"./providers/struct":199,"./providers/style":200,"./providers/sys":201,"./utilities/generate_utilities":203,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],180:[function(e,t,r){"use strict";var n=e("../../../db/postgres_constraints");var o=e("../../../lib");var s=e("../utilities/boolean_utilities"),i=s.render_bool,a=s.bool_equals,l=s.to_bool,u=s.format_boolean_message,c=s.format_boolean_number_message;var f=e("../utilities/generate_utilities"),d=f.build_simple;var p=e("../utilities/misc_utilities"),_=p.get_json_encode_msg,m=p.generate_JS_to_bubble_error;var y=e("../../../constants/composer"),v=y.COMPOSER_INPUT_TYPES;t.exports=d("boolean",{messages:{is_true:{description:' is "yes"',ret_btype:"sys.bool",build_pg_constraint:n.is_true,fn:function e(t,r){return l(t)}},is_false:{description:' is "no"',ret_btype:"sys.bool",build_pg_constraint:n.is_false,fn:function e(t,r){return!l(t)}},format_boolean:u,format_boolean_number:c,format_json_encode:_("boolean"),and_:{description:" and ",no_composer:function e(){return true},ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return l(t)&&l(r)}},or_:{description:" or ",no_composer:function e(){return true},ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return l(t)||l(r)}}},messages_reorganized:{is_true:{description:" is yes",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:n.is_true,fn:function e(t,r){return l(t)}},is_false:{description:" is no",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:n.is_false,fn:function e(t,r){return!l(t)}},and_:{description:" and ",section:"Operators",no_composer:function e(){return true},ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return l(t)&&l(r)}},or_:{description:" or ",section:"Operators",no_composer:function e(){return true},ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return l(t)||l(r)}},format_boolean:u,format_boolean_number:c,format_json_encode:_("boolean")},display:function e(){return"yes / no"},composer_input_type:v.BOOLEAN,runmode_display:i,export_to_string:function e(t,r){if(r.booleans_yes_no){return i(t)}else{return t!=null?t:false}},equals:a,get_sample:function e(){return true},from_human:function e(t){if(typeof t==="string"){switch(t.toLowerCase()){case o().get_text("BUILT_IN","YES").toLowerCase():return true;case o().get_text("BUILT_IN","NO").toLowerCase():return false;default:return l(t)}}else{return l(t)}},cast:function e(t){return l(t)},get_JS_object:function e(t){var r;return(r=this.cast(t))!=null?r:false},JS_to_bubble:function e(t){t=this.cast(t);if(t===undefined){m("boolean",t)}return t},convert_to_bubble_instance:l,storable:true,bindable:false})},{"../../../constants/composer":65,"../../../db/postgres_constraints":452,"../../../lib":614,"../utilities/boolean_utilities":202,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205}],181:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.concat.js");function o(e){return l(e)||a(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return u(e)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){t=p(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m=e("../../../u");var y=e("./../../../lang/appquery");var v=e("./../../../db/postgres_constraints");var b=e("../utilities/generate_utilities"),h=b.build_simple;var j=e("../utilities/misc_utilities"),g=j.generate_JS_to_bubble_error,w=j.get_json_encode_msg;var O=e("../../../u/shared/b_date");var S=e("../../custom_tz_utilities");var k=e("../../../lang/timezone_override_settings"),A=k.has_rounding_operator_timezone_controls_on;var E=e("../../../u/shared/mode_check");var x=m.require_moment();var M=e("./../../../lib");function P(e){var t=y.has_advanced_feature_enabled("timezone_controls_page");var r=y.has_advanced_feature_enabled("timezone_controls_backend_workflows");if(e!=null&&e.json){var n=e.json._path();if(n.startsWith("api")){if(r){return"api_wf"}}else if(t){return"on_page"}}else if(r||t){return"unknown"}return"legacy"}function T(e){var t=e.date,r=e.properties,n=e.context;var o;if(A()||E.running_test()){o=S.get_custom_tz({static_eval:function e(t){return r[t]}})}else{o=M().current_timezone()}var s=O.to_moment(t,o);if(!s.isValid()){return null}return s.clone().startOf(r.component_to_extract).toDate()}var I={minute:"minute",hour:"hour",day:"day",date:"date",week:"week",month:"month",year:"year"};function C(e,t){var r,n;return((r=O.mk_date(e))==null?void 0:r.valueOf())===((n=O.mk_date(t))==null?void 0:n.valueOf())}t.exports=h("date",{messages:{format_date:{ret_btype:"text",arg_btype:null,field_names:f({formatting_type:{default:"m/dd/yy"},custom_format:{default:"ddd, m/dd/yy, mmmm (mmm) dS, yyyy, h:MM tt, HH:MM:ss.L"}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r;var n={formatting_type:(r=t==null?void 0:t.property("formatting_type").raw())!=null?r:"m/dd/yy",custom_format:t==null?void 0:t.property("custom_format").raw()};var o;if(n){o=" "+this.fn(new Date,undefined,n)}else{o="..."}return":formatted as"+o},fn:function e(t,r,n,o,s){var i=n==null?void 0:n.formatting_type;if(i==="custom"){i=n.custom_format}t=O.mk_date(t);if(!t){return""}else{var a=S.get_custom_tz({static_eval:function e(t){return n[t]},not_overridden:true});var l;if(a&&x.tz.zone(a)){l=a}else{l=x.tz.guess()}if(i==="iso_date"){return t.toISOString()}return m.format_date(t,i,M().get_text("BUILT_IN","DATE_FORMAT"),l)}}},format_json_encode:w("date"),to_range:{description:"<- range ->",arg_btype:"date",ret_btype:"date_range",fn:function e(t,r){t=O.mk_date(t);r=O.mk_date(r);if(!t||!r){return[]}return[O.mk_date(Math.min(t,r)),O.mk_date(Math.max(t,r))]}},plus_seconds:{description:" +(seconds): ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_seconds(t,r,n,o,s)}},plus_minutes:{description:" +(minutes): ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_minutes(t,r,n,o,s)}},plus_hours:{description:" +(hours): ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_hours(t,r,n,o,s)}},plus_days:{description:" +(days): ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_days(t,r,n,o,s)}},plus_months:{description:" +(months): ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_months(t,r,n,o,s)}},plus_years:{description:" +(years): ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_years(t,r,n,o,s)}},change_seconds:{description:" change seconds to ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_seconds(t,r,n,o,s)}},change_minutes:{description:" change minutes to ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_minutes(t,r,n,o,s)}},change_hours:{description:" change hours to ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_hours(t,r,n,o,s)}},change_date:{description:" change date to ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_date(t,r,n,o,s)}},change_month:{description:" change month to ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_month(t,r,n,o,s)}},change_years:{description:" change years to ",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_years(t,r,n,o,s)}},greater_than:{description:" > ",ret_btype:"sys.bool",arg_btype:"date",fn:function e(t,r){return O.mk_date(t)>O.mk_date(r)}},less_than:{description:" < ",ret_btype:"sys.bool",arg_btype:"date",fn:function e(t,r){return O.mk_date(t)<O.mk_date(r)}},minus:{description:" - ",ret_btype:"dateinterval",arg_btype:"date",fn:function e(t,r){return O.mk_date(t)-O.mk_date(r)}},extract_from_date:{ret_btype:"number",field_names:f({component_to_extract:{}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("component_to_extract");var n;if(r&&!r.is_empty()){n=" "+r.get_static()}else{n="..."}return":extract"+n},fn:function e(t,r,n,o,s){return M().bv().date_code.extract_from_date(t,r,n,o,s)}},rounded_down:{ret_btype:"date",field_names:m.extend({component_to_extract:{}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("component_to_extract");var n;if(r&&!r.is_empty()){n=" "+r.get_static()}else{n="..."}return":rounded down to"+n+" "},fn:function e(t,r,n,o,s){return T({date:t,properties:n,context:s})}},equals_rounded_down:{ret_btype:"sys.bool",arg_btype:"date",field_names:m.extend({component_to_extract:{}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("component_to_extract");var n;if(r&&!r.is_empty()){n=" "+r.get_static()}else{n="..."}return":equals rounded down to "+n+" "},fn:function e(t,r,n,o,s){t=T({date:t,properties:n,context:s});r=T({date:r,properties:n,context:s});return C(t,r)}},max:{description:" <- max -> ",ret_btype:"date",arg_btype:"date",fn:function e(t,r){var n,o,s,i;t=O.mk_date(t);r=O.mk_date(r);if(((n=t)==null?void 0:(o=n.getTime)==null?void 0:o.call(n))>=((s=r)==null?void 0:(i=s.getTime)==null?void 0:i.call(s))||!r){return t}else{return r}}},min:{description:" <- min -> ",ret_btype:"date",arg_btype:"date",fn:function e(t,r){var n,o,s,i;t=O.mk_date(t);r=O.mk_date(r);if(((n=t)==null?void 0:(o=n.getTime)==null?void 0:o.call(n))<=((s=r)==null?void 0:(i=s.getTime)==null?void 0:i.call(s))||!r){return t}else{return r}}},is_empty:{description:" is empty",ret_btype:"sys.bool",build_pg_constraint:v.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",build_pg_constraint:v.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},equals:{description:" is ",ret_btype:"sys.bool",arg_btype:"date",no_composer:function e(){return true},fn:function e(t,r){return C(t,r)},build_pg_constraint:v.equals,build_pg_r_constraint:v.equals,build_pg_relationship:v.equals_both},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:"date",no_composer:function e(){return true},fn:function e(t,r){return!C(t,r)},build_pg_constraint:v.not_equals,build_pg_r_constraint:v.not_equals,build_pg_relationship:v.not_equals_both}},messages_reorganized:{equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",no_composer:function e(){return true},fn:function e(t,r){return C(t,r)},build_pg_constraint:v.equals,build_pg_r_constraint:v.equals,build_pg_relationship:v.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",no_composer:function e(){return true},fn:function e(t,r){return!C(t,r)},build_pg_constraint:v.not_equals,build_pg_r_constraint:v.not_equals,build_pg_relationship:v.not_equals_both},format_date:{section:"Operators",ret_btype:"text",arg_btype:null,field_names:f({formatting_type:{default:"m/dd/yy"},custom_format:{default:"ddd, m/dd/yy, mmmm (mmm) dS, yyyy, h:MM tt, HH:MM:ss.L"}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r;var n={formatting_type:(r=t==null?void 0:t.property("formatting_type").raw())!=null?r:"m/dd/yy",custom_format:t==null?void 0:t.property("custom_format").raw()};var o;if(n){o=" "+this.fn(new Date,undefined,n)}else{o="..."}return":formatted as"+o},fn:function e(t,r,n,o,s){var i=n==null?void 0:n.formatting_type;if(i==="custom"){i=n.custom_format}t=O.mk_date(t);if(!t){return""}else{var a=S.get_custom_tz({static_eval:function e(t){return n[t]},not_overridden:true});var l;if(a&&x.tz.zone(a)){l=a}else{l=x.tz.guess()}if(i==="iso_date"){return t.toISOString()}return m.format_date(t,i,M().get_text("BUILT_IN","DATE_FORMAT"),l)}}},greater_than:{description:" > ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",fn:function e(t,r){return O.mk_date(t)>O.mk_date(r)}},less_than:{description:" < ",section:"Operators",ret_btype:"sys.bool",arg_btype:"date",fn:function e(t,r){return O.mk_date(t)<O.mk_date(r)}},minus:{description:" - ",section:"Operators",ret_btype:"dateinterval",arg_btype:"date",fn:function e(t,r){return O.mk_date(t)-O.mk_date(r)}},to_range:{description:"<- range ->",section:"Other Operators",arg_btype:"date",ret_btype:"date_range",fn:function e(t,r){t=O.mk_date(t);r=O.mk_date(r);if(!t||!r){return[]}return[O.mk_date(Math.min(t,r)),O.mk_date(Math.max(t,r))]}},max:{description:" <- max -> ",section:"Other Operators",ret_btype:"date",arg_btype:"date",fn:function e(t,r){var n,o,s,i;t=O.mk_date(t);r=O.mk_date(r);if(((n=t)==null?void 0:(o=n.getTime)==null?void 0:o.call(n))>=((s=r)==null?void 0:(i=s.getTime)==null?void 0:i.call(s))||!r){return t}else{return r}}},min:{description:" <- min -> ",section:"Other Operators",ret_btype:"date",arg_btype:"date",fn:function e(t,r){var n,o,s,i;t=O.mk_date(t);r=O.mk_date(r);if(((n=t)==null?void 0:(o=n.getTime)==null?void 0:o.call(n))<=((s=r)==null?void 0:(i=s.getTime)==null?void 0:i.call(s))||!r){return t}else{return r}}},plus_seconds:{description:"+ seconds: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_seconds(t,r,n,o,s)}},plus_minutes:{description:"+ minutes: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_minutes(t,r,n,o,s)}},plus_hours:{description:"+ hours: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_hours(t,r,n,o,s)}},plus_days:{description:"+ days: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_days(t,r,n,o,s)}},plus_months:{description:"+ months: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_months(t,r,n,o,s)}},plus_years:{description:"+ years: ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.plus_years(t,r,n,o,s)}},change_seconds:{description:" change seconds to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_seconds(t,r,n,o,s)}},change_minutes:{description:" change minutes to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_minutes(t,r,n,o,s)}},change_hours:{description:" change hours to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_hours(t,r,n,o,s)}},change_date:{description:" change date to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_date(t,r,n,o,s)}},change_month:{description:" change month to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_month(t,r,n,o,s)}},change_years:{description:" change years to ",section:"Other Operators",ret_btype:"date",arg_btype:"number",fn:function e(t,r,n,o,s){return M().bv().date_code.change_years(t,r,n,o,s)}},extract_from_date:{ret_btype:"number",section:"Other Operators",field_names:f({component_to_extract:{}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("component_to_extract");var n;if(r&&!r.is_empty()){n=" "+r.get_static()}else{n="..."}return":extract"+n},fn:function e(t,r,n,o,s){return M().bv().date_code.extract_from_date(t,r,n,o,s)}},rounded_down:{ret_btype:"date",section:"Other Operators",field_names:m.extend({component_to_extract:{}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("component_to_extract");var n;if(r&&!r.is_empty()){n=" "+r.get_static()}else{n="..."}return":rounded down to"+n+" "},fn:function e(t,r,n,o,s){return T({date:t,properties:n,context:s})}},equals_rounded_down:{ret_btype:"sys.bool",section:"Other Operators",arg_btype:"date",field_names:m.extend({component_to_extract:{}},S.custom_tz_field_names),spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("component_to_extract");var n;if(r&&!r.is_empty()){n=" "+r.get_static()}else{n="..."}return"equals rounded down to ".concat(n," ")},fn:function e(t,r,n,o,s){t=T({date:t,properties:n,context:s});r=T({date:r,properties:n,context:s});return C(t,r)}},is_empty:{description:" is empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:v.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:v.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},format_json_encode:w("date")},display:function e(){return"date"},runmode_display:function e(t,r){return m.format_date(O.mk_date(t),"mmm d, yyyy h:MM tt",null,M().current_timezone())},export_to_string:function e(t,r){if(!r.date_formatting||r.date_formatting==="spreadsheet_compatible"){return m.format_date(O.mk_date(t),"mmm d, yyyy h:MM tt",null,M().current_timezone())}else if(r.date_formatting==="universal"){return O.mk_date(t)}else{return m.format_date(O.mk_date(t),r.date_formatting)}},equals:function e(t,r){var n,o;return((n=O.mk_date(t))==null?void 0:n.valueOf())===((o=O.mk_date(r))==null?void 0:o.valueOf())},get_sample:function e(){return new Date},cast:function e(t){return O.mk_date(t)},from_human:function e(t,r){if(t===""){return this.get_bubble_null()}return O.mk_date(t,M().current_timezone())},get_JS_object:function e(t){var r,n;if(((r=(n=M()).api_version)==null?void 0:r.call(n))===1){return t}return O.mk_date(t)},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}var r=this.cast(t);if(!r){g("date",t)}return r},convert_to_bubble_instance:O.mk_date,can_sort:true,storable:true,bindable:false})},{"../../../lang/timezone_override_settings":604,"../../../u":687,"../../../u/shared/b_date":699,"../../../u/shared/mode_check":713,"../../custom_tz_utilities":374,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205,"./../../../db/postgres_constraints":452,"./../../../lang/appquery":535,"./../../../lib":614,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],182:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.sort.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=e("../../../u");var c=e("../utilities/range_utilities"),f=c.create_range_btype_messages,d=c.get_array_from_range,p=c.create_range_btype_messages_reorg;var _=e("../utilities/generate_utilities"),m=_.build_simple;var y=e("../utilities/misc_utilities"),v=y.generate_JS_to_bubble_error;var b=e("./../../../lib");var h=e("../../../u/shared/b_date");function j(e){var t;return(t=h.mk_date(e))==null?void 0:t.getTime()}function g(e){return u.format_date(e,"mmm d, yyyy h:MM tt",null,b().current_timezone())}t.exports=m("date_range",{messages:f("date",j,h.mk_date),messages_reorganized:p("date",j,h.mk_date),display:function e(){return"date range"},runmode_display:null,export_to_string:function e(t){var r=this.cast(t),o=n(r,2),s=o[0],i=o[1];return JSON.stringify([g(s),g(i)])},debugging_display:function e(t){var r=this.cast(t),o=n(r,2),s=o[0],i=o[1];return"("+g(s)+" -> "+g(i)+")"},equals:function e(t,r){var n,o,s,i;t=d(t);r=d(r);var a=j(h.mk_date((n=t)==null?void 0:n[0]));var l=j(h.mk_date((o=t)==null?void 0:o[1]));var u=j(h.mk_date((s=r)==null?void 0:s[0]));var c=j(h.mk_date((i=r)==null?void 0:i[1]));var f=[a,l].sort();var p=[u,c].sort();return(f==null?void 0:f[0])===(p==null?void 0:p[0])&&(f==null?void 0:f[1])===(p==null?void 0:p[1])},get_sample:function e(){var t=new Date;var r=(new Date).setDate(t.getDate()-2);return[t,r]},get_bubble_null:function e(){return[]},cast:function e(t){if(!t){return this.get_bubble_null()}t=d(t);var r=j(h.mk_date(t[0]));var n=j(h.mk_date(t[1]));if(r==null||n==null){return this.get_bubble_null()}return[h.mk_date(Math.min(r,n)),h.mk_date(Math.max(r,n))]},get_JS_object:function e(t){var r,n;if(!t){return null}if(((r=(n=b()).api_version)==null?void 0:r.call(n))===1){return d(t)}return this.cast(t)},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}if(!Array.isArray(t)||h.mk_date(t[0])==null||h.mk_date(t[1])==null){v("date range",t)}return this.cast(t)},storable:true,bindable:false})},{"../../../u":687,"../../../u/shared/b_date":699,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205,"../utilities/range_utilities":207,"./../../../lib":614,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],183:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../utilities/generate_utilities"),s=o.build_simple;var i=e("../utilities/misc_utilities"),a=i.generate_JS_to_bubble_error;var l=e("../../../u/shared/b_number");t.exports=s("dateinterval",{messages:{to_days:{description:":format as days",ret_btype:"number",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"days")}},to_hours:{description:":format as hours",ret_btype:"number",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"hours")}},to_minutes:{description:":format as minutes",ret_btype:"number",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"minutes")}},to_seconds:{description:":format as seconds",ret_btype:"number",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"seconds")}}},messages_reorganized:{to_days:{description:"formatted as days",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"days")}},to_hours:{description:"formatted as hours",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"hours")}},to_minutes:{description:"formatted as minutes",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"minutes")}},to_seconds:{description:"formatted as seconds",ret_btype:"number",section:"Other Operators",arg_btype:null,fn:function e(t,r){return n.format_date_interval(t,"seconds")}}},display:function e(){return"date interval"},runmode_display:null,export_to_string:function e(t){return n.print_date_interval(t)},debugging_display:function e(t){return n.print_date_interval(t)},equals:l.num_equals,get_sample:function e(){return 252e8},cast:function e(t){return n.to_num(t)},get_JS_object:function e(t){return this.cast(t)},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}if(typeof t!=="number"){a("date interval",t)}return t},storable:true,bindable:false})},{"../../../u":687,"../../../u/shared/b_number":701,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205}],184:[function(e,t,r){"use strict";var n=e("../utilities/generate_utilities"),o=n.build_simple;var s=e("../utilities/misc_utilities"),i=s.get_file_messages,a=s.get_file_messages_reorg,l=s.generate_JS_to_bubble_error;var u=e("../../../constants/composer"),c=u.COMPOSER_INPUT_TYPES;var f=e("../../../u/shared/b_string");t.exports=o("file",{messages:i("file"),messages_reorganized:a("file"),display:function e(){return"file"},equals:function e(t,r){return t===r},get_sample:function e(){return"file_name.png"},get_bubble_null:function e(){return""},cast:f.cast_to_string,runmode_display:f.cast_to_string,get_JS_object:function e(t){if(!t){return null}return f.cast_to_string(t)},JS_to_bubble:function e(t){if(!t){return this.get_bubble_null()}if(typeof t!=="string"){l("file url as a string",t)}return t},convert_to_bubble_instance:f.cast_to_string,composer_input_type:c.TEXT,synonyms:["text","image"],storable:true,bindable:false,can_sort:true})},{"../../../constants/composer":65,"../../../u/shared/b_string":703,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205}],185:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.object.keys.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=e("../../../u");var s=e("../../../u/shared/mode_check");var i=e("../../../constants/geolocation");var a=e("../utilities/generate_utilities"),l=a.build_simple;var u=e("../utilities/misc_utilities"),c=u.generate_JS_to_bubble_error;var f=e("./../../../lib");var d=e("./../../../geolocation/b_location");var p=e("./../../../geolocation/shared/b_location_utils");var _=e("./../../../geolocation/location_lookups");var m=e("../../../constants/composer"),y=m.COMPOSER_INPUT_TYPES;var v=null;function b(e){e=d.ensure_valid_location(e);if(!e){return v}return d.get_address(e)}function h(e){e=d.ensure_valid_location(e);if(!e){return v}return e.lat}function j(e){e=d.ensure_valid_location(e);if(!e){return v}return e.lng}t.exports=l("geographic_address",{display:function e(){return"geographic address"},equals:function e(t,r){return t===r||d.is_equal(t,r)},get_bubble_null:function e(){return v},messages:{formatted_address:{description:"'s formatted address",ret_btype:"text",fn:b},google_map_link:{description:"'s link to Google Maps",ret_btype:"text",fn:function e(t,r){t=d.ensure_valid_location(t);if(!t){return v}var n="https://www.google.com/maps/place";if(t.placeId!=null){return"".concat(n,"/?q=place_id:").concat(t.placeId)}var o="".concat(t.lat,",").concat(t.lng);if(t.address!=null){var s=t.address.split(" ").join("+").replace(",","");return"".concat(n,"/").concat(s,"/@").concat(o,",15z")}else{return"".concat(n,"/").concat(o)}}},distance_from:{ret_btype:"number",arg_btype:null,field_names:{origin_address:{},unit:{default:"miles"}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("origin_address");if(n&&!n.is_empty()){r=" "+n.get_tree_display()}else{r="..."}return" distance from"+r},fn:function e(t,r,n){t=d.ensure_valid_location(t);if(!t){return v}n.origin_address=d.ensure_valid_location(n.origin_address);if(!n.origin_address){return v}var o={lat:n.origin_address.lat,lng:n.origin_address.lng};var s={lat:t.lat,lng:t.lng};if(!t||!n.origin_address){return v}return p.geographic_distance(s,o,n.unit)}},is_empty:{description:" is empty",ret_btype:"sys.bool",fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},extract_from_address:{ret_btype:"text",arg_btype:null,field_names:{component_to_extract:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("component_to_extract");if(n&&!n.is_empty()){r=" "+n.get_static()}else{r="..."}return":extract"+r},fn:function e(t,r,n){var o;t=d.ensure_valid_location(t);if(!t){return v}var s=d.get_components(t);return(o=s==null?void 0:s[n.component_to_extract])!=null?o:""}},equals:{description:" is ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return d.is_equal(t,r)}},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return!d.is_equal(t,r)}},latitude:{description:"'s latitude",ret_btype:"number",fn:h},longitude:{description:"'s longitude",ret_btype:"number",fn:j},timezone:{description:"'s time zone ID",ret_btype:"text",fn:function e(t,r){var n;if(!t){return v}return((n=_.get_timezone_for_location(t))==null?void 0:n.timeZoneId)||""}},timezone_name:{description:"'s time zone name",ret_btype:"text",fn:function e(t,r){var n;t=d.ensure_valid_location(t);if(!t){return v}return((n=_.get_timezone_for_location(t))==null?void 0:n.timeZoneName)||""}},daysaving_offset:{description:"'s daylight saving time offset",ret_btype:"number",fn:function e(t,r){var n;t=d.ensure_valid_location(t);if(!t){return v}return(n=_.get_timezone_for_location(t))==null?void 0:n.dstOffset}},raw_offset:{description:"'s offset from UTC",ret_btype:"number",fn:function e(t,r){var n;t=d.ensure_valid_location(t);if(!t){return v}var o=(n=_.get_timezone_for_location(t))==null?void 0:n.rawOffset;if(!o){return v}return o/60}}},messages_reorganized:{formatted_address:{description:"'s formatted address",section:"Operators",ret_btype:"text",fn:b},google_map_link:{description:"'s link to Google Maps",section:"Operators",ret_btype:"text",fn:function e(t,r){t=d.ensure_valid_location(t);if(!t){return v}var n="https://www.google.com/maps/place";if(t.placeId!=null){return"".concat(n,"/?q=place_id:").concat(t.placeId)}var o="".concat(t.lat,",").concat(t.lng);if(t.address!=null){var s=t.address.split(" ").join("+").replace(",","");return"".concat(n,"/").concat(s,"/@").concat(o,",15z")}else{return"".concat(n,"/").concat(o)}}},distance_from:{ret_btype:"number",section:"Operators",arg_btype:null,field_names:{origin_address:{},unit:{default:"miles"}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("origin_address");if(n&&!n.is_empty()){r=" "+n.get_tree_display()}else{r="..."}return" distance from"+r},fn:function e(t,r,n){t=d.ensure_valid_location(t);if(!t){return v}n.origin_address=d.ensure_valid_location(n.origin_address);if(!n.origin_address){return v}var o={lat:n.origin_address.lat,lng:n.origin_address.lng};var s={lat:t.lat,lng:t.lng};if(!t||!n.origin_address){return v}return p.geographic_distance(s,o,n.unit)}},equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return d.is_equal(t,r)}},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return!d.is_equal(t,r)}},extract_from_address:{ret_btype:"text",section:"Other Operators",arg_btype:null,field_names:{component_to_extract:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("component_to_extract");if(n&&!n.is_empty()){r=" "+n.get_static()}else{r="..."}return":extract"+r},fn:function e(t,r,n){var o;t=d.ensure_valid_location(t);if(!t){return v}var s=d.get_components(t);return(o=s==null?void 0:s[n.component_to_extract])!=null?o:""}},latitude:{description:"'s latitude",section:"Other Operators",ret_btype:"number",fn:h},longitude:{description:"'s longitude",section:"Other Operators",ret_btype:"number",fn:j},timezone:{description:"'s time zone ID",section:"Other Operators",ret_btype:"text",fn:function e(t,r){var n;if(!t){return v}return((n=_.get_timezone_for_location(t))==null?void 0:n.timeZoneId)||""}},timezone_name:{description:"'s time zone name",section:"Other Operators",ret_btype:"text",fn:function e(t,r){var n;t=d.ensure_valid_location(t);if(!t){return v}return((n=_.get_timezone_for_location(t))==null?void 0:n.timeZoneName)||""}},daysaving_offset:{description:"'s daylight saving time offset",section:"Other Operators",ret_btype:"number",fn:function e(t,r){var n;t=d.ensure_valid_location(t);if(!t){return v}return(n=_.get_timezone_for_location(t))==null?void 0:n.dstOffset}},raw_offset:{description:"'s offset from UTC",section:"Other Operators",ret_btype:"number",fn:function e(t,r){var n;t=d.ensure_valid_location(t);if(!t){return v}var o=(n=_.get_timezone_for_location(t))==null?void 0:n.rawOffset;if(!o){return v}return o/60}},is_empty:{description:" is empty",section:"Other Operators",ret_btype:"sys.bool",fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}}},cast:function e(t){var r;if(((r=t)==null?void 0:r.raw)!=null){t=t.raw()}if(typeof t==="function"){t=t()}return d.from_address(t)},runmode_display:function e(t){if(!t){return""}else{var r;if(((r=t)==null?void 0:r.raw)!=null){t=t.raw()}return d.get_address(t)}},get_JS_object:function e(t){var r,n;if(!t){return null}if(((r=(n=f()).api_version)==null?void 0:r.call(n))===1){return d.convert_to_old_format(t)}return{address:b(t),lat:h(t),lng:j(t)}},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}var r;if(typeof t==="string"){r=function e(){return d.from_address(t)}}else if(n(t)==="object"){if(typeof t.address==="string"){r=function e(){return d.from_address(t.address)}}else if(typeof t.lat==="number"&&typeof t.lng==="number"){if(o.to_num(t.lat)==null||o.to_num(t.lng)==null){return this.get_bubble_nul()}r=function e(){return d.from_address({lat:t.lat,lng:t.lng})}}else if(t.lat==null||t.lng==null){return this.get_bubble_null()}}if(r!=null){if(s.on_server()){return r()}else{return r}}return c("geographic address as either a string or an object with lat and lng",t)},get_sample:function e(){return i.SAMPLE_VALUE},synonyms:["text"],composer_input_type:y.GEOGRAPHIC_ADDRESS,can_sort:false,storable:true,bindable:false})},{"../../../constants/composer":65,"../../../constants/geolocation":78,"../../../u":687,"../../../u/shared/mode_check":713,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205,"./../../../geolocation/b_location":505,"./../../../geolocation/location_lookups":509,"./../../../geolocation/shared/b_location_utils":510,"./../../../lib":614,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],186:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../../../u");var c=e("../utilities/generate_utilities"),f=c.build_simple;var d=e("../utilities/misc_utilities"),p=d.get_file_messages,_=d.get_file_messages_reorg,m=d.generate_JS_to_bubble_error;var y=e("../../../u/shared/b_string");var v=e("./../../../lib");var b=e("./../../../imgix");var h=e("../../../constants/composer"),j=h.COMPOSER_INPUT_TYPES;t.exports=f("image",{messages:u.extend({},p("image"),{imgix_treatment:{ret_btype:"image",section:"Other Operators",arg_btype:null,field_names:{auto_enhance:{},q:{default:75,optional:true},fm:{optional:true},extract_face:{default:false},facepad:{default:false},crop_to_fit:{default:false},red_eye:{default:false},blur:{default:false},blur_level:{default:100},mask:{default:false},pixel:{default:false},pixel_level:{default:10},sepia:{default:false},sepia_level:{default:50},mono:{default:false},mono_level:{default:"#3498db"}},spot_data:"SlidableAtom",description:function e(t){return":processed with Imgix"},fn:function e(t,r,n){if(!t||typeof t!=="string"){return this.ret_btype_null()}if(b.ignore_imgix_fn(t)){return t}return b.add_processing_options(t,n)}}}),messages_reorganized:s(s({},_("file")),{},{imgix_treatment:{ret_btype:"image",arg_btype:null,field_names:{auto_enhance:{},q:{default:75,optional:true},fm:{optional:true},extract_face:{default:false},facepad:{default:false},crop_to_fit:{default:false},red_eye:{default:false},blur:{default:false},blur_level:{default:100},mask:{default:false},pixel:{default:false},pixel_level:{default:10},sepia:{default:false},sepia_level:{default:50},mono:{default:false},mono_level:{default:"#3498db"}},spot_data:"SlidableAtom",description:function e(t){return":processed with Imgix"},fn:function e(t,r,n){if(!t||typeof t!=="string"){return this.ret_btype_null()}if(b.ignore_imgix_fn(t)){return t}return b.add_processing_options(t,n)}}}),display:function e(){return"image"},equals:function e(t,r){return t===r},get_sample:function e(){return"image_name.png"},get_bubble_null:function e(){return""},cast:y.cast_to_string,runmode_display:y.cast_to_string,export_to_string:function e(t,r){if(!r.always_return_text&&t){return u.img("img-preview",undefined,r.optimize_image(t,30,30))}else{return y.cast_to_string(t)}},get_JS_object:function e(t){if(!t){return null}return y.cast_to_string(t)},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}if(typeof t!=="string"){m("image url as a string",t)}return t},convert_to_bubble_instance:y.cast_to_string,composer_input_type:j.TEXT,synonyms:["text"],storable:true,bindable:false})},{"../../../constants/composer":65,"../../../u":687,"../../../u/shared/b_string":703,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205,"./../../../imgix":512,"./../../../lib":614,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],187:[function(e,t,r){"use strict";var n=e("../utilities/generate_utilities"),o=n.build_simple;var s=e("../../../u/shared/b_string");var i=e("../../../constants/composer"),a=i.COMPOSER_INPUT_TYPES;t.exports=o("key_combination",{messages:{equals:{description:" is ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t===r}}},display:function e(){return"keyboard shortcut"},equals:function e(t,r){return t===r},cast:s.cast_to_string,runmode_display:s.cast_to_string,get_sample:function e(){return"Shift"},composer_input_type:a.KEY_COMBINATION,synonyms:["text"]})},{"../../../constants/composer":65,"../../../u/shared/b_string":703,"../utilities/generate_utilities":203}],188:[function(e,t,r){"use strict";var n=e("../utilities/generate_utilities"),o=n.build_simple;t.exports=o("null",{messages:{},messages_reorganized:{},runmode_display:null,export_to_string:function e(t){return""},debugging_display:function e(t){return"(null)"},get_sample:function e(){return null},equals:function e(t,r){return t!=null===(r!=null)},cast:function e(t){return t},display:function e(){return""},get_JS_object:function e(t){return null},JS_to_bubble:function e(t){return null},storable:false,bindable:false,convert_to_bubble_instance:function e(){return null}})},{"../utilities/generate_utilities":203}],189:[function(e,t,r){"use strict";e("core-js/modules/es.number.to-fixed.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");var n=e("../../../u");var o=e("../../../constants/currency");var s=e("./../../../db/postgres_constraints");var i=e("../../../lib");var a=e("../utilities/numeric_format_utilities"),l=a.format_number_names,u=a.format_number_fields,c=a.thousand_separators,f=a.decimal_separators;var d=e("../utilities/generate_utilities"),p=d.build_simple;var _=e("../utilities/misc_utilities"),m=_.generate_JS_to_bubble_error;var y=e("../../../u/shared/b_number");var v=e("../../../constants/composer"),b=v.COMPOSER_INPUT_TYPES;var h=e("../../../lang/evaluation/node_eval");var j=30;var g=-30;var w=1e30;function O(e,t){var r=Math.min(w,Math.max(-w,e));var n=Math.min(j,Math.max(g,t));return Math.round(r*Math.pow(10,n))/Math.pow(10,n)}t.exports=p("number",{messages:{format_number:{ret_btype:"text",fn:function e(t,r,s){t=n.to_num(t);if(t==null){return this.ret_btype_null()}var i=function e(t){return s[t]};if(i("formatting_type")==="percentage"){t=t*100}var a=i("negative_parenthese")&&t<0;var l=a?Math.abs(t):t;var u=i("decimal_place");var d;if(u!=null){var p=0;var _=100;u=Math.max(Math.min(u,_),p);d=l.toFixed(u)}else{d=n.dec_to_string(l)}var m=f[i("decimal_separator")];d=d.replace(".",m);if(i("thousand_separator")){var y=c[i("thousand_separator")];if(y==="Space"){y=" "}var v=d.split(m);v[0]=n.add_thousand_sep(v[0],y);d=v.join(m)}if(i("formatting_type")==="percentage"){d=d+"%"}if(a){d="("+d+")"}var b=i("formatting_type")==="currency"&&i("currency_symbol");if(b){var h=i("currency_symbol");var j=o.legacy_currency_symbols[h];if(j){h=j}if(t<0&&!a){d="-"+h+d.replace("-","")}else{d=h+d}}return d},spot_data:"SlidableAtom",description:function e(t){var r;var n=h.evaluate_properties(t);if(n){r=" "+this.fn("1028.58",undefined,n)}else{r="..."}return":formatted as"+r},field_names:l},equals:{description:" is ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return y.num_equals(t,r)},build_pg_constraint:s.equals,build_pg_r_constraint:s.equals,build_pg_relationship:s.equals_both},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return!y.num_equals(t,r)},build_pg_constraint:s.not_equals,build_pg_r_constraint:s.not_equals,build_pg_relationship:s.not_equals_both},greater_than:{description:" > ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return!y.num_equals(t,r)&&n.to_num(t)>n.to_num(r)}},greater_or_equal_than:{description:"  ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return y.num_equals(t,r)||n.to_num(t)>=n.to_num(r)}},less_than:{description:" < ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return!y.num_equals(t,r)&&n.to_num(t)<n.to_num(r)}},less_or_equal_than:{description:"  ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return y.num_equals(t,r)||n.to_num(t)<=n.to_num(r)}},plus:{description:" + ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)+n.to_num(r))}},minus:{description:" - ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)-n.to_num(r))}},times:{description:" * ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)*n.to_num(r))}},divide:{description:" / ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)/n.to_num(r))}},round:{description:":rounded to ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(O(n.to_num(t),n.to_num(r)))},editor:{static:true,default:1}},floor:{description:":floor ",ret_btype:"number",fn:function e(t,r){return Math.floor(n.to_num(t))}},ceil:{description:":ceiling ",ret_btype:"number",fn:function e(t,r){return Math.ceil(n.to_num(t))}},power:{description:" ^ ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(Math.pow(n.to_num(t),n.to_num(r)))}},to_range:{description:"<- range ->",arg_btype:"number",ret_btype:"number_range",fn:function e(t,r){t=n.to_num(t);r=n.to_num(r);if(t==null||r==null){return[]}return[Math.min(t,r),Math.max(t,r)]}},max:{description:" <- max -> ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return Math.max(n.to_num(t),n.to_num(r))}},min:{description:" <- min -> ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return Math.min(n.to_num(t),n.to_num(r))}},modulo:{description:" <- modulo -> ",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)%n.to_num(r))}},is_empty:{description:" is empty",ret_btype:"sys.bool",build_pg_constraint:s.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",build_pg_constraint:s.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}}},messages_reorganized:{format_number:{ret_btype:"text",fn:function e(t,r,s){t=n.to_num(t);if(t==null){return this.ret_btype_null()}var i=function e(t){return s[t]};if(i("formatting_type")==="percentage"){t=t*100}var a=i("negative_parenthese")&&t<0;var l=a?Math.abs(t):t;var u=i("decimal_place");var d;if(u!=null){var p=0;var _=100;u=Math.max(Math.min(u,_),p);d=l.toFixed(u)}else{d=n.dec_to_string(l)}var m=f[i("decimal_separator")];d=d.replace(".",m);if(i("thousand_separator")){var y=c[i("thousand_separator")];if(y==="Space"){y=" "}var v=d.split(m);v[0]=n.add_thousand_sep(v[0],y);d=v.join(m)}if(i("formatting_type")==="percentage"){d=d+"%"}if(a){d="("+d+")"}var b=i("formatting_type")==="currency"&&i("currency_symbol");if(b){var h=i("currency_symbol");var j=o.legacy_currency_symbols[h];if(j){h=j}if(t<0&&!a){d="-"+h+d.replace("-","")}else{d=h+d}}return d},spot_data:"SlidableAtom",description:function e(t){var r;var n=h.evaluate_properties(t);if(n){r=" "+this.fn("1028.58",undefined,n)}else{r="..."}return":formatted as"+r},field_names:l},equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return y.num_equals(t,r)},build_pg_constraint:s.equals,build_pg_r_constraint:s.equals,build_pg_relationship:s.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return!y.num_equals(t,r)},build_pg_constraint:s.not_equals,build_pg_r_constraint:s.not_equals,build_pg_relationship:s.not_equals_both},greater_than:{description:" > ",section:"Operators",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return!y.num_equals(t,r)&&n.to_num(t)>n.to_num(r)}},greater_or_equal_than:{section:"Operators",description:"  ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return y.num_equals(t,r)||n.to_num(t)>=n.to_num(r)}},less_than:{section:"Operators",description:" < ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return!y.num_equals(t,r)&&n.to_num(t)<n.to_num(r)}},less_or_equal_than:{section:"Operators",description:"  ",ret_btype:"sys.bool",arg_btype:"number",fn:function e(t,r){return y.num_equals(t,r)||n.to_num(t)<=n.to_num(r)}},plus:{description:" + ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)+n.to_num(r))}},minus:{description:" - ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)-n.to_num(r))}},times:{description:" * ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)*n.to_num(r))}},divide:{description:" / ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)/n.to_num(r))}},power:{description:" ^ ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(Math.pow(n.to_num(t),n.to_num(r)))}},round:{description:"rounded to ",section:"Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(O(n.to_num(t),n.to_num(r)))},editor:{static:true,default:1}},floor:{description:":floor ",section:"Operators",ret_btype:"number",fn:function e(t,r){return Math.floor(n.to_num(t))}},ceil:{description:":ceiling ",section:"Operators",ret_btype:"number",fn:function e(t,r){return Math.ceil(n.to_num(t))}},to_range:{description:"<- range ->",section:"Other Operators",arg_btype:"number",ret_btype:"number_range",fn:function e(t,r){t=n.to_num(t);r=n.to_num(r);if(t==null||r==null){return[]}return[Math.min(t,r),Math.max(t,r)]}},max:{description:" <- max -> ",section:"Other Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return Math.max(n.to_num(t),n.to_num(r))}},min:{description:" <- min -> ",section:"Other Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return Math.min(n.to_num(t),n.to_num(r))}},modulo:{description:" <- modulo -> ",section:"Other Operators",ret_btype:"number",arg_btype:"number",fn:function e(t,r){return n.to_num(n.to_num(t)%n.to_num(r))}},is_empty:{description:" is empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:s.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",build_pg_constraint:s.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}}},composer_input_type:b.NUMBER,display:function e(){return"number"},runmode_display:function e(t){t=n.to_num(t);if(t===null){return""}else{return i().locale().format_decimal(t)}},export_to_string:function e(t,r){if(r.preserve_numbers){return t}t=n.to_num(t);if(t===null){return""}else{return i().locale().format_decimal(t)}},equals:y.num_equals,get_sample:function e(){return 42},cast:function e(t){return n.to_num(t)},get_JS_object:function e(t){return n.to_num(t)},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}var r=n.to_num(t);if(typeof r!=="number"){m("number",t)}return r},convert_to_bubble_instance:n.to_num,can_sort:true,storable:true,bindable:false})},{"../../../constants/composer":65,"../../../constants/currency":67,"../../../lang/evaluation/node_eval":574,"../../../lib":614,"../../../u":687,"../../../u/shared/b_number":701,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205,"../utilities/numeric_format_utilities":206,"./../../../db/postgres_constraints":452,"core-js/modules/es.array.join.js":935,"core-js/modules/es.number.to-fixed.js":948,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979}],190:[function(e,t,r){"use strict";e("core-js/modules/es.array.sort.js");var n=e("../../../u");var o=e("../utilities/generate_utilities"),s=o.build_simple;var i=e("../utilities/misc_utilities"),a=i.generate_JS_to_bubble_error;var l=e("../utilities/range_utilities"),u=l.create_range_btype_messages,c=l.get_array_from_range,f=l.create_range_btype_messages_reorg;t.exports=s("number_range",{messages:u("number",n.to_num,(function(e){return e})),messages_reorganized:f("number",n.to_num,(function(e){return e})),display:function e(){return"numeric range"},runmode_display:null,export_to_string:function e(t){return JSON.stringify(this.cast(t))},debugging_display:function e(t){return JSON.stringify(this.cast(t))},equals:function e(t,r){var n,o,s,i;t=c(t);r=c(r);var a=(n=t)==null?void 0:(o=n.sort)==null?void 0:o.call(n);var l=(s=r)==null?void 0:(i=s.sort)==null?void 0:i.call(s);return(a==null?void 0:a[0])===(l==null?void 0:l[0])&&(a==null?void 0:a[1])===(l==null?void 0:l[1])},get_sample:function e(){return[1,30]},get_bubble_null:function e(){return[]},cast:function e(t){if(!t){return this.get_bubble_null()}t=c(t);var r=n.to_num(t[0]);var o=n.to_num(t[1]);if(r==null||o==null){return this.get_bubble_null()}return[Math.min(r,o),Math.max(r,o)]},get_JS_object:function e(t){if(!t){return null}return this.cast(t)},JS_to_bubble:function e(t){if(!t){return this.get_bubble_null()}if(!Array.isArray(t)||typeof t[0]!=="number"||typeof t[1]!=="number"){a("number range",t)}return this.cast(t)},storable:true,bindable:false})},{"../../../u":687,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205,"../utilities/range_utilities":207,"core-js/modules/es.array.sort.js":938}],191:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.string.match.js");var n=e("../../../u");var o=e("../../../lib");var s=e("../../../lang/btypes");var i=e("../../../lang/btype_ids");var a=e("../../../u/shared/mode_check");var l=e("../../input_mask");var u=e("../../../db/postgres_constraints");var c=e("../utilities/generate_utilities"),f=c.build_simple;var d=e("../utilities/misc_utilities"),p=d.generate_JS_to_bubble_error,_=d.get_json_encode_msg;var m=e("../../../u/shared/b_string");var y,v;if(a.on_server()){var b=e;y=b("crypto");v=b("../../../server/utility/safe_regex")}var h=e("../../../constants/composer"),j=h.COMPOSER_INPUT_TYPES;t.exports=f("text",{messages:{equals:{description:" is ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t===r},build_pg_constraint:u.equals,build_pg_r_constraint:u.equals,build_pg_relationship:u.equals_both},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t!==r},build_pg_constraint:u.not_equals,build_pg_r_constraint:u.not_equals,build_pg_relationship:u.not_equals_both},contains:{description:" contains ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){var n,o;return(n=t==null?void 0:(o=t.includes)==null?void 0:o.call(t,r))!=null?n:false}},not_contains:{description:" doesn't contain ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){var n,o;return(n=!(t!=null&&(o=t.includes)!=null&&o.call(t,r)))!=null?n:true}},is_empty:{description:" is empty",ret_btype:"sys.bool",build_pg_constraint:u.is_empty,fn:function e(t){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",build_pg_constraint:u.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},to_capitalized_words:{description:":capitalized words",ret_btype:"text",fn:function e(t){var r,o;return(r=(o=n.toTitleCase(t,true))==null?void 0:o.toString())!=null?r:this.ret_btype_null()}},to_uppercase:{description:":uppercase",ret_btype:"text",fn:function e(t){var r,n;return(r=t==null?void 0:(n=t.toUpperCase)==null?void 0:n.call(t))!=null?r:this.ret_btype_null()}},to_lowercase:{description:":lowercase",ret_btype:"text",fn:function e(t){var r,n;return(r=t==null?void 0:(n=t.toLowerCase)==null?void 0:n.call(t))!=null?r:this.ret_btype_null()}},append:{description:":append",ret_btype:"text",arg_btype:"text",fn:function e(t,r){return[t,r].map((function(e){return m.cast_to_string(e)})).join("")}},format_json_encode:_("text"),format_text:{ret_btype:"text",field_names:{formatting_type:{},replace_space:{default:true},hmac_key:{},encode_b64:{}},spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.get_static_property("formatting_type");var n;if(r!=null){switch(r){case"url_encode":n=" URL";break;case"md5_hash":n=" MD5 hash";break;case"hmac":n=" HMAC SHA256 digest";break;case"hmac_sha1":n=" HMAC SHA1 digest";break;default:n=" "+l.masks[r].caption}}else{n="..."}return":formatted as"+n},fn:function e(t,r,o){var s=o.formatting_type;if(t==null){return this.ret_btype_null()}if(s==="us_phone"){var i;if(t.length===11){i=t[0];t=t.slice(1)}else{i=null}if(t.length===10){var l="("+t.slice(0,3)+") "+t.slice(3,6)+"-"+t.slice(6);if(i){l=i+" "+l}return l}else{return t}}else if(s==="us_ssn"){if(t.length===9){return t.slice(0,3)+"-"+t.slice(3,5)+"-"+t.slice(5)}else{return t}}else if(s==="url_encode"){if(o.replace_space){return encodeURIComponent(t.replace(/\s/g,"+"))}else{return encodeURIComponent(t)}}else if(s==="md5_hash"){return n.digest(t)}else if(["hmac","hmac_sha1"].includes(s)){var u;if(!a.on_server()){return"HMAC Digest computation on the client"}if(!o.hmac_key){return"HMAC Secret missing"}if(s==="hmac"){u="SHA256"}else{u="SHA1"}var c=y.createHmac(u,o.hmac_key).update(t);if(o.encode_b64){return c.digest("base64")}else{return c.digest("hex")}}else{return"unrecognized format type: "+s}}},use_text_as:{ret_btype:function e(t){var r,n,o;(r=t)!=null?r:t={};return(n=(o=t["%p"])==null?void 0:o.data_type)!=null?n:"text"},field_names:{data_type:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.get_static_property("data_type");if(n!=null){switch(n){case"file":r=" a file";break;case"image":r=" an image";break;default:r=" [invalid type]"}}else{r="..."}return":used as"+r},fn:function e(t,r,n){var o,i;return(o=(i=s.get(n.data_type))==null?void 0:i.cast(t))!=null?o:t}},trimmed:{description:":trimmed",ret_btype:"text",arg_btype:null,fn:function e(t,r){var n,o;return(n=t==null?void 0:(o=t.trim)==null?void 0:o.call(t))!=null?n:this.ret_btype_null()}},length:{description:":number of characters",ret_btype:"number",arg_btype:null,fn:function e(t,r){if(!t){return 0}return t.length}},truncated:{description:":truncated to ",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{return t.slice(0,n.to_num(r))}}},truncated_right:{description:":truncated from end to ",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{var o=t.length-n.to_num(r);if(o<0){o=0}return t.slice(o)}}},extract_from_text:{ret_btype:"text",field_names:{text_type:{},component_to_extract:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("component_to_extract");if(n&&!n.is_empty()){r=" "+n.get_static()}else{r="..."}return":extract"+r},fn:function e(t,r,o){if(!t){return this.ret_btype_null()}switch(o.text_type){case"email":if(!n.is_email(t)){return this.ret_btype_null()}else{switch(o.component_to_extract){case"domain":return t.split("@")[1];case"alias":return t.split("@")[0];case"top domain":{var s=t.split("@")[1];var i=s.split(".");var a=i.length;return i[a-2]+"."+i[a-1]}}}break;default:return this.ret_btype_null()}}},convert_to_number:{description:":converted to number",ret_btype:"number",arg_btype:null,fn:function e(t){var r;var s=n.remove_invalid_from_num(m.cast_to_string(t));var i=(r=o().browser_locale())!=null?r:o().locale();var a=i.parse_float(s);return n.to_num(a)}},split_by:{ret_btype:i.list_type("text"),field_names:{separator:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("separator").get_tree_display();if(!n){r="..."}else{if(n.length>5){r=" (".concat(n.slice(0,5),")")}else{r=" (".concat(n,")")}}return":split by"+r},fn:function e(t,r,n){if(!t||t.split==null){return o().db_instance().static_list("text",[])}var s=n.separator;if([undefined,null,""].includes(s)){return o().db_instance().static_list("text",t.split("\n"))}return o().db_instance().static_list("text",t.split(s))}},find_replace:{ret_btype:"text",field_names:{find:{},use_regex:{default:false},replace:{optional:true}},spot_data:"SlidableAtom",description:":find & replace",fn:function e(t,r,o){var s;if(!t||t.split==null){return this.ret_btype_null()}var i=o.find;if([undefined,null,""].includes(i)){return t}var l=(s=o.replace)!=null?s:"";if(!o.use_regex){return t.split(i).join(l)}else{var u;try{u=new RegExp(i,"g")}catch(e){throw new n.OwnerError("Bad regex format",{display:"Bad Regex format: "+e.message})}if(a.on_server()){return v.replace({regex_string:i,string:t,replace_with:l})}return t.replace(u,l)}}},extract_regex:{ret_btype:i.list_type("text"),field_names:{regex:{}},spot_data:"SlidableAtom",description:":extract with Regex",fn:function e(t,r,s){if(!t||typeof t!=="string"||[undefined,null,""].includes(s.regex)){return o().db_instance().static_list("text",[])}var i;try{i=new RegExp(s.regex,"g")}catch(e){throw new n.OwnerError("Bad regex format",{display:"Bad Regex format: "+e.message})}var l=a.on_server()?v.match({regex_string:s.regex,string:t}):t.match(i);return o().db_instance().static_list("text",l)}},defaulting_to:{description:":defaulting to ",ret_btype:"text",arg_btype:"text",fn:function e(t,r){if(t){return t}return r!=null?r:""}}},messages_reorganized:{equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t===r},build_pg_constraint:u.equals,build_pg_r_constraint:u.equals,build_pg_relationship:u.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t!==r},build_pg_constraint:u.not_equals,build_pg_r_constraint:u.not_equals,build_pg_relationship:u.not_equals_both},contains:{description:" contains ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){var n,o;return(n=t==null?void 0:(o=t.includes)==null?void 0:o.call(t,r))!=null?n:false}},not_contains:{description:" doesn't contain ",ret_btype:"sys.bool",section:"Operators",arg_btype:"text",fn:function e(t,r){var n,o;return(n=!(t!=null&&(o=t.includes)!=null&&o.call(t,r)))!=null?n:true}},is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:u.is_empty,fn:function e(t){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:u.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},to_capitalized_words:{description:":capitalized words",section:"Other Operators",ret_btype:"text",fn:function e(t){var r,o;return(r=(o=n.toTitleCase(t,true))==null?void 0:o.toString())!=null?r:this.ret_btype_null()}},to_uppercase:{description:":uppercase",section:"Other Operators",ret_btype:"text",fn:function e(t){var r,n;return(r=t==null?void 0:(n=t.toUpperCase)==null?void 0:n.call(t))!=null?r:this.ret_btype_null()}},to_lowercase:{description:":lowercase",section:"Other Operators",ret_btype:"text",fn:function e(t){var r,n;return(r=t==null?void 0:(n=t.toLowerCase)==null?void 0:n.call(t))!=null?r:this.ret_btype_null()}},format_text:{section:"Other Operators",ret_btype:"text",field_names:{formatting_type:{},replace_space:{default:true},hmac_key:{},encode_b64:{}},spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.get_static_property("formatting_type");var n;if(r!=null){switch(r){case"url_encode":n=" URL";break;case"md5_hash":n=" MD5 hash";break;case"hmac":n=" HMAC SHA256 digest";break;case"hmac_sha1":n=" HMAC SHA1 digest";break;default:n=" "+l.masks[r].caption}}else{n="..."}return":formatted as"+n},fn:function e(t,r,o){var s=o.formatting_type;if(t==null){return this.ret_btype_null()}if(s==="us_phone"){var i;if(t.length===11){i=t[0];t=t.slice(1)}else{i=null}if(t.length===10){var l="("+t.slice(0,3)+") "+t.slice(3,6)+"-"+t.slice(6);if(i){l=i+" "+l}return l}else{return t}}else if(s==="us_ssn"){if(t.length===9){return t.slice(0,3)+"-"+t.slice(3,5)+"-"+t.slice(5)}else{return t}}else if(s==="url_encode"){if(o.replace_space){return encodeURIComponent(t.replace(/\s/g,"+"))}else{return encodeURIComponent(t)}}else if(s==="md5_hash"){return n.digest(t)}else if(["hmac","hmac_sha1"].includes(s)){var u;if(!a.on_server()){return"HMAC Digest computation on the client"}if(!o.hmac_key){return"HMAC Secret missing"}if(s==="hmac"){u="SHA256"}else{u="SHA1"}var c=y.createHmac(u,o.hmac_key).update(t);if(o.encode_b64){return c.digest("base64")}else{return c.digest("hex")}}else{return"unrecognized format type: "+s}}},use_text_as:{section:"Other Operators",ret_btype:function e(t){var r,n,o;(r=t)!=null?r:t={};return(n=(o=t["%p"])==null?void 0:o.data_type)!=null?n:"text"},field_names:{data_type:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.get_static_property("data_type");if(n!=null){switch(n){case"file":r=" a file";break;case"image":r=" an image";break;default:r=" [invalid type]"}}else{r="..."}return":used as"+r},fn:function e(t,r,n){var o,i;return(o=(i=s.get(n.data_type))==null?void 0:i.cast(t))!=null?o:t}},trimmed:{description:":trimmed",section:"Other Operators",ret_btype:"text",arg_btype:null,fn:function e(t,r){var n,o;return(n=t==null?void 0:(o=t.trim)==null?void 0:o.call(t))!=null?n:this.ret_btype_null()}},length:{description:":number of characters",section:"Other Operators",ret_btype:"number",arg_btype:null,fn:function e(t,r){if(!t){return 0}return t.length}},extract_from_text:{ret_btype:"text",section:"Other Operators",field_names:{text_type:{},component_to_extract:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("component_to_extract");if(n&&!n.is_empty()){r=" "+n.get_static()}else{r="..."}return":extract"+r},fn:function e(t,r,o){if(!t){return this.ret_btype_null()}switch(o.text_type){case"email":if(!n.is_email(t)){return this.ret_btype_null()}else{switch(o.component_to_extract){case"domain":return t.split("@")[1];case"alias":return t.split("@")[0];case"top domain":{var s=t.split("@")[1];var i=s.split(".");var a=i.length;return i[a-2]+"."+i[a-1]}}}break;default:return this.ret_btype_null()}}},convert_to_number:{description:":converted to number",section:"Other Operators",ret_btype:"number",arg_btype:null,fn:function e(t){var r;var s=n.remove_invalid_from_num(m.cast_to_string(t));var i=(r=o().browser_locale())!=null?r:o().locale();var a=i.parse_float(s);return n.to_num(a)}},split_by:{ret_btype:i.list_type("text"),section:"Other Operators",field_names:{separator:{}},spot_data:"SlidableAtom",description:function e(t){var r;var n=t==null?void 0:t.property("separator").get_tree_display();if(!n){r="..."}else{if(n.length>5){r=" (".concat(n.slice(0,5),")")}else{r=" (".concat(n,")")}}return":split by"+r},fn:function e(t,r,n){if(!t||t.split==null){return o().db_instance().static_list("text",[])}var s=n.separator;if([undefined,null,""].includes(s)){return o().db_instance().static_list("text",t.split("\n"))}return o().db_instance().static_list("text",t.split(s))}},find_replace:{ret_btype:"text",section:"Other Operators",field_names:{find:{},use_regex:{default:false},replace:{optional:true}},spot_data:"SlidableAtom",description:":find & replace",fn:function e(t,r,o){var s;if(!t||t.split==null){return this.ret_btype_null()}var i=o.find;if([undefined,null,""].includes(i)){return t}var l=(s=o.replace)!=null?s:"";if(!o.use_regex){return t.split(i).join(l)}else{var u;try{u=new RegExp(i,"g")}catch(e){throw new n.OwnerError("Bad regex format",{display:"Bad Regex format: "+e.message})}if(a.on_server()){return v.replace({regex_string:i,string:t,replace_with:l})}return t.replace(u,l)}}},extract_regex:{ret_btype:i.list_type("text"),section:"Other Operators",field_names:{regex:{}},spot_data:"SlidableAtom",description:":extract with Regex",fn:function e(t,r,s){if(!t||typeof t!=="string"||[undefined,null,""].includes(s.regex)){return o().db_instance().static_list("text",[])}var i;try{i=new RegExp(s.regex,"g")}catch(e){throw new n.OwnerError("Bad regex format",{display:"Bad Regex format: "+e.message})}var l=a.on_server()?v.match({regex_string:s.regex,string:t}):t.match(i);return o().db_instance().static_list("text",l)}},append:{description:"append",section:"Other Operators",ret_btype:"text",arg_btype:"text",fn:function e(t,r){return[t,r].map((function(e){return m.cast_to_string(e)})).join("")}},defaulting_to:{description:"defaulting to ",section:"Other Operators",ret_btype:"text",arg_btype:"text",fn:function e(t,r){if(t){return t}return r!=null?r:""}},truncated:{description:"truncated to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{return t.slice(0,n.to_num(r))}}},truncated_right:{description:"truncated from end to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{var o=t.length-n.to_num(r);if(o<0){o=0}return t.slice(o)}}},format_json_encode:_("text")},display:function e(){return"text"},equals:function e(t,r){return t===r},get_sample:function e(){return"Lorem ipsum..."},get_bubble_null:function e(){return""},cast:m.cast_to_string,runmode_display:m.cast_to_string,export_to_string:m.cast_to_string,debugging_display:m.cast_to_string,get_JS_object:function e(t){if(!t){return null}return m.cast_to_string(t)},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}if(typeof t!=="string"){p("string",t)}return t},can_sort:true,composer_input_type:j.TEXT,convert_to_bubble_instance:m.cast_to_string,storable:true,bindable:false})},{"../../../constants/composer":65,"../../../db/postgres_constraints":452,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lib":614,"../../../u":687,"../../../u/shared/b_string":703,"../../../u/shared/mode_check":713,"../../input_mask":376,"../utilities/generate_utilities":203,"../utilities/misc_utilities":205,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981}],192:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var u=e("../../../u");var c=e("../../../u/shared/async/b_fiber");var f=e("./../../../lang/appquery");var d=e("../../../services");var p=e("../../../external");var _=e("../../../services/client/editor_utils");var m=e("../../../constants/db");var y=e("../utilities/generate_utilities"),v=y.create_custom_btype;function b(){return["Created By"]}function h(){var e=["email"];var t={email:{description:"'s email",section:"Data Fields",ret_btype:"text",public_for_plugins:true,fn:function e(t,r){if(!t){return""}else{var n,o;return(n=(o=t.get_email)==null?void 0:o.call(t))!=null?n:""}}},logged_in:{description:function e(t,n){var o,s,i,a,l,u,c,f;(o=n)!=null?o:n={};var d=n,p=d.parent_node;var _=(t==null?void 0:(s=t.parent_expression)==null?void 0:(i=(a=s.call(t)).type)==null?void 0:i.call(a))==="CurrentUser";var m=(p==null?void 0:(l=p.type)==null?void 0:l.call(p))==="CurrentUser";var y=p==null?void 0:(u=p.json)==null?void 0:(c=u.raw)==null?void 0:(f=c.call(u))==null?void 0:f.condition;var v=false;if(y){if(y.next!=null){v=r(y)==="CurrentUser"}else{v=y.type==="CurrentUser"}}if(_||m||v){return" is logged in"}else{return" has an account"}},section:"Other Operators",ret_btype:"sys.bool",fn:function e(t,r){if(!t){return this.ret_btype_null()}else{var n;return(n=t.is_logged_in)==null?void 0:n.call(t)}},is_lookup:"user_signed_up"},not_logged_in:{description:function e(t,r){var n,o,s,i,a;(n=r)!=null?n:r={};var l=r,u=l.parent_node;var c=(t==null?void 0:(o=t.parent_expression)==null?void 0:(s=(i=o.call(t)).type)==null?void 0:s.call(i))==="CurrentUser";var f=(u==null?void 0:(a=u.type)==null?void 0:a.call(u))==="CurrentUser";if(c||f){return" is logged out"}else{return" doesn't have an account"}},section:"Other Operators",ret_btype:"sys.bool",fn:function e(t,r){if(!t){return this.ret_btype_null()}else{var n;return!((n=t.is_logged_in)!=null&&n.call(t))}}}};function r(e){var t,n;var o=e;while(o.next!=null){o=o.next}if(((t=o.args)==null?void 0:t.next)!=null){return r(o.args)}else if(((n=o.args)==null?void 0:n.type)!=null){return o.args.type}else{return null}}function o(e,r,n){var o,s;t[e]={ret_btype:r.get_value_id(),hidden:n,no_composer:function e(t){return t.type()!=="CurrentUser"&&r.is_reflective},fn:p.make_call_fn(r),field_names:u.extend({},r.parameters,{element_id:{}}),description:(o="'s "+r.display())!=null?o:u.toTitleCase(e),section:"Data Fields"}}c.optional_pause();var s=d.get_user_calls();for(var i in s){var a=s[i];o(i,a);c.optional_pause("add_oauth_message "+i)}u.extend(t,{email_confirmed:{description:"'s email confirmed",ret_btype:"boolean",section:"Data Fields",fn:function e(t,r){if(!t){return this.ret_btype_null()}else{var n;return[true,"true"].includes((n=t.child)==null?void 0:n.call(t,"authentication").child("email").child("email_confirmed").get())}}},uses_pw:{description:" uses password",ret_btype:"boolean",section:"Other Operators",fn:function e(t,r){if(!t){return this.ret_btype_null()}else{var n;return((n=t.child)==null?void 0:n.call(t,"authentication").child("email").child("email").get())!=null}}},uses_2fa:{description:" uses 2FA",ret_btype:"boolean",section:"Other Operators",no_composer:function e(){return!f.get_public_setting("twofa_auth")},fn:function e(t,r){if(!t||t._id()===m.NO_USER){return this.ret_btype_null()}else{var n,o,s,i;return((n=t.child)==null?void 0:(o=n.call(t,"authentication"))==null?void 0:(s=o.child("2fa"))==null?void 0:(i=s.child("uses_2fa"))==null?void 0:i.get())==="true"}}},has_2fa_backup:{description:" has 2FA backup codes",ret_btype:"boolean",section:"Other Operators",no_composer:function e(){return!f.get_public_setting("twofa_auth")},fn:function e(t,r){if(!t||t._id()===m.NO_USER){return this.ret_btype_null()}else{var n,o,s,i;return((n=t.child)==null?void 0:(o=n.call(t,"authentication"))==null?void 0:(s=o.child("2fa"))==null?void 0:(i=s.child("has_codes"))==null?void 0:i.get())==="true"}}},is_using_cookies:{description:" is using cookies",ret_btype:"boolean",section:"Other Operators",no_composer:function e(){return!f.get_public_setting("cookie_opt_in")},fn:function e(t,r){if(!t){return this.ret_btype_null()}else{var n;return((n=t._id)==null?void 0:n.call(t))!==m.NO_USER}}}});return[t,[].concat(n(e.map((function(e){return{value:e,high_priority:true}}))),[{value:"email_confirmed",high_priority:false},{value:"logged_in",high_priority:false},{value:"not_logged_in",high_priority:false},{value:"uses_pw",high_priority:false},{value:"uses_2fa",high_priority:false},{value:"has_2fa_backup",high_priority:false},{value:"is_using_cookies",high_priority:false}])]}t.exports=function(){var e=f.custom_type("user");return v("user",e,h,b,false)}},{"../../../constants/db":69,"../../../external":502,"../../../services":646,"../../../services/client/editor_utils":644,"../../../u":687,"../../../u/shared/async/b_fiber":696,"../utilities/generate_utilities":203,"./../../../lang/appquery":535,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],193:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.string.replace.js");var n=e("../../../services");var o=e("../../../services/shared/plugin_getter");t.exports={get:function e(t){var r;var n=t.split(".")[0];var s=t.split(".").slice(1).join(".");return(r=o.get_plugin(n))==null?void 0:r.get_values()[s]},list:function e(){return n.get_value_ids().map((function(e){return e.replace("api.","")}))},display:function e(){return"external data"}}},{"../../../services":646,"../../../services/shared/plugin_getter":649,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979}],194:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");var n=e("./../../../lang/appquery");t.exports={get:function e(t){var r=t.split(".")[0];var o=n.workflow_item(r);if(!(o!=null&&o.exists())){return null}return o.get_value()[t]},list:function e(){return[]},display:function e(){return"API Event data"}}},{"./../../../lang/appquery":535,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],195:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");var n=e("../../../u");var o=e("../../../lang/btype_ids");var s=e("./../../../lang/appquery");var i=e("../utilities/generate_utilities"),a=i.create_custom_btype;t.exports={get:function e(t){if(!t){throw new n.UnexpectedError("custom btype created without id.  Namespace: custom")}var r=s.custom_type(t);var i=o.custom_type(t);return a(i,r)},list:function e(){return s.custom_types(undefined,undefined,true).filter((function(e){return e.id()!=="user"})).map((function(e){return e.id()}))},display:function e(){return"custom type"}}},{"../../../lang/btype_ids":536,"../../../u":687,"../utilities/generate_utilities":203,"./../../../lang/appquery":535,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.map.js":936}],196:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.keys.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../u");var a=e("./../../../lang/appquery");var l=e("../../../lang/btype_ids");var u=e("../utilities/misc_utilities"),c=u.add_basic_element_messages;var f=e("./../../core_events/event_element_mapping");t.exports={get:function e(t){var r=a.element(t);var o={};if(r!=null&&r.exists()){var s=r.get_states();r.add_specific_messages(o);c(s,o,f.has_event("ButtonClicked",r.type()));i.extend(o,{is_visible:{description:" is visible",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return t==null?void 0:t.is_visible()},filter_context:function e(t){return t.is_state||t.is_event_condition},filter_context_new:function e(t){return t.owner_type==="State"||(t.owner_type==="Workflow"||t.owner_type==="BackendWorkflow")&&t.in_event_condition}},isnt_visible:{description:" isn't visible",section:"States",ret_btype:"sys.bool",fn:function e(t){return!(t!=null&&t.is_visible())},filter_context:function e(t){return t.is_state||t.is_event_condition},filter_context_new:function e(t){return t.owner_type==="State"||(t.owner_type==="Workflow"||t.owner_type==="BackendWorkflow")&&t.in_event_condition}}});var u=n(r.element_custom_states()),d;try{var p=function e(){var t=d.value;o[t.name()]={description:"'s "+t.display(),section:"Custom States",ret_btype:t.value(),fn:function e(r){var n;if(r==null){return this.ret_btype().get_bubble_null()}return this.ret_btype().cast((n=r.state(t.name()))!=null?n:t.default_val())},delete_cb:function e(){if(window.confirm("Delete custom state ".concat(t.display(),"?"))){return t.delete()}}}};for(u.s();!(d=u.n()).done;){p()}}catch(e){u.e(e)}finally{u.f()}}for(var _ in o){var m=o[_];if(l.is_custom_type(_)){m.documentation_id="Documentation.Elements.GeneralConcepts.States.CustomStates"}else{m.documentation_id="Documentation.Elements.GeneralConcepts.States."+_}}return{display:function e(){return"element"},get_message_names:function e(){return Object.keys(o)},get_message:function e(t){return o[t]},cast:function e(t){return t},get_bubble_null:function e(){return null},storable:false,bindable:false}},list:function e(){return[]},display:function e(){return"element"}}},{"../../../lang/btype_ids":536,"../../../u":687,"../utilities/misc_utilities":205,"./../../../lang/appquery":535,"./../../core_events/event_element_mapping":371,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],197:[function(e,t,r){"use strict";e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.from-entries.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.map.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.slice.js");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){t=i(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function i(e){var t=a(e,"string");return l(t)==="symbol"?t:String(t)}function a(e,t){if(l(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l(e){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e){return d(e)||f(e)||b(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d(e){if(Array.isArray(e))return h(e)}function p(e,t){return y(e)||m(e,t)||b(e,t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function y(e){if(Array.isArray(e))return e}function v(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function b(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var j=e("../../../u");var g=e("../../../logger");var w=e("../../../u/shared/incremental");var O=e("../../../constants/db");var S=e("../../../constants/special_keys");var k=e("../../../db/postgres_constraints");var A=e("../utilities/list_utilities");var E=e("../../../constants/core");var x=e("../../../db/values/db_values");var M=e("../../../constants/eval");var P=e("../../../lang/btype_ids");var T=e("../../../db/db_utils");var I=e("../../../db/values/TransformList");var C=e("../../../db/values/IntersectList");var R=e("../../../db/values/ConcatList");var N=e("../../../db/values/UniqueList");var L=e("../../../db/values/SortedList");var z=e("./../../../lang/btypes");var D=e("../../../lib");var q=e("../../../db/sample");var B=e("../../../lang/shrink");var U=B.S;var W=e("../../../lang/lang");var F=e("../../../lang/evaluation/evaluate");var G=e("../../../u/shared/decaf");var X=e("../../core_datasources/utilities/core_ds_field_names");var $=e("../../core_datasources/utilities/core_ds_editor_utilities");var V=e("../../core_datasources/utilities/core_ds_db_ops_utilities");var H=["greater_or_equal_than","greater_than","less_or_equal_than","less_than","not_equals","equals"];function Y(e,t,r){var n,o;var s=((n=t==null?void 0:(o=t.all)==null?void 0:o.call(t))!=null?n:[]).map((function(t){w.optional_pause_tick(10);return e(t)}));if(r==="line_break"){r="\n"}return s.join(r)}function K(e){var t=e.id();var r={count:{description:":count",can_be_cached:true,ret_btype:"number",fn:function e(t,r,n,o,s,i){return Z(t,r,n,o,i)},message_cache_id:function e(t){var r=t.raw;return Q(r)}},contains:{description:" contains ",ret_btype:"sys.bool",arg_btype:t,build_pg_constraint:k.contains,build_pg_r_constraint:k.in,build_pg_relationship:k.contains_both,fn:function t(r,n){var o;if(!r){return false}return(o=r.contains)==null?void 0:o.call(r,n,e)}},not_contains:{description:" doesn't contain ",ret_btype:"sys.bool",arg_btype:t,build_pg_constraint:k.not_contains,build_pg_r_constraint:k.not_in,build_pg_relationship:k.not_contains_both,fn:function t(r,n){var o;if(!r){return true}return!((o=r.contains)!=null&&o.call(r,n,e))}},first_element:{description:":first item",ret_btype:t,fn:function e(t){var r;if(!(t!=null&&t.get_children)){return this.ret_btype_null()}return(r=t.get_children(0,1)[0])!=null?r:this.ret_btype_null()}},last_element:{description:":last item",ret_btype:t,fn:function e(t){var r;if(!(t!=null&&t.get_children)){return this.ret_btype_null()}var n=t.length();if(!n){return this.ret_btype_null()}return(r=t.get_children(n-1,1)[0])!=null?r:this.ret_btype_null()}},random_element:{description:":random item",ret_btype:t,fn:function e(t,r,n,o,s){var i;if(!(t!=null&&t.get_children)||!t.length()){return this.ret_btype_null()}var a=t.length();var l;if(s!=null&&s.random_generator){l=function e(t){return s.random_generator.random(0,a)}}else{l=function e(t){return Math.random()*a}}var u=Math.floor(l());return(i=t.get_children(u,1)[0])!=null?i:this.ret_btype_null()}},specific_item:{description:":item #",ret_btype:t,arg_btype:"number",fn:function e(t,r,n,o){var s;if(!(t!=null&&t.get_children)||!r||r<1){return this.ret_btype_null()}var i=Math.ceil(r-1);if(i!==r-1)g.verbose("user trying to offset list from decimal value",{b:r,b_string:String(r),_raw:o});return(s=t.get_children(i,1)[0])!=null?s:this.ret_btype_null()}},limit_to:{description:":items until #",ret_btype:P.list_type(t),arg_btype:"number",fn:function e(r,n,o,s){if(!(r!=null&&r.get_children)||n==null){return D().db_instance().static_list(t,[])}var i=Math.floor(n);if(i!==n)g.verbose("user trying to cap list at decimal value",{b:n,b_string:String(n),_raw:s});return r.capped(i)}},list_from:{description:":items from #",ret_btype:P.list_type(t),arg_btype:"number",fn:function e(r,n,o,s){if(!(r!=null&&r.get_children)||n==null){return D().db_instance().static_list(t,[])}var i=Math.ceil(n-1);if(i!==n-1)g.verbose("user trying to offset list from decimal value",{b:n,b_string:String(n),_raw:s});return r.offset(i)}},contains_list:{description:" contains list ",ret_btype:"sys.bool",arg_btype:P.list_type(t),fn:function t(r,n){var o,s;var i=v((o=n==null?void 0:(s=n.all)==null?void 0:s.call(n))!=null?o:[]),a;try{for(i.s();!(a=i.n()).done;){var l;var u=a.value;if(!(r!=null&&(l=r.contains)!=null&&l.call(r,u,e))){return false}}}catch(e){i.e(e)}finally{i.f()}return true}}};if(e.has_runmode_display()){r.join={description:" join with ",ret_btype:"text",arg_btype:"text",fn:function r(n,o){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}return Y((function(t){return e.runmode_display(t)}),n,o)},editor:{static:true,default:", "}}}if(e.matches("date")){j.extend(r,{average:{description:":average",can_be_cached:true,ret_btype:"date",fn:function e(t,r,n,o,s,i){if(!x.registry.is(t,x.LIST_WRAPPER)||t.length_or_zero()<=0){return this.ret_btype_null()}return t.average(i)}},median:{description:":median",can_be_cached:true,ret_btype:"date",fn:function e(t,r,n,o,s,i){if(!x.registry.is(t,x.LIST_WRAPPER)||t.length_or_zero()<=0){return this.ret_btype_null()}return t.median(i)}},min:{description:":min",can_be_cached:true,ret_btype:"date",fn:function e(t,r,n,o,s,i){if(!x.registry.is(t,x.LIST_WRAPPER)||t.length_or_zero()<=0){return this.ret_btype_null()}return t.min(i)}},max:{description:":max",can_be_cached:true,ret_btype:"date",fn:function e(t,r,n,o,s,i){if(!x.registry.is(t,x.LIST_WRAPPER)||t.length_or_zero()<=0){return this.ret_btype_null()}return t.max(i)}}})}if(e.matches("number")){j.extend(r,{sum:{description:":sum",can_be_cached:true,ret_btype:"number",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}return r.sum(a)}},product:{description:":product",can_be_cached:true,ret_btype:"number",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}return r.product(a)}},average:{description:":average",can_be_cached:true,ret_btype:"number",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.average(a);if(l!=null)return l;if(r.length()===0)return 0;return l}},median:{description:":median",can_be_cached:true,ret_btype:"number",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.median(a);if(l!=null)return l;if(r.length()===0)return 0;return l}},min:{description:":min",can_be_cached:true,ret_btype:"number",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.min(a);if(l!=null)return l;if(r.length()===0)return 0;return l}},max:{description:":max",can_be_cached:true,ret_btype:"number",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.max(a);if(l!=null)return l;if(r.length()===0)return 0;return l}}})}r.approximate_count={description:":approximate count",can_be_cached:true,ret_btype:"number",fn:function e(t,r,n,o,s,i){return Z(t,r,n,o,j.extend({should_approx:true},i))},message_cache_id:function e(t){var r=t.raw;return Q(r)}};r.cached_aggregation={description:function e(t){var r=t==null?void 0:t.get_static_property("operation");return":cached "+(r!=null?r:"aggregation")},field_names:{operation:{}},spot_data:"SlidableAtom",ret_btype:function e(t){var n,o,s;var i=(n=r[t==null?void 0:(o=t[U.properties])==null?void 0:o.operation])==null?void 0:n.ret_btype;return(s=typeof i==="function"?i():i)!=null?s:"null"},fn:function e(t,n,o,s,i){var a;var l=o.operation;return(a=r[l])==null?void 0:a.fn(t,n,o,s,i,{cacheable:true})},message_cache_id:function e(t){var n,o;var s=t.raw,i=t.properties;return(n=r[i.operation])==null?void 0:(o=n.message_cache_id)==null?void 0:o.call(n,{raw:s})}};var n=v(e.get_messages()),o;try{var s=function e(){var n=o.value;var s=["function","object"];var i={convert_to_list:true};var a=":each item";var u=[null,[]];var c=function e(){return i[n.name()]};if(!n.M.arg_btype&&(!s.includes(l(n.M.ret_btype))||u.includes(l(n.M.ret_btype)))){var f;if(P.is_list(n.M.ret_btype)){f=n.M.ret_btype}else{f=P.list_type(n.M.ret_btype)}r[n.name()]={description:function e(t,r){var o,s;(o=r)!=null?o:r={};if(r.for_consumer===E.DROPDOWN_DESCRIPTION_CONTEXT){return a+n.description(t)}var i=(s=r.parent_node)!=null?s:t==null?void 0:t.prior();if(i instanceof W.DataSource||!(i!=null&&i.prior().get_value().is_list())){return a+n.description(t)}return n.description(t)},ret_btype:f,spot_data:n.M.spot_data,description_for_sliding_palette:n.M.description_for_sliding_palette,field_names:n.M.field_names,fields:n.M.fields,compound_message:true,no_composer:c,arg_btype:null,fn:function e(r,o,s,i){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}var a=new I(r,{value_id:t,message:n.name(),properties:s,_raw:i,arg:o});if(P.is_list(n.M.ret_btype)){a=a.flatten()}return a}}}};for(n.s();!(o=n.n()).done;){s()}}catch(e){n.e(e)}finally{n.f()}if(e.matches(z.compound)){r.group_by={ret_btype:function e(t){var r;(r=t)!=null?r:t={};t=j.json_deep_copy(t);for(var n=0,o=["groupings","aggregations"];n<o.length;n++){var s=o[n];for(var i in(a=t["%p"])==null?void 0:a[s]){var a,l;var u=(l=t["%p"])==null?void 0:l[s][i];for(var c in u){var f=u[c];if(f["%x"]==="Empty"){delete u[c]}}if(j.is_empty(u)){delete t["%p"][s][i]}}}try{var d;var p=this.fn(undefined,undefined,(d=t["%p"])!=null?d:{});return P.list_type(p.get_item_btype_id())}catch(e){return"list.null"}},field_names:{groupings:{},aggregations:{}},spot_data:"SlidableAtom",description:function t(r){var n;if(r==null){return":group by... "}var o=Object.values((n=r.property("groupings").raw())!=null?n:{}).map((function(e){return e.message})).map((function(t){return e.get_message(t).description(undefined,true)})).join(", ");return":grouped by "+o},fn:function e(r,n,o,s){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}var i=v(G.object_values(o.groupings)),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(O.CALENDAR_GROUPINGS.includes(l.fn)){l.timezone_string=D().current_timezone();if(typeof l.start!=="number"&&!(l.start instanceof Date)){if(l.end!=null){l.start=l.end-1}else{l.start=Date.now()}}if(typeof l.interval!=="number"||l.interval<1){l.interval=1}}else if(l.fn==="bucket"&&typeof l.start!=="number"){l.start=0;if(typeof l.interval!=="number"||l.interval<=0){l.interval=1}}}}catch(e){i.e(e)}finally{i.f()}var u=G.object_values(o.aggregations);var c=v(u),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;if(!T.can_aggregate_on(d.fn,t).includes(d.message)){delete d.message}}}catch(e){c.e(e)}finally{c.f()}var p=T.can_group_on(t);var _={groupings:G.object_values(o.groupings).filter((function(e){return p.includes(e.message)})),aggregations:u};return r.group_by(_)}}}r.filtered={ret_btype:P.list_type(t),field_names:j.extend({ignore_empty_constraints:{}},X.constraints_field_names,X.sorting_field_names),spot_data:"SlidableAtom",description:":filtered",fn:function r(n,o,s,i,a){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}s.type_to_find=t;var l=!s.ignore_empty_constraints;var u=G.object_values(s.constraints).map((function(r,n){if(r.key===S.ADVANCED_SEARCH_CONSTRAINT){var o=i[U.properties][U.constraints][n][U.value];r.value=F.reduce(o,a);if(!e.matches(z.compound)){r.self=t}}return r}));return n.filter(u,l).sort(V.get_sorts_list(s))},no_frozen_state:true,properties_for_pre_evaluation:function e(t){var r=t._properties;if(!(r!=null&&r[U.constraints])){return r}var n=j.extend({},r);n[U.constraints]={};for(var o in r[U.constraints]){var s=r[U.constraints][o];if(s==null){continue}else if(l(s)!=="object"){n[U.constraints][o]=s}else{n[U.constraints][o]=j.extend({},s);if(s[U.key]===S.ADVANCED_SEARCH_CONSTRAINT){n[U.constraints][o][U.value]=null}}}return n}};r.format_as_text={description:":format as text",spot_data:"SlidableAtom",ret_btype:"text",field_names:{content:{prop_type:M.EVAL_TYPE.thunk},delimiter:{prop_type:M.EVAL_TYPE.thunk}},fn:function e(t,r,n,o,s){if(!(t!=null&&t.get_children)||!t.length()||o==null){return this.ret_btype_null()}var i="";var a=t.length();t.all().forEach((function(e,r){var l,u;var c=j.extend({},s);c.datasources=j.extend({},c.datasources);c.datasources.injected_value=function(){return e};var f=(l=t.get_item_btype_id())!=null?l:"text";c.datasources.injected_value_btype=function(){return f};var d=n.content(c);var p=(u=o[U.properties])==null?void 0:u.delimiter;var _;if(r===a-1||!p){_=""}else{_=n.delimiter(c)}i+=d+_}));return i},no_frozen_state:true};if(e.matches(z.compound)||e.option_set()!=null){r.sorted={ret_btype:P.list_type(t),field_names:j.extend({},X.sorting_field_names),spot_data:"SlidableAtom",description:function e(r){var n=r==null?void 0:r.property("sort_field").raw();var o=":sorted";if(n===S.DYNAMIC_SORTING_FIELD){o+=" by dynamic field"}else if(n===S.RANDOM_SORTING){o+=" randomly"}else if(n){var s;var i=z.get(t);var a;if(i.custom_type()!=null){a=i.custom_type().field(n).display()}else if(i.option_set()!=null){a=i.option_set().attribute(n).display()}else{var l,u;a=(l=i.get_message(n))==null?void 0:(u=l.description)==null?void 0:u.call(l,undefined,true)}o+=" by "+((s=a)!=null?s:n)}return o},fn:function e(r,n,o){if(Array.isArray(r)){r=A.array_to_static_list(t,r)}else if(!r||!r.all){return D().db_instance().static_list(t,[])}o.type_to_find=t;var s=V.get_sorts_list(o);return new L(r,{sorts_list:s})}};r.ranked_by={ret_btype:P.list_type(t),field_names:{target_item:{},method:{}},spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("target_item");var n=t==null?void 0:t.get_static_property("method");var o=":ranked by";if(!n){o+="..."}else{o+=" ";if(n==="similar"){o+="numerical similarity to "}else if(n==="different"){o+="numerical difference from "}if(!(r!=null&&r.exists())){o+="..."}else{o+=r.get_tree_display()}}return o},fn:function e(r,n,o){var s,i;var a=(s=r==null?void 0:(i=r.all)==null?void 0:i.call(r))!=null?s:[];if(x.registry.is(r,x.LIST_WRAPPER)&&r.get_item_btype_id()!==t){return[]}var l=z.get(t).option_set();if(o.target_item!=null&&(l||o.target_item.child)){var u=function e(t){if(t==null||l==null&&!t.child){return Infinity}var r=0;var n=v(c),o;try{for(n.s();!(o=n.n()).done;){var s,i;var a=o.value;var u=a.name();var d=(s=l==null?void 0:l.value(t).attr(u))!=null?s:t==null?void 0:(i=t.child)==null?void 0:i.call(t,u).get();if(d!=null){r+=Math.pow(f[u]-d,2)}else{return Infinity}}}catch(e){n.e(e)}finally{n.f()}return r};var c=z.get(t).get_messages().filter((function(e){return e.ret_btype().matches("number")}));var f={};var d=v(c),p;try{for(d.s();!(p=d.n()).done;){var _=p.value;var m=_.name();if(l){f[m]=l.value(o.target_item).attr(m)}else{f[m]=o.target_item.child(m).get()}}}catch(e){d.e(e)}finally{d.f()}var y=o.method==="different"?-1:1;a.sort((function(e,t){return(u(e)-u(t))*y}))}return D().db_instance().static_list(t,a)}}}else if(e.can_sort()){r.sorted={ret_btype:P.list_type(t),field_names:{random:{},descending:{optional:true}},spot_data:"SlidableAtom",description:function e(){return":sorted"},fn:function e(r,n,o){var s;if(Array.isArray(r)){r=A.array_to_static_list(t,r)}else if(!r||!r.all){return D().db_instance().static_list(t,[])}(s=o)!=null?s:o={};o.sorts_list=[{sort_field:o.random?S.RANDOM_SORTING:undefined,descending:o.descending,self:true}];return new L(r,o)}}}r.merged_with={description:" merged with ",ret_btype:P.list_type(t),arg_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}return new N(new R(D().db_instance().static_list(P.list_type(t),[r,n])))}};r.intersect_with={description:" intersect with ",ret_btype:P.list_type(t),arg_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}return new C(D().db_instance().static_list(P.list_type(t),[r,n]))}};r.unique={description:":unique elements",ret_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}return new N(r)}};r.plus_element={description:":plus item ",ret_btype:P.list_type(t),arg_btype:t,fn:function r(n,o){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}o=e.cast(o);if(o==null){o=D().db_instance().static_list(t,[])}else{o=D().db_instance().static_list(t,[o])}return new N(new R(D().db_instance().static_list(P.list_type(t),[n,o])))}};if(t!=="geographic_address"){r.minus_element={description:":minus item ",ret_btype:P.list_type(t),arg_btype:t,fn:function r(n,o){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}o=e.cast(o);if(o==null){return n}var s;if(o._id!=null){s=[{key:S.UNIQUE_ID,constraint_type:"not equal",value:o._id()}]}else{var i=!e.get_message("not_equals").is_not_found();var a=typeof o==="string"&&e.plugin.uid_field!=null;if(!i&&!a){throw new j.UnexpectedError("minus_element called on a btype that doesn't have not_equals: "+t)}s=[{key:S.ADVANCED_SEARCH_CONSTRAINT,value:{"%x":"InjectedValue","%n":{"%nm":"not_equals","%a":o,"%x":"Message"}},self:i?t:"text"}]}return n.filter(s)}};r.minus_list={description:":minus list ",ret_btype:P.list_type(t),arg_btype:P.list_type(t),fn:function e(r,n){r=A.process_list_arg(t,r);n=A.process_list_arg(t,n);return r.minus_list(n)}}}r.make_static={description:":make static ",ret_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)||!z.get(r.get_item_btype_id()).matches(t)){r=D().db_instance().static_list(t,[])}return D().db_instance().static_list(t,r.all())}};for(var i in r){var a=r[i];if(!a.compound_message){a.documentation_id="Documentation.Data.Messages.list."+i}}return r}function J(e){var t=e.id();var r=null;var n=o(o({count:{description:":count",section:"Operators",can_be_cached:true,ret_btype:"number",fn:function e(t,r,n,o,s,i){return Z(t,r,n,o,i)},message_cache_id:function e(t){var r=t.raw;return Q(r)}},contains:{description:" contains ",section:"Operators",ret_btype:"sys.bool",arg_btype:t,build_pg_constraint:k.contains,build_pg_r_constraint:k.in,build_pg_relationship:k.contains_both,fn:function t(r,n){var o;if(!r){return false}return(o=r.contains)==null?void 0:o.call(r,n,e)}},not_contains:{description:" doesn't contain ",section:"Operators",ret_btype:"sys.bool",arg_btype:t,build_pg_constraint:k.not_contains,build_pg_r_constraint:k.not_in,build_pg_relationship:k.not_contains_both,fn:function t(r,n){var o;if(!r){return true}return!((o=r.contains)!=null&&o.call(r,n,e))}},first_element:{description:":first item",section:"Operators",ret_btype:t,fn:function e(t){var r;if(!(t!=null&&t.get_children)){return this.ret_btype_null()}return(r=t.get_children(0,1)[0])!=null?r:this.ret_btype_null()}},last_element:{description:":last item",section:"Operators",ret_btype:t,fn:function e(t){var r;if(!(t!=null&&t.get_children)){return this.ret_btype_null()}var n=t.length();if(!n){return this.ret_btype_null()}return(r=t.get_children(n-1,1)[0])!=null?r:this.ret_btype_null()}},random_element:{description:":random item",section:"Operators",ret_btype:t,fn:function e(t,r,n,o,s){var i;if(!(t!=null&&t.get_children)||!t.length()){return this.ret_btype_null()}var a=t.length();var l;if(s!=null&&s.random_generator){l=function e(t){return s.random_generator.random(0,a)}}else{l=function e(t){return Math.random()*a}}var u=Math.floor(l());return(i=t.get_children(u,1)[0])!=null?i:this.ret_btype_null()}},specific_item:{description:":item #",section:"Operators",ret_btype:t,arg_btype:"number",fn:function e(t,r,n,o){var s;if(!(t!=null&&t.get_children)||!r||r<1){return this.ret_btype_null()}var i=Math.ceil(r-1);if(i!==r-1)g.verbose("user trying to offset list from decimal value",{b:r,b_string:String(r),_raw:o});return(s=t.get_children(i,1)[0])!=null?s:this.ret_btype_null()}},limit_to:{description:":items until #",section:"Operators",ret_btype:P.list_type(t),arg_btype:"number",fn:function e(r,n,o,s){if(!(r!=null&&r.get_children)||n==null){return D().db_instance().static_list(t,[])}var i=Math.floor(n);if(i!==n)g.verbose("user trying to cap list at decimal value",{b:n,b_string:String(n),_raw:s});return r.capped(i)}},list_from:{section:"Operators",description:":items from #",ret_btype:P.list_type(t),arg_btype:"number",fn:function e(r,n,o,s){if(!(r!=null&&r.get_children)||n==null){return D().db_instance().static_list(t,[])}var i=Math.ceil(n-1);if(i!==n-1)g.verbose("user trying to offset list from decimal value",{b:n,b_string:String(n),_raw:s});return r.offset(i)}},contains_list:{description:" contains list ",section:"Operators",ret_btype:"sys.bool",arg_btype:P.list_type(t),fn:function t(r,n){var o,s;var i=v((o=n==null?void 0:(s=n.all)==null?void 0:s.call(n))!=null?o:[]),a;try{for(i.s();!(a=i.n()).done;){var l;var u=a.value;if(!(r!=null&&(l=r.contains)!=null&&l.call(r,u,e))){return false}}}catch(e){i.e(e)}finally{i.f()}return true}},join:{description:" join with ",section:"Operators",ret_btype:"text",arg_btype:"text",should_include:e.has_runmode_display(),fn:function r(n,o){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}return Y((function(t){return e.runmode_display(t)}),n,o)},editor:{static:true,default:", "}},sum:{description:":sum",section:"Operators",can_be_cached:true,ret_btype:"number",should_include:e.matches("number"),fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}return r.sum(a)}},product:{description:":product",section:"Operators",can_be_cached:true,ret_btype:"number",should_include:e.matches("number"),fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}return r.product(a)}},average:{description:":average",section:"Operators",can_be_cached:true,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.average(a);if(l!=null)return l;if(r.length()===0)return 0;return l}},median:{description:":median",section:"Operators",can_be_cached:true,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.median(a);if(l!=null)return l;if(r.length()===0)return 0;return l}},min:{description:":min",section:"Operators",can_be_cached:true,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.min(a);if(l!=null)return l;if(r.length()===0)return 0;return l}},max:{description:":max",section:"Operators",can_be_cached:true,should_include:e.matches("number")||e.matches("date"),ret_btype:e.matches("number")?"number":"date",fn:function e(r,n,o,s,i,a){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[0])}var l=r.max(a);if(l!=null)return l;if(r.length()===0)return 0;return l}}},Object.fromEntries(e.get_messages_reorg().filter((function(e){var t=["function","object"];var r=[null,[]];return!e.M.arg_btype&&(!t.includes(l(e.M.ret_btype))||r.includes(l(e.M.ret_btype)))})).map((function(e){var r={convert_to_list:true};var n=":each item";var o=function t(){return r[e.name()]};var s;if(P.is_list(e.M.ret_btype)){s=e.M.ret_btype}else{s=P.list_type(e.M.ret_btype)}var i={description:function t(r,o){var s,i;(s=o)!=null?s:o={};if(o.for_consumer===E.DROPDOWN_DESCRIPTION_CONTEXT){return n+e.description(r)}var a=(i=o.parent_node)!=null?i:r==null?void 0:r.prior();if(a instanceof W.DataSource||!(a!=null&&a.prior().get_value().is_list())){return n+e.description(r)}return e.description(r)},ret_btype:s,spot_data:e.M.spot_data,description_for_sliding_palette:e.M.description_for_sliding_palette,field_names:e.M.field_names,section:e.M.section,fields:e.M.fields,compound_message:true,no_composer:o,arg_btype:null,fn:function r(n,o,s,i){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}var a=new I(n,{value_id:t,message:e.name(),properties:s,_raw:i,arg:o});if(P.is_list(e.M.ret_btype)){a=a.flatten()}return a}};return[e.name(),i]})))),{},{plus_element:{description:":plus item ",ret_btype:P.list_type(t),section:"Other Operators",arg_btype:t,fn:function r(n,o){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}o=e.cast(o);if(o==null){o=D().db_instance().static_list(t,[])}else{o=D().db_instance().static_list(t,[o])}return new N(new R(D().db_instance().static_list(P.list_type(t),[n,o])))}},minus_element:{description:":minus item ",section:"Other Operators",should_include:t!=="geographic_address",ret_btype:P.list_type(t),arg_btype:t,fn:function r(n,o){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}o=e.cast(o);if(o==null){return n}var s;if(o._id!=null){s=[{key:S.UNIQUE_ID,constraint_type:"not equal",value:o._id()}]}else{var i=!e.get_message("not_equals").is_not_found();var a=typeof o==="string"&&e.plugin.uid_field!=null;if(!i&&!a){throw new j.UnexpectedError("minus_element called on a btype that doesn't have not_equals: "+t)}s=[{key:S.ADVANCED_SEARCH_CONSTRAINT,value:{"%x":"InjectedValue","%n":{"%nm":"not_equals","%a":o,"%x":"Message"}},self:i?t:"text"}]}return n.filter(s)}},minus_list:{description:":minus list ",section:"Other Operators",should_include:t!=="geographic_address",ret_btype:P.list_type(t),arg_btype:P.list_type(t),fn:function e(r,n){r=A.process_list_arg(t,r);n=A.process_list_arg(t,n);return r.minus_list(n)}},merged_with:{description:" merged with ",section:"Other Operators",ret_btype:P.list_type(t),arg_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}return new N(new R(D().db_instance().static_list(P.list_type(t),[r,n])))}},intersect_with:{description:" intersect with ",section:"Other Operators",ret_btype:P.list_type(t),arg_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}return new C(D().db_instance().static_list(P.list_type(t),[r,n]))}},group_by:{should_include:e.matches(z.compound),ret_btype:function e(t){var r;(r=t)!=null?r:t={};t=j.json_deep_copy(t);for(var n=0,o=["groupings","aggregations"];n<o.length;n++){var s=o[n];for(var i in(a=t["%p"])==null?void 0:a[s]){var a,l;var u=(l=t["%p"])==null?void 0:l[s][i];for(var c in u){var f=u[c];if(f["%x"]==="Empty"){delete u[c]}}if(j.is_empty(u)){delete t["%p"][s][i]}}}try{var d;var p=this.fn(undefined,undefined,(d=t["%p"])!=null?d:{});return P.list_type(p.get_item_btype_id())}catch(e){return"list.null"}},field_names:{groupings:{},aggregations:{}},spot_data:"SlidableAtom",description:function t(r){var n;if(r==null){return":group by... "}var o=Object.values((n=r.property("groupings").raw())!=null?n:{}).map((function(e){return e.message})).map((function(t){return e.get_message(t).description(undefined,true)})).join(", ");return":grouped by "+o},section:"Other Operators",fn:function e(r,n,o,s){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}var i=v(G.object_values(o.groupings)),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(O.CALENDAR_GROUPINGS.includes(l.fn)){l.timezone_string=D().current_timezone();if(typeof l.start!=="number"&&!(l.start instanceof Date)){if(l.end!=null){l.start=l.end-1}else{l.start=Date.now()}}if(typeof l.interval!=="number"||l.interval<1){l.interval=1}}else if(l.fn==="bucket"&&typeof l.start!=="number"){l.start=0;if(typeof l.interval!=="number"||l.interval<=0){l.interval=1}}}}catch(e){i.e(e)}finally{i.f()}var u=G.object_values(o.aggregations);var c=v(u),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;if(!T.can_aggregate_on(d.fn,t).includes(d.message)){delete d.message}}}catch(e){c.e(e)}finally{c.f()}var p=T.can_group_on(t);var _={groupings:G.object_values(o.groupings).filter((function(e){return p.includes(e.message)})),aggregations:u};return r.group_by(_)}},filtered:{ret_btype:P.list_type(t),field_names:j.extend({ignore_empty_constraints:{}},X.constraints_field_names,X.sorting_field_names),spot_data:"SlidableAtom",description:":filtered",section:"Other Operators",fn:function r(n,o,s,i,a){if(!x.registry.is(n,x.LIST_WRAPPER)){n=D().db_instance().static_list(t,[])}s.type_to_find=t;var l=!s.ignore_empty_constraints;var u=G.object_values(s.constraints).map((function(r,n){if(r.key===S.ADVANCED_SEARCH_CONSTRAINT){var o=i[U.properties][U.constraints][n][U.value];r.value=F.reduce(o,a);if(!e.matches(z.compound)){r.self=t}}return r}));return n.filter(u,l).sort(V.get_sorts_list(s))},no_frozen_state:true,properties_for_pre_evaluation:function e(t){var r=t._properties;if(!(r!=null&&r[U.constraints])){return r}var n=j.extend({},r);n[U.constraints]={};for(var o in r[U.constraints]){var s=r[U.constraints][o];if(s==null){continue}else if(l(s)!=="object"){n[U.constraints][o]=s}else{n[U.constraints][o]=j.extend({},s);if(s[U.key]===S.ADVANCED_SEARCH_CONSTRAINT){n[U.constraints][o][U.value]=null}}}return n}},sorted:{should_include:e.matches(z.compound)||e.option_set()!=null||e.can_sort(),ret_btype:P.list_type(t),field_names:e.matches(z.compound)||e.option_set()!=null?o({},X.sorting_field_names):{random:{},descending:{optional:true}},spot_data:"SlidableAtom",description:function e(r){var n=r==null?void 0:r.property("sort_field").raw();var o=":sorted";if(n===S.DYNAMIC_SORTING_FIELD){o+=" by dynamic field"}else if(n===S.RANDOM_SORTING){o+=" randomly"}else if(n){var s;var i=z.get(t);var a;if(i.custom_type()!=null){a=i.custom_type().field(n).display()}else if(i.option_set()!=null){a=i.option_set().attribute(n).display()}else{var l,u;a=(l=i.get_message(n))==null?void 0:(u=l.description)==null?void 0:u.call(l,undefined,true)}o+=" by "+((s=a)!=null?s:n)}return o},section:"Other Operators",fn:function r(n,o,s){if(Array.isArray(n)){n=A.array_to_static_list(t,n)}else if(!n||!n.all){return D().db_instance().static_list(t,[])}if(e.matches(z.compound)||e.option_set()!=null){s.type_to_find=t;var i=V.get_sorts_list(s);return new L(n,{sorts_list:i})}else{var a;(a=s)!=null?a:s={};s.sorts_list=[{sort_field:s.random?S.RANDOM_SORTING:undefined,descending:s.descending,self:true}];return new L(n,s)}}},ranked_by:{should_include:e.matches(z.compound)||e.option_set()!=null,ret_btype:P.list_type(t),field_names:{target_item:{},method:{}},spot_data:"SlidableAtom",description:function e(t){var r=t==null?void 0:t.property("target_item");var n=t==null?void 0:t.get_static_property("method");var o=":ranked by";if(!n){o+="..."}else{o+=" ";if(n==="similar"){o+="numerical similarity to "}else if(n==="different"){o+="numerical difference from "}if(!(r!=null&&r.exists())){o+="..."}else{o+=r.get_tree_display()}}return o},section:"Other Operators",fn:function e(r,n,o){var s,i;var a=(s=r==null?void 0:(i=r.all)==null?void 0:i.call(r))!=null?s:[];if(x.registry.is(r,x.LIST_WRAPPER)&&r.get_item_btype_id()!==t){return[]}var l=z.get(t).option_set();if(o.target_item!=null&&(l||o.target_item.child)){var u=function e(t){if(t==null||l==null&&!t.child){return Infinity}var r=0;var n=v(c),o;try{for(n.s();!(o=n.n()).done;){var s,i;var a=o.value;var u=a.name();var d=(s=l==null?void 0:l.value(t).attr(u))!=null?s:t==null?void 0:(i=t.child)==null?void 0:i.call(t,u).get();if(d!=null){r+=Math.pow(f[u]-d,2)}else{return Infinity}}}catch(e){n.e(e)}finally{n.f()}return r};var c=z.get(t).get_messages().filter((function(e){return e.ret_btype().matches("number")}));var f={};var d=v(c),p;try{for(d.s();!(p=d.n()).done;){var _=p.value;var m=_.name();if(l){f[m]=l.value(o.target_item).attr(m)}else{f[m]=o.target_item.child(m).get()}}}catch(e){d.e(e)}finally{d.f()}var y=o.method==="different"?-1:1;a.sort((function(e,t){return(u(e)-u(t))*y}))}return D().db_instance().static_list(t,a)}},unique:{description:":unique elements",section:"Other Operators",ret_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)){r=D().db_instance().static_list(t,[])}return new N(r)}},approximate_count:{description:":approximate count",section:"Other Operators",can_be_cached:true,ret_btype:"number",fn:function e(t,r,n,o,s,i){return Z(t,r,n,o,j.extend({should_approx:true},i))},message_cache_id:function e(t){var r=t.raw;return Q(r)}},cached_aggregation:{description:function e(t){var r=t==null?void 0:t.get_static_property("operation");return":cached "+(r!=null?r:"aggregation")},section:"Other Operators",field_names:{operation:{}},spot_data:"SlidableAtom",ret_btype:function e(t){var n,o,s;var i=(n=r[t==null?void 0:(o=t[U.properties])==null?void 0:o.operation])==null?void 0:n.ret_btype;return(s=typeof i==="function"?i():i)!=null?s:"null"},fn:function e(t,n,o,s,i){var a;var l=o.operation;return(a=r[l])==null?void 0:a.fn(t,n,o,s,i,{cacheable:true})},message_cache_id:function e(t){var n,o;var s=t.raw,i=t.properties;return(n=r[i.operation])==null?void 0:(o=n.message_cache_id)==null?void 0:o.call(n,{raw:s})}},format_as_text:{description:":format as text",section:"Other Operators",spot_data:"SlidableAtom",ret_btype:"text",field_names:{content:{prop_type:M.EVAL_TYPE.thunk},delimiter:{prop_type:M.EVAL_TYPE.thunk}},fn:function e(t,r,n,o,s){if(!(t!=null&&t.get_children)||!t.length()||o==null){return this.ret_btype_null()}var i="";var a=t.length();t.all().forEach((function(e,r){var l,u;var c=j.extend({},s);c.datasources=j.extend({},c.datasources);c.datasources.injected_value=function(){return e};var f=(l=t.get_item_btype_id())!=null?l:"text";c.datasources.injected_value_btype=function(){return f};var d=n.content(c);var p=(u=o[U.properties])==null?void 0:u.delimiter;var _;if(r===a-1||!p){_=""}else{_=n.delimiter(c)}i+=d+_}));return i},no_frozen_state:true},make_static:{description:":make static ",section:"Other Operators",ret_btype:P.list_type(t),fn:function e(r,n){if(!x.registry.is(r,x.LIST_WRAPPER)||!z.get(r.get_item_btype_id()).matches(t)){r=D().db_instance().static_list(t,[])}return D().db_instance().static_list(t,r.all())}}});var s=Object.entries(n).filter((function(e){var t;var r=p(e,2),n=r[0],o=r[1];return(t=o.should_include)!=null?t:true}));s.forEach((function(e){var t=p(e,2),r=t[0],n=t[1];if(!n.compound_message){n.documentation_id="Documentation.Data.Messages.list."+r}delete n.should_include}));r=Object.fromEntries(s);return r}t.exports={list:function e(){},display:function e(){return"list"},get:function e(t){var r=z.get(t);var n=null;if(r.has_runmode_display()){n=function e(t){return Y((function(e){return r.runmode_display(e)}),t,", ")}}var o=null;if(r.has_export_to_string()){o=function e(t,n){var o,s;n.always_return_text=true;return((o=t==null?void 0:(s=t.all)==null?void 0:s.call(t))!=null?o:[]).map((function(e){var t=new Map(n.visited_field_types);var o=j.extend({},n,{visited_field_types:t});return r.export_to_string(e,o)})).join(" , ")}}var s=null;if(r.has_debugging_display()){s=function e(t){return Y((function(e){return r.debugging_display(e)}),t,", ")}}var i=K(r);var a=J(r);return{get_message_names:function e(){return Object.keys(i)},get_message_names_reorg:function e(){return Object.keys(a)},get_message:function e(t){return i[t]},get_message_reorg:function e(t){return a[t]},display:function e(){var t;var e=r.display();if(((t=e)==null?void 0:t.slice(-1))==="s"){e+="es"}else{e+="s"}return"List of "+e},inner:function e(){return r},is_list:true,equals:function e(t,r){return false},get_sample:function e(){return new q.SampleList(t)},get_bubble_null:A.list_get_bubble_null,cast:function e(r){return A.cast_to_list(t,r)},storable:false,bindable:false,runmode_display:n,export_to_string:o,debugging_display:s,get_JS_object:function e(t){var n;if(Array.isArray(t)){n=t}else if((t==null?void 0:t.all)!=null){n=t.all()}else{n=[]}return n.map((function(e){return r.get_JS_object(e)}))},JS_to_bubble:function e(n){var o=[];var s=v(G.array_from(n)),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;w.optional_pause_tick(10);var l=r.JS_to_bubble(a);if(l!=null){o.push(l)}}}catch(e){s.e(e)}finally{s.f()}return D().db_instance().static_list(t,o)}}}};function Z(e,t,r,n,o){var s,i;if(typeof(e==null?void 0:e.length)!=="function"){return 0}var a=n==null?void 0:(s=n["%n"])==null?void 0:s["%nm"];if(H.includes(a)){var l;var u=(l=n["%n"])==null?void 0:l["%a"];if(typeof u==="number"){var c=e==null?void 0:e["length_"+a](u,o);var f={greater_than:{true:+1,false:-1},greater_or_equal_than:{true:+1,false:-1},less_than:{true:-1,false:+1},less_or_equal_than:{true:-1,false:+1},equals:{true:+0,false:-1},not_equals:{true:-1,false:+0}};if(c){return u+f[a].true}else{return u+f[a].false}}}return(i=e.length(o))!=null?i:0}function Q(e){var t=e["%n"];var r=t==null?void 0:t["%nm"];var n=t==null?void 0:t["%a"];var o=H.includes(r);if(o&&typeof n==="number"){return"".concat(n,"_").concat(r)}else{return""}}},{"../../../constants/core":66,"../../../constants/db":69,"../../../constants/eval":75,"../../../constants/special_keys":95,"../../../db/db_utils":421,"../../../db/postgres_constraints":452,"../../../db/sample":454,"../../../db/values/ConcatList":457,"../../../db/values/IntersectList":459,"../../../db/values/SortedList":463,"../../../db/values/TransformList":467,"../../../db/values/UniqueList":468,"../../../db/values/db_values":469,"../../../lang/btype_ids":536,"../../../lang/evaluation/evaluate":572,"../../../lang/lang":590,"../../../lang/shrink":603,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../../u/shared/decaf":706,"../../../u/shared/incremental":710,"../../core_datasources/utilities/core_ds_db_ops_utilities":232,"../../core_datasources/utilities/core_ds_editor_utilities":233,"../../core_datasources/utilities/core_ds_field_names":235,"../utilities/list_utilities":204,"./../../../lang/btypes":537,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.from-entries.js":952,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],198:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function o(e){return a(e)||i(e)||c(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return f(e)}function l(e,t){return p(e)||d(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}var _=e("../../../u");var m=e("./../../../lang/appquery");var y=e("./../../../documentation_id_getter");var v=e("../../../lang/btype_ids");var b=e("./../../../db/postgres_constraints");var h=e("./../../../logger");var j=e("../utilities/list_utilities");var g=e("../../../option_sets");var w=e("./../../../lang/btypes");var O=e("./../../../lib");function S(e){if(!e){throw new _.UnexpectedError("custom option set created without id.")}var t=v.option_set_type(e);var r=m.option_set(e);return k(t,r)}function k(e,t){var r={};_.extend(r,{display:{description:"'s Display",section:"Attributes",public_for_plugins:true,ret_btype:"text",fn:function e(r,n){var o,s;if(!r){return""}return(o=(s=t.value(r))==null?void 0:s.display())!=null?o:""}},equals:{description:" is ",ret_btype:"sys.bool",section:"Operators",arg_btype:e,fn:function e(t,r){return A(t,r)},build_pg_constraint:b.equals,build_pg_r_constraint:b.equals,build_pg_relationship:b.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:e,fn:function e(t,r){return!A(t,r)},build_pg_constraint:b.not_equals,build_pg_r_constraint:b.not_equals,build_pg_relationship:b.not_equals_both},is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",fn:function e(t,r){return!t},build_pg_constraint:b.is_empty},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",fn:function e(t,r){return!!t},build_pg_constraint:b.is_not_empty},defaulting_to:{description:":defaulting to ",section:"Operators",ret_btype:e,arg_btype:e,fn:function e(t,r){if(t){return t}return r}},is_not_contained_by_list:j.build_is_not_contained_by_list(e),convert_to_list:{description:":converted to list",section:"Operators",ret_btype:v.list_type(e),fn:function t(r,n,o){r=w.get(e).cast(r);if(r==null||r===""){return O().db_instance().static_list(e,[])}else{return O().db_instance().static_list(e,[r])}}}});return{get_message_names:function e(){var n=Object.entries(r).filter((function(e){var t=l(e,2),r=t[0],n=t[1];return!n.hidden})).map((function(e){var t=l(e,2),r=t[0],n=t[1];return r}));var s=t.attributes().filter((function(e){return!e.deleted()})).map((function(e){return e.name()}));return[].concat(o(s),o(n))},get_message_names_reorg:function e(){var n=Object.entries(r).filter((function(e){var t=l(e,2),r=t[0],n=t[1];return!n.hidden&&r!=="display"})).map((function(e){var t=l(e,2),r=t[0],n=t[1];return r}));var s=t.attributes().filter((function(e){return!e.deleted()})).map((function(e){return e.name()}));return["display"].concat(o(s),o(n))},get_message:function e(n){var o,s;var i=r[n];if(i){return i}var a=t.attribute(n);if(!a){return{description:"[missing: "+n+"]",ret_btype:"null",fn:function e(){}}}var l=(o=a.value())!=null?o:"null";var u=false;var c=null;return{description:(s="'s "+a.display())!=null?s:n,section:"Attributes",ret_btype:l,public_for_plugins:true,fn:function e(r,o){var s,i;var a=(s=t.value(r))==null?void 0:(i=s.attr)==null?void 0:i.call(s,n);if(v.is_list(l)){var f=v.list_element_type(l);return O().db_instance().static_list(f,a!=null?a:[])}var d=w.get(l);if(!d){h.owner_error("Missing field on option set",{display:"Missing field in Option Set used for dynamic property"});return a!=null?a:null}if(a!=null){return d.cast(a)}if(!u){c=d.get_bubble_null();u=true}return c},delete_cb:function e(){if(window.confirm("Delete attribute "+a.display()+"?")){return a.set_deleted(true)}}}},display:function e(){return t.display()},debugging_display:function e(r){r=this.cast(r);if(!r){return""}else{var n,o;var s=t.value(r);if(s!=null&&(n=s.deleted)!=null&&n.call(s)){return'(Deleted Option with ID: "'.concat(r,'")')}else if(s!=null&&(o=s.display)!=null&&o.call(s)){var i;return s==null?void 0:(i=s.display)==null?void 0:i.call(s)}else{return'(Option with invalid id "'.concat(r,'" for option set "').concat(t.display(),'")')}}},option_set:function e(){return t},is_option_set:true,equals:A,from_human:function e(t){return this.JS_to_bubble(t)},get_sample:function e(){var r,n;return(r=(n=t.values()[0])==null?void 0:n.name())!=null?r:null},get_bubble_null:function e(){return null},storable:true,bindable:false,export_to_string:function e(r,n){var o=t.value(r);if(o!=null&&o.deleted()&&n.option_show_if_deleted){return"(deleted option)"}return o==null?void 0:o.display()},get_JS_object:function e(r){var n,o,s;if(typeof r!=="string"||r===""){return null}return(n=(o=t.value(r))==null?void 0:(s=o.display)==null?void 0:s.call(o))!=null?n:null},JS_to_bubble:function e(r){if(typeof r!=="string"||r===""){return null}var o=n(t.values()),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(i.display()===r&&!i.deleted()){return i.id()}}}catch(e){o.e(e)}finally{o.f()}return null},cast:function e(r){if(r==null){return null}if(typeof r==="string"){var n;if((n=t.value(r))!=null&&n.exists()){return r}else{return g.get_safe_id(r,{reserved:t.reserved_values()})}}else{return null}}}}t.exports={get:S,list:function e(){return m.option_sets(undefined,true).map((function(e){return e.name()}))},display:function e(){return"option set"}};function A(e,t){return e===t}},{"../../../lang/btype_ids":536,"../../../option_sets":621,"../../../u":687,"../utilities/list_utilities":204,"./../../../db/postgres_constraints":452,"./../../../documentation_id_getter":479,"./../../../lang/appquery":535,"./../../../lang/btypes":537,"./../../../lib":614,"./../../../logger":617,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],199:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=e("../../../u");var s=e("../utilities/misc_utilities"),i=s.generate_JS_to_bubble_error;var a=e("../utilities/list_utilities");var l=e("../../../db/hydrate");var u=e("../../../db/values/StaticObject");var c=e("./../../../lang/btypes");var f=e("./../../../lib");var d=e("../../../u/shared/decaf");t.exports={list:function e(){},display:function e(){return"struct"},get:function e(t){var r=JSON.parse(o.base64decode(t)),s=r.caption,p=r.definition;var _="struct."+t;if(n(p)!=="object"){throw new o.UnexpectedError("Bad struct val: "+t)}var m={};for(var y in p){var v=p[y];m[v[0]]=y}return{get_message_names:function e(){return d.object_keys(p)},get_message_names_reorg:function e(){return d.object_keys(p)},get_message:function e(t){var r,n,o,s;return{description:(r="'s "+((n=p[t])==null?void 0:n[0]))!=null?r:"[Missing: "+t,ret_btype:(o=(s=p[t])==null?void 0:s[1])!=null?o:"null",is_lookup:true}},get_message_reorg:function e(t){var r,n,o,s;return{description:(r="'s "+((n=p[t])==null?void 0:n[0]))!=null?r:"[Missing: "+t,section:"Field Data",ret_btype:(o=(s=p[t])==null?void 0:s[1])!=null?o:"null",is_lookup:true}},display:function e(){return s},equals:function e(t,r){for(var n in p){var o=p[n];var s=t.child(n).get();var i=r.child(n).get();if(!c.get(o[1]).equals(s,i)){return false}}return true},is_not_contained_by_list:a.build_is_not_contained_by_list(_),get_sample:function e(){var t={};for(var r in p){var n=p[r];t[r]=c.get(n[1]).get_sample()}return new u(t,null,_)},get_bubble_null:function e(){return null},cast:function e(t){if(n(t)!=="object"||!t){return this.get_bubble_null()}else if(typeof t.raw==="function"){if(t.value_id===_){return t}else{return new u(t,t.db,_)}}else{try{return new u(JSON.parse(JSON.stringify(t)),null,_)}catch(e){return this.get_bubble_null()}}},storable:false,bindable:true,is_aggregate:s==="Grouping",get_JS_object:function e(t){if(typeof(t==null?void 0:t.raw)!=="function"){return null}var r=t.raw();if(n(r)!=="object"){return null}var o={};for(var s in p){var i=p[s];var a=l.rehydrate_tree(f().db_instance(),r[s]);o[i[0]]=c.get(i[1]).get_JS_object(a)}return o},JS_to_bubble:function e(t){if(t==null){return this.get_bubble_null()}if(n(t)!=="object"){i(this.display(),t)}var r={};for(var s in t){var a=t[s];if(!p[s]){throw new o.UnexpectedError("the key "+s+" is not part of the btype definition")}r[s]=c.get(p[s][1]).JS_to_bubble(a)}return new u(r,null,_)}}}}},{"../../../db/hydrate":422,"../../../db/values/StaticObject":466,"../../../u":687,"../../../u/shared/decaf":706,"../utilities/list_utilities":204,"../utilities/misc_utilities":205,"./../../../lang/btypes":537,"./../../../lib":614,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],200:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");var n=e("../utilities/misc_utilities"),o=n.add_basic_element_messages;var s=e("./../../core_elements/core_elements_utilities/element_registry");var i=e("./../../core_events/event_element_mapping");t.exports={get:function e(t){var r={};var n=s.get_element_object(t);if(n!=null){o(n.get_states(),r,i.has_event("ButtonClicked",t))}for(var a in r){var l=r[a];l.documentation_id="Documentation.Elements.GeneralConcepts.States."+a}return{display:function e(){return"style"},get_message_names:function e(){return Object.keys(r)},get_message:function e(t){return r[t]},cast:function e(t){return t},storable:false,bindable:false}},list:function e(){return[]},display:function e(){return"style"}}},{"../utilities/misc_utilities":205,"./../../core_elements/core_elements_utilities/element_registry":280,"./../../core_events/event_element_mapping":371,"core-js/modules/es.object.keys.js":957}],201:[function(e,t,r){"use strict";e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.slice.js");var n=e("../../../u");var o=e("./../../../db/postgres_constraints");var s=e("../../../u/shared/b_string");var i=e("../../../db/values/StaticObject");var a=e("../utilities/boolean_utilities"),l=a.render_bool,u=a.bool_equals,c=a.to_bool,f=a.format_boolean_message,d=a.format_boolean_number_message;var p=e("../utilities/generate_utilities"),_=p.build_simple;var m=e("../../../constants/composer"),y=m.COMPOSER_INPUT_TYPES;t.exports={get:function e(t){if(t==="error"){return _(t,{messages:{code:{description:"'s code",ret_btype:"text",fn:function e(t,r){return t==null?void 0:t.child("code").get()}},message:{description:"'s message",ret_btype:"text",fn:function e(t,r){return t==null?void 0:t.child("message").get()}}},messages_reorganized:{code:{description:"'s code",section:"Data Fields",ret_btype:"text",fn:function e(t,r){return t==null?void 0:t.child("code").get()}},message:{description:"'s message",section:"Data Fields",ret_btype:"text",fn:function e(t,r){return t==null?void 0:t.child("message").get()}}},display:function e(){return"Error"},runmode_display:function e(t){return t==null?void 0:t.child("message").get()},equals:function e(){return false},storable:false,bindable:false,get_sample:function e(){return new i({code:"SAMPLE",message:"THIS IS A SAMPLE"},null,"sys.error")},convert_to_bubble_instance:function e(t){return t},cast:function e(t){return t}})}else if(t==="json"){return _(t,{display:function e(){return"json"},runmode_display:function e(t){return JSON.stringify(t)},equals:function e(t,r){return JSON.stringify(t)===JSON.stringify(r)},storable:false,bindable:false,get_sample:function e(){return{}},cast:function e(t){return t},messages:{},messages_reorganized:{}})}else if(t==="bool"){return _(t,{messages:{and_:{description:" and ",ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return c(t)&&c(r)},can_shortcircuit_args:function e(t){var r;return((r=c(t))!=null?r:false)===false}},or_:{description:" or ",ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return c(t)||c(r)},can_shortcircuit_args:function e(t){return c(t)===true}},format_boolean:f,format_boolean_number:d},messages_reorganized:{and_:{description:" and ",section:"Operators",ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return c(t)&&c(r)},can_shortcircuit_args:function e(t){var r;return((r=c(t))!=null?r:false)===false}},or_:{description:" or ",section:"Operators",ret_btype:"sys.bool",arg_btype:"sys.bool",fn:function e(t,r){return c(t)||c(r)},can_shortcircuit_args:function e(t){return c(t)===true}},format_boolean:f,format_boolean_number:d},display:function e(){return"yes / no"},composer_input_type:y.BOOLEAN,runmode_display:l,export_to_string:function e(t,r){if(r.booleans_yes_no){return l(t)}else{return t!=null?t:false}},equals:u,storable:false,bindable:false,synonyms:["boolean"],get_sample:function e(){return true},convert_to_bubble_instance:c,cast:function e(t){return c(t)},get_JS_object:function e(t){var r;return(r=this.cast(t))!=null?r:false}})}else if(t==="uid"){return _(t,{display:function e(){return"unique identifier"},composer_input_type:y.TEXT,equals:function e(t,r){return t===r},storable:false,bindable:false,synonyms:["text"],get_sample:function e(){return"asdf234sdz"},cast:s.cast_to_string,runmode_display:s.cast_to_string,messages:{equals:{description:" is ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t===r},build_pg_constraint:o.equals,build_pg_r_constraint:o.equals,build_pg_relationship:o.equals_both},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t!==r},build_pg_constraint:o.not_equals,build_pg_r_constraint:o.not_equals,build_pg_relationship:o.not_equals_both},is_empty:{description:" is empty",ret_btype:"sys.bool",build_pg_constraint:o.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",build_pg_constraint:o.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},trimmed:{description:":trimmed",ret_btype:"text",arg_btype:null,fn:function e(t,r){var n;return t==null?void 0:(n=t.trim)==null?void 0:n.call(t)}},length:{description:":number of characters",ret_btype:"number",arg_btype:null,fn:function e(t,r){if(!t){return 0}return t.length}},truncated:{description:":truncated to ",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{return t.slice(0,n.to_num(r))}}},truncated_right:{description:":truncated from end to ",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{var o=t.length-n.to_num(r);if(o<0){o=0}return t.slice(o)}}}},messages_reorganized:{equals:{description:" is ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t===r},build_pg_constraint:o.equals,build_pg_r_constraint:o.equals,build_pg_relationship:o.equals_both},not_equals:{description:" is not ",section:"Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){return t!==r},build_pg_constraint:o.not_equals,build_pg_r_constraint:o.not_equals,build_pg_relationship:o.not_equals_both},is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:o.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:o.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},trimmed:{description:":trimmed",section:"Other Operators",ret_btype:"text",arg_btype:null,fn:function e(t,r){var n;return t==null?void 0:(n=t.trim)==null?void 0:n.call(t)}},length:{description:":number of characters",section:"Other Operators",ret_btype:"number",arg_btype:null,fn:function e(t,r){if(!t){return 0}return t.length}},truncated:{description:"truncated to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{return t.slice(0,n.to_num(r))}}},truncated_right:{description:"truncated from end to ",section:"Other Operators",ret_btype:"text",arg_btype:"number",fn:function e(t,r){if(typeof t!=="string"){return this.ret_btype_null()}if(!r){return t}else{var o=t.length-n.to_num(r);if(o<0){o=0}return t.slice(o)}}}}})}},list:function e(){return[]},display:function e(){return"sys"}}},{"../../../constants/composer":65,"../../../db/values/StaticObject":466,"../../../u":687,"../../../u/shared/b_string":703,"../utilities/boolean_utilities":202,"../utilities/generate_utilities":203,"./../../../db/postgres_constraints":452,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.string.trim.js":981}],202:[function(e,t,r){"use strict";var n=r;var o=e("../../../lib");n.format_boolean_message={section:"Other Operators",ret_btype:"text",arg_btype:null,fn:function e(t,r,n){if(t){var o;return(o=n.formatting_for_true)!=null?o:""}else{var s;return(s=n.formatting_for_false)!=null?s:""}},spot_data:"SlidableAtom",description:function e(t){return":formatted as text"},field_names:{formatting_for_true:{default:"yes"},formatting_for_false:{default:"no"}}};n.format_boolean_number_message={section:"Other Operators",ret_btype:"number",arg_btype:null,fn:function e(t,r,n){if(t){var o;return(o=n.formatting_for_true)!=null?o:0}else{var s;return(s=n.formatting_for_false)!=null?s:0}},spot_data:"SlidableAtom",description:function e(t){return":formatted as number"},field_names:{formatting_for_true:{default:1},formatting_for_false:{default:0}}};n.to_bool=function(e){if(typeof e==="boolean"){return e}else if(typeof e==="string"){e=e.toLowerCase();switch(e){case"yes":case"true":return true;case"no":case"false":return false;default:return null}}else{return null}};n.render_bool=function(e){e=n.to_bool(e);if(e==null){return""}else{if(e){return o().get_text("BUILT_IN","YES")}else{return o().get_text("BUILT_IN","NO")}}};n.bool_equals=function(e,t){return n.to_bool(e)===n.to_bool(t)}},{"../../../lib":614}],203:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){return i(e)||s(e)||c(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return f(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){return p(e)||d(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}var _=r;var m=e("../../../u");var y=e("../../../lang/appquery");var v=e("../../../documentation_id_getter");var b=e("../../../lang/btype_ids");var h=e("../../../constants/eval");var j=e("../../../logger");var g=e("../../../shared/slug");var w=e("../../url_data");var O=e("../../../lang/btypes");var S=e("../../../lib");var k=e("../../../db/sample");var A=e("../../../db/hydrate");var E=e("./list_utilities");_.add_basic_displays=function(e){if(!("export_to_string"in e)){e.export_to_string=e.runmode_display}if(!("debugging_display"in e)){e.debugging_display=e.runmode_display}return e};_.build_simple=function(e,t){var r,n;var o=t.messages,s=t.messages_reorganized;var i=e;if(i==="bool"){i="sys.bool"}if(!["null","geographic_address","key_combination"].includes(i)){o.is_not_contained_by_list=E.build_is_not_contained_by_list(i);s.is_not_contained_by_list=E.build_is_not_contained_by_list(i)}delete t.messages;t.get_message_names=function(){return Object.keys(o)};t.get_message=function(e){return o[e]};t.get_message_names_reorg=function(){return Object.keys(s)};t.get_message_reorg=function(e){return s[e]};t.name=e;(r=t.is_simple)!=null?r:t.is_simple=true;(n=t.get_bubble_null)!=null?n:t.get_bubble_null=function(){return null};_.add_basic_displays(t);return t};function x(e){if(typeof(e==null?void 0:e._id)==="function"){return e._id()}else if(typeof(e==null?void 0:e.get)==="function"){var t=e.get();if(typeof(t==null?void 0:t.replace)==="function"){return t.replace(h.HYDRATE_STRING,"")}}else{return undefined}}function M(e,t){return x(e)===x(t)}_.create_custom_btype=function(e,t,r,o,s){var i={};var u;if(r){var c=r(),f=l(c,2),d=f[0],p=f[1];u=p;m.extend(i,d)}if(!s){m.extend(i,{"Created By":{description:"'s Creator",ret_btype:"user",section:"Data Fields",is_lookup:true},Slug:{description:"'s Slug",ret_btype:"text",section:"Other Operators",is_lookup:true},equals:{description:" is ",ret_btype:"sys.bool",section:"Operators",arg_btype:e,fn:function e(t,r){return M(t,r)},build_pg_constraint:P.equals,build_pg_r_constraint:P.equals,build_pg_relationship:P.equals_both},not_equals:{description:" is not ",ret_btype:"sys.bool",section:"Operators",arg_btype:e,fn:function e(t,r){return!M(t,r)},build_pg_constraint:P.not_equals,build_pg_r_constraint:P.not_equals,build_pg_relationship:P.not_equals_both},is_empty:{description:" is empty",ret_btype:"sys.bool",section:"Other Operators",fn:function e(t,r){var n;return!(t!=null&&(n=t.exists)!=null&&n.call(t))},build_pg_constraint:P.is_empty},is_not_empty:{description:" is not empty",section:"Other Operators",ret_btype:"sys.bool",fn:function e(t,r){var n,o;return(n=t==null?void 0:(o=t.exists)==null?void 0:o.call(t))!=null?n:false},build_pg_constraint:P.is_not_empty},slug_can_be:{description:" can have the slug value ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){var n;if(t!=null&&(n=t.exists)!=null&&n.call(t)){return g.is_slug_valid(S().appname(),S().app_version(),t._type(),r,t)}}},slug_cannot_be:{description:" cannot have the slug value ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:"text",fn:function e(t,r){var n;if(t!=null&&(n=t.exists)!=null&&n.call(t)){return!g.is_slug_valid(S().appname(),S().app_version(),t._type(),r,t)}}},"Created Date":{description:"'s Creation Date",section:"Data Fields",ret_btype:"date",is_lookup:true,privacy_condition_okay:false},"Modified Date":{description:"'s Modified Date",section:"Data Fields",ret_btype:"date",is_lookup:true,privacy_condition_okay:false},_id:{description:"'s unique id",section:"Data Fields",public_for_plugins:true,ret_btype:"text",fn:function e(t,r){var n;if(t!=null&&(n=t.exists)!=null&&n.call(t)){var o;return t==null?void 0:(o=t._id)==null?void 0:o.call(t)}else{return""}}},id_link:{ret_btype:"text",section:"Data Fields",field_names:{element_id:{}},spot_data:"SlidableAtom",description:"'s link",fn:function e(t,r,n){var o;var s=t==null?void 0:(o=t._id)==null?void 0:o.call(t);if(!s){return this.ret_btype_null()}var i=y.element(n.element_id);if(!i||i.name==null){return this.ret_btype_null()}var a=i.get_static_property("readable_field");var l=w.get_data_to_send(t,a);return S().location.get_page_url(i.name()+"/"+l)}},convert_to_list:{description:":converted to list",section:"Other Operators",ret_btype:b.list_type(e),fn:function t(r,n,o){r=O.get(e).cast(r);if(r==null){return S().db_instance().static_list(e,[])}else{return S().db_instance().static_list(e,[r])}}}})}if(o){var _=a(o()),v;try{for(_.s();!(v=_.n()).done;){var E=v.value;delete i[E]}}catch(e){_.e(e)}finally{_.f()}}var x=e==="user"?"user":"custom";function I(){if(!t.exists()&&b.is_custom_type(e)){return"[missing type: ".concat(e.slice(7),"]")}if(t.display()==null){return"[Type with missing display: ".concat(e.slice(7),"]")}return t.display()}var C=null;if(!t.exists()&&b.is_custom_type(e)){C=function e(t){return"(Value is of an unknown type ".concat(I()," and cannot be displayed)")}}function R(e){var r,n,o,s,a,l;var u=i[e];if(u){return u}var c=t.field(e);if(!c){return{description:"[missing: "+e+"]",ret_btype:"null",fn:function e(){}}}var f="";var d=(r=c.value())==null?void 0:r.replace(/^list\./,"");if(d&&(n=O.get(d))!=null&&(o=n.custom_type)!=null&&(s=o.call(n))!=null&&s.deleted()){f=" (deleted)"}var p=(a=c.value())!=null?a:"null";return{description:(l="'s "+c.display()+f)!=null?l:e,section:"Data Fields",ret_btype:p,is_lookup:true,delete_cb:function e(){if(window.confirm("Delete field "+c.display()+"?")){c.set_deleted(true)}}}}return{get_message_names:function e(){var r=t.fields().filter((function(e){return!e.deleted()})).map((function(e){return e.name()}));if(t.no_special_messages){return r}var n=Object.keys(i).filter((function(e){return!i[e].hidden}));return r.concat(n)},get_message_names_reorg:function e(){var r,o,s,a;var l=t.fields().filter((function(e){return!e.deleted()})).map((function(e){return e.name()}));if(t.no_special_messages){return l}return["equals","not_equals"].concat(n(l),n((r=(o=u)==null?void 0:o.filter((function(e){return e.high_priority})).map((function(e){return e.value})))!=null?r:[]),["Created By","Slug","Created Date","Modified Date","_id","id_link"],n((s=(a=u)==null?void 0:a.filter((function(e){return!e.high_priority})).map((function(e){return e.value})))!=null?s:[]),["is_empty","is_not_empty","slug_can_be","slug_cannot_be","convert_to_list"]).filter((function(e){return l.includes(e)||Object.keys(i).includes(e)}))},get_message:R,get_message_reorg:R,display:I,custom_type:function e(){return t},equals:M,from_human:function e(t){return this.JS_to_bubble(t)},get_sample:function t(){return new k.SampleObject(e)},get_bubble_null:function e(){return null},storable:true,bindable:true,debugging_display:C,export_to_string:function t(r,n){var o,s;if(!n.custom_use_primary_field){if(e==="user"||r!=null&&r.exists()){return r==null?void 0:r._id()}else{return""}}(o=n.visited_field_types)!=null?o:n.visited_field_types=new Map;if(e==="user"){var i,a;var l=S().db_instance(y.appname(),y.app_version());if(r.id===l.get_admin_user_id()||(i=(a=S()).app_owners)!=null&&i.call(a)[r.id]){return"(App admin)"}}if(!(r!=null&&(s=r.exists)!=null&&s.call(r))){return"(deleted thing)"}var u=n.get_primary_field(e);var c=new O.Message(u,R(u),e);var f=c.ret_btype();if(n.visited_field_types.get(e)){var d=n.visited_field_types.keys().next().value;return"(Circular reference between primary fields for ".concat(O.get(d).display()," and ").concat(O.get(e).display(),". Change primary fields)")}else{n.visited_field_types.set(e,true);return f.export_to_string(c.evaluate(r),n)}},get_JS_object:function t(r){if(r==null){return null}if(typeof r==="string"){if(m.starts_with(r,h.HYDRATE_STRING)){r=r.replace(h.HYDRATE_STRING,"")}return r}var n={};var o=a(this.get_message_names()),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(T.can_use_message(e,i)){var l=new O.Message(i,this.get_message(i),e);var u=l.evaluate_without_cast(r);if(u){var c=l.ret_btype();if(c.is_missing()){n[i]=null}else if(c.custom_type()){n[i]=u._id()}else if(c.is_list()&&c.inner().custom_type()){n[i]=u.all().map((function(e){return e._id()}))}else{n[i]=O.get(c).get_JS_object(u)}}}}}catch(e){o.e(e)}finally{o.f()}n._type=e;return n},JS_to_bubble:function e(t){if(typeof t==="string"&&t!==""){return S().db_instance().get(t)}return null},cast:function e(t){if(typeof(t==null?void 0:t.child)==="function"){return t}else if(typeof t==="string"&&m.starts_with(t,h.HYDRATE_STRING)){j.error("Got dehydrated object in cast; should probably be hydrated here",{val:t});return this.cast(A.rehydrate_tree(S().db_instance(),t))}else{return null}}}};var P=e("../../../db/postgres_constraints");var T=e("../../../pluginservice");var I=e("../../../lang/application")},{"../../../constants/eval":75,"../../../db/hydrate":422,"../../../db/postgres_constraints":452,"../../../db/sample":454,"../../../documentation_id_getter":479,"../../../lang/application":534,"../../../lang/appquery":535,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lib":614,"../../../logger":617,"../../../pluginservice":624,"../../../shared/slug":673,"../../../u":687,"../../url_data":408,"./list_utilities":204,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],204:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");var n=r;var o=e("../../../db/values/db_values");var s=e("../../../lang/btypes");var i=e("../../../lang/btype_ids");var a=e("../../../u/shared/async/b_fiber");var l=e("../../../lib");n.build_is_not_contained_by_list=function(e){return{description:" is not in ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:i.list_type(e),fn:function t(r,o){var i=s.get(e);r=i.cast(r);return!n.process_list_arg(e,o).contains(r,i)}}};n.process_list_arg=function(e,t){var r;return(r=n.cast_to_list(e,t))!=null?r:n.array_to_static_list(e,[])};n.cast_to_list=function(e,t){if(o.registry.is(t,o.LIST_WRAPPER)){if(s.get(t.get_item_btype_id()).matches(e)){return t}else{return n.list_get_bubble_null()}}else if(Array.isArray(t)){return n.array_to_static_list(e,t)}else{return n.list_get_bubble_null()}};n.array_to_static_list=function(e,t){var r=s.get(e);var n=t.map((function(e,t){if(t%10===9)a.optional_pause();return r.cast(e)})).filter((function(e){return e!=null}));return l().db_instance().static_list(e,n)};n.list_get_bubble_null=function(){return null}},{"../../../db/values/db_values":469,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lib":614,"../../../u/shared/async/b_fiber":696,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.map.js":936}],205:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=r;var l=e("../../../u");var u=e("../../../client_config");var c=e("../../../u/shared/mode_check");var f=e("../../../u/shared/b_string");var d=e("../../../u/shared/b_file_shared");var p=e("../../../db/postgres_constraints");var _=e("../../core_elements/core_elements_utilities/element_workflows");var m=e("../../../lang/btypes");var y=e("../../../lib");var v=e("../../../lang/evaluation/FrozenState");var b=e("../../../lang/evaluation/page_state");var h=e("../../../lang/evaluation/element_eval");var j;if(c.on_server()){var g=e;j=g("./../../../server/fileupload")}a.generate_JS_to_bubble_error=function(e,t){throw new l.UnexpectedError("Expected a ".concat(e,", but got a ")+i(t)+" (original data: "+l.json_stringify(t,true)+")")};a.get_json_encode_msg=function(e){return{description:":formatted as JSON-safe",section:"Other Operators",ret_btype:"text",fn:function t(r){var n;var o=m.get(e).cast(r);(n=o)!=null?n:o=null;var s=l.json_stringify(o);return s}}};a.get_file_messages=function(e){return{is_empty:{description:" is empty",ret_btype:"sys.bool",build_pg_constraint:p.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",build_pg_constraint:p.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},file_name:{description:"'s file name",ret_btype:"text",arg_btype:null,fn:function e(t,r){if(!(t!=null&&t.split)){return this.ret_btype_null()}var n=t.split("/");return decodeURIComponent(n[n.length-1])}},url:{description:"'s URL",ret_btype:"text",arg_btype:null,fn:function e(t,r){return f.cast_to_string(t)}},saved_s3:{description:":saved to S3",ret_btype:e,arg_btype:null,spot_data:"SlidableAtom",field_names:{file_name_override:{optional:true}},filter_context:function e(t){return t.is_workflow},filter_context_new:function e(t){return t.owner_type==="Workflow"||t.owner_type==="BackendWorkflow"},fn:function e(t,r,n){if(t==null||!t.split){return this.ret_btype_null()}t=t.replace("/../","/");if(t.includes(u.user_file_url)||t.includes(d.get_file_cdn_url(y().appname()))){return t}if(!l.is_url(t)){return this.ret_btype_null()}if(t.indexOf("blob:")===0){return this.ret_btype_null()}if(!c.on_server()||c.running_test()){return t}var o=y().KeyValueDB().get("small",t);if(o!=null){return o}var s;if(n.file_name_override){s=n.file_name_override.split("/").pop()}else{s=t.split("/").pop()}var i={file_url:t,filename:s,appname:y().appname(),app_version:y().app_version()};var a=j.upload_by_url(i);y().KeyValueDB().put("small",t,a,5*60);return a}},to_base64:{description:":encoded in base64",ret_btype:"text",arg_btype:null,filter_context:function e(t){return t.is_workflow},filter_context_new:function e(t){return t.owner_type==="Workflow"||t.owner_type==="BackendWorkflow"},fn:function e(t,r){if(t==null||!t.split){return this.ret_btype_null()}if(!c.on_server()){return this.ret_btype_null()}if(t.slice(0,2)==="//"){t="http:"+t}if(t.indexOf("http")!==0){return this.ret_btype_null()}var n=y().http_request({url:t,encoding:null}).block().body;return l.base64(n)}},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:"date",no_composer:function e(){return true},fn:function e(t,r){return!(t===r)}}}};a.get_file_messages_reorg=function(e){return{is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:p.is_empty,fn:function e(t,r){return t===undefined||t===null||t===""}},is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",build_pg_constraint:p.is_not_empty,fn:function e(t,r){return t!==undefined&&t!==null&&t!==""}},file_name:{description:"'s file name",section:"Operators",ret_btype:"text",arg_btype:null,fn:function e(t,r){if(!(t!=null&&t.split)){return this.ret_btype_null()}var n=t.split("/");return decodeURIComponent(n[n.length-1])}},url:{description:"'s URL",section:"Operators",ret_btype:"text",arg_btype:null,fn:function e(t,r){return f.cast_to_string(t)}},saved_s3:{description:":saved to S3",section:"Other Operators",ret_btype:e,arg_btype:null,spot_data:"SlidableAtom",field_names:{file_name_override:{optional:true}},filter_context:function e(t){return t.is_workflow},filter_context_new:function e(t){return t.owner_type==="Workflow"||t.owner_type==="BackendWorkflow"},fn:function e(t,r,n){if(t==null||!t.split){return this.ret_btype_null()}t=t.replace("/../","/");if(t.indexOf(u.user_file_url)!==-1){return t}if(!l.is_url(t)){return this.ret_btype_null()}if(t.indexOf("blob:")===0){return this.ret_btype_null()}if(!c.on_server()||c.running_test()){return t}var o=y().KeyValueDB().get("small",t);if(o!=null){return o}var s;if(n.file_name_override){s=n.file_name_override.split("/").pop()}else{s=t.split("/").pop()}var i={file_url:t,filename:s,appname:y().appname(),app_version:y().app_version()};var a=j.upload_by_url(i);y().KeyValueDB().put("small",t,a,5*60);return a}},to_base64:{description:":encoded in base64",section:"Other Operators",ret_btype:"text",arg_btype:null,filter_context:function e(t){return t.is_workflow},filter_context_new:function e(t){return t.owner_type==="Workflow"||t.owner_type==="BackendWorkflow"},fn:function e(t,r){if(t==null||!t.split){return this.ret_btype_null()}if(!c.on_server()){return this.ret_btype_null()}if(t.slice(0,2)==="//"){t="http:"+t}if(t.indexOf("http")!==0){return this.ret_btype_null()}var n=y().http_request({url:t,encoding:null}).block().body;return l.base64(n)}},not_equals:{description:" is not ",section:"Other Operators",ret_btype:"sys.bool",arg_btype:"date",no_composer:function e(){return true},fn:function e(t,r){return!(t===r)}}}};var w={};var O={};a.add_basic_element_messages=function(e,t,r){if(r){var o=function e(t){if(!w[t.element_id()]){w[t.element_id()]=t.element.get_related_workflows("ButtonClicked")}return w[t.element_id()]};l.extend(t,{isnt_clickable:{description:" isn't clickable",section:"States",ret_btype:"boolean",fn:function e(t,r){if(!t){return this.ret_btype_null()}if(c.on_server()){return t.state("client_eval_isnt_clickable")}function s(){if(h.evaluate_property(t,"button_disabled")){return true}else{var e=false;var r=t.toUniqueString();if(O[r]){delete O[r];e=true}O[r]=true;var s={element:t,datasources:b.get_basic_datasources(t.element.root())};var i=o(t);var a=_.find_inputs_to_check(t,i,s,e);var l=n(a.input_instances),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(c.element.get_states().includes("is_invalid")&&c.state("is_invalid")){return true}}}catch(e){l.e(e)}finally{l.f()}return false}}var i=s();if(!t.is_fake_instance){var a,l;(a=v.dehydrate_context)==null?void 0:(l=a.save_to_state)==null?void 0:l.call(a,t,"client_eval_isnt_clickable",i)}return i},filter_context:function e(t){return t.is_state||t.is_event_condition},filter_context_new:function e(t){return t.owner_type==="State"||(t.owner_type==="Workflow"||t.owner_type==="BackendWorkflow")&&t.in_event_condition}}})}if(e.includes("is_link_disabled")){l.extend(t,{is_clickable:{description:" is clickable",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return!(t!=null&&t.state("link_disabled"))}},isnt_clickable:{description:" isn't clickable",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return t==null?void 0:t.state("link_disabled")}}})}if(e.includes("display_invalid")){l.extend(t,{is_valid:{description:" is valid",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return!(t!=null&&t.state("display_invalid"))}},isnt_valid:{description:" isn't valid",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return t==null?void 0:t.state("display_invalid")}}})}l.extend(t,{get_width:{description:"'s width",section:"States",ret_btype:"number",fn:function e(t,r){return t==null?void 0:t.state("current_width")}},get_height:{description:"'s height",section:"States",ret_btype:"number",fn:function e(t,r){return t==null?void 0:t.state("current_height")}}});if(e.includes("is_hovered")){l.extend(t,{is_hovered:{description:" is hovered",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return t==null?void 0:t.state("is_hovered")},filter_context:function e(t){var r,n;if(t.is_state){return t.is_state}var o=["ConditionTrue","DoInterval","interactions-PageScrolled"];var s=(r=(n=t.node.owner).type)==null?void 0:r.call(n);var i=o.includes(s);return t.is_event_condition&&i},filter_context_new:function e(t){if(t.owner_type==="State"){return true}var r=["ConditionTrue","DoInterval","interactions-PageScrolled"];return t.owner_type==="Workflow"&&t.in_event_condition&&r.includes(t.owner_node.type())}},isnt_hovered:{description:" isn't hovered",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return!(t!=null&&t.state("is_hovered"))},filter_context:function e(t){var r,n;if(t.is_state){return t.is_state}var o=["ConditionTrue","DoInterval","interactions-PageScrolled"];var s=(r=(n=t.node.owner).type)==null?void 0:r.call(n);var i=o.includes(s);return t.is_event_condition&&i},filter_context_new:function e(t){if(t.owner_type==="State"){return true}var r=["ConditionTrue","DoInterval","interactions-PageScrolled"];return t.owner_type==="Workflow"&&t.in_event_condition&&r.includes(t.owner_node.type())}},is_pressed:{description:" is pressed",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return t==null?void 0:t.state("is_pressed")},filter_context:function e(t){return t.is_state},filter_context_new:function e(t){return t.owner_type==="State"}},isnt_pressed:{description:" isn't pressed",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return!(t!=null&&t.state("is_pressed"))},filter_context:function e(t){return t.is_state},filter_context_new:function e(t){return t.owner_type==="State"}}})}if(e.includes("is_focused")){return l.extend(t,{is_focused:{description:" is focused",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return t==null?void 0:t.state("is_focused")},filter_context:function e(t){return t.is_state},filter_context_new:function e(t){return t.owner_type==="State"}},isnt_focused:{description:" isn't focused",section:"States",ret_btype:"sys.bool",fn:function e(t,r){return!(t!=null&&t.state("is_focused"))},filter_context:function e(t){return t.is_state},filter_context_new:function e(t){return t.owner_type==="State"}}})}}},{"../../../client_config":55,"../../../db/postgres_constraints":452,"../../../lang/btypes":537,"../../../lang/evaluation/FrozenState":564,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/page_state":575,"../../../lib":614,"../../../u":687,"../../../u/shared/b_file_shared":700,"../../../u/shared/b_string":703,"../../../u/shared/mode_check":713,"../../core_elements/core_elements_utilities/element_workflows":284,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],206:[function(e,t,r){"use strict";var n=r;var o=e("../../../constants/currency");var s=e("../../../lib");var i=e("../../../safe_require");i.safe_register("./core/core_btypes/utilities/numeric_format_utilities",n);n.thousand_separators={comma:",",space:"Space",dot:"."};n.decimal_separators={point:".",comma:","};n.format_number_names={formatting_type:{default:"number",no_states:true},decimal_place:{},decimal_separator:{default:"point"},thousand_separator:{},currency_symbol:{},negative_parenthese:{}}},{"../../../constants/currency":67,"../../../lib":614,"../../../safe_require":643}],207:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.ends-with.js");var n=r;var o=e("../../../db/constraint_defs");var s=e("../../../lang/btypes");n.get_array_from_range=function(e){if(e==null){return null}if(e.all){return e.all()}if(e.length===0){return[]}return[e[0],e[1]]};n.create_range_btype_messages=function(e,t,r){var i=e+"_range";var a={min:{description:e==="date"?":start":":min",ret_btype:e,fn:function e(o,s){if(!o){return}o=n.get_array_from_range(o);return r(Math.min(t(o[0]),t(o[1])))}},max:{description:e==="date"?":end":":max",ret_btype:e,fn:function e(o,s){if(!o){return}o=n.get_array_from_range(o);return r(Math.max(t(o[0]),t(o[1])))}},average:{description:e==="date"?":center":":average",ret_btype:e,fn:function e(o,s){if(!o){return}o=n.get_array_from_range(o);return r((t(o[0])+t(o[1]))/2)}},is_empty:{description:" is empty",ret_btype:"sys.bool",fn:function e(t,r){t=n.get_array_from_range(t);return t===undefined||t===null||t.length===0}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",fn:function e(t,r){t=n.get_array_from_range(t);return t!==undefined&&t!==null&&t.length!==0}},equals:{description:" is ",ret_btype:"sys.bool",arg_btype:e,no_composer:function e(){return true},fn:function e(t,r){return s.get(i).equals(t,r)}},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:e,no_composer:function e(){return true},fn:function e(t,r){return!s.get(i).equals(t,r)}}};var l,u;if(e==="date"){u="before";l="after"}else{u="smaller";l="greater"}var c={range_contains:{description:" contains range "},range_contains_point:{description:" contains point "},range_contained_by:{description:" is contained by "},range_overlaps:{description:" overlaps with "},range_greater_than:{description:" is "+l},range_greater_than_point:{description:" is "+l+" (point) "},range_less_than:{description:" is "+u},range_less_than_point:{description:" is "+u+" (point) "}};var f=function r(s){var i=c[s];var l=s.indexOf("_point")!==-1;a[s]={description:i.description,ret_btype:"sys.bool",arg_btype:l?e:e+"_range",fn:function e(r,i){if(!r){return false}r=n.get_array_from_range(r);function a(e){var r=t(e==null?void 0:e[0]);var n=t(e==null?void 0:e[1]);return[Math.min(r,n),Math.max(r,n)]}var u=a(r);var c;if(l){c=t(i)}else{i=n.get_array_from_range(i);c=a(i)}return o.all_search_constraints[s](c,u)}}};for(var d in c){f(d)}return a};n.create_range_btype_messages_reorg=function(e,t,r){var i=e+"_range";var a={equals:{description:" is ",ret_btype:"sys.bool",arg_btype:e,no_composer:function e(){return true},fn:function e(t,r){return s.get(i).equals(t,r)}},not_equals:{description:" is not ",ret_btype:"sys.bool",arg_btype:e,no_composer:function e(){return true},fn:function e(t,r){return!s.get(i).equals(t,r)}},min:{description:e==="date"?":start":":min",ret_btype:e,fn:function e(o,s){if(!o){return}o=n.get_array_from_range(o);return r(Math.min(t(o[0]),t(o[1])))}},max:{description:e==="date"?":end":":max",ret_btype:e,fn:function e(o,s){if(!o){return}o=n.get_array_from_range(o);return r(Math.max(t(o[0]),t(o[1])))}},average:{description:e==="date"?":center":":average",ret_btype:e,fn:function e(o,s){if(!o){return}o=n.get_array_from_range(o);return r((t(o[0])+t(o[1]))/2)}},is_empty:{description:" is empty",ret_btype:"sys.bool",fn:function e(t,r){t=n.get_array_from_range(t);return t===undefined||t===null||t.length===0}},is_not_empty:{description:" is not empty",ret_btype:"sys.bool",fn:function e(t,r){t=n.get_array_from_range(t);return t!==undefined&&t!==null&&t.length!==0}}};var l,u;if(e==="date"){u="before";l="after"}else{u="smaller than";l="greater than"}var c={range_contains:{description:" contains range "},range_contains_point:{description:" contains ".concat(e," ")},range_contained_by:{description:" is contained by "},range_overlaps:{description:" overlaps with "},range_greater_than:{description:" is ".concat(l," range ")},range_greater_than_point:{description:" is ".concat(l," ").concat(e," ")},range_less_than:{description:" is ".concat(u," range ")},range_less_than_point:{description:" is ".concat(u," ").concat(e," ")}};var f=function r(s){var i=c[s];var l=s.endsWith("_point");a[s]={description:i.description,ret_btype:"sys.bool",arg_btype:l?e:e+"_range",fn:function e(r,i){if(!r){return false}r=n.get_array_from_range(r);function a(e){var r=t(e==null?void 0:e[0]);var n=t(e==null?void 0:e[1]);return[Math.min(r,n),Math.max(r,n)]}var u=a(r);var c;if(l){c=t(i)}else{i=n.get_array_from_range(i);c=a(i)}return o.all_search_constraints[s](c,u)}}};for(var d in c){f(d)}return a}},{"../../../db/constraint_defs":419,"../../../lang/btypes":537,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.string.ends-with.js":970,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.js":985}],208:[function(e,t,r){"use strict";var n=e("../../../db/hydrate");var o=e("../../../lib");t.exports={field_names:{val:{},value_id:{}},get_value:function e(t){return t("value_id")},get_runmode_value:function e(t,r,n){var o=n.value_id;return o},evaluate:function e(t,r,s){return s.cast(n.rehydrate_tree(o().db_instance(),t.val))},get_unique_string:function e(){return null}}},{"../../../db/hydrate":422,"../../../lib":614}],209:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");var n=e("../utilities/core_ds_db_ops_utilities");var o=e("../utilities/core_ds_api_utilities");var s=e("../../../services/client/editor_utils");var i=e("../../../lang/lang");var a=e("../../../lib");var l=e("../../../lang/evaluation/state_keys");t.exports={field_names:i.DETECT_FIELD_NAMES,evaluate:function e(t,r,s,i){var a=o.get_call(t.provider);if(!a||r.responsive_mode){return s.get_bubble_null()}if(a.is_authenticated()){var l=a.execute(null,t,null,i,r);return n.convert_api_call_to_db_object(l,a)}},get_value:function e(t){return o.get_api_value_from_provider(t("provider"))},get_runmode_value:function e(t,r,n){return o.get_api_value_from_provider(n.provider)},get_unique_string:function e(t,r){return l.GetDataFromAPI(t)}}},{"../../../lang/evaluation/state_keys":576,"../../../lang/lang":590,"../../../lib":614,"../../../services/client/editor_utils":644,"../utilities/core_ds_api_utilities":231,"../utilities/core_ds_db_ops_utilities":232,"core-js/modules/es.array.concat.js":926}],210:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");var n=e("../../../logger");function o(e){var t=["filtered","format_as_text"];var r=e;while((n=r)!=null&&n.exists()&&r.path().indexOf(".")!==-1){var n;if(r.json.name()==="properties"){var o;var s=r.parent_expression();if(t.includes(s==null?void 0:(o=s.name)==null?void 0:o.call(s))){var i=s.parent_expression().get_value().inner();return i}}r=r.parent_expression()}return null}t.exports={field_names:{},get_value:function e(t,r){var n,s,i,a,l,u;var c=(n=o(r))==null?void 0:n.id();if(c){return c}if(typeof(r==null?void 0:(s=r.owner)==null?void 0:s.get_injected_value)==="function"){var f=r.owner.get_injected_value(r);if(f){return f}}return(i=r==null?void 0:(a=r.owner)==null?void 0:(l=a.E)==null?void 0:(u=l.get_injected_value)==null?void 0:u.call(l,r.owner))!=null?i:"null"},context_key:"injected_value",evaluate:function e(t,r,o){if(typeof r.datasources.injected_value!=="function"){n.info("non-null injected_value passed through",{injected_value_string:String(r.datasources.injected_value)});return o.cast(null)}return o.cast(r.datasources.injected_value(t,r))},get_runmode_value:function e(t,r,n){var o,s,i;return(o=(s=(i=r.datasources).injected_value_btype)==null?void 0:s.call(i,n,r))!=null?o:"null"},get_unique_string:function e(t,r){return null}}},{"../../../logger":617,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.function.name.js":942}],211:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw l}}}}function s(e){return u(e)||l(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){t=_(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y=e("../utilities/core_ds_field_names");var v=e("../utilities/core_ds_editor_utilities");var b=e("../utilities/core_ds_db_ops_utilities");var h=e("../../../lang/btypes");var j=e("../../../lib");var g=e("../../../constants/special_keys");var w=e("../../../lang/evaluation/state_keys");var O=e("../../../lang/btype_ids");var S=e("../../../lang/appquery");var k=e("../../../u/shared/mode_check");var A;function E(e){if(!e){return"null"}return O.list_type(e)}t.exports={field_names:d(d({type_to_find:{},ignore_empty_constraints:{}},y.constraints_field_names),y.sorting_field_names),get_value:function e(t){return E(t("type_to_find"))},get_runmode_value:function e(t,r,n){return E(n.type_to_find)},get_unique_string:function e(t,r){var n=t.type_to_find,o=t.constraints;return w.Search(n,o,b.get_sorts_list(t,true))},evaluate:function e(t,r,n){var s=t.type_to_find,i=t.constraints,a=t.ignore_empty_constraints;if(j().is_edit_mode()){return n.get_bubble_null()}var l=!a;var u=j().bv().resolve_constraints(i,l);var c=h.get(s).custom_type();if(!(c!=null&&c.exists())){return n.get_bubble_null()}u=u.filter((function(e){return b.is_field_okay(e.key,s)}));var f=b.get_sorts_list(t,true);var d=null;var p=o(u),_;try{for(p.s();!(_=p.n()).done;){var m=_.value;if(m.key===g.UNIQUE_ID&&m.constraint_type==="equals"){if(d==null){d=m.value}else if(d!==m.value){return n.get_bubble_null()}}if(m.constraint_type==="return_empty_set"){return j().db_instance().static_list(s,[])}}}catch(e){p.e(e)}finally{p.f()}if(d==null||typeof d!=="string"||d===""){return j().db_instance().find(s,u,f)}else{var y;var v=j().db_instance().get(d);if(!v.exists()||((y=v._type)==null?void 0:y.call(v))!==s){return n.get_bubble_null()}var w=j().db_instance().static_list(s,[v]);return w.filter(u)}}}},{"../../../constants/special_keys":95,"../../../lang/appquery":535,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lang/evaluation/state_keys":576,"../../../lib":614,"../../../u/shared/mode_check":713,"../utilities/core_ds_db_ops_utilities":232,"../utilities/core_ds_editor_utilities":233,"../utilities/core_ds_field_names":235,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],212:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=e("../utilities/core_ds_element_utilities");var o=e("../../../lang/evaluation/state_keys");t.exports={field_names:{},get_value:function e(){return"number"},get_runmode_value:function e(){return"number"},evaluate:function e(t,r,o){var s=n.get_runtime_parent(r);if(!s){return o.get_bubble_null()}else{var i,a;while(s!=null&&s.element.type()!=="GroupItem"){var l,u;s=(l=(u=s).parent)==null?void 0:l.call(u)}return(i=(a=s)==null?void 0:a.state("cell_index"))!=null?i:o.get_bubble_null()}},get_unique_string:function e(){return o.CurrentCellsIndex()},check_for_errors:function e(t,r){var n=r.context_element();if(n.parents==null||n.parents("RepeatingGroup").length===0){return"You are trying to get the cell index, but this is not in the context of a repeating group"}}}},{"../../../lang/evaluation/state_keys":576,"../utilities/core_ds_element_utilities":234,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],213:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=e("../utilities/core_ds_element_utilities");var o=e("../../../lang/evaluation/state_keys");var s=e("../../../lang/appquery");t.exports={field_names:{},get_runmode_value:function e(t,r){return n.context_parent_value(r.element.element)},evaluate:function e(t,r,o){var s=n.get_runtime_parent(r);if(!s){return o.get_bubble_null()}return o.cast(s.state("group_data"))},get_value:function e(t,r){return n.element_parent_value(t,r)},get_unique_string:function e(t,r){return o.ElementParent()}}},{"../../../lang/appquery":535,"../../../lang/evaluation/state_keys":576,"../utilities/core_ds_element_utilities":234,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],214:[function(e,t,r){"use strict";var n=e("../../../lang/appquery");var o=e("../utilities/core_ds_element_utilities");function s(e,t){var r,s,i,a;var l=n.element(e("element_id"));if((r=t.context_element())!=null&&(s=r.root)!=null&&(i=s.call(r))!=null&&i.id()&&(l==null?void 0:(a=l.root())==null?void 0:a.id())!==t.context_element().root().id()){return null}if(!o.is_element_visible(l,t.context_element())){return null}return l}t.exports={field_names:{element_id:{}},get_value:function e(t,r){var n;var o=(n=s(t,r))==null?void 0:n.id();if(o){return"element."+o}else{return"null"}},get_runmode_value:function e(t,r,n){var o,s;var i=(o=(s=r.element).find_instance_by_id)==null?void 0:o.call(s,n.element_id);if(i==null){return"null"}var a=i.element.get_value_id();return a},evaluate:function e(t,r,n){var o,s,i;return(o=(s=(i=r.element).find_instance_by_id)==null?void 0:s.call(i,t.element_id))!=null?o:n.get_bubble_null()},get_unique_string:function e(t,r){return null}}},{"../../../lang/appquery":535,"../utilities/core_ds_element_utilities":234}],215:[function(e,t,r){"use strict";var n=e("../../../lang/elements");var o=e("../../../lang/btypes");var s=e("../../../lang/evaluation/state_keys");var i=e("../../../lib");t.exports={field_names:{},light_evaluation:false,allowed_when_restricted:false,allowed_on_element:true,allowed_on_workflow:true,allowed_on_backend:false,allowed_in_style_conditionals:function e(){return true},additional_context_filter:function e(t,r){var n;if(((n=t.properties)==null?void 0:n.element_id)==null){return r.owner_type==="State"}else{var o;return r.owner_type==="Workflow"&&((o=r.owner_node.context_element())==null?void 0:o.id())===t.properties.element_id}},get_unique_string:function e(){return s.ThisElement()},get_value:function e(t,r){var n,s,i;return o.get((n=(s=(i=r.context_element()).get_value_id)==null?void 0:s.call(i))!=null?n:"null")},evaluate:function e(t,r,n){var o,s;if((o=(s=i()).is_api)!=null&&o.call(s)){return n.get_bubble_null()}return r.element},get_runmode_value:function e(t,r){var n,o,s;return(n=(o=(s=r.element.element).get_value_id)==null?void 0:o.call(s))!=null?n:"null"}}},{"../../../lang/btypes":537,"../../../lang/elements":557,"../../../lang/evaluation/state_keys":576,"../../../lib":614}],216:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../../lang/shrink"),f=c.S;var d=e("../../core_actions/utilities/generic_actions_utilities");var p=e("../../core_formulas");var _=e("../../../lib");var m=e("../../../lang/lang");var y=e("../../../u/shared/decaf");function v(e,t,r){var n=e(t);if(n[f.type]==="GetElement"){var o=n[f.properties][f.element_id];if(o){d._apply_content_format_to_input(o,r)}}}t.exports={get_value:function e(t){var r,n;var o=t("formula_type");return(r=(n=p[o])==null?void 0:n.ret_btype)!=null?r:"number"},field_names:m.DETECT_FIELD_NAMES,get_runmode_value:function e(t,r,n){var o,s;var i=n.formula_type;return(o=(s=p[i])==null?void 0:s.ret_btype)!=null?o:"number"},get_unique_string:function e(t,r){},evaluate:function e(t,r,n){var o;var s=p[t.formula_type];return(o=s==null?void 0:s.evaluate(t,r))!=null?o:n.get_bubble_null()}}},{"../../../lang/lang":590,"../../../lang/shrink":603,"../../../lib":614,"../../../u/shared/decaf":706,"../../core_actions/utilities/generic_actions_utilities":178,"../../core_formulas":373,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],217:[function(e,t,r){"use strict";var n=e("../../../u/shared/b_object");var o=e("../../../shared/apps_utilities");var s=e("../../../lang/appquery")},{"../../../lang/appquery":535,"../../../shared/apps_utilities":654,"../../../u/shared/b_object":702}],218:[function(e,t,r){"use strict";var n=e("../../../lib");var o=e("../../../lang/appquery");t.exports={field_names:{text_id:{},information:{}},get_value:function e(t){return"text"},get_runmode_value:function e(t,r,n){return"text"},get_unique_string:function e(t,r){},evaluate:function e(t,r,o){var s;if(!t.text_id){return o.get_bubble_null()}return(s=n().get_text("USER_TEXTS",t.text_id))!=null?s:o.get_bubble_null()}}},{"../../../lang/appquery":535,"../../../lib":614}],219:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/state_keys");t.exports={field_names:{},light_evaluation:true,allowed_when_restricted:false,allowed_on_element:true,allowed_on_workflow:true,allowed_on_backend:true,allowed_on_privacy_role:true,allowed_in_style_conditionals:function e(){return true},fields:function e(t){return[]},get_value:function e(t){return"user"},get_unique_string:function e(t,r){return n.CurrentUser()},display:function e(){return"Current User"},context_key:"current_user",evaluate:function e(t,r,n){var o,s;return n.cast((o=(s=r.datasources).current_user)==null?void 0:o.call(s,t,r))},get_runmode_value:function e(){return"user"}}},{"../../../lang/evaluation/state_keys":576}],220:[function(e,t,r){"use strict";var n=e("../utilities/core_ds_db_ops_utilities");var o=e("../utilities/core_ds_api_utilities");var s=e("../../../services/is_installed");t.exports={field_names:{},evaluate:function e(t,r,s,i){var a=o.get_call("interactions.get_mouse_data");if(!a){return s.get_bubble_null()}if(a.is_authenticated()){var l=a.execute(null,t,null,i,r);return n.convert_api_call_to_db_object(l,a)}},get_value:function e(){return o.get_api_value_from_provider("interactions.get_mouse_data")},get_runmode_value:function e(){return o.get_api_value_from_provider("interactions.get_mouse_data")},get_unique_string:function e(t,r){}}},{"../../../services/is_installed":647,"../utilities/core_ds_api_utilities":231,"../utilities/core_ds_db_ops_utilities":232}],221:[function(e,t,r){"use strict";var n=t.exports;var o=e("../../safe_require");o.safe_register("./core/core_datasources",n);n.GetParamFromUrl=e("./page/get_param_from_url");n.CurrentUser=e("./general/current_user");n.PageData=e("./page/page_data");n.ThisElement=e("./elements/this_element");n.CurrentPageItem=e("./page/current_page_item");n.CurrentWorkflowItem=e("./workflows/current_workflow_item");n.CurrentDataItem=e("./workflows/current_data_item");n.OldDataItem=e("./workflows/old_data_item");n.APIEventParameter=e("./workflows/api_event_parameter");n.Search=e("./db/search");n.OptionValue=e("./literals/option_value");n.ArbitraryText=e("./literals/arbitrary_text");n.DateTime=e("./literals/arbitrary_datetime");n.OneOptionValue=e("./literals/one_optionvalue");n.AllOptionValue=e("./literals/all_optionvalue");n.PrimitiveLiteral=e("./literals/primitive_literal");n.GetDataFromAPI=e("./db/get_data_from_api");n.GetMouseData=e("./general/get_mouse_data");n.ElementParent=e("./elements/element_parent");n.CurrentCellsIndex=e("./elements/current_cells_index");n.PreviousStep=e("./workflows/previous_step");n.GetElement=e("./elements/get_element");n.Dehydrated=e("./db/dehydrated");n.InjectedValue=e("./db/injected_value");n.Formulas=e("./formulas/formulas_datasource");n.AppSetting=e("./general/app_setting");n.AppText=e("./general/app_text")},{"../../safe_require":643,"./db/dehydrated":208,"./db/get_data_from_api":209,"./db/injected_value":210,"./db/search":211,"./elements/current_cells_index":212,"./elements/element_parent":213,"./elements/get_element":214,"./elements/this_element":215,"./formulas/formulas_datasource":216,"./general/app_setting":217,"./general/app_text":218,"./general/current_user":219,"./general/get_mouse_data":220,"./literals/all_optionvalue":222,"./literals/arbitrary_datetime":223,"./literals/arbitrary_text":224,"./literals/one_optionvalue":225,"./literals/option_value":226,"./literals/primitive_literal":227,"./page/current_page_item":228,"./page/get_param_from_url":229,"./page/page_data":230,"./workflows/api_event_parameter":237,"./workflows/current_data_item":238,"./workflows/current_workflow_item":239,"./workflows/old_data_item":240,"./workflows/previous_step":241}],222:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");var n=e("../../../lang/btypes");var o=e("../../../lib");var s=e("../../../option_sets");var i=e("../../../lang/btype_ids");t.exports={field_names:{option_set:{}},get_value:function e(t){var r=t("option_set");if(r!=null){return i.list_type(r)}else{return"null"}},get_runmode_value:function e(t,r,n){var o=n.option_set;if(o!=null){return i.list_type(o)}else{return"null"}},get_unique_string:function e(t,r){return null},evaluate:function e(t,r,i){var a=n.get(t.option_set).option_set();if(a!=null&&a.exists()){return o().db_instance().static_list(t.option_set,a.values().sort(s.sort_options_fn).filter((function(e){return!e.deleted()})).map((function(e){return e.name()})))}return null}}},{"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lib":614,"../../../option_sets":621,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/web.dom-collections.iterator.js":991}],223:[function(e,t,r){"use strict";t.exports={field_names:{parsed_date:{}},get_value:function e(t){return"date"},get_runmode_value:function e(t,r,n){return"date"},get_unique_string:function e(t,r){},evaluate:function e(t,r,n){return n.cast(t.parsed_date)}}},{}],224:[function(e,t,r){"use strict";var n=e("../../../lang/evaluation/state_keys");t.exports={field_names:{arbitrary_text:{}},get_value:function e(){return"text"},get_runmode_value:function e(t,r,n){return"text"},get_unique_string:function e(t,r){return n.ArbitraryText(t)},evaluate:function e(t,r,n){var o;return(o=t.arbitrary_text)!=null?o:""}}},{"../../../lang/evaluation/state_keys":576}],225:[function(e,t,r){"use strict";var n=e("../../../lang/btypes");var o=e("../../../lang/btype_ids"),s=o.is_option_set;t.exports={field_names:{option_set:{},option_value:{}},get_value:function e(t){var r=t("option_set");if(r!=null){return r}else{return"null"}},get_runmode_value:function e(t,r,n){var o=n.option_set;if(o!=null){return o}else{return"null"}},get_unique_string:function e(){return null},evaluate:function e(t){return t.option_value}}},{"../../../lang/btype_ids":536,"../../../lang/btypes":537}],226:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");var n=e("../../../lib");var o=e("../../../lang/btypes");var s=e("../../../constants/option_sets");var i=e("../../../option_sets");var a=e("../../../lang/btype_ids");t.exports={field_names:{option_set:{},option_value:{}},get_value:function e(t){var r=t("option_set");if(r!=null){if(t("option_value")===s.ALL_OPTIONS){return a.list_type(r)}else{return r}}else{return"null"}},get_runmode_value:function e(t,r,n){var o=n.option_set;if(o!=null){if(n.option_value===s.ALL_OPTIONS){return a.list_type(o)}else{return o}}else{return"null"}},get_unique_string:function e(t,r){return null},evaluate:function e(t,r,a){if(t.option_value===s.ALL_OPTIONS){var l=o.get(t.option_set).option_set();if(l!=null&&l.exists()){var u=l.values().sort(i.sort_options_fn).filter((function(e){return!e.deleted()})).map((function(e){return e.name()}));return n().db_instance().static_list(t.option_set,u)}else if(t.option_value===s.ALL_OPTIONS){return n().db_instance().static_list(t.option_set,[])}}return t.option_value}}},{"../../../constants/option_sets":85,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lib":614,"../../../option_sets":621,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/web.dom-collections.iterator.js":991}],227:[function(e,t,r){"use strict";var n=e("../../../lang/btypes");t.exports={field_names:{btype:{},value:{}},get_value:function e(t){return t("btype")},get_runmode_value:function e(t){return t.btype},get_unique_string:function e(t){return String(t.value)},evaluate:function e(t){return t.value}}},{"../../../lang/btypes":537}],228:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.function.name.js");var n=e("../../../lang/btypes");var o=e("../../../lang/evaluation/state_keys");var s=e("../../../lang/appquery");function i(e){var t,r,o,s;return n.get((t=(r=(o=e.owner).root)==null?void 0:(s=r.call(o))==null?void 0:s.get_static_property("page_item_type"))!=null?t:"null")}t.exports={field_names:{},context_key:"current_page_item",evaluate:function e(t,r,n){var o,s;return n.cast((o=(s=r.datasources).current_page_item)==null?void 0:o.call(s,t,r))},get_runmode_value:function e(t,r,n){var o,s,i;return(o=(s=(i=r.datasources).current_page_item_btype)==null?void 0:s.call(i,n,r))!=null?o:"null"},get_value:function e(t,r){return i(r)},get_unique_string:function e(t,r){return o.CurrentPageItem()}}},{"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lang/evaluation/state_keys":576,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.function.name.js":942}],229:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.map.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=e("../../../lib");var s=e("../../../lang/btype_ids");var i=e("../../../logger");var a=e("../../../u/shared/mode_check");var l,u;var c=e("../../../lang/appquery");t.exports={field_names:{parameter_name:{},type:{default:"parameter"},value:{default:"text"}},get_value:function e(t){var r=t("value");var n=t("type");if(n==="path_segment"){return s.list_type(r)}return r},get_runmode_value:function e(t){var r,n,o;var i=(r=(n=t["%p"])==null?void 0:n["%v"])!=null?r:"text";var a=(o=t["%p"])==null?void 0:o["%x"];if(a==="path_segment"){return s.list_type(i)}return i},evaluate:function e(t,r,n){if(r!=null&&r.__investigate_post_changed_page_url_reads){var s,a;i.warn("url data read after a change page",{properties:t,element:(s=r.element)==null?void 0:(a=s.id)==null?void 0:a.call(s)});delete r.__investigate_post_changed_page_url_reads}o().pageparam._dependency.register();var l;if(t.type==="path"){l=o().location.get_pieces().path[1]}else if(t.type==="path_segment"){l=o().location.get_pieces().path}else{l=o().location.get_query()[t.parameter_name]}function u(e,t){if(e.custom_type()!=null){if(typeof t!=="string"||!t){return e.get_bubble_null()}return o().db_instance().get(t)}else if(e.option_set()!=null){return e.from_human(t)}else if(e.is_list()){var r=Array.isArray(t)?t.map((function(t){return u(e.inner(),t)})):[];return o().db_instance().static_list(e.inner().id(),r)}else{return e.cast(t)}}return u(n,l)},get_unique_string:function e(t,r){}}},{"../../../lang/appquery":535,"../../../lang/btype_ids":536,"../../../lib":614,"../../../logger":617,"../../../u/shared/mode_check":713,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],230:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.string.includes.js");var n=e("../../../u/shared/b_string");var o=e("../../../lang/evaluation/page_state");var s=e("../../../lang/evaluation/state_keys");var i=e("../../../lang/appquery");t.exports={field_names:{name:{}},get_value:function e(t){var r;return(r=o.get_page_data_type(t("name")))!=null?r:"null"},context_key:"page_data",evaluate:function e(t,r,n){var o,s;return n.cast((o=(s=r.datasources).page_data)==null?void 0:o.call(s,t,r))},get_runmode_value:function e(t,r,n){var o,s,i;return(o=(s=(i=r.datasources).page_data_btype)==null?void 0:s.call(i,n,r))!=null?o:"null"},get_unique_string:function e(t,r){return s.PageData(t.name)}}},{"../../../lang/appquery":535,"../../../lang/evaluation/page_state":575,"../../../lang/evaluation/state_keys":576,"../../../u/shared/b_string":703,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.function.name.js":942,"core-js/modules/es.string.includes.js":972}],231:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");var n=t.exports;var o=e("../../../services/shared/plugin_getter");n.get_call=function(e){var t;if(!e){return}var r=e.split(".")[0];var n=e.split(".").slice(1).join(".");return(t=o.get_plugin(r))==null?void 0:t.get_call(n)};n.get_api_value_from_provider=function(e){var t=n.get_call(e);if(!t){return"null"}return t.get_value_id()}},{"../../../services/shared/plugin_getter":649,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],232:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.filter.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=t.exports;var a=e("../../../safe_require");a.safe_register("./core/core_datasources/utilities/core_ds_db_ops_utilities",i);var l=e("../../../u/shared/errors");var u=e("../../../logger");var c=e("../../../u/shared/decaf");var f=e("../../../db/constraint_defs");var d=e("../../../lang/btypes");var p=e("../../../constants/special_keys");var _=e("../../../geolocation/b_location");var m=e("lodash/map");var y=e("lodash/compact");var v=e("../../../lang/appquery");var b=e("../../../lib");var h=e("../../../lang/application/builtins");var j=e("../../core_actions/utilities/generic_actions_utilities");i._get_sortable_btypes=function(e){var t=["boolean","text","number","date","dateinterval","file","image"];if(e){t.push("geographic_address")}return t};i.is_field_okay=function(e,t){var r=d.get(t);if(e===p.RANDOM_SORTING){return true}var n=r.option_set();if(n!=null&&n.exists()){if(e==="display"||n.attribute(e).exists()){return true}return false}var o=r.custom_type();if([p.ALL_DB_FIELDS,p.UNIQUE_ID].includes(e)){return true}if(o!=null&&o.exists()){if(e==="email"&&o.id()==="user"){return true}if(o.field(e).exists()){return true}if(h.get_special_fields(o).map((function(e){return e.name()})).includes(e)){return true}}if(t.startsWith("api")){if(r.plugin.get_message_names().includes(e)){return true}}if(r.is_aggregate()){return true}u.warn("bad field name in search",{field_name:e,value_id:t});return false};i.get_sorts_list=function(e,t){var r=[];var o=d.get(e.type_to_find);var s=o.custom_type();var a=d.get("boolean");if(o.is_missing()){return[{sort_field:g(e,e.type_to_find,t),descending:a.cast(e.descending)}]}function l(r){var n=g(r,e.type_to_find,t);var o=a.cast(r.descending);if(s!=null&&s.exists()&&s.field(n).value()==="geographic_address"){if(_.ensure_valid_location(r.geo_reference)){n={location_field:n,geo_reference:r.geo_reference}}else{n=null}}else if(n&&!i.is_field_okay(n,e.type_to_find)){n=null;o=null}else if(n===p.RANDOM_SORTING){o=null}else if([null,undefined].includes(n)){o=null}return{sort_field:n,descending:o}}r.push(l(e));if(e.sort_field===p.RANDOM_SORTING){return r}var u=n(c.object_values(e.additional_sort_fields)),f;try{for(u.s();!(f=u.n()).done;){var m=f.value;r.push(l(m))}}catch(e){u.e(e)}finally{u.f()}return r};function g(e,t,r){if(e.sort_field!==p.DYNAMIC_SORTING_FIELD){return e.sort_field}if(!e.dynamic_sort_field){return null}var o=d.get(t);if(o.is_missing()){return null}var s=e.dynamic_sort_field.toLowerCase();var a=[];if(r){var u=o.custom_type();var c=n(u.fields()),f;try{for(c.s();!(f=c.n()).done;){var _=f.value;a.push({display:_.display(),name:_.name(),value:_.value()})}}catch(e){c.e(e)}finally{c.f()}a.push({display:"Created Date",name:"Created Date",value:"date"});a.push({display:"Modified Date",name:"Modified Date",value:"date"})}else{var m=o.get_messages();var y=n(m),v;try{for(y.s();!(v=y.n()).done;){var b=v.value;if((b==null?void 0:b.arg_btype())==null){a.push({display:b.description(undefined,true),name:b.name(),value:b.ret_btype_id()})}}}catch(e){y.e(e)}finally{y.f()}if(s==="created date"){s="creation date"}}var h=i._get_sortable_btypes(r);for(var j=0,g=a;j<g.length;j++){var w=g[j];if(w.display.toLowerCase()===s){if(!h.includes(w.value)){throw new l.OwnerError("The dynamic sort field "+e.dynamic_sort_field+" on the type "+o.display()+" cannot be used for sorting")}return w.name}}throw new l.OwnerError("Dynamic sort field not recognized",{display:"The dynamic sort field "+e.dynamic_sort_field+" is not recognized as a field on the type "+o.display()})}i.resolve_constraints=function(e,t){return y(m(e!=null?e:{},(function(e){return l.error_append_args({entry:e},(function(){if(!e){return}if(e.key===p.ADVANCED_SEARCH_CONSTRAINT){return e}if(e.key===p.UNIQUE_ID){var r;(r=e.constraint_type)!=null?r:e.constraint_type="equals"}if(!e.constraint_type){return}var n=f.get(e.constraint_type);return n.resolve_constraint({entry:e,null_not_dropped:t})}))})))};i.convert_api_call_to_db_object=function(e,t){var r=d.get(t.value_id);if(!r.plugin.convert_to_bubble_instance){throw new l.UnexpectedError("value "+r.id()+" missing convert_to_bubble_instance",{value_id:r.id(),appname:v.appname(),result:e})}if(t.is_list){var n=c.array_from(e!=null?e:[]).map((function(e){return r.plugin.convert_to_bubble_instance(e)}));return b().db_instance().static_list(t.value_id,n)}return r.plugin.convert_to_bubble_instance(e)};i.get_key_value=function(e,t){var r=t?d.get(t):null;var n,o;if(e==="email"&&t==="user"){n="email"}else if(![p.ALL_DB_FIELDS,p.ADVANCED_SEARCH_CONSTRAINT,p.UNIQUE_ID,"StripeCustomerID"].includes(e)){var s;n=j.sub_node_key_to_value(r,e);o=(s=n)!=null&&s.is_list()?n.inner():n}else{n=e}return{key_value_delisted:o,key_value:n}};i.constraints_without_values=f.all().filter((function(e){return e.takes_no_value()})).map((function(e){return e.name}))},{"../../../constants/special_keys":95,"../../../db/constraint_defs":419,"../../../geolocation/b_location":505,"../../../lang/application/builtins":533,"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lib":614,"../../../logger":617,"../../../safe_require":643,"../../../u/shared/decaf":706,"../../../u/shared/errors":708,"../../core_actions/utilities/generic_actions_utilities":178,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/compact":1173,"lodash/map":1193}],233:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.values.js");function o(e,t,r){t=s(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e){var t=i(e,"string");return n(t)==="symbol"?t:String(t)}function i(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a=t.exports;var l=e("./core_ds_db_ops_utilities")},{"./core_ds_db_ops_utilities":232,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],234:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=t.exports;var a=e("../../../lang/btypes");i.get_element_parent=function(e){var t;return(t=e.context_element())==null?void 0:t.parent()};i.get_runtime_parent=function(e){var t;var r=(t=e.element)==null?void 0:t.parent();while(r&&r.element.type()!=="RepeatingGroup"&&!r.element.get_states().includes("group_data")){r=r.parent()}return r};i.context_parent_value=function(e){var t,r;return(t=e==null?void 0:(r=e.parent())==null?void 0:r.get_static_property("group_type"))!=null?t:null};i.element_parent_value=function(e,t){return a.get(i.context_parent_value(t.context_element()))};i.is_element_visible=function(e,t){var r,o,s;if(!t){return false}if(((r=e.root())==null?void 0:r.id())!==((o=t.root())==null?void 0:o.id())){return false}var i=(s=t.parents)==null?void 0:s.call(t,"RepeatingGroup").map((function(e){return e.id()}));function a(e){var t=n(e.parents("RepeatingGroup")),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;if(!i.includes(o.id())){return false}}}catch(e){t.e(e)}finally{t.f()}return true}return a(e)}},{"../../../lang/btypes":537,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],235:[function(e,t,r){"use strict";var n=t.exports;var o=e("../../../safe_require");o.safe_register("./core/core_datasources/utilities/core_ds_field_names",n);n.constraints_field_names={constraints:{}};n.sorting_field_names={sort_field:{},dynamic_sort_field:{},geo_reference:{},descending:{optional:true},additional_sort_fields:{optional:true}}},{"../../../safe_require":643}],236:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.object.values.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e,t){return m(e)||_(e,t)||d(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if(typeof e==="string")return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}function p(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function m(e){if(Array.isArray(e))return e}var y=t.exports;var v=e("../../../safe_require");v.safe_register("./core/core_datasources/utilities/core_ds_workflow_utilities",y);var b=e("../../../constants/core");var h=e("../../../u/shared/uuid");var j=e("../../../u/shared/decaf");var g="__ALL__";y.generate_wf_param_datasource=function(e){return function(t){if(t.param_id===g){return e}else{if(typeof e[t.param_id]==="function"){return e[t.param_id]()}else{return e[t.param_id]}}}};y.dehydrate_wf_params=function(e,t){var r,n,o;var s={};var i=(r=(n=e.datasources)==null?void 0:(o=n.get_wf_param)==null?void 0:o.call(n,{param_id:g}))!=null?r:{};for(var a=0,l=Object.entries(i);a<l.length;a++){var u=c(l[a],2),f=u[0],d=u[1];if(typeof d==="function"){s[f]=t(d())}else{s[f]=t(d)}}return s};y.rehydrate_wf_params=function(e,t){var r={};if(e.current_wf_item!=null){r[b.LEGACY_PARAM_ID]=t(e.current_wf_item)}var n=u(j.object_entries(e.current_wf_params)),o;try{for(n.s();!(o=n.n()).done;){var s=c(o.value,2),i=s[0],a=s[1];r[i]=t(a)}}catch(e){n.e(e)}finally{n.f()}return r};y.wf_params_from_properties=function(e){var t={};if(e.arguments){for(var r=0,n=Object.values(e.arguments);r<n.length;r++){var o=n[r],s=o.param_id,i=o.arg_value;t[s]=i}}else{t[b.LEGACY_PARAM_ID]=e.workflow_thing}return t};y.build_duplicate_per_item_context=function(e,t){var r=s({},e);e.duplicated_from_context=e.object_id;e.object_id=h.UUID();e.duplicated_at="core_ds_workflow_utilities.build_duplicate_per_item_context";r.datasources=s(s({},e.datasources),{},{get_wf_param:y.generate_wf_param_datasource(t)});return r}},{"../../../constants/core":66,"../../../safe_require":643,"../../../u/shared/decaf":706,"../../../u/shared/uuid":716,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],237:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../lang/evaluation/state_keys");var a=e("../../../lang/appquery");function l(e,t){var r,o;var s=(r=e==null?void 0:(o=e.get_custom_parameters)==null?void 0:o.call(e))!=null?r:[];var i=n(s),a;try{for(i.s();!(a=i.n()).done;){var l=a.value,u=l.param_id,c=l.btype_id;if(u===t){return c}}}catch(e){i.e(e)}finally{i.f()}return"null"}t.exports={field_names:{param_id:{},key:{}},get_value:function e(t,r){var n,o,s;var i=(n=t("param_id"))!=null?n:t("key");var a=(o=(s=r.owner).event)==null?void 0:o.call(s);return l(a,i)},evaluate:function e(t,r,n){var o,s;var i=(o=t.param_id)!=null?o:t.key;var a=(s=r.call_parameters)==null?void 0:s[i];var l=n.cast(a);return l},get_runmode_value:function e(t,r,n){var o;if(!r.event_id){return"null"}var s=a.workflow_item(r.event_id);var i=(o=n.param_id)!=null?o:n.key;var u=l(s,i);return u},get_unique_string:function e(t,r){var n;return i.APIEventParameter((n=t.param_id)!=null?n:t.key)}}},{"../../../lang/appquery":535,"../../../lang/evaluation/state_keys":576,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],238:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=e("../../../lang/btypes");var o=e("../../../lang/appquery");t.exports={field_names:{},get_value:function e(t,r){var o,s,i;var a=(o=(s=r.owner).event)==null?void 0:o.call(s);var l=a?["OnError","OnPageError"].includes(a.type())?"sys.error":a.get_static_property("data_trigger_type"):undefined;(i=l)!=null?i:l="null";return n.get(l)},context_key:"current_data_item",evaluate:function e(t,r,n){var o,s;return n.cast((o=(s=r.datasources).current_data_item)==null?void 0:o.call(s,t,r))},get_runmode_value:function e(t,r,n){var o,s,i;return(o=(s=(i=r.datasources).current_data_item_btype)==null?void 0:s.call(i,n,r))!=null?o:"null"},get_unique_string:function e(){}}},{"../../../lang/appquery":535,"../../../lang/btypes":537,"core-js/modules/es.array.includes.js":933}],239:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.concat.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../lang/btypes");var a=e("../../../constants/core");var l=e("../../../lang/appquery");var u=e("../../../logger");function c(e,t){var r,o;var s=(r=e==null?void 0:(o=e.get_custom_parameters)==null?void 0:o.call(e))!=null?r:[];var i=n(s),a;try{for(i.s();!(a=i.n()).done;){var l=a.value,u=l.param_id,c=l.btype_id;if(u===t){return c}}}catch(e){i.e(e)}finally{i.f()}return"null"}function f(e,t){if(["OnError","OnPageError"].includes(e==null?void 0:e.type())){return"sys.error"}var r=c(e,t);if(r==="null"){var n;r=(n=e==null?void 0:e.get_static_property("custom_event_data_type"))!=null?n:"null"}return r}t.exports={field_names:{param_id:{default:a.LEGACY_PARAM_ID}},get_value:function e(t,r){var n,o;var s=(n=(o=r.owner).event)==null?void 0:n.call(o);var a=t("param_id");return i.get(f(s,a))},evaluate:function e(t,r,n){var o,s;return n.cast((o=(s=r.datasources).get_wf_param)==null?void 0:o.call(s,t))},get_runmode_value:function e(t,r,n){var o;if(!r.event_id&&!r.event){return"null"}if(!r.event){u.verbose("Missing event!!",{event_id:r.event_id})}var s=(o=r.event)!=null?o:l.workflow_item(r.event_id);return f(s,n.param_id)},get_unique_string:function e(t,r){}}},{"../../../constants/core":66,"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../logger":617,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],240:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=e("../../../lang/btypes");var o=e("../../../lang/appquery");t.exports={field_names:{},get_value:function e(t,r){var o,s;var i=(o=(s=r.owner).event)==null?void 0:o.call(s);var a=i?["OnError","OnPageError"].includes(i.type())?"sys.error":i.get_static_property("data_trigger_type"):undefined;return n.get(a!=null?a:"null")},context_key:"old_data_item",evaluate:function e(t,r,n){var o,s;return n.cast((o=(s=r.datasources).old_data_item)==null?void 0:o.call(s,t,r))},get_runmode_value:function e(t,r,n){var o,s,i;return(o=(s=(i=r.datasources).old_data_item_btype)==null?void 0:s.call(i,n,r))!=null?o:"null"},get_unique_string:function e(t,r){}}},{"../../../lang/appquery":535,"../../../lang/btypes":537,"core-js/modules/es.array.includes.js":933}],241:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");var n=e("../../../lang/appquery");var o=e("../../../lang/evaluation/state_keys");function s(e,t){if(t.length<=e){return t}else{return t.slice(0,e-3)+"..."}}function i(e,t){var r=n.action(e("action_id"));if(!r||!r.exists()){return null}var o=r.next();while(o){if(t.owner.id()===o.id()){return r}else{o=o.next()}}return null}t.exports={field_names:{action_id:{}},light_evaluation:false,allowed_when_restricted:false,allowed_on_element:false,allowed_on_workflow:true,allowed_on_backend:true,get_required_visible_id:function e(t){return t.properties.action_id},get_runmode_value:function e(t,r,n){var o=n.action_id;return r.frozen_state.get(this.get_unique_string({action_id:o})+"_value")},evaluate:function e(t,r,n){var o;return(o=r.frozen_state.get(this.get_unique_string(t)))!=null?o:n.get_bubble_null()},get_value:function e(t,r){var n,o;return(n=(o=i(t,r))==null?void 0:o.return_value())!=null?n:"null"},get_unique_string:function e(t){return o.PreviousStep(t.action_id)}}},{"../../../lang/appquery":535,"../../../lang/evaluation/state_keys":576,"core-js/modules/es.array.slice.js":937}],242:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");var o=e("../../u/shared/async/autorun");var s=c(e("../../lang/app_json/runtime_json"));var i=c(e("../../lang/elements/Element"));var a=c(e("../../shared/responsive/responsive_layout"));var l=c(e("./core_elements_utilities/element_registry"));var u=c(e("../../lang/appquery"));function c(e){return e&&e.__esModule?e:{default:e}}function f(e,t){return y(e)||m(e,t)||p(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(!e)return;if(typeof e==="string")return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}function _(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function m(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function y(e){if(Array.isArray(e))return e}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,j(n.key),n)}}function h(e,t,r){if(t)b(e.prototype,t);if(r)b(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function j(e){var t=g(e,"string");return n(t)==="symbol"?t:String(t)}function g(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w(){if(typeof Reflect!=="undefined"&&Reflect.get){w=Reflect.get.bind()}else{w=function e(t,r,n){var o=O(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return w.apply(this,arguments)}function O(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=P(e);if(e===null)break}return e}function S(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)k(e,t)}function k(e,t){k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return k(e,t)}function A(e){var t=M();return function r(){var n=P(e),o;if(t){var s=P(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return E(this,o)}}function E(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return x(e)}function x(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function M(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function P(e){P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return P(e)}t.exports=function(e){S(r,e);var t=A(r);function r(e,n,o){var i;v(this,r);var a=new s.default(null,null,"",undefined,u.default.appname(),u.default.app_version());i=t.call(this,a,false,{_type:"GroupItem"});i.rg_instance=void 0;i.height=void 0;i.num=void 0;i.instance=void 0;i.id_watcher=void 0;i.rg_instance=e;i.height=n;i.num=o;i.E=l.default.get_element_object("GroupItem");return i}h(r,[{key:"exists",value:function e(){return true}},{key:"id",value:function e(){var t,r=this;(t=this.id_watcher)!=null?t:this.id_watcher=(0,o.Watcher)((function(){var e,t,n;var o=r.rg_instance.element.id();var s=(e=r.instance)==null?void 0:(t=e.state("group_data"))==null?void 0:(n=t._id)==null?void 0:n.call(t);return"".concat(o,"_group_item_").concat(s!=null?s:"undefined","_").concat(r.num)}));var n=this.id_watcher.get_current(),s=f(n,2),i=s[0],a=s[1];if(i){return a}else{var l=this.rg_instance.element.id();return"".concat(l,"_group_item_null")}}},{key:"ssr_key",value:function e(){var t=this.rg_instance.element.id();return"".concat(t,"-cell")}},{key:"parent",value:function e(){return this.rg_instance.element}},{key:"elements",value:function e(){return this.rg_instance.element.elements()}},{key:"get_height",value:function e(){return this.height}},{key:"get_responsive_data",value:function e(){return this.rg_instance.element.get_responsive_data()}},{key:"get_static_property",value:function e(t,n){if(a.default.CONTAINER_PROPERTIES.includes(t)){return this.rg_instance.get_static_property(t,n)}else{return w(P(r.prototype),"get_static_property",this).call(this,t,n)}}}]);return r}(i.default)},{"../../lang/app_json/runtime_json":516,"../../lang/appquery":535,"../../lang/elements/Element":545,"../../shared/responsive/responsive_layout":669,"../../u/shared/async/autorun":693,"./core_elements_utilities/element_registry":280,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],243:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.concat.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=(0,o.template)("<div></div>",2);function i(e){return u(e)||l(e)||v(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u(e){if(Array.isArray(e))return b(e)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){t=p(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){return j(e)||h(e,t)||v(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(!e)return;if(typeof e==="string")return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}function b(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function h(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function j(e){if(Array.isArray(e))return e}var g=e("../../../u/client/b_ui");var w=e("../../../u/shared/mode_check");var O={template:function(){},createContext:function(){},delegateEvents:function(){}},S=O.onMount,k=O.createSignal;var A=e("./utils/createElement"),E=A.createElement;var x=e("./utils/element_styles");var M=e("./utils/directives"),P=M.defaultEventHandlers;var T=e("./utils/properties"),I=T.Style,C=T.Property;var R=e("../../../lang/evaluation/element_eval");var N=e("../../../lang/evaluation/element_props");function L(e){var t=e.instance;var r=k(null),n=m(r,2),i=n[0],a=n[1];S((function(){if(t.run_mode()){t.canvas.css("display","none");var e=0;t.on_message("do_show_alert",(function(r){var n;var o=++e;a(r.message);t._display_me();t._is_visible_me=true;t._update_visible();var s=t.canvas;s.css({display:"",opacity:(n=r.fin_starting_opacity)!=null?n:0});if(w.running_test())return;g.velocity(s,{opacity:1},{duration:r.fade_in,complete_cb:function n(){setTimeout((function(){var n;s.css("opacity",(n=r.fout_starting_opacity)!=null?n:1);g.velocity(s,{opacity:0},{duration:r.fade_out,complete_cb:function r(){s.css("display","none");t._hide_me();t._is_visible_me=false;t._update_visible();if(o===e){a(null)}},display:""})}),r.hold)}})}));t.manual_position=false;t.on_message("position_element",(function(e){t.manual_position=true;t.state("manual_position",{top:"".concat(e.Y,"px"),left:"".concat(e.X,"px"),position:e.position})}))}}));var l=function t(){var r;var t=g.bbcode_to_html((r=i())!=null?r:e.text);if(e.verticalCenter){return"<div>".concat(t,"</div>")}else{return t}};return function(){var t=s.cloneNode(true);(0,o.use)(P,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.effect)((function(r){var n=e.id,s=e.style,i=f(f({},e.classList),{},{"bubble-r-vertical-center":e.verticalCenter}),a=l();n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);a!==r._v$4&&(t.innerHTML=r._v$4=a);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined,_v$4:undefined});return t}()}t.exports=E(L,(function(e){return{attachToTop:e.get_static_property("at_to_top")}}),(function(e,t){var r=t.attachToTop;return{properties:{text:new C((function(e){return R.evaluate_property(e,"text")})),verticalCenter:new C((function(e){return R.evaluate_property(e,"vertical_centering")}))},styles:r?[new I((function(t){var r={position:t.run_mode()?"fixed":"absolute","margin-left":"auto","margin-right":"auto","margin-top":"","margin-bottom":"","min-width":N.min_width_css(t),"min-height":N.min_height_css(t),"max-height":N.max_height_css(t),"z-index":2e4};for(var n=0,o=["left","right","top","bottom"];n<o.length;n++){var s=o[n];r[s]=R.evaluate_property(t,"margin_".concat(s))}var i=N.max_width_css(t);if(e.fit_width()){r.width="auto";var a="calc(100% - ".concat(r.left+r.right,"px)");if(i!=null){r["max-width"]=["min(".concat(i,", ").concat(a,")"),i]}else{r["max-width"]=a}}else{r.width="initial";r["max-width"]=i}if(e.fit_height()){r.bottom="unset";r.height="auto"}else{r.height="initial"}return r}),{outerPositioning:true}),new I((function(e){var t;return(t=e.state("manual_position"))!=null?t:{}}),{alwaysDynamic:true})].concat(i(x.basicStyling(e))):x.placedStyling(e)}}))},{"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../u/client/b_ui":677,"../../../u/shared/mode_check":713,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],244:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.array.concat.js");var o=u(e("./utils/createElement"));var s=e("./utils/element_styles");var i=e("./utils/directives");var a=e("./utils/properties");var l=e("../../../lang/evaluation/element_eval");function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.template)("<button> </button>",2);function f(e){return m(e)||_(e)||p(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(!e)return;if(typeof e==="string")return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}function _(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m(e){if(Array.isArray(e))return y(e)}function y(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}t.exports=(0,o.default)(v,undefined,(function(e){return{properties:{text:new a.Property((function(e){return(0,l.evaluate_property)(e,"text")}),{fallback:""})},styles:[new a.Style((function(e){if((0,l.evaluate_property)(e,"background_style")==="none"){return{"-webkit=touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","user-select":"none"}}else{return{}}}))].concat(f((0,s.placedStyling)(e)))}}));function v(e){return function(){var t=c.cloneNode(true),r=t.firstChild;(0,n.use)(i.defaultEventHandlers,t,(function(){return e.instance}));var o=e.ref;typeof o==="function"?(0,n.use)(o,t):e.ref=t;(0,n.effect)((function(o){var s=e.id,i=e.style,a=e.classList,l=e.text;s!==o._v$&&(0,n.setAttribute)(t,"id",o._v$=s);o._v$2=(0,n.style)(t,i,o._v$2);o._v$3=(0,n.classList)(t,a,o._v$3);l!==o._v$4&&(r.data=o._v$4=l);return o}),{_v$:undefined,_v$2:undefined,_v$3:undefined,_v$4:undefined});return t}()}},{"../../../lang/evaluation/element_eval":567,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],245:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/web.queue-microtask.js");var s=d(e("../../../renderer/solid_utils/autorun_signals"));var i=e("./utils/createElement");var a={template:function(){},createContext:function(){},delegateEvents:function(){}};var l=e("./utils/container_utils");var u=e("./utils/repeating_groups");var c=d(e("../../../u/shared/mode_check"));function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(f=function e(n){return n?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=f(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}var p=(0,o.template)("<div></div>",2);function _(e){return b(e)||v(e)||y(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function v(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b(e){if(Array.isArray(e))return h(e)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){t=O(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function O(e){var t=S(e,"string");return n(t)==="symbol"?t:String(t)}function S(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k(e){var t=e.instance;var r=t.element.rg_instance.repeating_group_layout;var n=s.createWatcher((function(){return"entry-".concat(t.state("cell_index"))}),{fallback:""});var i=(0,u.createBorderStyle)(e);var f=function t(){return{display:e.hidden?"none":""}};(0,a.createEffect)((function(){if(c.on_server()){if(e.hidden){t.do_hide()}else{t.do_show()}}else{if(e.hidden){queueMicrotask((function(){return t.do_hide()}))}else{queueMicrotask((function(){return t.do_show()}))}}}));t.parent().add_to_namespace(t);(0,a.createEffect)((function(){var r=e.intersectionObserver;if(r!=null){r.observe(t.canvas[0]);(0,a.onCleanup)((function(){r.unobserve(t.canvas[0])}))}}));(0,a.onMount)((function(){if(t.run_mode()&&r.is_masonry()){r.observe_masonry_cell(t.canvas[0])}}));return function(){var t=p.cloneNode(true);var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(l.ChildWrapper,e));(0,o.effect)((function(r){var s;var a=g(g(g(g({},f()),e.cellSizing),i()),e.style),l=(s={"bubble-element":true,"group-item":true},w(s,n(),true),w(s,e.containerClass,true),s);r._v$=(0,o.style)(t,a,r._v$);r._v$2=(0,o.classList)(t,l,r._v$2);return r}),{_v$:undefined,_v$2:undefined});return t}()}t.exports=(0,i.createElement)(k,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:(0,l.containerProperties)(r),styles:_((0,l.containerStyling)(r))}}))},{"../../../renderer/solid_utils/autorun_signals":640,"../../../u/shared/mode_check":713,"./utils/container_utils":268,"./utils/createElement":269,"./utils/repeating_groups":276,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.queue-microtask.js":993}],246:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.array.includes.js");var s=(0,o.template)('<div><input type="checkbox"><label></label></div>',5);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){t=u(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function u(e){var t=c(e,"string");return n(t)==="symbol"?t:String(t)}function c(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f(e){return m(e)||_(e)||p(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(!e)return;if(typeof e==="string")return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}function _(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m(e){if(Array.isArray(e))return y(e)}function y(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var v=e("../../../u/shared/uuid");var b=e("../../../constants/runmode");var h=e("./utils/createElement"),j=h.createElement;var g=e("./utils/element_styles");var w=e("./utils/directives"),O=w.defaultEventHandlers;var S=e("./utils/properties"),k=S.Property;var A={template:function(){},createContext:function(){},delegateEvents:function(){}},E=A.onMount;var x=e("./utils/input_utils");var M=e("../../../lang/evaluation/element_eval");var P=" input";t.exports=j(T,null,(function(e){return{properties:{isDisabled:new k((function(e){return M.evaluate_property(e,"disabled")})),label:new k((function(e){return M.evaluate_property(e,"label")}))},styles:f(g.placedStyling(e))}}));function T(e){var t=e.instance.run_mode();var r=String(v.LUID());var n;E((function(){if(t){$(n).change((function(t){var r;e.instance.message("user_submit",(r=t.target.checked)!=null?r:false)}))}}));x.createInputChange(e.instance,(function(e){if(typeof e==="string"&&["false","no","null","none","undefined"].includes(e.toLowerCase()))e=false;n.checked=Boolean(e)}));return function(){var i=s.cloneNode(true),u=i.firstChild,c=u.nextSibling;(0,o.use)(O,i,(function(){return e.instance}));var f=e.ref;typeof f==="function"?(0,o.use)(f,i):e.ref=i;var d=n;typeof d==="function"?(0,o.use)(d,u):n=u;(0,o.setAttribute)(u,"id",r);(0,o.setAttribute)(c,"for",r);(0,o.insert)(c,(function(){return e.label}));(0,o.effect)((function(r){var n=e.id,s=e.style,c=a(a({},e.classList),{},l({},b.CLICKABLE_ELEMENT,t)),f=a(a({},e.childStyles[P]),{},{"background-color":"white"}),d=t&&e.isDisabled;n!==r._v$&&(0,o.setAttribute)(i,"id",r._v$=n);r._v$2=(0,o.style)(i,s,r._v$2);r._v$3=(0,o.classList)(i,c,r._v$3);r._v$4=(0,o.style)(u,f,r._v$4);d!==r._v$5&&(u.disabled=r._v$5=d);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined,_v$4:undefined,_v$5:undefined});return i}()}},{"../../../constants/runmode":91,"../../../lang/evaluation/element_eval":567,"../../../u/shared/uuid":716,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/input_utils":273,"./utils/properties":275,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],247:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.concat.js");var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=e("../../../constants/server_rendering");var a=w(e("../../../lib"));var l=e("./utils/container_utils");var u=e("./utils/createElement");var c=g(e("./utils/element_styles"));var f=e("./utils/directives");var d=e("./utils/properties");var p=e("../../../renderer/solid_utils/autorun_signals");var _=e("../../../lang/font_tokens");var m=e("../../../lang/evaluation/element_eval");var y=e("../../../u/shared/async/autorun");var v=w(e("../../../lang/appquery"));var b=g(e("../../../logger"));var h=e("../../../u/shared/errors");function j(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(j=function e(n){return n?r:t})(e)}function g(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=j(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function w(e){return e&&e.__esModule?e:{default:e}}var O=(0,o.template)("<div></div>",2);function S(e){return x(e)||E(e)||A(e)||k()}function k(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(!e)return;if(typeof e==="string")return M(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M(e,t)}function E(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function x(e){if(Array.isArray(e))return M(e)}function M(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){t=C(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function C(e){var t=R(e,"string");return n(t)==="symbol"?t:String(t)}function R(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N(e){var t=e.instance;(0,s.createEffect)((function(t){var r=e.childStyles[i.AT_ROOT];(0,o.style)(document.documentElement,r,t);return r}));return function(){var r=O.cloneNode(true);(0,o.use)(f.defaultEventHandlers,r,(function(){return e.instance}));var n=e.ref;typeof n==="function"?(0,o.use)(n,r):e.ref=r;(0,o.insert)(r,(0,o.createComponent)(l.ChildWrapper,(0,o.mergeProps)(e,{get children(){return e.children}})));(0,o.effect)((function(n){var s;var i=e.id,a=e.style,l=T(T({},e.classList),{},(s={},I(s,e.containerClass,true),I(s,"page-element",t.edit_mode()),s));i!==n._v$&&(0,o.setAttribute)(r,"id",n._v$=i);n._v$2=(0,o.style)(r,a,n._v$2);n._v$3=(0,o.classList)(r,l,n._v$3);return n}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return r}()}t.exports=(0,u.createElement)(N,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:(0,l.containerProperties)(r),styles:[new d.Style((function(t){var r=e.root_max_width();var n=e.root_max_height();var o={"min-width":"".concat(e.root_min_width(),"px"),"max-width":r!=null?"".concat(r,"px"):"","min-height":"".concat(e.root_min_height(),"px"),"max-height":n!=null?"".concat(n,"px"):""};o.width="".concat(a.default.or_throw().visual_edit.root_width(),"px");return o}),{noWaitVisible:true,outerPositioning:true}),c.tokenStyling()].concat(S((0,l.containerStyling)(r)),S(c.basicStyling(e)))}}))},{"../../../constants/server_rendering":94,"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../lang/font_tokens":589,"../../../lib":614,"../../../logger":617,"../../../renderer/solid_utils/autorun_signals":640,"../../../u/shared/async/autorun":693,"../../../u/shared/errors":708,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],248:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.concat.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=(0,o.template)("<div></div>",2);function i(e){return c(e)||u(e)||l(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function u(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c(e){if(Array.isArray(e))return f(e)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){t=m(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e){var t=y(e,"string");return n(t)==="symbol"?t:String(t)}function y(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v=e("../../../constants/runmode");var b=e("../../property_applications");var h={template:function(){},createContext:function(){},delegateEvents:function(){}},j=h.onMount;var g=e("./utils/createElement"),w=g.createElement;var O=e("./utils/element_styles");var S=e("./utils/directives"),k=S.defaultEventHandlers;var A=e("./utils/container_utils"),E=A.containerStyling,x=A.containerProperties,M=A.ChildWrapper;var P=e("./utils/properties"),T=P.Style;var I=e("../../../lang/evaluation/element_eval");var C=e("../../../lang/evaluation/element_props");var R=v.POPUP_ZINDEX-1;function N(e){var t=e.instance;j((function(){if(t.run_mode()){var e=t.get_static_property("parallax");if(e!=null&&e!==1){$(window).on("scroll",(function(){window.requestAnimationFrame((function(){b.apply_css_style(t.canvas,{transform:"translate3d(0,"+(1-e)*$(window).scrollTop()+"px, 0)"})}))}))}t.manual_position=false;t.on_message("position_element",(function(e){t.manual_position=true;t.state("manual_position",{top:"".concat(e.Y,"px"),left:"".concat(e.X,"px"),position:e.position})}))}}));return function(){var t=s.cloneNode(true);(0,o.use)(k,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(M,e));(0,o.effect)((function(r){var n=e.id,s=e.style,i=p(p({},e.classList),{},_({"floating-group":true},e.containerClass,true));n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}()}t.exports=w(N,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;function n(){if(e.get_static_property("float_zindex")==="back"){return 0}else{var t=R-v.FLOATING_GROUP_ZINDEX_OFFSET;return t+e.get_zindex()}}var o=e.parent();return{properties:x(r),styles:[new T((function(t){var r={width:"initial","min-width":C.min_width_css(t),"min-height":C.min_height_css(t)};var s=C.max_width_css(t);var i=C.max_height_css(t);for(var a=0,l=["left","right","top","bottom"];a<l.length;a++){var u=l[a];r[u]=I.evaluate_property(t,"margin_".concat(u))}if(e.fit_width()){r.width="auto";var c="calc(100% - ".concat(r.left+r.right,"px)");if(s!=null){r["max-width"]=["min(".concat(s,", ").concat(c,")"),s]}else{r["max-width"]=c}}else{r.width="initial";r["max-width"]=s}if(e.fit_height()){r.height="auto";var f="calc(100% - ".concat(r.top+r.bottom,"px)");if(i!=null){r["max-height"]=["min(".concat(i,", ").concat(f,")"),i]}else{r["max-height"]=f}}else{r.height="initial";r["max-height"]=i}switch(e.get_static_property("floating_reference_horizontal_resp")){case"left":if(e.fit_width()){r.right="unset"}else{r["margin-right"]="auto"}break;case"right":if(e.fit_width()){r.left="unset"}else{r["margin-left"]="auto"}}var d=e.get_static_property("floating_reference");r.position=d==="none"||!t.run_mode()||o.type()!=="Page"?"absolute":"fixed";switch(d){case"top":if(e.fit_height()){r.bottom="unset"}break;case"bottom":if(e.fit_height()){r.top="unset"}else if(o.type()==="Page"){r.height="calc(100".concat(t.run_mode()?"vh":"%"," - ").concat(r.top+r.bottom,"px)");r.top="unset"}else{r["margin-top"]="auto"}break;case"both":if(o.type()==="Page"){r["margin-top"]=r["margin-bottom"]="auto"}r["overflow-y"]="auto";break;case"none":r.bottom="unset"}r["z-index"]=n();return r}),{outerPositioning:true,noWaitVisible:true}),new T((function(e){var t;return(t=e.state("manual_position"))!=null?t:{}}),{alwaysDynamic:true}),new T((function(e){if(!e.is_visible()){return{display:"none"}}}),{alwaysDynamic:true,noWaitVisible:true,notInStylesheet:true,outerPositioning:true})].concat(i(E(r)),i(O.basicStyling(e)))}}))},{"../../../constants/runmode":91,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../property_applications":405,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],249:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.concat.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=f(e("./utils/createElement"));var i=e("./utils/element_styles");var a=e("./utils/directives");var l=e("./utils/container_utils");var u=e("./utils/properties");var c=e("../../../lang/evaluation/element_eval");function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.template)("<div></div>",2);function p(e){return v(e)||y(e)||m(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(!e)return;if(typeof e==="string")return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}function y(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v(e){if(Array.isArray(e))return b(e)}function b(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){t=w(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function w(e){var t=O(e,"string");return n(t)==="symbol"?t:String(t)}function O(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S(e){return function(){var t=d.cloneNode(true);(0,o.use)(a.defaultEventHandlers,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(l.ChildWrapper,e));(0,o.effect)((function(r){var n=e.id,s=e.style,i=j(j({},e.classList),{},g({},e.containerClass,true));n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}()}t.exports=(0,s.default)(S,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:(0,l.containerProperties)(r),styles:[new u.Style((function(e){return{overflow:e.state("collapsing")?"hidden":(0,c.evaluate_property)(e,"overflow_scroll")?e.run_mode()?"hidden auto":"hidden":"visible"}}))].concat(p((0,l.containerStyling)(r)),p((0,i.placedStyling)(e)))}}))},{"../../../lang/evaluation/element_eval":567,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],250:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.concat.js");var s=(0,o.template)("<div></div>",2);function i(e){return c(e)||u(e)||l(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function u(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c(e){if(Array.isArray(e))return f(e)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){t=m(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e){var t=y(e,"string");return n(t)==="symbol"?t:String(t)}function y(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v={template:function(){},createContext:function(){},delegateEvents:function(){}},b=v.onMount;var h=e("../../../renderer/solid_utils/autorun_signals"),j=h.onAfterMount;var g=e("../../../lib");var w=e("../../../lang/appquery");var O=e("../../../u/client/b_ui");var S=e("../../../u/shared/async/b_async");var k=e("../../../u/shared/uuid");var A=e("./utils/createElement"),E=A.createElement;var x=e("./utils/element_styles");var M=e("./utils/directives"),P=M.defaultEventHandlers;var T=e("./utils/container_utils"),I=T.containerStyling,C=T.containerProperties,R=T.ChildWrapper;var N=e("./utils/properties"),L=N.Style;var z=e("../../../lang/evaluation/element_props");var D=e("../../../u/shared/mode_check");var q=20;function B(e){var t=e.instance;b((function(){t.do_hide()}));j((function(){var e=t.canvas;var r=e.parent();if(t.edit_mode()){r=r.parent()}var n=false;var o=null;var s=null;if(t.run_mode()){var i="click.groupfocus".concat(k.LUID());o=function r(){$("body").on(i,(function(r){var o;var s=$(".tt-dropdown-menu");var i=t.is_visible()&&!e.data("GroupWithFocus_loading")&&e[0]!==r.target&&!$.contains(e[0],r.target)&&!((o=$(r.target).attr("class"))!=null&&o.match(/\bselect2-/))&&!(s.length>0&&$.contains(s[0],r.target));if(i){if(D.running_test()){t.do_hide()}else{n=true;setTimeout((function(){S.WaitFor(g().workflow.everything_done_key(),(function(){n=false;t.do_hide()}))}),10)}}}))};s=function e(){$("body").off(i)}}var a="resize.groupfocus".concat(k.LUID());var l=null;var u=null;var c=null;function f(){var e,t;(e=l)==null?void 0:e.disconnect();(t=u)==null?void 0:t.disconnect();$(window).off(a);l=null;u=null;c=null}var d=t.autorun((function(){if(!t.is_visible()){var e;(e=s)==null?void 0:e();f();return}t.autorun((function(){var e,s;var i=t.get_static_property("offset_left");var d=t.get_static_property("offset_top");function p(){var e;if(t.manual_position){return}if(!((e=c)!=null&&e.is(":visible"))){if(!n){t.state("gf_reference_position",{position:"absolute",top:"0px",left:"0px"})}f();return}var o=t.run_mode()&&O.is_fixed(c);var s=c.offset();var a=r.offset();var u=s.left-a.left;var _=s.top-a.top;if(o){u-=window.scrollX;_-=window.scrollY}var m=w.get_public_setting("bubble_version")>=20;var y=m?c.outerHeight():c.height();var v=m?c.outerWidth():c.width();var b=u+i;var h=_+d+y;t.state("gf_reference_position",{position:o?"fixed":"absolute",left:"".concat(b,"px"),top:"".concat(h,"px")});var j=-_;var g=-u;var S=_-r.height()+y;var k=u-r.width()+v;if(typeof IntersectionObserver!=="undefined"){var A;(A=l)==null?void 0:A.disconnect();l=new IntersectionObserver((function(e){if(e[0].intersectionRatio<1){p()}}),{root:o?null:r[0],rootMargin:"".concat(j,"px ").concat(k,"px ").concat(S,"px ").concat(g,"px"),threshold:1});l.observe(c[0])}}var _=t.get_static_property("reference");if(t.edit_mode()){c=g().visual_edit.current_editor_canvas.getWrapper(_)}else{var m;c=(m=t.find_instance_by_id(_))==null?void 0:m.canvas}(e=o)==null?void 0:e();if(!((s=c)!=null&&s.is(":visible"))){t.state("gf_reference_position",{position:"absolute",top:"0px",left:"0px"});f();return}p();$(window).off(a);$(window).on(a,(function(){p()}));if(typeof ResizeObserver!=="undefined"){var y;(y=u)==null?void 0:y.disconnect();u=new ResizeObserver((function(e){p()}));u.observe(c[0])}}))}),(function(){var e;f();(e=s)==null?void 0:e()}));d.set_run_immediately(true)}));b((function(){t.manual_position=false;t.on_message("position_element",(function(e){t.manual_position=true;t.state("gf_reference_position",{top:"".concat(e.Y,"px"),left:"".concat(e.X,"px"),position:e.position})}))}));return function(){var t=s.cloneNode(true);(0,o.use)(P,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(R,e));(0,o.effect)((function(r){var n=e.id,s=e.style,i=p(p({},e.classList),{},_({},e.containerClass,true));n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}()}t.exports=E(B,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:C(r),styles:[new L((function(e){var t,r;return{"min-width":z.min_width_css(e),"max-width":(t=z.max_width_css(e))!=null?t:"","min-height":z.min_height_css(e),"max-height":(r=z.max_height_css(e))!=null?r:"",height:e.element.fit_height()?"auto":"initial",right:q,bottom:e.element.fit_height()?"unset":q,"z-index":g().bv().MAX_POPUP_ZINDEX+e.element.get_zindex(),"margin-right":"auto","overflow-y":"auto"}}),{noWaitVisible:true,outerPositioning:true}),new L((function(e){var t;return(t=e.state("gf_reference_position"))!=null?t:{position:"absolute"}}),{alwaysDynamic:true,outerPositioning:true})].concat(i(I(r)),i(x.basicStyling(e)))}}))},{"../../../lang/appquery":535,"../../../lang/evaluation/element_props":568,"../../../lib":614,"../../../renderer/solid_utils/autorun_signals":640,"../../../u/client/b_ui":677,"../../../u/shared/async/b_async":695,"../../../u/shared/mode_check":713,"../../../u/shared/uuid":716,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],251:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=(0,n.template)('<iframe src="about:blank"></iframe>',2),s=(0,n.template)("<div></div>",2);function i(e,t){return f(e)||c(e,t)||l(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function f(e){if(Array.isArray(e))return e}var d={template:function(){},createContext:function(){},delegateEvents:function(){}},p=d.createSignal,_=d.Show,m=d.onMount,y=d.onCleanup,v=d.createEffect;var b=e("../shared/video_elements");var h=e("./utils/createElement"),j=h.createElement;var g=e("./utils/element_styles");var w=e("./utils/directives"),O=w.defaultEventHandlers,S=w.jqueryHTML;var k=e("./utils/properties"),A=k.Property;var E={template:function(){},createContext:function(){},delegateEvents:function(){}},x=E.isServer;var M=e("../../../lang/evaluation/element_eval");var P=e("../../../u/shared/mode_check");t.exports=j(T,(function(e){return{deferDrawing:e.get_static_property("defer_drawing")}}),(function(e,t){var r=t.deferDrawing;return{properties:{html:new A((function(e){return M.evaluate_property(e,"html")}),{noWaitVisible:!r}),useIframe:new A((function(e){return M.evaluate_property(e,"useiframe")}),{noWaitVisible:true})},styles:g.placedStyling(e)}}));function T(e){var t=function t(){return e.html};if(e.deferDrawing){var r=p(false),a=i(r,2),l=a[0],u=a[1];m((function(){e.instance.wait_for_visible_lite((function(){u(true)}))}));t=function t(){return l()?e.html:""}}function c(){var e,r;var s=function t(n){if(e.contentWindow){e.contentWindow.contents=n;if(P.running_test()){e.contents=n}e.src='javascript:window["contents"]'}else{r=setTimeout((function(){return t(n)}),100)}};v((function(){s(t());y((function(){return clearTimeout(r)}))}));return function(){var t=o.cloneNode(true);var r=e;typeof r==="function"?(0,n.use)(r,t):e=t;t.style.setProperty("width","100%");t.style.setProperty("height","100%");(0,n.effect)((function(){return(0,n.setAttribute)(t,"sandbox",b.should_block_cookies()?"allow-scripts allow-same-origin":undefined)}));return t}()}return(0,n.createComponent)(_,{get when(){return e.useIframe},get fallback(){return function(){var r=s.cloneNode(true);(0,n.use)(S,r,(function(){return t()}));(0,n.use)(O,r,(function(){return e.instance}));var o=e.ref;typeof o==="function"?(0,n.use)(o,r):e.ref=r;(0,n.effect)((function(t){var o=e.id,s=e.style,i=e.classList,a=x?e.html:undefined;o!==t._v$4&&(0,n.setAttribute)(r,"id",t._v$4=o);t._v$5=(0,n.style)(r,s,t._v$5);t._v$6=(0,n.classList)(r,i,t._v$6);a!==t._v$7&&(r.innerHTML=t._v$7=a);return t}),{_v$4:undefined,_v$5:undefined,_v$6:undefined,_v$7:undefined});return r}()},get children(){var t=s.cloneNode(true);(0,n.use)(O,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,n.use)(r,t):e.ref=t;(0,n.insert)(t,(0,n.createComponent)(c,{}));(0,n.effect)((function(r){var o=e.id,s=e.style,i=e.classList;o!==r._v$&&(0,n.setAttribute)(t,"id",r._v$=o);r._v$2=(0,n.style)(t,s,r._v$2);r._v$3=(0,n.classList)(t,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}})}},{"../../../lang/evaluation/element_eval":567,"../../../u/shared/mode_check":713,"../shared/video_elements":370,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],252:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.concat.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=(0,o.template)('<button><svg viewbox="0 -18 50 50"><text class="fa" x="50%" y="50%" text-anchor="middle"></text></svg></button>',6);function i(e){return c(e)||u(e)||l(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function u(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c(e){if(Array.isArray(e))return f(e)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){t=m(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e){var t=y(e,"string");return n(t)==="symbol"?t:String(t)}function y(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v=e("../shared/icons");var b=e("./utils/createElement"),h=b.createElement;var j=e("./utils/element_styles");var g=e("./utils/directives"),w=g.defaultEventHandlers;var O=e("./utils/properties"),S=O.Property,k=O.Style;var A=e("../../../lang/evaluation/element_eval");function E(e){return function(){var t=s.cloneNode(true),r=t.firstChild,n=r.firstChild;(0,o.use)(w,t,(function(){return e.instance}));var i=e.ref;typeof i==="function"?(0,o.use)(i,t):e.ref=t;r.style.setProperty("width","100%");r.style.setProperty("height","100%");n.style.setProperty("font-size","50px");n.style.setProperty("fill","currentColor");(0,o.insert)(n,(function(){return e.icon}));(0,o.effect)((function(r){var n=e.id,s=p({display:"block"},e.style),i=p(p({},e.classList),{},{"fa-spin":e.spin}),a=e.tabIndex;n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);a!==r._v$4&&(0,o.setAttribute)(t,"tabindex",r._v$4=a);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined,_v$4:undefined});return t}()}t.exports=h(E,null,(function(e){return{properties:{icon:new S((function(e){var t=A.evaluate_property(e,"icon");if(t==null)return undefined;var r="".concat(t.split(" ")[1]);return v.get_static_icon(r)})),spin:new S((function(e){return A.evaluate_property(e,"spin_icon")})),tabIndex:new S((function(e){if(A.evaluate_property(e,"button_disabled")){return"-1"}else{return""}}))},styles:[new k((function(e){return{color:A.evaluate_property(e,"icon_color")}}))].concat(i(j.placedStyling(e)))}}))},{"../../../lang/evaluation/element_eval":567,"../shared/icons":358,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],253:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.assign.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=(0,o.template)('<div class="aspect-ratio"></div>',2),i=(0,o.template)("<div><img></div>",3);function a(e){return c(e)||u(e)||b(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c(e){if(Array.isArray(e))return h(e)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){t=_(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(e,t){return g(e)||j(e,t)||b(e,t)||v()}function v(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function j(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function g(e){if(Array.isArray(e))return e}var w={template:function(){},createContext:function(){},delegateEvents:function(){}},O=w.Show,S=w.createSignal,k=w.createEffect,A=w.createMemo,E=w.onCleanup;var x=e("./utils/createElement"),M=x.createElement;var P=e("./utils/element_styles");var T=e("./utils/directives"),I=T.defaultEventHandlers;var C=e("./utils/properties"),R=C.Property,N=C.Style;var L=e("../shared/image_utils");var z=e("../../../renderer/solid_utils/autorun_signals"),D=z.createWatcher;var q=e("../../../u/shared/b_object");var B=e("../../../shared/apps_utilities");var U=e("../../../lang/appquery");var W=e("../../../lang/evaluation/element_eval");var F=e("../../../lang/evaluation/element_props");var G="aspect-ratio";var X=" .".concat(G);var $=" img";function V(e){var t=e.property("src");return!t.is_empty()&&t.is_static()&&e.get_static_property("src",true)!==""}function H(e){var t=e.instance;var r=S(L.transparent_image()),n=y(r,2),a=n[0],l=n[1];var u=D((function(){return t.current_width()}));var c=D((function(){return t.current_height()}));var f=D((function(){return F.is_fitting_height(t)}));var p=null;k((function(r){if(u()==null||c()==null)return;var n;if(t.run_mode()||!e.editorPreviewImage){n=e.src}else{n=e.editorPreviewImage}if(!n||q.is_empty(n)){l(L.transparent_image());return null}function o(e,n,o,s){var i=L.optimize_image(e,n,o,s);function a(){p=i;L.download_image(i,t,(function(e){if(p!==i)return;l(e)}))}if(e===r&&!L.downloaded_images[i]&&!B.is_test(U.appname())){var u=setTimeout(a,300);E((function(){clearTimeout(u)}))}else{a()}}if(e.isStatic){o(n,u(),c(),{})}else{if(f()==null){return}if(!e.useAspectRatio&&f()){o(n,u())}else{o(n,u(),c())}}return n}),null);var _=A((function(){if(e.cropData){return{"margin-top":"".concat(e.cropData.top_offset*c(),"px")}}else{return{}}}));return function(){var t=i.cloneNode(true),r=t.firstChild;(0,o.use)(I,t,(function(){return e.instance}));var n=e.ref;typeof n==="function"?(0,o.use)(n,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(O,{get when(){return e.useAspectRatio},get children(){var t=s.cloneNode(true);(0,o.effect)((function(r){return(0,o.style)(t,e.childStyles[X],r)}));return t}}),r);(0,o.effect)((function(n){var s=e.id,i=e.style,l=e.classList,u=a(),c=e.altTag,f=d(d({},e.childStyles[$]),_());s!==n._v$&&(0,o.setAttribute)(t,"id",n._v$=s);n._v$2=(0,o.style)(t,i,n._v$2);n._v$3=(0,o.classList)(t,l,n._v$3);u!==n._v$4&&(0,o.setAttribute)(r,"src",n._v$4=u);c!==n._v$5&&(0,o.setAttribute)(r,"alt",n._v$5=c);n._v$6=(0,o.style)(r,f,n._v$6);return n}),{_v$:undefined,_v$2:undefined,_v$3:undefined,_v$4:undefined,_v$5:undefined,_v$6:undefined});return t}()}t.exports=M(H,(function(e){return{isStatic:V(e),useAspectRatio:e.has_fixed_aspect_ratio()}}),(function(e,t){var r=t.isStatic,n=t.useAspectRatio;return{properties:{altTag:new R((function(e){return W.evaluate_property(e,"alt_tag")})),src:new R((function(e){return W.evaluate_property(e,"src")})),cropData:new R((function(e){return W.evaluate_property(e,"crop_data")})),editorPreviewImage:new R((function(e){return W.evaluate_property(e,"editor_preview_image")}))},styles:[new N((function(e){var t={top:"0px",left:"0px",display:"block",width:"100%",height:"100%"};if(r){t.position="absolute";var o=W.evaluate_property(e,"crop_data");if(o!=null){var s=function e(t){return"".concat(Math.floor(t*100),"%")};Object.assign(t,{width:s(o.width_factor),height:s(o.height_factor),"margin-left":s(o.left_offset)})}}else{var i={rescale:"contain",adjust_height:"contain",stretch:"fill",zoom:"cover"};var a=W.evaluate_property(e,"stretch_or_rescale");t["object-fit"]=i[a];if(!n&&F.is_fitting_height(e)){t.position="relative";t.height="auto"}else{t.position="absolute"}}return t}),{selector:$}),new N((function(e){if(W.evaluate_property(e,"four_border_style")){var t={};for(var r in["top","right","bottom","left"]){t["border-radius-".concat(r)]="".concat(W.evaluate_property(e,"border_roundness_".concat(r)),"px")}}else{return{"border-radius":"".concat(W.evaluate_property(e,"border_roundness"),"px")}}}),{selector:$}),new N((function(e){if(n){var t=e.get_static_property("aspect_ratio_height")/e.get_static_property("aspect_ratio_width");return{position:"relative",height:0,"padding-top":"".concat(t*100,"%")}}else{return{}}}),{selector:X})].concat(a(P.placedStyling(e)))}}))},{"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../renderer/solid_utils/autorun_signals":640,"../../../shared/apps_utilities":654,"../../../u/shared/b_object":702,"../shared/image_utils":359,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],254:[function(e,t,r){"use strict";var n={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.includes.js");var o=(0,n.template)("<input>",1);var s=e("../../../u/client/b_ui");var i=e("../../../u/client/b_window");var a=e("../../../u/shared/async/autorun");var l=e("../../../lang/evaluation/page_state");var u=e("../../input_mask");var c=e("../../../lang/btypes");var f=e("../../../lib");var d=e("../../../geolocation/b_location");var p=e("../../custom_tz_utilities");var _=e("../../../u/shared/b_date");var m=e("../../../lang/evaluation/element_eval");var y=e("./utils/createElement"),v=y.createElement;var b=e("./utils/element_styles");var h=e("./utils/directives"),j=h.defaultEventHandlers,g=h.inputChangeKeyupHandlers,w=h.enterHandler;var O=e("./utils/properties"),S=O.Property;var k={template:function(){},createContext:function(){},delegateEvents:function(){}},A=k.onMount,E=k.onCleanup;var x=e("../../../lang/timezone_override_settings"),M=x.has_input_timezone_controls_on;function P(e){if(M()){return p.get_custom_tz({static_eval:function t(r){return e.get_static_property(r)},dynamic_eval:function t(r){return m.evaluate_property(e,r)},not_overridden:true})}else{return f().current_timezone()}}function T(e){return e==="date"||e==="date_2"}function I(e,t){var r;var n=e.get_static_property("content_format");switch(n){case"int_number":r=parseInt(f().locale().parse_float(t));break;case"float_number":case"percentage":case"currency":r=f().locale().parse_float(t);break;case"geographic_address":r=function e(){return d.from_address(t)};break;case"date":case"date_2":{var o=P(e);r=_.mk_date(t,o);break}default:r=t;if(n==null||n==="text"||n==="numerical_ref"){if(e.get_static_property("limit_number_of_characters")){var s=e.get_static_property("character_limit");if(s!=null&&r!=null&&r.length>s){r=r.slice(0,s)}}}}if(typeof r==="number"&&isNaN(r)){return null}else{return r}}function C(e){if(i.is_on_mobile_or_tablet()){if(e==="int_number"||e==="us_phone"||e==="numerical_ref"){return"tel"}if(e==="float_number"){return"number"}}switch(e){case"password":return"password";case"email":return"email";default:return"input"}}function R(e){var t=e.instance;function r(e){var r={clearMaskOnLostFocus:true,showMaskOnHover:false,greedy:false,rightAlign:false,inputEventOnly:true};if(e==="currency"){r.prefix=m.evaluate_property(t,"currency_symbol");if(t.get_static_property("always_show_decimals")){r.digitsOptional=false;r.placeholder="0"}else{r.digitsOptional=true;r.placeholder=""}}if(e==="float_number"||e==="percentage"){var n=t.get_static_property("decimal_place");if(n!=null&&n>=0){r.digits=n;r.digitsOptional=false;r.placeholder="0";r._radixDance=true;r.inputEventOnly=false}if(e==="float_number"&&!t.get_static_property("show_thousands")){r.autoGroup=false;r.groupSeparator=""}}if(T(e)){r.timezone=P(t)}return r}var i=function e(){return t.get_static_property("show_thousands")};var d=function e(){return t.get_static_property("decimal_place")!=null};function p(e){if(!(e in u.masks)){return false}if(e==="int_number"){return i()}if(e==="float_number"){return i()||d()}return true}A((function(){var e=undefined;var n=t.autorun((function(){var n=t.get_static_property("content_format");var o=t.state("current_tz");if(t.state("has_been_changed")&&o===e){return}if(t.state("is_focused")){return}var s=t.state("value");if(n==="geographic_address"){s=c.get("geographic_address").runmode_display(s)}else if(t.run_mode()){if(p(n)){s=u.masks[n].format_val(s,r(n))}else if(typeof s==="number"){if(n==="int_number"){s=parseInt(s).toString()}else if(n==="float_number"){s=f().locale().format_decimal(s)}}}t.canvas.val(s!=null?s:"")}));E((function(){n.destroy()}))}));function _(){var e=t.get_static_property("content_format");if(e in u.masks){var r={};if(T(e)){r.timezone=t.state("current_tz")}return u.masks[e].get_val(t.get_canvas(),r)}else{return I(t,t.get_canvas().val())}}A((function(){if(t.run_mode()){t.on_message("set_focus",(function(){t.canvas.focus()}));var e=t.get_static_property("content_format");if(T(e)){var n=t.autorun((function(){t.state("current_tz",P(t))}));E((function(){n.destroy()}))}if(e==="password"){t.canvas.passMeter({events:"keyup input change",afterTest:function e(r){if(r===0&&t.canvas.val()===""){r=null}t.state("pw_strength",r)}})}if(e==="int_number"&&!i()){s.make_numeric(t.canvas,true)}else if(e==="float_number"&&!i()&&!d()){s.make_numeric(t.canvas)}else{if(e in u.masks){var o=a.autorun((function(){var n=u.masks[e].get_mask(r(e));t.canvas.inputmask(n);t.canvas.off("click.inputmask");t.canvas.on("click.inputmask",(function(e){$(e.target).trigger("inputmaskclick")}))}));E((function(){o.destroy()}))}}}}));A((function(){t.canvas.blur((function(){l.input_focused(false)}));t.canvas.focus((function(){l.input_focused(true)}))}));return function(){var r=o.cloneNode(true);(0,n.use)(w,r,(function(){return[t,e.needsMetaKey]}));(0,n.use)(g,r,(function(){return[t,_]}));(0,n.use)(j,r,(function(){return e.instance}));var s=e.ref;typeof s==="function"?(0,n.use)(s,r):e.ref=r;(0,n.effect)((function(o){var s=e.id,i=e.style,a=e.classList,l=e.type==="number"?"input":e.type,u=e.placeholder,c=!t.run_mode(),f=e.maxlength,d=e.disabled,p=e.type==="number"?"decimal":undefined,_=e.type==="password"?"new-password":undefined;s!==o._v$&&(0,n.setAttribute)(r,"id",o._v$=s);o._v$2=(0,n.style)(r,i,o._v$2);o._v$3=(0,n.classList)(r,a,o._v$3);l!==o._v$4&&(0,n.setAttribute)(r,"type",o._v$4=l);u!==o._v$5&&(0,n.setAttribute)(r,"placeholder",o._v$5=u);c!==o._v$6&&(r.readOnly=o._v$6=c);f!==o._v$7&&(0,n.setAttribute)(r,"maxlength",o._v$7=f);d!==o._v$8&&(r.disabled=o._v$8=d);p!==o._v$9&&(0,n.setAttribute)(r,"inputmode",o._v$9=p);_!==o._v$10&&(0,n.setAttribute)(r,"autocomplete",o._v$10=_);return o}),{_v$:undefined,_v$2:undefined,_v$3:undefined,_v$4:undefined,_v$5:undefined,_v$6:undefined,_v$7:undefined,_v$8:undefined,_v$9:undefined,_v$10:undefined});return r}()}t.exports=v(R,null,(function(e){return{properties:{type:new S((function(e){return C(e.get_static_property("content_format"))}),{alwaysDynamic:true}),placeholder:new S((function(e){return m.evaluate_property(e,"placeholder")})),maxlength:new S((function(e){if(e.get_static_property("limit_number_of_characters")){var t=m.evaluate_property(e,"character_limit");var r=m.evaluate_property(e,"content_format");if(t&&[null,undefined,"text","numerical_ref"].includes(r)){return t}}return null})),disabled:new S((function(e){return m.evaluate_property(e,"disabled")})),needsMetaKey:new S((function(e){return m.evaluate_property(e,"not_submit_on_enter")})),tz_dynamic:new S((function(e){return m.evaluate_property(e,"tz_dynamic")}))},styles:b.placedStyling(e)}}))},{"../../../geolocation/b_location":505,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/page_state":575,"../../../lang/timezone_override_settings":604,"../../../lib":614,"../../../u/client/b_ui":677,"../../../u/client/b_window":678,"../../../u/shared/async/autorun":693,"../../../u/shared/b_date":699,"../../custom_tz_utilities":374,"../../input_mask":376,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.to-string.js":967}],255:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.concat.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=f(e("./utils/createElement"));var i=e("./utils/element_styles");var a=e("./utils/directives");var l=e("./utils/container_utils");var u={template:function(){},createContext:function(){},delegateEvents:function(){}};var c=f(e("../../../safe_require"));function f(e){return e&&e.__esModule?e:{default:e}}var d=(0,o.template)("<div></div>",2);function p(e){return v(e)||y(e)||m(e)||_()}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(!e)return;if(typeof e==="string")return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}function y(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function v(e){if(Array.isArray(e))return b(e)}function b(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){t=w(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function w(e){var t=O(e,"string");return n(t)==="symbol"?t:String(t)}function O(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S(e){(0,u.onMount)((function(){var t,r;return(t=(r=e.instance.element.E).legacy_container_mount)==null?void 0:t.call(r,e.instance)}));return function(){var t=d.cloneNode(true);(0,o.use)(a.defaultEventHandlers,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(l.ChildWrapper,e));(0,o.effect)((function(r){var n=e.id,s=e.style,i=j(j({},e.classList),{},g({},e.containerClass,true));n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}()}t.exports=(0,s.default)(S,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:(0,l.containerProperties)(r),styles:[].concat(p((0,l.containerStyling)(r)),p((0,i.placedStyling)(e)))}}));c.default.safe_register("./core/core_elements/components/LegacyContainerComponent",t.exports)},{"../../../safe_require":643,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],256:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.concat.js");var s=(0,o.template)("<a></a>",2);function i(e){return c(e)||u(e)||l(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function u(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function c(e){if(Array.isArray(e))return f(e)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){t=m(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function m(e){var t=y(e,"string");return n(t)==="symbol"?t:String(t)}function y(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v=e("../../../u/client/b_ui");var b=e("../../../u/shared/b_object");var h=e("../../../u/shared/mode_check");var j=e("../shared/text_elements");var g=e("../shared/links");var w={template:function(){},createContext:function(){},delegateEvents:function(){}},O=w.createEffect,S=w.onCleanup,k=w.onMount;var A=e("./utils/createElement"),E=A.createElement;var x=e("./utils/element_styles");var M=e("./utils/properties"),P=M.Property,T=M.Style;var I=e("./utils/directives"),C=I.defaultEventHandlers;var R=e("../../../constants/runmode");var N=e("../../../lang/application");var L=e("../../../lang/appquery");var z=e("../../url_data");var D=e("../../../lib");var q=e("../../../constants/lang");var B=e("../../../lang/evaluation/evaluate");var U=e("../../../lang/evaluation/eval_node_state");var W=e("../../../lang/evaluation/element_eval");var F=e("querystring");var G=e("../../../renderer/solid_utils/autorun_signals"),X=G.createWatcher;function $(e){var t=W.evaluate_property(e,"linktype");function r(e){var t,r;return(t=N.page_id_to_name(e))!=null?t:(r=L.get_page_by_name(e))==null?void 0:r.name()}if(t==="pagelink"){var n;var o=W.evaluate_property(e,"page");var s=(n=r(o))!=null?n:"";var i=W.evaluate_property(e,"data_to_send");if(i){var a=L.get_page_by_name(s);if(a!=null){var l=z.get_data_to_send(i,a.get_static_property("readable_field"));if(l){s+="/"+l}}}var u={};if(e.get_static_property("keep_current_page_params")){Object.assign(u,D().location.get_query())}if(h.is_debug_mode()){u.debug_mode=true}if(W.evaluate_property(e,"add_parameters")){var c=e.element.property("url_parameters");U.with_eval_node(c,(function(){var t=B.evaluate_properties(c.json._raw(),e.prop_eval_context(),q.DETECT_FIELD_NAMES,[],c.json._path());for(var r=0,n=Object.values(t);r<n.length;r++){var o=n[r],s=o.key,i=o.value;if(!g.forbidden_url_keys.includes(s)){u[s]=i}}}))}if(s==="index"){s=""}var f=D().location.get_server_base()+s;if(!b.is_empty(u)){f+="?"+F.stringify(u)}return f}else{var d;var p=W.evaluate_property(e,"url");if(((d=p)==null?void 0:d.indexOf("//"))===-1&&!g.href_attributes.includes(p.split(":")[0])&&p[0]!=="#"){p="//"+p}return p}}function V(e){var t=e.instance;O((function(){if(!e.showIcon&&e.backgroundStyle!=="image"&&e.useDotDotDot){j.apply_dotdotdot(t,t.edit_mode()?"letter":"words");S((function(){return j.remove_dotdotdot(t)}))}}));var r=function r(n){if(e.verticalCenter||t.run_mode()&&e.useDotDotDot){return"<div>".concat(n,"</div>")}else{return n}};O((function(){var n=t.canvas;if(e.backgroundStyle==="image"){n.text("");return}if(e.showIcon){n.empty();var o=v.div(e.icon+" inner-element");o.css({"font-family":"FontAwesome","padding-left":"3px"});n.append(o)}else{n.html(r(e.noHtml?v.bbcode_to_html(e.text,true).trim():e.text))}}));var n=X((function(){return $(t)}));if(t.run_mode()){k((function(){W.on_property_change(t,"link_disabled",(function(e){t.state("link_disabled",e)}))}));k((function(){if(h.on_phonegap()){t.canvas.on("touchend",(function(){window.open(n(),"_blank","location=yes,enableViewportScale=yes")}));t.canvas.on("click",(function(e){e.preventDefault();return false}))}}))}return function(){var t=s.cloneNode(true);(0,o.use)(C,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.effect)((function(r){var s;var i=e.id,a=e.style,l=p(p({},e.classList),{},(s={},_(s,R.CLICKABLE_ELEMENT,true),_(s,"bubble-r-vertical-center",e.verticalCenter),s)),u=e.target,c=e.rel,f=n();i!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=i);r._v$2=(0,o.style)(t,a,r._v$2);r._v$3=(0,o.classList)(t,l,r._v$3);u!==r._v$4&&(0,o.setAttribute)(t,"target",r._v$4=u);c!==r._v$5&&(0,o.setAttribute)(t,"rel",r._v$5=c);f!==r._v$6&&(0,o.setAttribute)(t,"href",r._v$6=f);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined,_v$4:undefined,_v$5:undefined,_v$6:undefined});return t}()}t.exports=E(V,(function(e){return{showIcon:e.get_styleable_static_property("show_icon")}}),(function(e,t){var r=t.showIcon;return{properties:p(p({},r?{icon:new P((function(e){return W.evaluate_property(e,"icon")}))}:{text:new P((function(e){return W.evaluate_property(e,"text")})),useDotDotDot:new P(j.could_clip),noHtml:new P((function(e){return W.evaluate_property(e,"no_html")}))}),{},{backgroundStyle:new P((function(e){return W.evaluate_property(e,"background_style")})),verticalCenter:new P((function(e){return W.evaluate_property(e,"vertical_centering")})),target:new P((function(e){return W.evaluate_property(e,"open_in_new_tab")?"_blank":"_self"})),rel:new P((function(e){return W.evaluate_property(e,"nofollow")?"nofollow":null}))}),styles:[new T((function(e){return p({"word-break":"break-word"},W.evaluate_property(e,"background_style")==="none"?{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","user-select":"none"}:{})})),new T((function(e){if(W.evaluate_property(e,"link_disabled")){return{cursor:"not-allowed","pointer-events":"none"}}else{return{cursor:"pointer","pointer-events":"auto"}}}))].concat(i(x.placedStyling(e)))}}))},{"../../../constants/lang":81,"../../../constants/runmode":91,"../../../lang/application":534,"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/eval_node_state":571,"../../../lang/evaluation/evaluate":572,"../../../lib":614,"../../../renderer/solid_utils/autorun_signals":640,"../../../u/client/b_ui":677,"../../../u/shared/b_object":702,"../../../u/shared/mode_check":713,"../../url_data":408,"../shared/links":361,"../shared/text_elements":369,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,querystring:1237}],257:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.promise.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");var o=(0,n.template)("<div></div>",2);function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t){return u(e)||l(e,t)||d(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function c(e){return _(e)||p(e)||d(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function p(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _(e){if(Array.isArray(e))return m(e)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){t=h(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function h(e){var t=j(e,"string");return s(t)==="symbol"?t:String(t)}function j(e,t){if(s(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(s(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g=e("../../../lib");var w={template:function(){},createContext:function(){},delegateEvents:function(){}},O=w.createEffect,S=w.createSignal,k=w.onCleanup,A=w.onMount;var E=e("../../../lang/evaluation/page_state");var x=e("../../../u/shared/mode_check");var M=e("../../../u/client/b_window");var P=e("../../../u/client/color");var T=e("../shared/image_utils");var I=e("./utils/createElement"),C=I.createElement;var R=e("./utils/element_styles");var N=e("./utils/directives"),L=N.defaultEventHandlers;var z=e("./utils/container_utils"),D=z.containerStyling,q=z.containerProperties,B=z.ChildWrapper;var U=e("../../../lang/evaluation/element_eval");var W=e("./utils/properties"),F=W.Property,G=W.Style;var X={template:function(){},createContext:function(){},delegateEvents:function(){}},V=X.style;var H=e("../../../constants/server_rendering"),Y=H.AT_ROOT;var K=e("../../../renderer/solid_utils/autorun_signals"),J=K.createAutorun;var Z=e("../../../lang/font_tokens"),Q=Z.load_font_tokens_default,ee=Z.load_font_tokens_user;var te="".concat(Y," body");var re=["background_style","bgcolor","background_gradient_direction","background_gradient_from","background_gradient_mid","background_gradient_to","background_image","center_background","background_size_cover","repeat_background_vertical","repeat_background_horizontal","background_color_if_empty_image","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos","background_gradient_custom_angle"];var ne=function e(t){var r={};for(var n=0,o=re;n<o.length;n++){var s=o[n];r[s]=U.evaluate_property(t,"backdrop_"+s)}if(t.run_mode()){r.backdrop_paralax_speed=U.evaluate_property(t,"backdrop_paralax_speed");r.backdrop_image_paralax=U.evaluate_property(t,"backdrop_image_paralax")}return v(v({},{is_backdrop:true}),r)};var oe=function e(t){if(t.repeat_background_vertical&&t.repeat_background_horizontal){return"repeat"}else if(t.repeat_background_vertical){return"repeat-y"}else if(t.repeat_background_horizontal){return"repeat-x"}else{return"no-repeat"}};var se=function e(t){return[null,undefined,"linear"].includes(t.background_gradient_style)};var ie=function e(t){var r,n,o;r=t.background_gradient_from;n=t.background_gradient_to;var s,i;if(se(t)){if(t.background_gradient_direction==="custom"){var a;s=((a=t.background_gradient_custom_angle)!=null?a:45)+"deg"}else{var l;s=(l=t.background_gradient_direction)!=null?l:"top";if(s==="top"||s==="bottom"){o=0;if(s==="bottom"){i=r;r=n;n=i;s="top"}}else if(s==="left"||s==="right"){o=1;if(s==="right"){i=r;r=n;n=i;s="left"}}}}return[r,n,o,s]};t.exports=C(ae,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:v({title:new F((function(e){return U.evaluate_property(e,"title")}),{mayContainDynamic:true}),backdropBackgroundData:new F((function(e){return ne(e)}),{fallback:{}})},q(r)),styles:[new G((function(t){var r=ne(t);if(r.background_style!=="video"){var n={};if(r.background_style==="bgcolor"){n["background-color"]=r.bgcolor}else if(r.background_style==="none"){n["background-color"]="transparent"}else if(r.background_style==="image"){if(!r.backdrop_image_paralax){n["background-color"]=r.background_color_if_empty_image}if(r.background_image){var o;n["background-repeat"]=oe(r);if(r.center_background){if(r.is_backdrop){n["background-position"]="center top"}else{n["background-position"]="center"}}else{n["background-position"]=""}if(r.background_size_cover||(o=e.root())!=null&&o.use_responsive_algorithm()&&r.crop_responsive){n["background-size"]="cover";n["-webkit-background-size"]="cover";n["-moz-background-size"]="cover";n["-o-background-size"]="cover"}else{n["background-size"]=""}if(r.backdrop_image_paralax){if(!M.is_on_mobile_or_tablet()){n["background-image"]="none"}}}}return n}else{return{}}})),new G((function(e){var t=ne(e);if(t.background_style==="gradient"){var r=ie(t),n=i(r,4),o=n[0],s=n[1],a=n[2],l=n[3];var u=t.background_gradient_mid;var c,f;var d=["-webkit-","-moz-","-o-","-ms-",""];if(u){c="".concat(o," 0%, ").concat(u," 50%, ").concat(s," 100%")}else{c="".concat(o," 0%, ").concat(s," 100%")}if(se(t)){f="linear-gradient(".concat(l,", ").concat(c,")")}else{var p,_,m,y;d=["","-webkit-","-moz-","-o-","-ms-"];(p=t.background_radial_gradient_shape)!=null?p:t.background_radial_gradient_shape="ellipse";(_=t.background_radial_gradient_size)!=null?_:t.background_radial_gradient_size="farthest-corner";(m=t.background_radial_gradient_xpos)!=null?m:t.background_radial_gradient_xpos=10;(y=t.background_radial_gradient_ypos)!=null?y:t.background_radial_gradient_ypos=10;f="radial-gradient(".concat(t.background_radial_gradient_shape," ").concat(t.background_radial_gradient_size," at ").concat(t.background_radial_gradient_xpos,"% ").concat(t.background_radial_gradient_ypos,"%, ").concat(c,")")}var v=[];for(var b=0,h=d;b<h.length;b++){var j=h[b];v.push(j+f)}v.push(o);var g=P.RGBA_to_ARGB(o);var w=P.RGBA_to_ARGB(s);return{background:v,filter:"progid:DXImageTransform.Microsoft.gradient( startColorstr='".concat(g,"', endColorstr='").concat(w,"',GradientType=").concat(a,")")}}else{return{}}})),new G((function(t){var r,n;var o={"min-width":e.root_min_width(),"max-width":(r=e.root_max_width())!=null?r:"","min-height":e.root_min_height(),"max-height":(n=e.root_max_height())!=null?n:""};if(t.run_mode()){var s=t.element.root_min_height();Object.assign(o,{width:t.element.container_layout()==="fixed"?"".concat(t.element.get_width(),"px"):"100%","min-height":["max(".concat(s,"px, 100%)"),"100%"],"margin-right":"auto","margin-left":"auto",position:"relative","z-index":2});if(t.element.container_layout()==="column"){o.height="max-content";o["flex-shrink"]=0}}else{o.width=g().visual_edit.root_width()}return o}),{noWaitVisible:true,outerPositioning:true}),new G((function(e){if(e.run_mode()){var t={height:"100%"};if(e.element.container_layout()==="column"){t.display="flex";t["flex-direction"]="column"}return t}else{return{}}}),{noWaitVisible:true,selector:te}),R.tokenStyling()].concat(c(D(r)),c(R.basicStyling(e)))}}));function ae(e){var t=e.instance;var r=S(),s=i(r,2),a=s[0],l=s[1];var u=function e(t,r,n){t.data("_last_downloaded_image",r);T.download_image(r,n,(function(){if(r===t.data("_last_downloaded_image")){l('url("'.concat(r,'")'))}}));t.css("background-image",a())};A((function(){if(t.run_mode()){t.register_workflows(t.element.events());E.page_width($(window).width());$(window).on("resize",(function(){E.page_width($(window).width())}));E.page_current_scroll_position($(window).scrollTop());$(window).on("scroll wheel touchmove",(function(){E.page_current_scroll_position($(window).scrollTop())}))}}));O((function(){if(t.run_mode()){if(e.title){window.document.title=e.title}}}));A((function(){if(x.is_debug_mode()){var e=300;if(t.element.container_layout()==="fixed"){t.canvas.css("height",t.canvas.height()+e)}else{t.canvas.css("padding-bottom",e)}}}));var c;O((function(){if(e.backdropBackgroundData.background_style==="video"){if(t.run_mode()&&!M.is_on_mobile_or_tablet()){if(!c){c=new $.BigVideo;c.init()}$("#big-video-wrap").css("background","black");var r=$("#big-video-wrap video");r.attr("muted","");var n=T.optimize_image(U.evaluate_property(t,"backdrop_video_source"),undefined,undefined,undefined,true);Promise.resolve().then((function(){c.show(n,{forceAutoplay:true,doLoop:true,ambient:true})}));var o=t.autorun((function(){if(U.evaluate_property(t,"backdrop_video_silence")){r.attr("muted","");c.getPlayer().muted(true)}else{c.getPlayer().volume(.8);r.removeAttr("muted");c.getPlayer().muted(false)}}));k((function(){o.destroy()}))}else{var s=t.get_canvas();s.css("background","black");var i=U.evaluate_property(t,"backdrop_video_image_fallback");if(i){s.css({"background-image":"url(".concat(T.optimize_image(i,s.width()),")"),"background-position":"center top"})}}}}));O((function(){var r=t.canvas;var n=t.element;if(e.backdropBackgroundData.background_style==="image"){if(e.backdropBackgroundData.background_image){if(e.backdropBackgroundData.background_size_cover){if(t.run_mode()){if(!e.backdropBackgroundData.backdrop_image_paralax){var o=T.optimize_image(e.backdropBackgroundData.background_image,r.width());u(r,o,t)}}}else if(e.backdropBackgroundData.crop_responsive){if(t.run_mode()){var s,i;var a=t.autorun((function(){var e=U.evaluate_property(t,"width");var o=U.evaluate_property(t,"height");var a=U.evaluate_property(t,"background_image");var l=t.responsive_mode()&&e===n.get_width();function c(){var n=T.optimize_image(a,e,o,{fit:"crop"});u(r,n,t)}s=T.optimize_image(a,e,o);if(a===i&&!T.downloaded_images[s]||l){setTimeout((function(){if(s===T.optimize_image(a,e,o)){c()}}),300)}else{i=a;c()}}));k((function(){a.destroy()}))}}else if(!e.backdropBackgroundData.backdrop_image_paralax){var l=T.optimize_image(e.backdropBackgroundData.background_image);u(r,l,t)}if(e.backdropBackgroundData.backdrop_image_paralax){if(!M.is_on_mobile_or_tablet()){var c=T.optimize_image(e.backdropBackgroundData.background_image,r.width());r.parallax({imageSrc:c,speed:e.backdropBackgroundData.backdrop_paralax_speed});$(".parallax-slider").attr({src:c})}else{u(r,T.optimize_image(e.backdropBackgroundData.background_image),t)}}}}}));A((function(){if(t.run_mode()){$("html, body").css("height","100%")}}));if(t.edit_mode()){J((function(){Q();ee()}))}O((function(t){var r=e.childStyles[te];V(document.body,r,t);return r}));O((function(t){var r=e.childStyles[Y];V(document.documentElement,r,t);return r}));return function(){var r=o.cloneNode(true);(0,n.use)(L,r,(function(){return e.instance}));var s=e.ref;typeof s==="function"?(0,n.use)(s,r):e.ref=r;(0,n.insert)(r,(0,n.createComponent)(B,(0,n.mergeProps)(e,{get children(){return e.children}})));(0,n.effect)((function(o){var s;var i=e.id,a=e.style,l=v(v({},e.classList),{},(s={},b(s,e.containerClass,true),b(s,"main-page",true),b(s,"page-element",t.edit_mode()),s));i!==o._v$&&(0,n.setAttribute)(r,"id",o._v$=i);o._v$2=(0,n.style)(r,a,o._v$2);o._v$3=(0,n.classList)(r,l,o._v$3);return o}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return r}()}},{"../../../constants/server_rendering":94,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/page_state":575,"../../../lang/font_tokens":589,"../../../lib":614,"../../../renderer/solid_utils/autorun_signals":640,"../../../u/client/b_window":678,"../../../u/client/color":681,"../../../u/shared/mode_check":713,"../shared/image_utils":359,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.promise.js":962,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],258:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.concat.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=(0,o.template)('<div class="greyout"></div>',2),i=(0,o.template)("<div></div>",2);function a(e){return f(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if(typeof e==="string")return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function c(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f(e){if(Array.isArray(e))return d(e)}function d(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){t=y(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function y(e){var t=v(e,"string");return n(t)==="symbol"?t:String(t)}function v(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b=e("./utils/createElement"),h=b.createElement;var j=e("./utils/element_styles");var g=e("./utils/directives"),w=g.defaultEventHandlers;var O=e("./utils/container_utils"),S=O.containerStyling,k=O.containerProperties,A=O.ChildWrapper;var E=e("./utils/properties"),x=E.Style;var M=e("../../../constants/popups"),P=M.HORIZONTAL_SPACING,T=M.INITIAL_POPUP_TOP,I=M.FILL_POPUP_BOTTOM;var C=e("../../../constants/runmode");var R=e("../../../renderer/solid_utils/autorun_signals"),N=R.createAutorun,L=R.onAfterMount;var z=e("../shared/popups");var D=e("../../../u/shared/async/autorun");var q=e("../../../shared/server_rendering/server_css");var B=e("../../../lang/evaluation/element_eval");var U=e("../../../lang/evaluation/element_props");var W={template:function(){},createContext:function(){},delegateEvents:function(){}},F=W.onMount;var G=e("../../../renderer/BodyPortal");var X="greyout";var V=".".concat(X);function H(e){var t=e.instance;F((function(){if(t.run_mode()){t.canvas.css({display:"none",top:T,position:"fixed"});t.manual_position=false;t.on_message("position_element",(function(e){t.manual_position=true;t.state("manual_position",{top:"".concat(e.Y,"px"),left:"".concat(e.X,"px"),position:e.position})}))}else{var e=t.canvas;if(t.edit_mode())e=e.parent();e.css({top:T,position:"absolute"})}t.state("greyout").css("display","none")}));if(t.run_mode()){N((function(){if(t.is_visible()){var e=t.current_height();D.autorun_top((function(){return z.get_popup_positioning(t,e)}))}}));L((function(){var e=null;$(window).on("resize.popup_"+t.element_id(),(function(){var r=window.innerHeight;if(e!==r){e=r;z.get_popup_positioning(t)}}));return function(){$(window).off("resize.popup_"+t.element_id())}}))}var r=function r(){return(0,o.createComponent)(G,{get children(){var r=s.cloneNode(true);(0,o.use)((function(e){return t.state("greyout",$(e))}),r);(0,o.effect)((function(n){var s=m({},q.toClass(t.element.ssr_key()),true),i=e.childStyles[V];n._v$=(0,o.classList)(r,s,n._v$);n._v$2=(0,o.style)(r,i,n._v$2);return n}),{_v$:undefined,_v$2:undefined});return r}})};var n=function t(){return function(){var t=i.cloneNode(true);(0,o.use)(w,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(A,e));(0,o.effect)((function(r){var n=e.id,s=e.style,i=_(_({},e.classList),{},m({},e.containerClass,true));n!==r._v$4&&(0,o.setAttribute)(t,"id",r._v$4=n);r._v$5=(0,o.style)(t,s,r._v$5);r._v$6=(0,o.classList)(t,i,r._v$6);return r}),{_v$4:undefined,_v$5:undefined,_v$6:undefined});return t}()};if(t.edit_mode()){return[(0,o.createComponent)(G,{get children(){return r()}}),(0,o.memo)(n)]}else{return[(0,o.memo)(r),(0,o.memo)(n)]}}t.exports=h(H,(function(e){return{shouldAddWrapper:e.should_add_extra_wrapper()}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:k(r),styles:[].concat(a(S(r)),a(j.basicStyling(e)),[new x((function(e){var t;return{left:0,right:0,"z-index":C.POPUP_ZINDEX+((t=e.state("popup_zindex"))!=null?t:0),"margin-left":"auto","margin-right":"auto",width:"calc(100% - ".concat(P*2,"px)"),height:e.element.fit_height()?"auto":"initial",bottom:e.element.fit_height()?"":I,"overflow-y":"auto","grid-template-rows":e.element.fit_height()?"minmax(100%, max-content)":undefined}}),{noWaitVisible:true,outerPositioning:true}),new x((function(e){var t,r;return{"min-width":U.min_width_css(e),"max-width":(t=U.max_width_css(e))!=null?t:"","min-height":U.min_height_css(e),"max-height":(r=U.max_height_css(e))!=null?r:""}}),{outerPositioning:true}),new x((function(e){var t;return(t=e.state("manual_position"))!=null?t:{}}),{alwaysDynamic:true}),new x((function(e){var t;return{position:e.run_mode()?"fixed":"absolute",top:"0px",left:"0px",width:"100%",height:"100%","background-color":B.evaluate_property(e,"greyout_color"),"z-index":!e.run_mode()?C.POPUP_ZINDEX-1:C.POPUP_ZINDEX+((t=e.state("popup_zindex"))!=null?t:0)}}),{selector:V})])}}))},{"../../../constants/popups":87,"../../../constants/runmode":91,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../renderer/BodyPortal":632,"../../../renderer/solid_utils/autorun_signals":640,"../../../shared/server_rendering/server_css":672,"../../../u/shared/async/autorun":693,"../shared/popups":364,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],259:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=h(e("../../../shared/responsive/responsive_layout"));var i=h(e("../shared/repeating_groups"));var a=e("./utils/createElement");var l=b(e("./utils/element_styles"));var u=e("./utils/directives");var c=e("./utils/properties");var f=b(e("../../../lang/evaluation/element_props"));var d=b(e("../../../lang/evaluation/element_eval"));var p={template:function(){},createContext:function(){},delegateEvents:function(){}};var _=h(e("../../../renderer/EditorContext"));var m=h(e("./RunRepeatingGroup"));var y=h(e("../../../lang/elements/ServerElementInstance"));function v(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(v=function e(n){return n?r:t})(e)}function b(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=v(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function h(e){return e&&e.__esModule?e:{default:e}}var j=(0,o.template)("<div></div>",2);function g(e){return k(e)||S(e)||O(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(!e)return;if(typeof e==="string")return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}function S(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function k(e){if(Array.isArray(e))return A(e)}function A(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function x(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){M(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function M(e,t,r){t=P(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function P(e){var t=T(e,"string");return n(t)==="symbol"?t:String(t)}function T(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var I="> .group-item";function C(e){var t,r;var n=e.instance;var s=n.repeating_group_layout;var i=function e(){return s.is_rg_flex()};var a=function e(){return s.is_masonry()};var l=(t=(r=(0,p.useContext)(_.default))==null?void 0:r.repeatingGroupImplementation)!=null?t:m.default;return function(){var t=j.cloneNode(true);(0,o.use)(u.defaultEventHandlers,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(l,(0,o.mergeProps)(e,{get cellSizing(){return e.childStyles[I]},get children(){return e.children}})));(0,o.effect)((function(r){var s=e.id,l=x(x({},e.classList),{},{"bubble-rg":!i(),"bubble-rg-flex-row":i(),masonry:a()}),u=x({overflow:n.run_mode()?"auto":undefined,"-webkit-overflow-scrolling":n.run_mode()?"auto":undefined},e.style);s!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=s);r._v$2=(0,o.classList)(t,l,r._v$2);r._v$3=(0,o.style)(t,u,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}()}t.exports=(0,a.createElement)(C,undefined,(function(e){return{properties:{separatorWidth:new c.Property((function(e){return i.default._get_separator_width(e.element)}),{fallback:0}),separatorColor:new c.Property((function(e){return e.get_static_property("separator_color")}),{fallback:""}),separatorStyle:new c.Property((function(e){return e.get_static_property("separator_style")}),{fallback:"none"})},styles:[new c.Style((function(e){var t=e.get_static_property("fixed_rows");var r=e.get_static_property("fixed_columns");var n=!t&&!r?e.get_static_property("scroll_direction"):r?"vertical":"horizontal";var o=e.get_static_property("auto_fit_row");var a=e.get_static_property("auto_fit_column");var l=o?"auto-fit":"auto-fill";var u=a?"auto-fit":"auto-fill";var c=n==="flex_row";var p=!t&&n==="vertical"&&!e.get_static_property("auto_fit_row")&&e.get_static_property("masonry");var _={};if(c||p){_["column-gap"]="".concat(d.evaluate_property(e,"column_cell_gap"),"px");if(!(p&&e.run_mode())){_["row-gap"]="".concat(d.evaluate_property(e,"row_cell_gap"),"px")}if(c){_["align-content"]=o?"stretch":"flex-start";return _}}else{_.gap="".concat(i.default._get_separator_width(e.element),"px")}if(t){var m=d.evaluate_property(e,"rows");if(f.is_fitting_height(e)){_["grid-template-rows"]="repeat(".concat(m,", minmax(max-content, auto))")}else{_["grid-template-rows"]="repeat(".concat(m,", minmax(0, 1fr))")}}else{if(n==="vertical"){if(o){_["grid-auto-rows"]="minmax(max-content, 1fr)"}else{_["grid-auto-rows"]=p&&e.run_mode()?"1px":"minmax(max-content, ".concat(d.evaluate_property(e,"cell_min_height_css"),")")}}else{_["grid-template-rows"]="repeat(".concat(l,", minmax(").concat(d.evaluate_property(e,"cell_min_height_css"),", 1fr))")}}if(r){var y=d.evaluate_property(e,"columns");if(f.is_fitting_width(e)){_["grid-template-columns"]="repeat(".concat(y,", minmax(max-content, auto))")}else{_["grid-template-columns"]="repeat(".concat(y,", minmax(0, 1fr))")}}else{if(n==="horizontal"){if(e.element.container_layout()===s.default.FIXED_LAYOUT){_["grid-auto-columns"]=d.evaluate_property(e,"cell_min_width_css")}else{if(a){_["grid-auto-columns"]="minmax(max-content, 1fr)"}else{_["grid-auto-columns"]="minmax(max-content, ".concat(d.evaluate_property(e,"cell_min_width_css"),")")}}}else{_["grid-template-columns"]="repeat(".concat(u,", minmax(").concat(d.evaluate_property(e,"cell_min_width_css"),", 1fr))")}}_["grid-auto-flow"]=n==="vertical"?"row":"column";return _})),new c.Style((function(e){var t=e.get_static_property("fixed_rows");var r=e.get_static_property("fixed_columns");var n=!t&&!r?e.get_static_property("scroll_direction"):r?"vertical":"horizontal";var o=n==="flex_row";var s=!t&&n==="vertical"&&!e.get_static_property("auto_fit_row")&&e.get_static_property("masonry");var i=function t(){if(r||n==="vertical")return"";var s=d.evaluate_property(e,"cell_min_width_css");if(o)return s;if(s.includes("%")){if(f.is_fitting_width(e))return"";var i=Math.max(parseInt(s),1);var a;if(e instanceof y.default){e.dynamic_catcher=true;var l=f.min_width_css(e);if(l.includes("px")){a=parseInt(l)}else{return""}}else{var u,c;e.repeating_group_layout.register_resize();a=(u=(c=e.canvas)==null?void 0:c.width())!=null?u:0}var p=Math.floor(a*i/100);return"".concat(p,"px")}else{return s}};var a=function r(){if(t||n==="horizontal")return"";var s=d.evaluate_property(e,"cell_min_height_css");if(o)return s;if(s.includes("%")){if(f.is_fitting_height(e))return"";var i=Math.max(parseInt(s),1);var a;if(e instanceof y.default){e.dynamic_catcher=true;var l=f.min_height_css(e);if(l.includes("px")){a=parseInt(l)}else{return""}}else{var u,c;e.repeating_group_layout.register_resize();a=(u=(c=e.canvas)==null?void 0:c.height())!=null?u:0}var p=Math.floor(a*i/100);return"".concat(p,"px")}else{return s}};return{"min-width":i(),"min-height":a(),"padding-top":s?"".concat(d.evaluate_property(e,"row_cell_gap"),"px"):undefined,"box-sizing":o?"border-box":"content-box","flex-grow":o?e.get_static_property("auto_fit_column")?1:0:undefined}}),{selector:I,alwaysDynamic:true})].concat(g(l.placedStyling(e)))}}))},{"../../../lang/elements/ServerElementInstance":550,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../renderer/EditorContext":633,"../../../shared/responsive/responsive_layout":669,"../shared/repeating_groups":367,"./RunRepeatingGroup":260,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],260:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.default=x;var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/web.queue-microtask.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/web.dom-collections.for-each.js");var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=j(e("../../../renderer/solid_utils/autorun_signals"));var a=b(e("../GroupItem"));var l=b(e("../../../lang/elements"));var u=j(e("../../../u/shared/mode_check"));var c=j(e("../../../logger"));var f=e("../../../u/shared/errors");var d=e("../../../u/shared/async/autorun");var p=e("../../../u/shared/async/b_async");var _=e("../../../u/client/b_ui");var m=e("../../../u/shared/async/dependency");var y=e("./utils/repeating_groups");var v=e("../../../renderer/RenderElement");function b(e){return e&&e.__esModule?e:{default:e}}function h(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(h=function e(n){return n?r:t})(e)}function j(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=h(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function g(e,t){return A(e)||k(e,t)||O(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(!e)return;if(typeof e==="string")return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}function S(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function k(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function A(e){if(Array.isArray(e))return e}var E=5e3;function x(e){var t;var r=e.instance;var n=r.repeating_group_layout;var b=function e(){return n.fixed_list()};var h=function e(){return r.get_static_property("show_all_items")};var j=function e(){return n.scroll_direction()};var w=function e(){return n.is_masonry()};var O=function e(){return n.columns()};var S=function e(){return n.rows()};var k=function e(){return n.total_number_of_cells()};var A=function e(){if(b()){var t;return(t=r.state("show_range"))!=null?t:0}else{return 0}};var x=function e(){if(b()){return k()}else{var t;var n=(t=r.state("max_index"))!=null?t:0;if(h()){return n}else{return n+1}}};var M=(0,s.createSignal)(false),P=g(M,2),T=P[0],I=P[1];var C=(0,m.Dependency)();(0,s.createEffect)((function(){if(!e.turnedVisible)return;if(r.run_mode()){n.compute_extra_fields()}var t=function e(){var t=r.autorun((function(){if(!b()){if(h()){var e;var t=(e=r.state("list_data"))==null?void 0:e.length();var o=Math.min(t!=null?t:0,E);r.state("max_index",o)}else{(0,d.autorun_once)((function(){r.state("max_index",Math.min(n.guess_number_of_cells()*2,100))}))}}}));n.init_raw_list_watcher((function(){return A()}),(function(){return x()}));C.invalidate();var o=r.autorun((function(){if(r.state("list_data")!==undefined){(0,d.wait_for_updates)((function(){r.mark_children_registered();r.get_children_drawn_key().turn()}));setTimeout((function(){return o.destroy()}))}}));var i=r.autorun((function(){n.add_spinner();n.raw_list_data();n.remove_spinner()}));(0,s.onCleanup)((function(){t.destroy();o.destroy();i.destroy()}));I(true)};if(u.on_server()){t()}else{queueMicrotask(t)}}));var R=i.createWatcher((function(){var e,t;C.register();return(e=(t=n.raw_list_data())==null?void 0:t.filter((function(e){return e!=null})))!=null?e:[]}),{fallback:[]});(t=r.child_container)!=null?t:r.child_container=r.container.create_child(r);var N=function e(){if(!T()){if(!b()&&!h()){if(r.children.length<1)t();r.children[0].state("group_data",l.default.STATE_NOT_READY)}return r.children}function t(){var e=r.children.length;var t=new a.default(r,0,e);var n;if(o.isServer){n=l.default.ServerElementInstance(t)}else{n=l.default.ElementInstance(t,r.mode)}n._is_visible_me=true;t.instance=n;r.children.push(n);n.state("cell_index",e+1);n.register(r);n.set_containers(r.child_container);n.start_draw_tree()}n.set_loading(true);(0,d.wait_for_updates)((function(){var e=n._raw_list_data_watcher.get_current_status_array(),t=g(e,2),r=t[0],o=t[1];n.set_loading(!o||r!=null)}));while(r.children.length<R().length){t()}R().forEach((function(e,t){var n=r.children[t];if(u.on_client()){(0,p.WaitFor)(_.page_loaded_key,(function(){var e;return(e=n.can_register_workflows())==null?void 0:e.turn()}))}n.message("set_group_data",e)}));return r.children};var L=(0,y.createIndexFns)({get rows(){return S()},get columns(){return O()},get scrollDirection(){return j()}});function z(e){var t=r.state("max_index");r.state("loading_cells",true);(0,d.run_once)(30,(function(){var o,s,i;return(o=(s=r.state("list_data"))==null?void 0:(i=s.with_extra_fields)==null?void 0:i.call(s,n.extra_fields).get_children(t,e))!=null?o:[]}),(function(n,o){if(n){c.log((0,f.ensure_bubble_error)(n));r.state("loading_cells",false);return}if(o!=null&&o.length){var s=Math.min(o.length,e);r.state("max_index",t+s);(0,d.wait_for_updates)((function(){r.state("loading_cells",false)}))}else{r.state("loading_cells",false)}}))}function D(e){if(r.state("loading_cells"))return;var t,o;if(j()!=="horizontal"){o=n.estimate_one_row();var s;if(e){s=window.innerHeight*3-r.canvas[0].getBoundingClientRect().bottom}else{s=r.canvas[0].clientHeight*3-(r.canvas[0].scrollHeight-r.canvas[0].scrollTop)}var i=r.children[0].canvas.height();t=Math.ceil(Math.max(s/i,1))+2}else{t=S();var a;if(e){a=window.innerWidth*2-r.canvas[0].getBoundingClientRect().right}else{a=r.canvas[0].clientWidth*3-(r.canvas[0].scrollWidth-r.canvas[0].scrollLeft)}var l=r.children[0].canvas.width();o=Math.ceil(Math.max(a/l,1))+2}var u=t*o;z(u)}var q=function e(){return null};if(!o.isServer){var B=(0,s.createMemo)((function(){if(!r.run_mode()||R().length===0||b()||h()){return null}var e;if(j()!=="horizontal"){e=r.canvas[0].scrollHeight>r.canvas[0].clientHeight}else{e=r.canvas[0].scrollWidth>r.canvas[0].clientWidth}return e?"self":"root"}));q=(0,s.createMemo)((function(){if(B()==null){return null}else if(B()==="self"){return new IntersectionObserver((function(e){if(e[0].isIntersecting){D()}}),{root:r.canvas[0],rootMargin:"100%"})}else{return new IntersectionObserver((function(e){if(e[0].isIntersecting){D(true)}}),{rootMargin:"100%"})}}))}(0,s.onMount)((function(){r.on_message("draw_till",(function(e){if(b()){return}if(r.state("max_index")>e){return}z(e+1-r.state("max_index"))}))}));var U=i.createWatcher((function(){return!r.state("loading_cells")}));return(0,o.createComponent)(s.For,{get each(){return N()},children:function t(r,n){return(0,o.createComponent)(v.RenderElement,{instance:r,get hasTopBorder(){return(0,o.memo)((function(){return!!!w()}))()&&L().indexToRow(n())>0},get hasLeftBorder(){return(0,o.memo)((function(){return!!!w()}))()&&L().indexToColumn(n())>0},get firstRow(){return(0,o.memo)((function(){return!!w()}))()&&L().indexToRow(n())===0},get cellSizing(){return e.cellSizing},get separatorStyle(){return e.separatorStyle},get separatorWidth(){return e.separatorWidth},get separatorColor(){return e.separatorColor},get hidden(){return n()>=R().length},get intersectionObserver(){return(0,o.memo)((function(){return!!(U()&&n()===R().length-1)}))()?q():null}})}})}},{"../../../lang/elements":557,"../../../logger":617,"../../../renderer/RenderElement":636,"../../../renderer/solid_utils/autorun_signals":640,"../../../u/client/b_ui":677,"../../../u/shared/async/autorun":693,"../../../u/shared/async/b_async":695,"../../../u/shared/async/dependency":697,"../../../u/shared/errors":708,"../../../u/shared/mode_check":713,"../GroupItem":242,"./utils/repeating_groups":276,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.queue-microtask.js":993}],261:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=u(e("./utils/createElement"));var i=e("./utils/directives");var a=e("./utils/element_styles");var l=e("./utils/properties");function u(e){return e&&e.__esModule?e:{default:e}}var c=(0,n.template)('<div class="aspect-ratio"></div>',2),f=(0,n.template)("<div></div>",2);function d(e){return y(e)||m(e)||_(e)||p()}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function m(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function y(e){if(Array.isArray(e))return v(e)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var b="aspect-ratio";var h=" .".concat(b);var j=function e(t){return function(){var e=f.cloneNode(true);(0,n.use)(i.defaultEventHandlers,e,(function(){return t.instance}));var r=t.ref;typeof r==="function"?(0,n.use)(r,e):t.ref=e;(0,n.insert)(e,(0,n.createComponent)(o.Show,{get when(){return t.useAspectRatio},get children(){var e=c.cloneNode(true);(0,n.effect)((function(r){return(0,n.style)(e,t.childStyles[h],r)}));return e}}));(0,n.effect)((function(r){var o=t.id,s=t.style,i=t.classList;o!==r._v$&&(0,n.setAttribute)(e,"id",r._v$=o);r._v$2=(0,n.style)(e,s,r._v$2);r._v$3=(0,n.classList)(e,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return e}()};t.exports=(0,s.default)(j,undefined,(function(e){return{properties:{useAspectRatio:new l.Property((function(e){return e.element.has_fixed_aspect_ratio()}),{fallback:false})},styles:[new l.Style((function(e){if(e.element.has_fixed_aspect_ratio()){var t=e.get_static_property("aspect_ratio_height")/e.get_static_property("aspect_ratio_width");return{height:0,"padding-top":"".concat(t*100,"%")}}else{return{}}}),{selector:h})].concat(d((0,a.placedStyling)(e)))}}))},{"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],262:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.array.concat.js");var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=e("./utils/directives");var a=e("./utils/container_utils");var l=d(e("./utils/createElement"));var u=e("./utils/element_styles");var c=e("./utils/table_element");var f=e("../../../u/shared/errors");function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,o.template)("<div></div>",2);function _(e){return b(e)||v(e)||y(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function v(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b(e){if(Array.isArray(e))return h(e)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){t=O(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function O(e){var t=S(e,"string");return n(t)==="symbol"?t:String(t)}function S(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k(e){var t;var r=(0,s.useContext)(c.TableContext);if(r==null){throw new f.UnexpectedError("Table cell not child of table")}var n=(0,s.createMemo)((function(){var t,n;var o=(0,c.getAxisNames)(r.direction),s=o.main,i=o.cross;return n={},w(n,"grid-".concat(s),"".concat(e.mainAxisId," / span 1")),w(n,"grid-".concat(i),"".concat(e.crossAxisId," ").concat((t=e.cellIndex)!=null?t:""," / span 1")),w(n,"display",e.hidden?"none":""),n}));var l=(t=e.wrapper)!=null?t:function(e){return e.children};return(0,o.createComponent)(l,{get style(){return g({},n())},get children(){var t=p.cloneNode(true);(0,o.use)(i.defaultEventHandlers,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,(0,o.createComponent)(a.ChildWrapper,e));(0,o.effect)((function(r){var s=e.id,i=g(g({},e.style),e.instance.edit_mode()?{}:n()),a=g(g({},e.classList),{},w({},e.containerClass,true));s!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=s);r._v$2=(0,o.style)(t,i,r._v$2);r._v$3=(0,o.classList)(t,a,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}})}var A=(0,l.default)(k,(function(e){var t,r;return{shouldAddWrapper:e.should_add_extra_wrapper(),mainAxisId:e.get_static_property("cell_main_axis_id"),crossAxisId:(t=(r=e.parent())==null?void 0:r.id())!=null?t:"auto"}}),(function(e,t){var r=t.shouldAddWrapper;return{properties:(0,a.containerProperties)(r),styles:[].concat(_((0,a.containerStyling)(r)),_((0,u.basicStyling)(e)))}}));r.default=A},{"../../../u/shared/errors":708,"./utils/container_utils":268,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/table_element":277,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],263:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=e("./utils/directives");var a=p(e("./utils/createElement"));var l=e("./utils/element_styles");var u=e("./utils/table_element");var c=e("../../../u/shared/errors");var f=e("./utils/properties");var d=e("../../../lang/evaluation/element_eval");function p(e){return e&&e.__esModule?e:{default:e}}var _=(0,o.template)("<div></div>",2),m=(0,o.template)("<div><div></div></div>",4);function y(e){return j(e)||h(e)||b(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(!e)return;if(typeof e==="string")return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}function h(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j(e){if(Array.isArray(e))return g(e)}function g(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function w(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function O(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?w(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t,r){t=k(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function k(e){var t=A(e,"string");return n(t)==="symbol"?t:String(t)}function A(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function E(e){var t;var r=(0,s.useContext)(u.TableContext);if(r==null){throw new c.UnexpectedError("Table axis not child of table")}var n=e.instance;var a=n.edit_mode();r.registerCrossAxis(n.element_id(),{get index(){return e.index},get minLength(){return e.minLength},get count(){return e.repeating&&a?e.numRepeating:1},get mode(){return e.mode},get static_axis(){return!e.repeating&&e.index!==0}});var l=function e(t){var o;var s=(0,u.getAxisNames)(r.direction),i=s.main,a=s.cross;var l=i==="column"?"border-bottom":"border-right";return o={},S(o,"grid-".concat(i),"1 / -1"),S(o,"grid-".concat(a),"".concat(n.element_id()," ").concat(t!=null?t:""," / span 1")),S(o,l,"1px solid #D9D9D9"),o};var f=(t=e.wrapper)!=null?t:function(e){return e.children};var d=function t(){return(0,o.createComponent)(f,{get style(){return O({},l(1))},get children(){var t=_.cloneNode(true);(0,o.use)(i.defaultEventHandlers,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.effect)((function(r){var n=e.id,s=e.style,i=e.classList;n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}})};function p(){return Array.from({length:u.NUM_DEFAULT_ROWS_EDITOR-1},(function(e,t){return t+2}))}return[(0,o.createComponent)(d,{}),(0,o.memo)(function(){var t=(0,o.memo)((function(){return!!(e.repeating&&a)}));return function(){return t()&&(0,o.createComponent)(s.Index,{get each(){return p()},children:function t(r){return function(){var t=m.cloneNode(true),n=t.firstChild;(0,o.effect)((function(s){var i=O({},l(r())),a=e.style,u=e.classList;s._v$4=(0,o.style)(t,i,s._v$4);s._v$5=(0,o.style)(n,a,s._v$5);s._v$6=(0,o.classList)(n,u,s._v$6);return s}),{_v$4:undefined,_v$5:undefined,_v$6:undefined});return t}()}})}}()),(0,o.memo)((function(){return e.children}))]}var x=(0,a.default)(E,(function(e){return{index:e.get_static_property("axis_index"),repeating:e.get_static_property("cross_axis_repeat")}}),(function(e){var t=(0,u.isTableDirectionHorizontal)(e)?"width":"height";return{properties:{minLength:new f.Property((function(e){if(!e.is_visible_me()){return"0px"}var r=t==="height"?"min_height_css":"min_width_css";return(0,d.evaluate_property)(e,r)}),{fallback:"0px"}),mode:new f.Property((function(r){if(e.get_static_property("single_".concat(t))){return"fixed"}else if(e.get_static_property("fit_".concat(t))){return"fit"}else{return"stretch"}}),{fallback:"fixed"}),numRepeating:new f.Property((function(t){var r=u.NUM_DEFAULT_ROWS_EDITOR;if(e.get_static_property("fixed_number_repeating_axis")){r=e.get_static_property("fixed_number_repeating_axis_count")}return r}),{fallback:u.NUM_DEFAULT_ROWS_EDITOR})},styles:y((0,l.basicStyling)(e))}}));r.default=x},{"../../../lang/evaluation/element_eval":567,"../../../u/shared/errors":708,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"./utils/table_element":277,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],264:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.keys.js");var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=e("./utils/directives");var a=p(e("./utils/createElement"));var l=e("./utils/element_styles");var u=e("./utils/properties");var c=e("./utils/table_element");var f=e("./TableIndexMarkerComponent");var d=p(e("../../../renderer/EditorContext"));function p(e){return e&&e.__esModule?e:{default:e}}var _=(0,o.template)("<div></div>",2);function m(e){return b(e)||v(e)||A(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b(e){if(Array.isArray(e))return E(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){g(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function g(e,t,r){t=w(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function w(e){var t=O(e,"string");return n(t)==="symbol"?t:String(t)}function O(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function S(e,t){return M(e)||x(e,t)||A(e,t)||k()}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function A(e,t){if(!e)return;if(typeof e==="string")return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}function E(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function x(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function M(e){if(Array.isArray(e))return e}function P(e){var t=(0,s.createSignal)({}),r=S(t,2),n=r[0],a=r[1];var l=(0,s.useContext)(d.default);var u=(0,s.createMemo)((function(){var t=Object.entries(n()).sort((function(e,t){return e[1].index-t[1].index})).map((function(e){var t=S(e,2),r=t[0],n=t[1];var o;if(n.mode==="fixed"){o=n.minLength}else if(n.mode==="fit"){o="minmax(max-content, ".concat(n.minLength,")")}else{o="minmax(".concat(n.minLength,", 1fr)")}return"[".concat(r,"] ").concat(o)})).join(" ");return g({},"grid-template-".concat(e.direction==="horizontal"?"rows":"columns"),t)}));var p=(0,s.createSignal)({}),m=S(p,2),y=m[0],v=m[1];var b=(0,s.createMemo)((function(){return Object.values(y()).reduce((function(e,t){return e+t.count}),0)}));var h=(0,s.createMemo)((function(){var t=Object.entries(y()).sort((function(e,t){return e[1].index-t[1].index})).map((function(e){var t=S(e,2),r=t[0],n=t[1];var o;if(n.mode==="fixed"){o=n.minLength}else if(n.mode==="fit"){o="minmax(max-content, ".concat(n.minLength,")")}else{o="minmax(".concat(n.minLength,", 1fr)")}return"repeat(".concat(n.count,", [").concat(r,"] ").concat(o,")")})).join(" ");return g({},"grid-template-".concat(e.direction==="horizontal"?"columns":"rows"),t)}));var w=(0,s.createMemo)((function(){return Object.values(y()).reduce((function(e,t){return e+(t.static_axis?1:0)}),0)}));function O(){var t,r,n,o;var s=(t=l==null?void 0:(r=l.state.elements[e.id])==null?void 0:r.hovered)!=null?t:false;var i=(n=l==null?void 0:(o=l.state.elements[e.id])==null?void 0:o.descendantSelected())!=null?n:false;return s||i}function k(){var e=y();var t={};Object.keys(e).reduce((function(t,r){t[e[r].index]=r;return t}),t);var r=n();var o={};Object.keys(r).reduce((function(e,t){e[r[t].index]=t;return e}),o);return{crossAxisMapping:t,mainAxisMapping:o}}return(0,o.createComponent)(c.TableContext.Provider,{value:{get direction(){return e.direction},registerMainAxis:function e(t,r){a((function(e){return j(j({},e),{},g({},t,r))}))},registerCrossAxis:function e(t,r){v((function(e){return j(j({},e),{},g({},t,r))}))},getIndexToIdMapping:k},get children(){var t=_.cloneNode(true);(0,o.use)(i.defaultEventHandlers,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,o.use)(r,t):e.ref=t;(0,o.insert)(t,function(){var t=(0,o.memo)((function(){return!!e.instance.edit_mode()}));return function(){return t()&&(0,o.createComponent)(f.TableIndexMarkerComponent,{get direction(){return e.direction},get crossAxisCount(){return b()},mainAxisCount:c.NUM_DEFAULT_COLUMNS,get mainAxesStyling(){return u()},get crossAxesStyling(){return h()},get numStaticCrossAxes(){return w()}})}}(),null);(0,o.insert)(t,(function(){return e.children}),null);(0,o.effect)((function(r){var n=e.id,s=j(j(j({},e.style),u()),h()),i=j(j({},e.classList),{},{"bubble-table":true,"with-index-markers":O()});n!==r._v$&&(0,o.setAttribute)(t,"id",r._v$=n);r._v$2=(0,o.style)(t,s,r._v$2);r._v$3=(0,o.classList)(t,i,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}})}var T=(0,a.default)(P,undefined,(function(e){return{properties:{direction:new u.Property((function(e){return e.get_static_property("table_direction")}),{fallback:"vertical"})},styles:m((0,l.placedStyling)(e))}}));r.default=T},{"../../../renderer/EditorContext":633,"./TableIndexMarkerComponent":265,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"./utils/table_element":277,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],265:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TableIndexMarkerComponent=r.MAIN_START_GRID_LINE_ID=r.INDEX_MARKER_SIZE=r.CROSS_START_GRID_LINE_ID=void 0;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=e("./utils/table_element");var i=a(e("../../../renderer/EditorContext"));function a(e){return e&&e.__esModule?e:{default:e}}var l=(0,n.template)('<div class="editor-table-index-marker"></div>',2),u=(0,n.template)('<div class="editor-table-dragger-icon"></div>',2),c=(0,n.template)('<div class="editor-table-index-marker_cell"></div>',2),f=(0,n.template)('<div class="editor-table-index-marker_cell"><div></div></div>',4),d=(0,n.template)('<div class="repeating-sign"></div>',2);var p="main-start";r.MAIN_START_GRID_LINE_ID=p;var _="cross-start";r.CROSS_START_GRID_LINE_ID=_;var m="20px";r.INDEX_MARKER_SIZE=m;var y=function e(t){var r=t.direction==="vertical";var a=(0,o.useContext)(i.default);var p=(0,o.useContext)(s.TableContext);var _=function e(t,r){if(t){var n=p==null?void 0:p.getIndexToIdMapping().crossAxisMapping;if(n){var o=Object.keys(n).length;if(r>=o){var s=n[o-1];if(s)return s}else{var i=n[r];if(i)return i}}}else{var a=p==null?void 0:p.getIndexToIdMapping().mainAxisMapping;if(a){var l=a[r];if(l)return l}}return""};var m=function e(t){var r;return a==null?void 0:(r=a.state.elements[t])==null?void 0:r.selected};var y=function e(t,r){var n;var o=p==null?void 0:p.getIndexToIdMapping().crossAxisMapping;return(a==null?void 0:(n=a.state.elements[t])==null?void 0:n.selected)&&!(o!=null&&o[r])};return[function(){var e=l.cloneNode(true);e.classList.toggle("column-marker",r);e.classList.toggle("row-marker",!r);(0,n.insert)(e,(0,n.createComponent)(o.Index,{get each(){return Array.from({length:t.mainAxisCount})},children:function e(t,o){return function(){var e=c.cloneNode(true);e.$$mousedown=function(e){e.stopPropagation();e.preventDefault();var t=_(!r,o);var n=a==null?void 0:a.state.elements[t].instance;if(!n)return;a==null?void 0:a.mousedown(n,e)};e.style.setProperty("grid-area",r?"1 / ".concat(o+1," / span 1 / span 1"):"".concat(o+1," / 1 / span 1 / span 1"));e.classList.toggle("column-marker",r);e.classList.toggle("row-marker",!r);(0,n.insert)(e,(function(){return(0,s.getLetterIndex)(o)}));(0,n.effect)((function(){return e.classList.toggle("selected",!!m(_(!r,o)))}));return e}()}}));(0,n.effect)((function(r){return(0,n.style)(e,t.mainAxesStyling,r)}));return e}(),function(){var e=l.cloneNode(true);e.classList.toggle("column-marker",!r);e.classList.toggle("row-marker",r);(0,n.insert)(e,(0,n.createComponent)(o.Index,{get each(){return Array.from({length:t.crossAxisCount})},children:function e(o,s){return function(){var e=f.cloneNode(true),o=e.firstChild;e.$$mousedown=function(e){e.stopPropagation();e.preventDefault();var t=_(r,s);var n=a==null?void 0:a.state.elements[t].instance;if(!n)return;a==null?void 0:a.mousedown(n,e)};e.style.setProperty("grid-area",!r?"1 / ".concat(s+1," / span 1 / span 1"):"".concat(s+1," / 1 / span 1 / span 1"));e.classList.toggle("column-marker",!r);e.classList.toggle("row-marker",r);(0,n.insert)(o,s);(0,n.insert)(e,function(){var e=(0,n.memo)((function(){return s===1+t.numStaticCrossAxes}));return function(){return e()&&d.cloneNode(true)}}(),null);(0,n.effect)((function(i){var a=!!m(_(r,s)),l=!!y(_(r,s),s),u=s>1+t.numStaticCrossAxes?"dummy-index":"";a!==i._v$&&e.classList.toggle("selected",i._v$=a);l!==i._v$2&&e.classList.toggle("selected-dummy",i._v$2=l);u!==i._v$3&&(0,n.className)(o,i._v$3=u);return i}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return e}()}}));(0,n.effect)((function(r){return(0,n.style)(e,t.crossAxesStyling,r)}));return e}(),u.cloneNode(true)]};r.TableIndexMarkerComponent=y;(0,n.delegateEvents)(["mousedown"])},{"../../../renderer/EditorContext":633,"./utils/table_element":277,"core-js/modules/es.array.from.js":932,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.string.iterator.js":974}],266:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=e("./utils/directives");var i=d(e("./utils/createElement"));var a=e("./utils/element_styles");var l=e("./utils/table_element");var u=e("../../../u/shared/errors");var c=e("./utils/properties");var f=e("../../../lang/evaluation/element_eval");function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,n.template)("<div></div>",2);function _(e){"@babel/helpers - typeof";return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function m(e){return h(e)||b(e)||v(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(!e)return;if(typeof e==="string")return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}function b(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h(e){if(Array.isArray(e))return j(e)}function j(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){t=S(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function S(e){var t=k(e,"string");return _(t)==="symbol"?t:String(t)}function k(e,t){if(_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A(e){var t;var r=(0,o.useContext)(l.TableContext);if(r==null){throw new u.UnexpectedError("Table axis not child of table")}var i=e.instance;r.registerMainAxis(i.element_id(),e);var a=(0,o.createMemo)((function(){var e;var t=(0,l.getAxisNames)(r.direction),n=t.main,o=t.cross;var s=n==="row"?"border-bottom":"border-right";return e={},O(e,"grid-".concat(n),"".concat(i.element_id()," / span 1")),O(e,"grid-".concat(o),"1 / -1"),O(e,s,"1px solid #D9D9D9"),e}));var c=(t=e.wrapper)!=null?t:function(e){return e.children};return(0,n.createComponent)(c,{get style(){return w({},a())},get children(){var t=p.cloneNode(true);(0,n.use)(s.defaultEventHandlers,t,(function(){return e.instance}));var r=e.ref;typeof r==="function"?(0,n.use)(r,t):e.ref=t;(0,n.effect)((function(r){var o=e.id,s=w(w({},e.style),i.edit_mode()?{}:a()),l=e.classList;o!==r._v$&&(0,n.setAttribute)(t,"id",r._v$=o);r._v$2=(0,n.style)(t,s,r._v$2);r._v$3=(0,n.classList)(t,l,r._v$3);return r}),{_v$:undefined,_v$2:undefined,_v$3:undefined});return t}})}var E=(0,i.default)(A,(function(e){return{index:e.get_static_property("axis_index")}}),(function(e){var t=(0,l.isTableDirectionHorizontal)(e)?"height":"width";return{properties:{minLength:new c.Property((function(e){if(!e.is_visible_me()){return"0px"}var r=t==="height"?"min_height_css":"min_width_css";return(0,f.evaluate_property)(e,r)}),{fallback:"0px"}),mode:new c.Property((function(r){if(e.get_static_property("single_".concat(t))){return"fixed"}else if(e.get_static_property("fit_".concat(t))){return"fit"}else{return"stretch"}}),{fallback:"fixed"})},styles:m((0,a.basicStyling)(e))}}));r.default=E},{"../../../lang/evaluation/element_eval":567,"../../../u/shared/errors":708,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"./utils/table_element":277,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],267:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e){return u(e)||l(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){t=_(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function _(e){var t=m(e,"string");return o(t)==="symbol"?t:String(t)}function m(e,t){if(o(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y=e("../../../lang/appquery");var v=e("../../../u/client/b_ui");var b=e("../shared/text_elements");var h={template:function(){},createContext:function(){},delegateEvents:function(){}},j=h.createEffect,g=h.onCleanup,w=h.onMount;var O=e("../../../renderer/solid_utils/ServerHTML");var S=e("./utils/createElement"),k=S.createElement;var A=e("./utils/element_styles");var E=e("./utils/directives"),x=E.defaultEventHandlers;var M=e("./utils/properties"),P=M.Property,T=M.Style;var I={template:function(){},createContext:function(){},delegateEvents:function(){}},C=I.Dynamic,R=I.isServer;var N=e("../../../lang/evaluation/element_eval");function L(e){var t=y.get_public_setting("bubble_version")>=10;var r=e.get_static_property("recognize_links");var n=e.get_static_property("no_bbcode");var o={};for(var s=0,i=["text","editor_preview_text","link_color","nofollow"];s<i.length;s++){var a=i[s];o[a]=N.evaluate_property(e,a)}var l;if(e.run_mode()||!o.editor_preview_text){l=o.text}else{l=o.editor_preview_text}if(n){if(r&&!v.has_bbcode(l)){return{html:v.bbcode_to_html(b.replace_links_emails(e,o),t)}}else{return{text:l,cssStyle:{"white-space":"pre-wrap"}}}}else{var u=l;if(r){u=b.replace_links_emails(e,o)}return{html:v.bbcode_to_html(u,t)}}}function z(e){var t=e.instance;j((function(){if(e.useDotDotDot){b.apply_dotdotdot(t,t.edit_mode()?"letter":"words");g((function(){return b.remove_dotdotdot(t)}))}}));var r=function r(){if(e.verticalCenter||t.run_mode()&&e.useDotDotDot){return"<div>".concat(e.textData.html,"</div>")}else{return e.textData.html}};j((function(){if(e.textData.html!=null){t.canvas.html(r())}else if(t.run_mode()&&e.useDotDotDot){var n=document.createElement("div");n.innerText=e.textData.text;t.canvas.html(n.outerHTML)}else{t.canvas.text(e.textData.text)}}));var o=t.edit_mode()?"div":e.tagName;w((function(){x(t.canvas[0],(function(){return t}))}));var s=function t(){return d(d({},e.classList),{},{"bubble-r-vertical-center":e.verticalCenter})};if(!R){return(0,n.createComponent)(C,{get id(){return e.id},component:o,ref:function t(r){var n=e.ref;typeof n==="function"?n(r):e.ref=r},get style(){return d(d({},e.style),e.textData.cssStyle)},get classList(){return s()}})}else{return(0,n.createComponent)(C,{get id(){return e.id},component:o,get style(){return d(d({},e.style),e.textData.cssStyle)},get classList(){return s()},get children(){return(0,n.memo)((function(){return!!e.textData.html}))()?(0,n.createComponent)(O,{get html(){return r()}}):e.textData.text}})}}t.exports=k(z,(function(e){var t=e.get_styleable_static_property("tag_type");return{tagName:t==="normal"||!y.get_public_setting("expose_text_tags")?"div":t}}),(function(e){return{properties:{textData:new P(L,{fallback:{text:""}}),useDotDotDot:new P(b.could_clip),verticalCenter:new P((function(e){return N.evaluate_property(e,"vertical_centering")}))},styles:[new T((function(e){return{"white-space":y.get_public_setting("bubble_version")>=10?"pre-wrap":"",overflow:e.edit_mode()?"hidden":"visible"}}))].concat(s(A.placedStyling(e)))}}))},{"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../renderer/solid_utils/ServerHTML":639,"../../../u/client/b_ui":677,"../shared/text_elements":369,"./utils/createElement":269,"./utils/directives":270,"./utils/element_styles":271,"./utils/properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],268:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:true});r.ChildWrapper=m;r.containerProperties=_;r.containerStyling=p;var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=e("../../../../renderer/solid_utils/perf_tools");var i=e("./properties");var a=(0,o.template)("<div></div>",2);function l(e,t,r){t=u(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function u(e){var t=c(e,"string");return n(t)==="symbol"?t:String(t)}function c(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var f="bubble-r-container";var d="> .".concat(f);function p(e){return[new i.Style((function(e){var t;return(t=e.child_container)==null?void 0:t.get_container_props()}),{selector:e?d:undefined})]}function _(e){if(e){return{containerClass:new i.Property((function(e){return"bubble-r-container-wrapper"}),{noWaitVisible:true,fallback:""}),wrappedClass:new i.Property((function(e){return"".concat(f," ").concat(e.child_container.layout().classes)}),{noWaitVisible:true})}}else{return{containerClass:new i.Property((function(e){var t;return"".concat(f," ").concat((t=e.child_container)==null?void 0:t.layout().classes)}),{noWaitVisible:true,fallback:""})}}}function m(e){return(0,o.createComponent)(s.OptimizedShow,{get when(){return e.shouldAddWrapper},get fallback(){return e.children},get isStatic(){return e.instance.run_mode()},get children(){var t=a.cloneNode(true);(0,o.insert)(t,(function(){return e.children}));(0,o.effect)((function(r){var n;var s=l({},(n=e.wrappedClass)!=null?n:"",true),i=e.childStyles[d];r._v$=(0,o.classList)(t,s,r._v$);r._v$2=(0,o.style)(t,i,r._v$2);return r}),{_v$:undefined,_v$2:undefined});return t}})}},{"../../../../renderer/solid_utils/perf_tools":641,"./properties":275,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],269:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:true});r.createElement=P;r.default=void 0;var o={template:function(){},createContext:function(){},delegateEvents:function(){}};e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=y(e("../../../../shared/server_rendering/server_css"));var a=e("./properties");var l=e("../../../../lang/evaluation/element_eval");var u=e("../../../../u/shared/errors");var c=_(e("../../../../renderer/BodyPortal"));var f=_(e("../../../../renderer/EditorContext"));var d=e("./element_utils");var p=_(e("../../../../lang/appquery"));function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(m=function e(n){return n?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=m(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function v(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=j(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function b(e){return w(e)||g(e)||j(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function j(e,t){if(!e)return;if(typeof e==="string")return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}function g(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w(e){if(Array.isArray(e))return O(e)}function O(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function k(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach((function(t){A(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t,r){t=E(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function E(e){var t=x(e,"string");return n(t)==="symbol"?t:String(t)}function x(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M=new a.Property((function(e){if(e.edit_mode()){return e.element_id().replace(/[^a-zA-Z0-9]/g,"_")}if(e.run_mode()&&p.default.has_advanced_feature_enabled("expose_id_option")){return(0,l.evaluate_property)(e,"unique_id")}return undefined}),{noWaitVisible:true});function P(e,t,r){return{buildComponent:function n(a,p){var _;var m=(_=p==null?void 0:p.preCached)!=null?_:t==null?void 0:t(a);var y=r(a,m);var h=k(k({},y.properties),{},{id:M});var j=y.styles;var g={};var w={};var O={};var S=[];var E={};for(var x in h){if(p!=null&&p.statics[x]){g[x]=h[x].computeStaticClient(p.props[x])}else{S.push(x)}}j.forEach((function(e,t){if(p==null||p.styles[t]!=null){E[t]=e}if(e.notInStylesheet&&(p==null?void 0:p.styles[t])!=null){if(e.selector){var r,n;Object.assign((n=O[r=e.selector])!=null?n:O[r]={},p.styles[t])}else{Object.assign(w,p.styles[t])}}}));return function(t){var r=t.instance;var n=(0,d.createVisibilityLatch)(r);var _={get turnedVisible(){return n()}};var y={};function j(e,t){Object.defineProperty(y,e,{get:t})}for(var x=0,M=S;x<M.length;x++){var P=M[x];var T=h[P].createClientWatcher(r,p==null?void 0:p.props[P],_);j(P,T)}var I={};var C=[];var R=[];for(var N in E){var L=E[N];var z=L.createClientWatcher(r,p==null?void 0:p.styles[N],_);if(L.selector){var D,q;(q=I[D=L.selector])!=null?q:I[D]=[];I[L.selector].push(z)}else{if(r.edit_mode()&&L.outerPositioning){R.push(z)}else{C.push(z)}}}var B=function e(){return Object.assign.apply(Object,[{},w].concat(b(C.map((function(e){return e()})))))};var U={};var W=function e(t){Object.defineProperty(U,t,{get:function e(){return Object.assign.apply(Object,[{},O[t]].concat(b(I[t].map((function(e){return e()})))))}})};for(var F in I){W(F)}var G=r.element.get_property_applications().filter((function(e){return e.no_solid_support}));if(G.length>0){(0,s.onMount)((function(){var e=v(G),t;try{var n=function e(){var n=t.value;var o=void 0;if(r.element.E.additional_uses_properties){o=n.uses_properties.concat(r.element.E.additional_uses_properties)}else{o=n.uses_properties}var s=true;(0,l.on_property_change)(r,o,(function(e){n.apply(Object.assign(e,{_first_time:s}),r.canvas,r);s=false}))};for(e.s();!(t=e.n()).done;){n()}}catch(t){e.e(t)}finally{e.f()}}))}(0,s.onMount)((function(){r.mark_drawn();if(!r.element.E.draw_children){r.get_children_drawn_key().turn()}}));function X(n,s){return(0,o.createComponent)(e,(0,o.mergeProps)(m,g,_,y,t,{ref:function e(t){var n=(0,d.createCanvasRef)(r);typeof n==="function"&&n(t)},classList:n,get style(){return B()},childStyles:U,wrapper:s,get children(){return r.element.type()==="CustomElement"&&r.is_self_nested_custom()?"This is a circular Reusable Element... Reusable Elements cannot contain themselves (or other Reusable Elements that contain them).":t.children}}))}if(r.edit_mode()){var $={"inner-element":true};var V=(0,s.children)((function(){var e;var t=(0,s.createMemo)((function(){return Object.assign.apply(Object,[{}].concat(b(R.map((function(e){return e()})))))}));var n=(e=(0,s.useContext)(f.default))==null?void 0:e.wrapper;if(n==null)throw new u.UnexpectedError("Edit-mode should define the context");if(r.element.E.manual_wrapper){return X($,(function(e){return(0,o.createComponent)(n,{instance:r,get style(){return k(k({},t()),e.style)},get children(){return e.children}})}))}else{return(0,o.createComponent)(n,{instance:r,get style(){return t()},get children(){return X($)}})}}));return(0,o.createComponent)(s.Show,{get when(){return r.attach_to_body()},get fallback(){return V()},get children(){return(0,o.createComponent)(c.default,{get children(){return V()}})}})}else{var H;var Y=(H={"bubble-element":true},A(H,a.type(),true),A(H,i.toClass(a.ssr_key()),true),H);if(r.attach_to_body()){return(0,o.createComponent)(c.default,{get children(){return X(Y)}})}return X(Y)}}}}}var T=P;r.default=T},{"../../../../lang/appquery":535,"../../../../lang/evaluation/element_eval":567,"../../../../renderer/BodyPortal":632,"../../../../renderer/EditorContext":633,"../../../../shared/server_rendering/server_css":672,"../../../../u/shared/errors":708,"./element_utils":272,"./properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],270:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.defaultEventHandlers=k;r.enterHandler=E;r.inputChangeKeyupHandlers=A;r.jqueryHTML=x;var o=v(e("../../../../u/client/b_window"));var s=v(e("../../../../u/client/b_ui"));var i=v(e("../../../../u/shared/mode_check"));var a=m(e("lodash/debounce"));var l=v(e("../../../../renderer/solid_utils/autorun_signals"));var u={template:function(){},createContext:function(){},delegateEvents:function(){}};var c=v(e("../../../../constants/runmode"));var f=m(e("../../../../lib"));var d=m(e("../../core_elements_utilities/element_workflows"));var p=m(e("../../../../logger"));var _=e("../../shared/hover_state_manager");function m(e){return e&&e.__esModule?e:{default:e}}function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(y=function e(n){return n?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=y(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function b(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function h(e,t){return S(e)||O(e,t)||g(e,t)||j()}function j(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e,t){if(!e)return;if(typeof e==="string")return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}function w(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function O(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function S(e){if(Array.isArray(e))return e}function k(e,t){var r=t();var n=$(e);if(r.run_mode()&&!r.element.E.dont_add_hover_pressed){if(!o.is_on_mobile_or_tablet()){r.state("is_hovered",_.setup_hover,true);n.mousedown((function(){r.state("is_pressed",true);$(document).one("mouseup",(function(){r.state("is_pressed",false)}))}))}else{n.on("touchstart",(function(){r.state("is_pressed",true);$(document).one("touchend",(function(){var e=setTimeout((function(){r.state("is_pressed",false)}),100);$(document).one("scroll",(function(){r.state("is_pressed",false);clearTimeout(e)}))}))}))}}var s=r.run_mode()&&r.element.get_related_workflows("ButtonClicked").length;if(s&&r.element.E.change_cursor_style_if_clickable){n.addClass(c.CLICKABLE_ELEMENT)}if(s){n.focus((function(){n.addClass("show-outline")}));n.blur((function(){n.removeClass("show-outline")}));if(!r.element.E.specific_click_handler){n.click((function(e){var t=(0,f.default)().workflow.debugger;var n=false;if(t){n=t.element_clicked(r,r.get_partial())}if(!n){d.default.run_element_workflow(r,"ButtonClicked",e)}}))}}}function A(e,t){var r=t(),n=h(r,2),o=n[0],s=n[1];var l=$(e);if(i.on_phonegap()){l.css("-webkit-user-select","text")}var u=null;var c=false;var f=function e(){c=true;if(u){clearTimeout(u)}var t;if(o.get_static_property("content_format")==="geographic_address"){t=3e3}else{var r=o.canvas.val();if(!r||r.length===1){t=0}else{t=1500}}u=setTimeout((function(){o.message("user_change",s());u=null}),t);return true};l.on("input",f);l.on("paste",f);var d=o.get_static_property("content_format");var p=o.get_static_property("show_thousands");var _=o.get_static_property("decimal_place");var m=(d==="int_number"||d==="float_number")&&(p||_);var y="";if(m){l.on("keyup",(function(e){var t=e.key==="Backspace";var r=y[0]==="-";y=l.val();var n=l[0].selectionStart===0&&l[0].selectionEnd===0;if(t&&n&&r){return f()}}))}l.on("keydown",(function(e){var t=13;var r=l.hasClass("MultiLineInput");if(e.keyCode!==t||r){return}l.blur()}));var v=function e(){o.message("user_submit",s())};l.focus((function(){o.state("is_focused",true)}));var b=(0,a.default)(v,50);l.blur((function(){o.state("is_focused",false);if(c){c=false;v()}b.flush();if(u!=null){o.message("user_change",s());clearTimeout(u);u=null}}));l.change((function(){if(i.running_test()){return v()}return b()}))}function E(e,t){var r=$(e);var n=t()[0];var o=l.createWatcher((function(){var e,t,r;var o=null;var s=(e=(t=(r=n.element).get_visible_workflows)==null?void 0:t.call(r))!=null?e:[];var i=n.element_id();var a=b(s),l;try{for(a.s();!(l=a.n()).done;){var u;var c=l.value;if(c.find_expressions("GetElement.element_id=".concat(i)).length<1){continue}var f=n.find_instance_by_id((u=c.element_id)==null?void 0:u.call(c));if(f!=null&&f.is_visible()){var d;(d=o)!=null?d:o=f;if(f!==o){o=null;break}}}}catch(e){a.e(e)}finally{a.f()}return o}));(0,u.createEffect)((function(){if(o()){r.on("keydown.click_the_button",(function(e){if(e.shiftKey){return}if(t()[1]&&!s.meta(e)){return}var n=13;if(e.keyCode===n){if(!r.hasClass("MultiLineInput")){r.blur()}var i=o().canvas;if(i.is(":visible")){s.trigger_blur(r);i.click()}}}));(0,u.onCleanup)((function(){r.off("keydown.click_the_button")}))}}))}function UNMANGLED_html_wrap(e){return e()}function x(e,t){var r=$(e);(0,u.createEffect)((function(e){var n=t();if(!u.sharedConfig.context&&e!==n){try{UNMANGLED_html_wrap((function(){r.html(n)}))}catch(e){p.default.owner_only_error("html bug",{display:"Bug in custom html:\n"+e.stack,prop_name:"html",element:r[0].outerHTML})}}return n}),undefined)}},{"../../../../constants/runmode":91,"../../../../lib":614,"../../../../logger":617,"../../../../renderer/solid_utils/autorun_signals":640,"../../../../u/client/b_ui":677,"../../../../u/client/b_window":678,"../../../../u/shared/mode_check":713,"../../core_elements_utilities/element_workflows":284,"../../shared/hover_state_manager":357,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/debounce":1174}],271:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.weak-map.js");Object.defineProperty(r,"__esModule",{value:true});r.basicStyling=C;r.clickabilityStyles=I;r.placedStyling=N;r.positioningStyle=R;r.propertyApplicationStyles=P;r.tokenStyling=L;r.transitionStyles=T;r.visibilityStyles=void 0;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/web.queue-microtask.js");var o=e("./jquery_wrapper");var s=m(e("../../../../logger"));var i=e("./properties");var a=e("../../../../lang/evaluation/element_eval");var l=e("../../../../lang/font_tokens");var u=e("../../../../lang/color_tokens");var c=e("../../../../constants/server_rendering");var f=p(e("../../../../lib"));var d={template:function(){},createContext:function(){},delegateEvents:function(){}};function p(e){return e&&e.__esModule?e:{default:e}}function _(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(_=function e(n){return n?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=_(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){t=h(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function h(e){var t=j(e,"string");return n(t)==="symbol"?t:String(t)}function j(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function g(e){return S(e)||O(e)||A(e)||w()}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function S(e){if(Array.isArray(e))return E(e)}function k(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=A(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function A(e,t){if(!e)return;if(typeof e==="string")return E(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return E(e,t)}function E(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var x=[new i.Style((function(e){return!e.is_visible_me()&&!(e.is_animating()&&e._is_animating_me)?{visibility:"hidden"}:{}}),{alwaysDynamic:true,noWaitVisible:true})];r.visibilityStyles=x;function M(e){return new i.Style((function(t){var r=(0,o.withMockCanvas)((function(r){if(e.apply_once){e.apply_directly({},r)}else{var n;if(t.element.E.additional_uses_properties){n=e.uses_properties.concat(t.element.E.additional_uses_properties)}else{n=e.uses_properties}var o={};var s=k(n),i;try{for(s.s();!(i=s.n()).done;){var l=i.value;o[l]=(0,a.evaluate_property)(t,l)}}catch(e){s.e(e)}finally{s.f()}o._first_time=true;e.apply_directly(o,r,t)}}));return r.style}),{selector:e.sel_fn!=null?" ".concat(String(e.sel_fn)):undefined})}function P(e){return e.get_property_applications().filter((function(e){return!e.no_solid_support})).map((function(e){return M(e)}))}function T(e){var t={};if(f.default.or_throw().is_edit_mode())return[];var r=k(e.get_property_applications()),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.sel_fn){if(typeof o.sel_fn==="function"){s.error("Property applications no longer support functions as selectors",{class_name:o.class_name})}else{t[o.sel_fn]=true}}}}catch(e){r.e(e)}finally{r.f()}var a=function e(t){return function(e){var r=[];var n=k(e.element.get_property_applications()),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(Boolean(t)&&s.sel_fn===t||!t&&!s.sel_fn){r.push(s.get_transition_styling(e.element))}}}catch(e){n.e(e)}finally{n.f()}if(!t){r.push(e.get_transition_styling())}var i=r.filter((function(e){return!!e})).join(", ");return{"-webkit-transition":i,"-moz-transition":i,"-o-transition":i,"-ms-transition":i,transition:i}}};return[new i.Style(a(undefined),{noWaitVisible:true})].concat(g(Object.keys(t).map((function(e){return new i.Style(a(e),{selector:e,noWaitVisible:true})}))))}function I(e){if(!f.default.or_throw().is_edit_mode()&&e.E.change_cursor_style_if_clickable&&e.get_related_workflows("ButtonClicked").length){return[new i.Style((function(e){return{cursor:(0,a.evaluate_property)(e,"button_disabled")?"default":"pointer"}}))]}else{return[]}}function C(e){return[].concat(x,g(P(e)),g(T(e)),g(I(e)))}function R(e){return[new i.Style((function(t){var r=t.container.element_css(t);var n={};for(var s in r){n[(0,o.convertStyle)(s)]=r[s]}if(e){var i,a;if(!t.state("flickered")&&(d.isServer||((i=window)==null?void 0:(a=i.BrowserDetect)==null?void 0:a.browser)==="Safari")){queueMicrotask((function(){return t.state("flickered",true)}));return v(v({},n),{},{height:"0px"})}}return n}),{noWaitVisible:true,outerPositioning:true,alwaysDynamic:e}),new i.Style((function(e){var t;return{"z-index":(t=e.element.get_zindex())!=null?t:undefined}}),{noWaitVisible:true,outerPositioning:true}),new i.Style((function(e){return e.get_static_property("collapse_when_hidden")&&e.container.should_collapse(e)?{display:"none"}:{}}),{alwaysDynamic:true,noWaitVisible:true,notInStylesheet:true,outerPositioning:true})]}function N(e){return[].concat(g(C(e)),g(R(e.can_have_children()&&e.should_add_extra_wrapper())))}function L(){return new i.Style((function(){return v(v(v(v({},(0,l.default_font_tokens_to_property)()),(0,l.user_font_tokens_to_property)()),(0,u.default_color_tokens_to_property)()),(0,u.user_color_tokens_to_property)())}),{noWaitVisible:true,selector:c.AT_ROOT})}},{"../../../../constants/server_rendering":94,"../../../../lang/color_tokens":540,"../../../../lang/evaluation/element_eval":567,"../../../../lang/font_tokens":589,"../../../../lib":614,"../../../../logger":617,"./jquery_wrapper":274,"./properties":275,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.queue-microtask.js":993}],272:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");Object.defineProperty(r,"__esModule",{value:true});r.createCanvasRef=p;r.createVisibilityLatch=d;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=s(e("../../core_elements_utilities/element_transformer"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return f(e)||c(e,t)||l(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function f(e){if(Array.isArray(e))return e}function d(e){var t=(0,n.createSignal)(false),r=i(t,2),o=r[0],s=r[1];(0,n.onMount)((function(){e.wait_for_visible_lite((function(){return s(true)}))}));return o}function p(e){return function(t){if(t!=null){e.canvas=$(t);e.setup_canvas_hooks();e._observe_canvas();if(e.run_mode()){o.default.run_transformers(e)}}}}},{"../../core_elements_utilities/element_transformer":281,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],273:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createInputChange=o;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};function o(e,t){(0,n.onMount)((function(){var r=e.autorun((function(){if(!e.state("has_been_changed")){t(e.state("value"))}}));(0,n.onCleanup)((function(){r.destroy()}))}))}},{}],274:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.convertStyle=o;r.withMockCanvas=a;e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.string.trim.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}function s(){var e={};var t=Object.assign([{style:{},className:""}],{css:function e(t,r){if(n(t)==="object")Object.assign(this[0].style,t);else this[0].style[t]=r},data:function t(r,n){if(arguments.length>1){e[r]=n}return e[r]},width:function e(){return 0},find:function e(){return this},addClass:function e(t){this[0].className+=" "+t},removeClass:function e(t){this[0].className=this[0].className.replace(t.trim(),"")},attr:function e(){}});return t}function i(e){var t=e[0].style;var r={};for(var n in t){r[o(n)]=t[n]}return r}function a(e){var t=s();e(t);return{style:i(t),className:t[0].className.trim()}}},{"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],275:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.weak-map.js");Object.defineProperty(r,"__esModule",{value:true});r.Style=r.Property=void 0;e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=u(e("../../../../u/shared/async/autorun"));var s=u(e("../../../../shared/server_rendering/server_css"));var i=u(e("../../../../u/client/b_ui"));var a=e("../../../../logger");function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||c(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=l(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function c(e){"@babel/helpers - typeof";return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(){if(typeof Reflect!=="undefined"&&Reflect.get){f=Reflect.get.bind()}else{f=function e(t,r,n){var o=d(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return f.apply(this,arguments)}function d(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=h(e);if(e===null)break}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)_(e,t)}function _(e,t){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return _(e,t)}function m(e){var t=b();return function r(){var n=h(e),o;if(t){var s=h(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return y(this,o)}}function y(e,t){if(t&&(c(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return v(e)}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function j(e,t){return k(e)||S(e,t)||w(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){if(!e)return;if(typeof e==="string")return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}function O(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function S(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function k(e){if(Array.isArray(e))return e}function A(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,M(n.key),n)}}function x(e,t,r){if(t)E(e.prototype,t);if(r)E(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function M(e){var t=P(e,"string");return c(t)==="symbol"?t:String(t)}function P(e,t){if(c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var T=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};A(this,e);this.fn=void 0;this.fallback=void 0;this.alwaysDynamic=void 0;this.mayContainDynamic=void 0;this.noWaitVisible=void 0;this.fn=t;this.fallback=r.fallback;this.alwaysDynamic=r.alwaysDynamic;this.mayContainDynamic=r.mayContainDynamic;this.noWaitVisible=r.noWaitVisible}x(e,[{key:"computeCache",value:function e(t){t.dynamic_catcher=false;try{var r=this.fn(t);var n=!t.dynamic_catcher&&!this.alwaysDynamic;if(this.mayContainDynamic&&!n){return{value:undefined,isStatic:false}}return{value:r,isStatic:!t.dynamic_catcher&&!this.alwaysDynamic}}catch(e){(0,a.propagated_error)("Error computing property",e);return{value:undefined,isStatic:false}}}},{key:"createClientWatcher",value:function e(t,r,s){var i=this;var a=(0,n.createSignal)(r!=null?r:this.fallback),l=j(a,2),u=l[0],c=l[1];(0,n.createEffect)((function(){if(!i.noWaitVisible&&!s.turnedVisible)return;var e=o.Watcher((function(){return i.fn(t)}));e.on_value(c);(0,n.onCleanup)((function(){return e.destroy()}))}));return u}},{key:"computeStaticClient",value:function e(t){return t!=null?t:this.fallback}}]);return e}();r.Property=T;function I(e){var t={};var r=function r(n){var o=e[n];if(Array.isArray(o)){t[n]=i.apply_css_fallbacks(s.toDashes(n),o.map((function(e){return s.fixValue(n,e)})))}else{t[n]=s.fixValue(n,o)}};for(var n in e){r(n)}return t}var C=function(e){p(r,e);var t=m(r);function r(e){var n;var o;var s=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};A(this,r);o=t.call(this,e,{fallback:{},alwaysDynamic:s.alwaysDynamic,noWaitVisible:s.noWaitVisible});o.selector=void 0;o.notInStylesheet=void 0;o.outerPositioning=void 0;o.fn=e;o.selector=s.selector;o.notInStylesheet=s.notInStylesheet;o.outerPositioning=(n=s.outerPositioning)!=null?n:false;return o}x(r,[{key:"createClientWatcher",value:function e(t,n,o){var s=this;var i=f(h(r.prototype),"createClientWatcher",this).call(this,t,n,o);return function(){var e=i();var t=I(e);var r=t;if(s.notInStylesheet){for(var o in n){var a=t[o];if(a==null||a===""){r[o]=undefined}}}else{for(var l in n){var u=t[l];if(u==null||u===""){r[l]="unset"}else{var c=n[l];if(Array.isArray(c)){if(c.includes(u)){r[l]=undefined}}else{if(c===u){r[l]=undefined}}}}}return t}}},{key:"computeStaticClient",value:function e(){return{}}}]);return r}(T);r.Style=C},{"../../../../logger":617,"../../../../shared/server_rendering/server_css":672,"../../../../u/client/b_ui":677,"../../../../u/shared/async/autorun":693,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],276:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.createBorderStyle=c;r.createIndexFns=u;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=a(e("../../../../languages"));var s=a(e("../../../../lib"));var i=e("../../../../renderer/solid_utils/autorun_signals");function a(e){return e&&e.__esModule?e:{default:e}}function l(){return o.default.is_rtl(s.default.or_throw().app_language())}function u(e){return(0,i.createWatcher)((function(){if(e.scrollDirection==="vertical"){var t=e.columns;return{indexToRow:function e(r){return Math.floor(r/t)},indexToColumn:function e(r){return r%t}}}else if(e.scrollDirection==="horizontal"){var r=e.rows;return{indexToRow:function e(t){return t%r},indexToColumn:function e(t){return Math.floor(t/r)}}}else{return{indexToRow:function e(){return 0},indexToColumn:function e(){return 0}}}}),{fallback:{indexToRow:function e(t){return 0},indexToColumn:function e(t){return 0}}})}function c(e){return(0,n.createMemo)((function(){var t={};if(e.hasTopBorder){t["border-top-width"]="".concat(e.separatorWidth,"px");t["border-top-color"]=e.separatorColor;t["border-top-style"]=e.separatorStyle;t["margin-top"]="".concat(-e.separatorWidth,"px")}if(e.hasLeftBorder){if(l()){t["border-right-width"]="".concat(e.separatorWidth,"px");t["border-right-color"]=e.separatorColor;t["border-right-style"]=e.separatorStyle;t["margin-right"]="".concat(-e.separatorWidth,"px")}else{t["border-left-width"]="".concat(e.separatorWidth,"px");t["border-left-color"]=e.separatorColor;t["border-left-style"]=e.separatorStyle;t["margin-left"]="".concat(-e.separatorWidth,"px")}}if(e.firstRow){t["padding-top"]="0px"}return t}))}},{"../../../../languages":612,"../../../../lib":614,"../../../../renderer/solid_utils/autorun_signals":640}],277:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.TableContext=r.PSEUDO_TABLE_ELEMENTS=r.NUM_DEFAULT_ROWS_EDITOR=r.NUM_DEFAULT_COLUMNS=r.DEFAULT_REPEATING_ROW_HEIGHT=r.DEFAULT_HEADER_ROW_HEIGHT=r.DEFAULT_COLUMN_WIDTH=void 0;r.getAxisNames=f;r.isTableDirectionHorizontal=r.getLetterIndex=void 0;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=3;r.NUM_DEFAULT_COLUMNS=o;var s=3;r.NUM_DEFAULT_ROWS_EDITOR=s;var i=77;r.DEFAULT_REPEATING_ROW_HEIGHT=i;var a=43;r.DEFAULT_HEADER_ROW_HEIGHT=a;var l=158;r.DEFAULT_COLUMN_WIDTH=l;var u=["TableMainAxis","TableCrossAxis","TableCell"];r.PSEUDO_TABLE_ELEMENTS=u;var c=(0,n.createContext)();r.TableContext=c;function f(e){if(e==="horizontal"){return{main:"row",cross:"column"}}else{return{main:"column",cross:"row"}}}var d=function e(t){var r;return((r=t.parent())==null?void 0:r.get_static_property("table_direction"))==="horizontal"};r.isTableDirectionHorizontal=d;var p=function e(t){return String.fromCharCode("A".charCodeAt(0)+t)};r.getLetterIndex=p},{}],278:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=r;var o=e("../../../client/analytics");var s=e("../../../lib");var i=e("../../../lang/appquery");var a=e("../components/utils/table_element"),l=a.PSEUDO_TABLE_ELEMENTS;function u(){var e;if(!((e=window)!=null&&e.is_maison)){var t,r,n;return((t=s().visual_edit)==null?void 0:t.responsive_version())>0&&((r=s().visual_edit)==null?void 0:r.is_active())&&((n=s().visual_edit)==null?void 0:n.responsive_mode_box())==="responsive"}else{return false}}function c(e){return l.includes(e.type())||e.type()==="Table"}n.delete_element_property=function(e){return{name:"delete_element",button_caption:e.type()==="Table"?"Delete table":"Delete",editor:"Button",optional:true,condition:function t(){return!u()&&!e.get_static_property("cross_axis_repeat")},click_cb:function t(){if(window.confirm("Delete element "+e.get_name()+"?")){e.delete({user_action:"Delete Element Button"});e.commit();o.track("PE Delete Element clicked",{app:i.appname()})}},pretty:{section:"ElementMetaActions",no_caption:true,width:e.type()==="Table"?"":"small"}}};n.select_parent_property=function(e){return{name:"select_parent",caption:"Select parent/child",editor:"Dropdown",no_write_child:true,optional:true,set:s().sets.get_set("ParentElements")(e),on_change:function e(t){s().visual_edit.select_to_edit(t);o.track("PE Parent selected",{app:i.appname()})},pretty:{section:"ElementMetaActions"}}};n.reveal_in_tree_property=function(e){return{name:"reveal_in_tree",button_caption:"Reveal in the Elements tree",editor:"Button",optional:true,click_cb:function t(){s().visual_edit.reveal_in_element_tree(e);o.track("PE Reveal in Elements Tree clicked",{app:i.appname()})},pretty:{section:"ElementMetaActions",no_caption:true}}};n.lock_in_editor_property=function(e){var t;return{name:"lock_in_editor",caption:"Lock this element (not draggable in editor)",editor:"Checkbox",optional:true,default:(t=s().edit_canvas)==null?void 0:t.locked_elements[e.id()],condition:function e(){return!u()},on_change:function t(r){var n,a;(n=(a=s().visual_edit.current_editor_canvas).lockElement)==null?void 0:n.call(a,e.id(),r);o.track("PE Lock in Editor clicked",{app:i.appname()})},pretty:{section:"ElementMetaActions"}}};n.replace_element_property=function(e){return{name:"switch_element",button_caption:"Replace",editor:"Button",optional:true,condition:function t(){return!u()&&!c(e)},click_cb:function t(){window.ReplaceTypePanel(e);o.track("PE Replace Element clicked",{app:i.appname()})},pretty:{section:"ElementMetaActions",no_caption:true,width:"small"}}};n.add_static_cross_axis=function(e){var t;var r=((t=e.parent())==null?void 0:t.get_static_property("table_direction"))==="horizontal";return{name:"add_static_axis",button_caption:"Add static ".concat(r?"column":"row"),optional:true,editor:"Button",pretty:{short_caption:false,section:"ElementMetaActions",width:"small"},condition:function e(t){return!t.get_static_property("cross_axis_repeat")},click_cb:function t(){var r,n,o;(r=(n=s().visual_edit.current_editor_canvas).createElement)==null?void 0:r.call(n,{type:"TableCrossAxis",goesOnDocument:false,mode:"select",isComponent:false},(o=e.parent)==null?void 0:o.call(e).id(),{left:0,top:0,width:0,height:0})}}}},{"../../../client/analytics":38,"../../../lang/appquery":535,"../../../lib":614,"../components/utils/table_element":277,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],279:[function(e,t,r){"use strict";var n=r;var o=e("../../../safe_require");o.safe_register("./core/core_elements/core_elements_utilities/element_optional_utils",n)},{"../../../safe_require":643}],280:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}var c=r;var f=e("../../../safe_require");var d=e("../../../lang/plugins");var p=e("../../../services/shared/service_type_parser");var _=e("../../../services/shared/plugin_getter");var m=e("../../../u/shared/decaf");f.safe_register("./core/core_elements/core_elements_utilities/element_registry",c);c.registered_elements={};c.get_element_object=function(e,t){var r;(r=t)!=null?r:t=false;if(e==="CustomElement"){return}if(c.registered_elements[e]){return c.registered_elements[e]}else{var n;var s=p.get_plugin_and_type(e),i=o(s,1),a=i[0];return(n=_.get_plugin(a))==null?void 0:n.get_element(e,t)}}},{"../../../lang/plugins":602,"../../../safe_require":643,"../../../services/shared/plugin_getter":649,"../../../services/shared/service_type_parser":651,"../../../u/shared/decaf":706,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],281:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.slice.js");function n(e){return i(e)||s(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return u(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=r;var f=e("../../../u");var d=e("../../../safe_require");var p=e("../../core_events/event_element_mapping");var _=e("../../core_actions/utilities/core_actions_consts");var m=e("../../property_applications");var y=m.apply_css_style;var v=e("../../../constants/runmode");var b=e("../../../client/analytics");var h=e("../../../lib");var j=e("../../../lang/appquery");var g=e("../../../editor/css");var w=e("./element_meta_actions");var O=e("./element_visibility");var S=e("./element_workflows");var k=e("../shared/inputs");var A=e("../shared/hover_state_manager");var E=e("../legacy/responsive_versioning_wrapper");var x=e("../../../u/shared/mode_check");var M=e("./element_registry");var P=e("./element_utils");var T=e("../../../lang/evaluation/element_eval");var I=e("../../../constants/elements"),C=I.VERSION_STYLE_OVERRIDES;var R=e("../components/utils/table_element"),N=R.PSEUDO_TABLE_ELEMENTS;d.safe_register("./core/core_elements/core_elements_utilities/element_transformer",c);c.make_element=function(e,t,r){var n,o,s;var i=c.transform_element(e,t);if(!r){M.registered_elements[e]=i}if((n=t.events)!=null&&n.length){t.events=t.events.concat("OnError")}if((o=t.events)!=null&&o.length){var l=a(t.events),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;p.add_event(f,e)}}catch(e){l.e(e)}finally{l.f()}}};var L={};c.register_hook_transformer=function(e,t){return L[e]=t};c.run_transformers=function(e){for(var t in L){var r=L[t];r(e)}};c.transform_element=function(e,t){var r,n,o,s,i;t.plugin_name=e;t=E.wrap_core_element(t);for(var l=0,u=["is_input","is_container","change_cursor_style_if_clickable","initialize","add_an_invisible_div_on_the_top"];l<u.length;l++){var d=u[l];if(t[d]==null){throw new f.UnexpectedError("Error building "+e+": no value for "+d)}}var _=!t.starts_hidden&&!t.always_visible;(n=(r=t).field_names)!=null?n:r.field_names={};var m=typeof t.property_applications==="function"?t.property_applications():t.property_applications;var b=a(m),j;try{for(b.s();!(j=b.n()).done;){var g;var w=j.value;var M=(g=w.field_names)!=null?g:{};for(var I in M){var C=M[I];t.field_names[I]=f.json_deep_copy(C)}}}catch(e){b.e(e)}finally{b.f()}if(!["Page"].includes(e)){t.field_names.delete_element={no_states:true,only_edit_mode:true}}if(!["CustomDefinition","CustomElement","Page"].includes(e)&&!N.includes(e)){t.field_names.switch_element={no_states:true,only_edit_mode:true}}if(!["CustomDefinition","Page"].includes(e)){t.field_names.select_parent={no_states:true,only_edit_mode:true};t.field_names.reveal_in_tree={no_states:true,only_edit_mode:true};t.field_names.lock_in_editor={no_states:true,only_edit_mode:true}}t.field_names.element_style={no_states:true};t.field_names.delete_style={no_states:true,only_edit_mode:true};t.field_names.edit_style={no_states:true,only_edit_mode:true};if(_){f.extend(t.field_names,O.visibility_field_names)}if(t.defaults){for(var R in t.field_names){var L=t.field_names[R];var z=t.defaults[R];if(z!=null){L.default=z}}}if(t.starts_hidden){t.is_visible_on_page_load=function(e){return false}}else if(t.always_visible){t.is_visible_on_page_load=function(e){return true}}else if(_){t.is_visible_on_page_load=function(e){return e.get_static_property("is_visible",true)}}else{throw new f.UnexpectedError("should not get here")}var D;if(t.dont_add_hover_pressed){D=[]}else{D=["is_hovered","is_pressed","force_pressed"]}if(t.plugin_name==="Link"){D.push("is_link_disabled")}var q=["invisible_div_drawn"];var B=["add_tab_index"];var U=[];var W=t.add_specific_messages;if(t.is_container){var F;(F=D).push.apply(F,["group_data"]);t.add_specific_messages=function(e,t){var r=t.get_state_value("group_data");if(r&&r.id()!=="null"){f.extend(e,{get_group_data:{description:"'s "+r.display(),section:"States",ret_btype:r,fn:function e(t,r){return this.ret_btype().cast(t==null?void 0:t.state("group_data"))}}})}return W==null?void 0:W(e,t)};q.push.apply(q,["datasource_changed_by_workflow_action"]);B.push.apply(B,["set_group_data","reset_group"]);U.push.apply(U,[])}if(t.is_pseudo){t.add_specific_messages=function(e,t){if(t.type()==="TableMainAxis"){var r,n,o;f.extend(e,{get_data:{description:"'s Table",section:"States",ret_btype:(r=(n=(o=t.parent()).get_value_id)==null?void 0:n.call(o))!=null?r:"null",fn:function e(t,r){return t.parent()}}});return W==null?void 0:W(e,t)}}}if(t.is_input){D.push("value");t.add_specific_messages=function(e,r){f.extend(e,{get_data:{description:t.is_checkbox?" is checked":"'s value",section:"States",ret_btype:r.get_state_value("value"),fn:function e(t,r,n,o,s){if(s!=null&&s.inputs_must_be_valid&&t!=null&&t.is_visible()){t==null?void 0:t.state("value_that_is_valid")}return this.ret_btype().cast(t==null?void 0:t.state("value"))}}});if(t.is_checkbox){f.extend(e,{get_not_data:{description:" isn't checked",section:"States",ret_btype:r.get_state_value("value"),fn:function e(t,r){return!(t!=null&&t.state("value"))}}})}return W==null?void 0:W(e,r)};D.push("value_that_is_valid");D.push("currently_binding");if(!t.no_is_focused){D.push("is_focused")}q.push.apply(q,["has_been_changed","force_display_validity"]);B.push.apply(B,["reset_input","set_focus"]);if(t.content_validated){var G;(G=D).push.apply(G,["display_invalid","is_invalid"]);B.push("display_validity")}U.push.apply(U,["user_change","user_submit"]);p.add_event("InputChanged",e)}if(t.is_file_uploader){B.push("cancel_upload")}function X(e){if(!e.edit_mode){return false}var t=e.element.root();return t!=null&&t.type()==="CustomDefinition"&&t.get_responsive_version()>0}var V=t.register;t.register=function(e){V==null?void 0:V.call(t,e);if(e.run_mode()){e.on_message("add_tab_index",(function(t){e.state("tab_index",t)}));if(t.is_container){P.register_group_data(t,e)}}if(_&&!x.on_server()&&(e.run_mode()||e.responsive_mode()||X(e))){var r=function t(){n=false;if(e._is_visible_me){e.do_show()}else if(e.is_drawn){e.do_hide()}else{e._hide_me();e.wait_for_first_draw((function(){if(!e._is_visible_me){e.do_hide()}}))}};var n=false;var o=e.parent();T.on_property_change(e,"is_visible",(function(t){e._is_visible_me=t;if(!n){n=true;f.WaitFor(e.get_skeleton_ready_key(),(function(){if(o){f.WaitFor(o._has_become_visible,r)}else{r()}}))}}))}if(t.is_input){k.register_input_states(t,D,e)}};var H=t.initialize;t.initialize=function(e){var r,n;H.call(t,e);n=r=false;if(e.edit_mode()){T.on_property_change(e,"margin_top",(function(t){if(n){if(e.get_static_property("top")<t){e.element.set_property("top",t);e.element.commit_merge()}}n=true}));T.on_property_change(e,"margin_left",(function(t){if(r){if(e.get_static_property("left")<t){e.element.set_property("left",t);e.element.commit_merge()}}r=true}))}function o(){var r=a(e.element.get_property_applications()),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;(function(r){if(r.apply_once){return r.apply({},e.canvas)}else{var n;if(t.additional_uses_properties){n=r.uses_properties.concat(t.additional_uses_properties)}else{n=r.uses_properties}var o=true;return T.on_property_change(e,n,(function(t){t._first_time=o;r.apply(t,e.canvas,e);o=false}))}})(o)}}catch(e){r.e(e)}finally{r.f()}}e.wait_for_visible_lite((function(){return o()}));if(e.run_mode()){e.wait_for_visible_lite((function(){var t={};var r=a(e.element.get_property_applications()),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;o.get_transition_css(e.element,e.canvas,t)}}catch(e){r.e(e)}finally{r.f()}e.get_transition_css(t);setTimeout((function(){for(var e in t){var r=t[e],n=r.target,o=r.css_prop;if(![undefined,""].includes(o)){o=o.slice(0,o.length-2);y(n,{"-webkit-transition":o,"-moz-transition":o,"-o-transition":o,"-ms-transition":o,transition:o})}}}),0)}))}if(t.change_cursor_style_if_clickable&&e.run_mode()){if(e.element.get_related_workflows("ButtonClicked").length){P.register_tab_index_listener(e,(function(t){e.get_canvas().attr("tabindex",t)}));e.get_canvas().addClass(v.CLICKABLE_ELEMENT);e.wait_for_visible_lite((function(){return T.on_property_change(e,"button_disabled",(function(t){if(t){e.get_canvas()[0].style.cursor="default";e.get_canvas()[0].tabindex="-1"}else{e.get_canvas()[0].style.cursor="pointer"}}))}))}}if(e.run_mode()&&e.element.get_related_workflows("ButtonClicked").length){e.get_canvas().focus((function(){e.get_canvas().addClass("show-outline")}));e.get_canvas().blur((function(){e.get_canvas().removeClass("show-outline")}));if(!t.specific_click_handler){e.get_canvas().click((function(t){var r;var n=h().workflow.debugger;if(n!=null){r=n.element_clicked(e,e.get_partial())}if(!r){return S.run_element_workflow(e,"ButtonClicked",t)}}))}}if(t.add_an_invisible_div_on_the_top&&!e.run_mode()){P.do_add_an_invisible_div_on_the_top(e)}if(e.run_mode()&&!t.dont_add_hover_pressed){if(!f.is_on_mobile_or_tablet()){e.state("is_hovered",A.setup_hover,true);e.canvas.mousedown((function(){e.state("is_pressed",true);$(document).one("mouseup",(function(){e.state("is_pressed",false)}))}))}else{e.canvas.on("touchstart",(function(){e.state("is_pressed",true);$(document).one("touchend",(function(){var t=setTimeout((function(){return e.state("is_pressed",false)}),100);$(document).one("scroll",(function(){e.state("is_pressed",false);return clearTimeout(t)}))}))}))}}if(e.run_mode()){c.run_transformers(e)}if(t.always_visible){e._display_me()}};var Y=(o=t.get_states)!=null?o:function(){return[]};t.get_states=function(e){return D.concat(Y(e))};var K=(s=t.get_messages)!=null?s:function(){return[]};t.get_messages=function(e){return B.concat(K(e))};var J=(i=t.get_private_messages)!=null?i:function(){return[]};t.get_private_messages=function(e){return U.concat(J(e))};return t}},{"../../../client/analytics":38,"../../../constants/elements":72,"../../../constants/runmode":91,"../../../editor/css":481,"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../safe_require":643,"../../../u":687,"../../../u/shared/mode_check":713,"../../core_actions/utilities/core_actions_consts":176,"../../core_events/event_element_mapping":371,"../../property_applications":405,"../components/utils/table_element":277,"../legacy/responsive_versioning_wrapper":351,"../shared/hover_state_manager":357,"../shared/inputs":360,"./element_meta_actions":278,"./element_registry":280,"./element_utils":282,"./element_visibility":283,"./element_workflows":284,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],282:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.find.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../../../u");var l=e("../../../safe_require");var u=e("../../../lang/elements");var c=e("../../../lang/evaluation/element_eval");l.safe_register("./core/core_elements/core_elements_utilities/element_utils",i);i.reset_inputs_and_groups=function(e){for(var t=0,r=["reset_input","reset_group","clear_list"];t<r.length;t++){var o;var s=r[t];var i=n((o=e.children)!=null?o:[]),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.element.get_messages().includes(s)){l.message(s)}}}catch(e){i.e(e)}finally{i.f()}}};i.register_tab_index_listener=function(e,t){e.autorun((function(){var r=e.state("tab_index");if(r!=null){t(r)}}))};i.register_group_data=function(e,t){t.state("group_data",u.STATE_NOT_READY);function r(){if(!t.state("datasource_changed_by_workflow_action")){var r;if(e.default_group_data){r=e.default_group_data()}else{r=function e(){var r;return(r=c.evaluate_property(t,"data_source"))!=null?r:null}}return t.state("group_data",r)}}t.on_message("reset_group",(function(){t.state("datasource_changed_by_workflow_action",false);r();return i.reset_inputs_and_groups(t)}));t.on_message("set_group_data",(function(e){var r;(r=e)!=null?r:e=null;t.state("datasource_changed_by_workflow_action",true);t.state("group_data",e);return o()}));t.autorun(r);var n=null;function o(){var e=t.state("group_data");if(!a.compare(e,n)){n=e;return i.reset_inputs_and_groups(t)}}t.autorun(o)}},{"../../../lang/elements":557,"../../../lang/evaluation/element_eval":567,"../../../safe_require":643,"../../../u":687,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],283:[function(e,t,r){"use strict";e("core-js/modules/es.array.find.js");var n=r;var o=e("../../../lang/appquery");var s=e("../../../client/analytics");var i=e("../../../lib");n.visibility_property=function(e){var t;return[{name:"is_visible",caption:(t=window)!=null&&t.is_maison?"Visible on page load":"This element is visible on page load",long_caption:"This element is visible",editor:"Checkbox",on_change:function t(r){if(r===false){i().visual_edit.turn_element_on(e.id(),true)}s.track("PE Visible on Page Load toggled",{app:o.appname(),new_value:r})},pretty:{section:"Position"}},{name:"information",label_text:"This element is not visible on page load, you can show it to edit it in the Element Tree.",click_cb:function e(){return $(".layers-box").find("h2").click()},editor:"Label",condition:function e(t){return!t.get_static_property("is_visible",true)},pretty:{section:"Position"}}]};n.visibility_field_names={is_visible:{default:true}}},{"../../../client/analytics":38,"../../../lang/appquery":535,"../../../lib":614,"core-js/modules/es.array.find.js":929}],284:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../../../u");var l=e("../../../safe_require");var u=e("../../../logger");var c=e("../../core_events");var f=e("../../core_datasources/utilities/core_ds_workflow_utilities");var d=e("../../../lang/evaluation/FrozenState");var p=e("../../../lang/evaluation/page_state");var _=e("../../../constants/runmode");var m=e("../../../constants/workflow");var y=e("../../../constants/core");var v=e("../../../lib");var b=e("../../../db/values/StaticObject");var h=e("../../status_bar");var j=e("../../../lang/evaluation/element_eval");var g=e("../../../db/hydrate");var w=e("../../../lang/appquery");l.safe_register("./core/core_elements/core_elements_utilities/element_workflows",i);i.start_workflow_field_names={start_workflow:{no_states:true},button_disabled:{}};i.run_element_workflow=function(e,t,r,n,o,s){if(!s){if(r&&a.did_event_pass_through(r,"."+_.CLICKABLE_ELEMENT)){return}if(e.state("force_pressed")){return}}var l=n!=null?n:e.element.get_related_workflows(t);if(!(l!=null&&l.length)){return}var g=a.Promise(null,"button press evaluation");if(!s){e.state("force_pressed",true)}var w=h.show_progress_line(g);var O=function t(r){return function(t){if(!t){r();return}var n=e.element.get_related_workflows("OnError");if(n.length===0){r(t);return}var s=c.build_wf_error_object(t);var i={element:e,datasources:p.get_basic_datasources(e.element.root())};var l={};l[y.LEGACY_PARAM_ID]=new b(s,null,"sys.error");i.datasources.get_wf_param=f.generate_wf_param_datasource(l);if(o!=null){a.extend(i.datasources,o)}var u=new d(i);u.freeze_workflows(n,(function(e){if(e){r(e);return}var o=v().workflow.run_workflows(i,n,true);o.callback((function(e,n){if(e){r(e);return}if(n.length===0){r(t);return}return r()}))}))}};g.callback(O((function(t){return c.handle_uncaught_error({original_error:t,caught_from:m.ERROR_SOURCES.ELEMENT_WORKFLOW,cb:function t(r){if(r){window.alert(u.human_friendly(r))}if(!s){e.state("force_pressed",false)}return w()}})})));a.run_once(5,(function(){if(s){return false}return j.evaluate_property(e,"button_disabled")}),(function(t,r){if(t){g.reject(t);return}if(r){g.resolve();return}if(!s){e.get_canvas().removeClass("show-outline")}var n={element:e,inputs_must_be_valid:true,datasources:p.get_basic_datasources(e.element.root())};if(o!=null){a.extend(n.datasources,o)}var u=new d(n);u.freeze_workflows(l,(function(t){if(t){g.reject(t);return}return a.run_once(30,(function(){return i.find_invalid_inputs(e,l,n)}),(function(e,t){if(e){g.reject(e);return}var r=t.validation_fail,o=t.min_top;if(!r){return g.resolve(v().workflow.run_workflows(n,l,true))}else{var s;g.resolve(true);if(!a.isScrolledIntoView((s=o.instance)==null?void 0:s.get_canvas()).status){var i;return a.velocity((i=o.instance)==null?void 0:i.get_canvas(),"scroll",{duration:200,offset:-100,complete_cb:function e(){return o.instance.message("set_focus")}})}else{return o.instance.message("set_focus")}}}))}))}));return g};i.find_inputs_to_check=function(e,t,r,o){var s=[];var i=[];var l=n(t),u;try{var c=function t(){var l=u.value;if(!o&&!v().workflow.should_workflow_run(r,l)){return"continue"}s.push(l);function c(e){var t,r;if(((t=e.next())==null?void 0:(r=t.name)==null?void 0:r.call(t))==="isnt_valid"){return true}else{return false}}var f=[];var d=n(l.find_expressions("GetElement")),p;try{for(d.s();!(p=d.n()).done;){var _=p.value;if(!c(_)){f.push({instance_id:_.element_id()})}}}catch(e){d.e(e)}finally{d.f()}var m=n(l.find_expressions("ThisElement")),y;try{for(m.s();!(y=m.n()).done;){var b=y.value;if(!c(b)){f.push({instance_id:e.element_id()})}}}catch(e){m.e(e)}finally{m.f()}function h(t,r){var o;var s=w.event(t.get_static_property("custom_event"));(o=r)!=null?o:r={};if(r[s.id()]){return}r[s.id()]=true;var i=e.find_instance_by_id(t.element_id());if(!(s!=null&&s.exists())){return}var l=n(s.find_expressions("GetElement")),u;try{for(l.s();!(u=l.n()).done;){var d=u.value;if(!c(d)){f.push({instance_id:d.element_id(),parent_instance:i})}}}catch(e){l.e(e)}finally{l.f()}var p=n(s.actions("TriggerCustomEvent").concat(s.actions("TriggerCustomEventFromReusable"))),_;try{for(p.s();!(_=p.n()).done;){var m=_.value;h(m,a.extend({},r))}}catch(e){p.e(e)}finally{p.f()}}var j=n(l.actions("TriggerCustomEvent").concat(l.actions("TriggerCustomEventFromReusable"))),g;try{for(j.s();!(g=j.n()).done;){var O=g.value;h(O)}}catch(e){j.e(e)}finally{j.f()}for(var S=0,k=f;S<k.length;S++){var A=k[S],E=A.instance_id,x=A.parent_instance;var M=(x!=null?x:e).find_instance_by_id(E);if(M&&M.is_visible()){i.push(M)}}};for(l.s();!(u=l.n()).done;){var f=c();if(f==="continue")continue}}catch(e){l.e(e)}finally{l.f()}var d={};var p=[];for(var _=0,m=i;_<m.length;_++){var y=m[_];if(!d[y.toUniqueString()]){d[y.toUniqueString()]=true;p.push(y)}}return{input_instances:p,to_run:s}};i.find_invalid_inputs=function(e,t,r){var o={top:0,left:0,instance:null};var s=false;var a=i.find_inputs_to_check(e,t,r),l=a.input_instances,u=a.to_run;var c=n(l),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;if(d.get_messages().includes("display_validity")){var p,_;d.message("display_validity");if(d.state("display_invalid")||(p=r.frozen_state.element_state[g.dehydrate_tree(d)])!=null&&(_=p.value_that_is_valid)!=null&&_.not_valid){s=true;if(o.top>d.element.get_top()||!o.instance){if(o.left>=d.element.get_left()||!o.instance){o.top=d.element.get_top();o.left=d.element.get_left();o.instance=d}}}}}}catch(e){c.e(e)}finally{c.f()}return{validation_fail:s,min_top:o,to_run:u}}},{"../../../constants/core":66,"../../../constants/runmode":91,"../../../constants/workflow":101,"../../../db/hydrate":422,"../../../db/values/StaticObject":466,"../../../lang/appquery":535,"../../../lang/evaluation/FrozenState":564,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/page_state":575,"../../../lib":614,"../../../logger":617,"../../../safe_require":643,"../../../u":687,"../../core_datasources/utilities/core_ds_workflow_utilities":236,"../../core_events":372,"../../status_bar":407,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],285:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");function n(e,t){return i(e)||s(e,t)||u(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e){return f(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if(typeof e==="string")return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function c(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f(e){if(Array.isArray(e))return d(e)}function d(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var p=e("../../u");var _=e("../../logger");var m=e("../../constants/custom_elements"),y=m.GROUP_TYPES;var v=e("../../lang/color_tokens"),b=v.default_color_tokens_to_property,h=v.user_color_tokens_to_property;var j=e("../../lang/font_tokens");var g=e("../property_applications");var w=e("../core_elements/core_elements_utilities/element_transformer");var O=e("../core_elements/core_elements_utilities/element_registry");var S=e("../../lang/evaluation/element_eval");var k=e("../core_elements/shared/floating_groups");var A=e("../core_elements/shared/groups");var E=e("./components/CustomDefinitionComponent");var x=e("../../u/shared/mode_check");var M;var P=e("../../lib");var T=e("../../lang/appquery");var I=w.transform_element("Custom Element",{field_names:p.extend({element_type:{default:"Group",no_states:true},group_type:{no_states:true},delete_custom_definition:{no_states:true},new_responsive:{no_states:true},responsive_version:{no_states:true},upgrade_responsive_version:{no_states:true,only_edit_mode:true},element_version:{default:0,no_states:true},min_width:{no_states:true,default:0,optional:true},use_max_width:{no_states:true},max_width:{no_states:true,default:100,optional:true},page_folder:{optional:true,no_states:true,only_edit_mode:true}},k.floating_field_names),can_defer_drawing:function e(){return true},initialize:function e(t){},property_applications:function e(t){return[new g.ShortDimensions,new g.Background,new g.Border,new g.BoxShadow,new g.RootSizing,new g.ResponsiveContainer(t),new g.PaddingFields,new g.Opacity]},uses_css_responsive:true,solid_component:E,attach_to_body:function e(){return false},no_margins:function e(){return true},defaults:{bgcolor:"#FFFFFF",background_style:"bgcolor"},get_html:function e(){return"<div></div>"},get_min_width:function e(t){return 0},position_canvas:function e(t,r){if(r.responsive_mode()){r.container.add(r);return}$(".canvas").append(t);if(r.element.get_responsive_version()<1){return t.css({"margin-right":"auto","margin-left":"auto",position:"relative"})}},always_visible:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},get_state_value:function e(t,r){return A.state_value_helper_for_group(t,r)},is_input:false,is_container:true,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,not_draggable:function e(){return true}});O.registered_elements.CustomDefinition=I},{"../../constants/custom_elements":68,"../../lang/appquery":535,"../../lang/color_tokens":540,"../../lang/evaluation/element_eval":567,"../../lang/font_tokens":589,"../../lib":614,"../../logger":617,"../../u":687,"../../u/shared/mode_check":713,"../core_elements/core_elements_utilities/element_registry":280,"../core_elements/core_elements_utilities/element_transformer":281,"../core_elements/shared/floating_groups":355,"../core_elements/shared/groups":356,"../property_applications":405,"./components/CustomDefinitionComponent":247,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],286:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e){return l(e)||a(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return u(e)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=r;var f=e("../../u");var d=e("../../u/shared/decaf");var p=e("../../lang/app_json");var _=e("../../logger");var m=e("../../lang/nodes");var y=e("../../lang/elements/ElementInstance");var v=e("../../lang/elements/ServerElementInstance");var b=e("../../lang/elements/Transition");var h=e("../../lang/evaluation/element_eval");var j=e("../../lang/evaluation/element_props");var g=e("./shared/groups");var w=e("../../constants/custom_elements"),O=w.ON_ELEMENT;var S=e("../property_applications");var k=e("../core_elements/core_elements_utilities/element_visibility");var A=e("../core_elements/core_elements_utilities/element_meta_actions");var E=e("../core_elements/shared/popups");var x=e("../core_elements/shared/floating_groups");var M=e("../core_elements/shared/groups");var P=e("../shared_fields");var T=e("../../lang/evaluation/allow_overrides_check"),I=T.allow_overrides_check;var C=e("../../lib");var R=e("../../lang/appquery");var N={missing:true,get_static_property:function e(){},get_default:function e(){},events:function e(){return[]},property:function e(t){return m.new_expression(p.EmptyJSON(R.app().json,null,"property on missing def"),this)},id:function e(){return"missing"},can_have_children:function e(){return false},toUniqueString:function e(){return"MissingDef"},get_style_if_exists:function e(){},element_custom_states:function e(){return[]},element_custom_state:function e(){return null},add_specific_messages:function e(){},get_responsive_version:function e(){return 0}};function L(e){return{get_html:function e(){return"<div>Deleted reusable element</div>"},initialize:function e(){},get_messages:function e(){return[]},get_states:function e(){return[]},get_private_messages:function e(){return[]},can_have_children:function e(){return false},is_visible_on_page_load:function e(){return true},add_specific_messages:function e(){},property_applications:[]}}function z(e){var t=e.property("custom_id").get_static();var r=e.app().custom_definition(t);if(!(r!=null&&r.exists())){return N}return r}function D(e,t){var r,n;(r=t)!=null?r:t=z(e);if(t.missing){return L(e.property("custom_id").get_static())}var o=(n=t.property("element_type").get_static())!=null?n:"Group";return C().load_plugin(C().plugin_prefixes.element+o)}function q(e){var t=e.json.child("properties").child("custom_id").get();var r=C().derived("CustomByName").content();return d.object_values(r).some((function(e){return e.id===t}))}function B(){var e;if(!((e=window)!=null&&e.is_maison)){var t,r,n;return((t=C().visual_edit)==null?void 0:t.responsive_version())>0&&((r=C().visual_edit)==null?void 0:r.is_active())&&((n=C().visual_edit)==null?void 0:n.responsive_mode_box())==="responsive"}else{return false}}function U(e){var t=z(e);var r=D(e,t);if(t.missing&&q(e)){_.error("custom element exists but not found while rendering. possible id_to_path issue",{custom_id:e.json.child("properties").child("custom_id").get(),id_to_path_keys:C().app().json.child("_index").child("id_to_path").child_names(),element_definitions_keys:C().app().json.child("element_definitions").child_names(),run_js_page_generation_fiber_id:C().app().json.child("generation_fiber_id").get()})}var n=t.property("element_type").get_static();var s=n!=="Popup";var i=n==="FloatingGroup";var a=n==="Group";var l={data_source:{},edit_custom_definition:{only_edit_mode:true},min_width:{default:30,no_states:true},fixed_width:{no_states:true,default:false},responsive_alignment:{default:"center",no_states:true},use_max_width:{no_states:true,default:false},max_width:{default:100,optional:true,no_states:true},collapse_margin:{default:0,optional:true,no_states:true},delete_element:{no_states:true,only_edit_mode:true},select_parent:{no_states:true,only_edit_mode:true},reveal_in_tree:{no_states:true,only_edit_mode:true},lock_in_editor:{no_states:true,only_edit_mode:true}};if(s){f.extend(l,(new S.PositionOnly).field_names,k.visibility_field_names,(new S.Dimensions).field_names,{use_max_width:{no_states:true,default:false},max_width:{optional:true,no_states:true,default:100},collapse_margin:{default:375,optional:true,no_states:true}})}else{f.extend(l,E.greyout_field_names,(new S.ShortDimensions).field_names)}if(i){f.extend(l,x.floating_field_names)}f.extend(l,new S.ResponsiveElement(e).field_names);if(a){f.extend(l,M.group_field_names)}var u={base_name:r.plugin_retrieved_name,property_transformer:function e(r,n){return function(e){if(O.includes(e)){if(["height","width"].includes(e)){if(r.not_resizable()){return t.property(e)}else{return n(e)}}else{return n(e)}}if(r.get_styleable_properties()[e]&&t.get_style_if_exists()&&(!I(r,e,t.field_names())||t.property(e).raw()==null)){return t.get_style().property(e)}else{return t.property(e)}}},get_static_property_transformer:function e(r,n){return function(e,o){if(O.includes(e)){if(["height","width"].includes(e)){if(r.not_resizable()){return t.get_static_property(e,o)}else{var s;return(s=n(e,o))!=null?s:t.get_static_property(e,o)}}else{return n(e,o)}}if(r.get_styleable_properties()[e]&&t.get_style_if_exists()&&(!I(r,e,t.field_names())||t.property(e).raw()==null)){return t.get_style().get_static_property(e,o)}else{return t.get_static_property(e,o)}}},get_style_if_exists_transformer:function e(){return function(){return t.get_style_if_exists()}},default_transformer:function e(r,n){return function(e){if(O.includes(e)){return n(e)}var o=r.get_styleable_properties()[e]&&t.get_style_if_exists()&&(!I(r,e,t.field_names())||t.property(e).raw()==null);if(o){return t.get_style().get_default(e)}else{return t.get_default(e)}}},states_transformer:function e(r){return function(){var e,r;return(e=(r=t.states)==null?void 0:r.call(t))!=null?e:[]}},primary_field:function e(t){},field_names:l,styleable_properties:{greyout_color:false,greyout_blur:false},property_applications:r==null?void 0:r.property_applications,custom_states:function e(){var r,n;return(r=(n=t.states)==null?void 0:n.call(t))!=null?r:m.enhance_array([])},element_custom_states:function e(){return t.element_custom_states()},element_custom_state:function e(r){return t.element_custom_state(r)},get_default:function e(){},transition:function r(n){var o=e.json.child("transitions").child(n);if(o.exists()){return new b(o,e)}var s=t.transition(n);if(s){return s}var i=t.get_style_if_exists();if(i){return i.transition(n)}},get_messages:function e(t){return r.get_messages(t)},get_states:function e(t){return r.get_states(t)},add_specific_messages:function e(t,n){return r.add_specific_messages(t,n)},get_state_value:function e(t,n){return r.get_state_value(t,n)},get_private_messages:function e(t){return r.get_private_messages(t)},mandatory_sections:function e(t){return["GroupType","Background"]},get_html:function e(t){return r.get_html(t)},is_popup:function e(t){return!s},not_max_adjustable:r.not_max_adjustable,property_supports_states:true,property_supports_transitions:false,can_copy_style:false,uses_css_responsive:t.get_responsive_version()>0,can_fit_width:s,can_fit_height:true,solid_component:t.get_responsive_version()>0?r.solid_component:undefined,use_legacy_in_editor:true,edit_fallback_component:r.solid_component,register:function e(n){var o;if(n.is_self_nested_custom()){return}n.split_namespace();n.add_to_namespace(n,t.id());if(n.run_mode()){f.WaitFor(n.can_register_workflows(),(function(){return n.register_workflows(t.events())}))}(o=r.register)==null?void 0:o.call(r,n)},register_children:function e(n){if(n.is_self_nested_custom()||!r.can_have_children()){return}if(r.register_children){r.register_children(n)}else{n._default_register_children(t.elements())}},can_defer_drawing:function e(t){var n,o;return(n=(o=r.can_defer_drawing)==null?void 0:o.call(r,t))!=null?n:false},initialize:function e(n){r.initialize(n);if(n.responsive_mode()||n.run_mode()){var o;if(t.get_responsive_version()>0&&((o=n.element.root())==null?void 0:o.get_responsive_version())<1){n.canvas.css({height:"max-content","grid-template-rows":"max-content"});if(n.element.added_to_container()){n.autorun((function(){var e=n.current_height();n.set_height(e,{no_css_update:true});n.canvas.css("height","max-content")}))}}}if(n.is_self_nested_custom()){n.canvas.text("This is a circular Reusable Element... Reusable Elements cannot contain themselves (or other Reusable Elements that contain them).");return}},can_have_children:function e(t){return r.can_have_children(t)},get_children_canvas:function e(t){return r.get_children_canvas(t)},create_server_children:function e(r){var n=r.container.create_child(r);f.incremental_for_each(t.elements(),(function(e){if(e.exists()){r.children.push(new v(e))}}));r.child_container=n},attach_to_body:function e(t){var n;return(n=r.attach_to_body)==null?void 0:n.call(r,t)},goes_on_document:function e(t){var n,o;return(n=(o=r.goes_on_document)==null?void 0:o.call(r,t))!=null?n:false},goes_on_document_for_drawing:function e(t){var n,o;return(n=(o=r.goes_on_document_for_drawing)==null?void 0:o.call(r,t))!=null?n:this.goes_on_document(t)},no_edit_draw_children:function e(){return true},is_visible_on_page_load:function e(t){return r.is_visible_on_page_load(t)},not_resizable:function e(r){var n,o;if(!((n=r.root())!=null&&n.use_responsive_algorithm())||!((o=t.use_responsive_algorithm)!=null&&o.call(t))){return true}else if(t.get_responsive_version()>0&&t.container_layout()==="fixed"){return true}else{return false}},not_draggable:function e(t){var n,o;return(n=(o=r.not_draggable)==null?void 0:o.call(r,t))!=null?n:false},modal:function e(t){var n;return(n=r.modal)==null?void 0:n.call(r,t)},get_definition_workflows:function e(r){return t.events()},get_visible_workflows:function e(t){return m.enhance_array([].concat(o(t.parents().events()),o(this.get_definition_workflows(t))))},get_related_workflows:function e(r){return function(e){var n=r.parents().events();var s=t.events();var i=function t(r){return function(t){return t.element_id()===r&&t.type()===e}};return m.enhance_array([].concat(o(n.filter(i(r.id()))),o(s.filter(i(t.id())))))}},custom_definition:function e(){return t}};if(r.can_animate){u.can_animate=function(){return r.can_animate(e)}}if(r.position_canvas){u.position_canvas=r.position_canvas}if(r.do_show){u.do_show=r.do_show}if(r.do_hide){u.do_hide=r.do_hide}if(r.notify_width){u.notify_width=r.notify_width}if(r.get_min_width&&t.use_responsive_algorithm()){u.get_min_width=r.get_min_width}if(r.uses_inset_instead_of_margin){u.uses_inset_instead_of_margin=true}return u}c.load_custom=f.autorun_cache(U);c.CustomDefinition=z},{"../../constants/custom_elements":68,"../../lang/app_json":513,"../../lang/appquery":535,"../../lang/elements/ElementInstance":546,"../../lang/elements/ServerElementInstance":550,"../../lang/elements/Transition":554,"../../lang/evaluation/allow_overrides_check":565,"../../lang/evaluation/element_eval":567,"../../lang/evaluation/element_props":568,"../../lang/nodes":597,"../../lib":614,"../../logger":617,"../../u":687,"../../u/shared/decaf":706,"../core_elements/core_elements_utilities/element_meta_actions":278,"../core_elements/core_elements_utilities/element_visibility":283,"../core_elements/shared/floating_groups":355,"../core_elements/shared/groups":356,"../core_elements/shared/popups":364,"../property_applications":405,"../shared_fields":406,"./shared/groups":356,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],287:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../core_elements_utilities/element_transformer");var i=e("../../../lang/evaluation/element_eval");var a=e("../../../lang/evaluation/element_props");var l=e("../../../constants/elements"),u=l.PADDING_VERSION;var c=e("../components/AlertComponent");s.make_element("Alert",{category:"visual elements",glyph_id:"alert",list_order:6,keyboard_shortcut:null,defaults:{font_color:"#947739",background_style:"bgcolor",bgcolor:"#FFF6B2",border_style:"none",border_width:1,border_color:"#FFDFC2",boxshadow_style:"none",padding_vertical:10,padding_horizontal:0,font_alignment:"center",width:200,height:37,fixed_width:true},updated_default_sizing:{width:280,height:48},field_names:{text:{default:"...edit me..."},at_to_top:{no_states:true,default:false}},property_applications:function e(t){return[new o.Dimensions,new o.PaddingText,new o.PaddingFields({minimum_element_version:u,no_vertical_if_legacy_center:true,allow_legacy:true}),new o.Border,new o.BoxShadow,new o.Font,new o.FontShadow,new o.FontSpacing,new o.Background,new o.ResponsiveElement(t),new o.Opacity]},uses_css_responsive:true,solid_component:c,can_fit_width:true,can_fit_height:true,get_html:function e(t){return"<div></div>"},can_defer_drawing:function e(){return true},get_messages:function e(t){return["show_alert"]},register:function e(t){t.on_message("show_alert",(function(e){if(t.run_mode()){t.ensure_drawn()}if(t.is_drawn){t.message("do_show_alert",e);return}t.state("pending_alert",{orig_props:e,start_time:Date.now()})}))},initialize:function e(t){var r=t.get_canvas();var o=function e(){return t.get_static_property("at_to_top")||t.get_static_property("collapse_when_hidden")};if(t.edit_mode()){r.css("visibility","hidden")}else if(t.run_mode()||t.responsive_mode()){t._hide_me();if(o()){r.css("display","none")}if(t.responsive_mode()){t._has_been_hidden=true}}var s=null;t.autorun((function(){var e=n.bbcode_to_html(i.evaluate_property(t,"text"));if(i.evaluate_property(t,"vertical_centering")){if(s==null){r.empty();s=n.div("",r)}s.html(e)}else{s=null;r.html(e)}}));t.on_message("do_show_alert",(function(e){var i,a;((i=s)!=null?i:r).html(n.bbcode_to_html(e.message));t._display_me();t._is_visible_me=true;t._update_visible();r.css({display:"",opacity:(a=e.fin_starting_opacity)!=null?a:0});n.velocity(r,{opacity:1},{duration:e.fade_in,complete_cb:function s(){setTimeout((function(){var s;r.css("opacity",(s=e.fout_starting_opacity)!=null?s:1);n.velocity(r,{opacity:0},{duration:e.fade_out,complete_cb:function e(){if(o()){r.css("display","none")}t._hide_me();t._is_visible_me=false;t._update_visible()},display:""})}),e.hold)}})}));var a=t.state("pending_alert");if(a){t.message("do_show_alert",this._convert_pending_alert(a))}},starts_hidden:true,manual_position:false,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,is_input:false,is_container:false,get_min_width:function e(t){return 0},position_canvas:function e(t,r){var o=r.element;if(r.get_static_property("at_to_top")){r.autorun((function(){var e;var s={position:r.run_mode()?"fixed":"absolute","margin-left":"auto","margin-right":"auto","margin-top":"","margin-bottom":"","min-width":a.min_width_css(r),"min-height":a.min_height_css(r),"max-height":(e=a.max_height_css(r))!=null?e:"","z-index":2e4};var l=a.max_width_css(r);for(var u=0,c=["left","right","top","bottom"];u<c.length;u++){var f=c[u];s[f]=i.evaluate_property(r,"margin_".concat(f))}if(o.fit_width()){s.width="auto";var d="calc(100% - ".concat(s.left+s.right,"px)");if(l!=null){s["max-width"]=n.apply_css_fallbacks("max-width",["min(".concat(l,", ").concat(d,")"),l])}else{s["max-width"]=d}}else{s.width="initial";s["max-width"]=l!=null?l:""}if(o.fit_height()){s.bottom="unset";s.height="auto"}else{s.height="initial"}t.css(s)}));if(r.run_mode()){$("body").append(t)}else if(r.edit_mode()){r.container.setup_margins(r);$(".canvas").append(t)}else{r.container.container_canvas.append(t)}}else{r.container.add(r)}},added_to_container:function e(t){return!t.get_static_property("at_to_top")},goes_on_document:function e(t){var r;if(t==null){return false}return((r=t.root())==null?void 0:r.get_responsive_version())>0&&t.get_static_property("at_to_top")},not_draggable:function e(t){return this.goes_on_document(t)},_convert_pending_alert:function e(t){var r=t.start_time,o=t.orig_props;var s=function e(t){return Math.min(Math.max(t,0),1)};var i=Date.now();var a=s((i-r)/o.fade_in);var l=r+o.fade_in;var u=s((i-l)/o.hold);var c=l+o.hold;var f=s((i-c)/o.fade_out);return n.extend(o,{fin_starting_opacity:a,fade_in:o.fade_in*(1-a),hold:o.hold*(1-u),fout_starting_opacity:1-f,fade_out:o.fade_out*(1-f)})},get_private_messages:function e(){return["do_show_alert","position_element"]},update_show:function e(t){}})},{"../../../constants/elements":72,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../u":687,"../../property_applications":405,"../components/AlertComponent":243,"../core_elements_utilities/element_transformer":281,"core-js/modules/es.array.concat.js":926}],288:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.split.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}var c=e("lodash/isEqual");var f=e("lodash/escape");var d=e("../../../u");var p=e("../../../db/hydrate");var _=e("../../../u/shared/mode_check");var m=e("../../../lib");var y=e("../../property_applications");var v=e("../../../lang/btypes");var b=e("../../../geolocation/b_location");var h=e("../../../geolocation/client/google_maps");var j=e("../../../geolocation/location_lookups");var g=e("../../../languages");var w=e("../../../logger");var O=e("../../../webfonts");var S=e("../core_elements_utilities/element_utils");var k=e("../core_elements_utilities/element_workflows");var A=e("../core_elements_utilities/element_optional_utils");var E=e("../../../lang/evaluation/page_state");var x=e("../shared/inputs");var M=e("../../../lang/evaluation/element_eval");var P=e("../../../lang/evaluation/element_props");var T=e("../../../constants/elements"),I=T.PADDING_VERSION;var C=e("../../../lang/color_tokens");var R=e("../core_elements_utilities/element_transformer");R.make_element("AutocompleteDropdown",{category:"input forms",display:"Search Box",glyph_id:"search",list_order:5,defaults:d.extend({},x.default_for_inputs,{width:400,height:45,use_max_width:true,max_width:150}),updated_default_sizing:{width:250,height:48},default_states:x.default_states_for_inputs,properties_for_new:{no_language:true},field_names:d.extend({placeholder:{default:"Start typing..."},choices_style:{default:"dynamic",no_states:true},choices:{no_states:true},data_source:{no_states:true},field_to_search:{no_states:true},no_language:{no_states:true},location:{optional:true},radius:{optional:true},default:{optional:true},allow_not_in_list:{no_states:true},mandatory:{},ac_list_max:{default:10}},x.get_disabled_field_name,x.get_auto_binding_field_names),property_applications:function e(t){return[new y.Dimensions,new y.Background("input:first-of-type"),new y.Border("input"),new y.BoxShadow("input"),new y.Font("input"),new y.FontSpacing("input",["line_height"]),new y.InputPadding("input"),new y.PaddingFields({selector:"input",minimum_element_version:I,allow_legacy:true}),new y.PlaceholderColor("input"),new y.ResponsiveElement(t),new y.Opacity]},uses_css_responsive:true,get_html:function e(t){return"<div></div>"},get_min_width:function e(t){return 0},can_defer_drawing:function e(){return true},initialize:function e(t){var r=this;t.wait_for_visible_lite((function(){var e;var s=t.get_canvas();var i=$('<input type="text"></input>');x.reset_input_div(i);i[0].style["box-sizing"]="border-box";s.append(i);s[0].style.overflow="visible";if(((e=t.element.root())==null?void 0:e.get_responsive_version())>0){i.css({height:"100%",width:"100%"})}else{M.pre_cache(t,["height","width"]);t.autorun((function(){var e={};for(var r=0,n=["height","width"];r<n.length;r++){var o=n[r];e[o]=M.evaluate_property(t,o)}s.find("input").css({height:e.height,width:e.width})}));S.register_tab_index_listener(t,(function(e){i.attr("tabindex",e)}))}var a={};var l={};var u=t.get_static_property("choices_style");var T=t.get_static_property("field_to_search");var I=t.get_static_property("field_to_display");var R={};var N={};var L=function e(r,n){if(r==null){return""}if(u==="geographic_places"){if(t.edit_mode()&&!t.element.property("default").is_static()){return t.element.property("default").get_tree_display()}else{return v.get("geographic_address").runmode_display(r)}}else if(u==="dynamic"){var s=r.child(T).get();if(a[s]!=null&&a[s]!==r){var i=false;var l=0;for(var f=0,d=Object.entries(a);f<d.length;f++){var _=o(d[f],2),m=_[0],y=_[1];if(m===s||m.indexOf(s+" (")===0){l++;if(c(p.dehydrate_tree(r),p.dehydrate_tree(y))){s=m;i=true;break}}}if(!i){s=s+" ("+l+")"}}a[s]=r;return s}else if(u==="algolia_search"){return r.child(n!=null?n:I).get()}else{return r}};var z=function e(n){u=t.get_static_property("choices_style");if(u==="geographic_places"){var o;var s=R[n];if(s){o=function e(){var t=N[s];var r=b.from_place_id(s);if(r){r.name=t}return r};o.toUniqueString=function(){return s}}else{o=function e(){return b.from_address(n)};o.toUniqueString=function(){return n}}return o}else if(["dynamic","algolia_search"].includes(u)){return a[n]}else{if(r._get_static_choices(t).includes(n)){return n}else{return null}}};t.autorun((function(){i.focus((function(){E.input_focused(true)}));i.blur((function(){E.input_focused(false)}));i.attr("placeholder",M.evaluate_property(t,"placeholder"))}));t.autorun((function(){if(g.is_rtl(m().app_language())){s.find("input").attr("dir","rtl")}else{s.find("input").attr("dir","ltr")}}));if(t.run_mode()){var D;var q=function e(){if(!t.get_static_property("allow_not_in_list")){i.typeahead("val","")}};var B=function e(){var r=i.typeahead("val");if(!r){d.run_once(10,(function(){return{existing_val:t.state("value"),typed_content:t.state("typed_content")}}),(function(e,t){if(e){w.log(e);return}var r=t.existing_val,n=t.typed_content;if(r||n){U(null)}}));return}var n=z(r);if(n==null){q();U(null)}else{U(n)}};var U=function e(r){if(["dynamic","static","algolia_search"].includes(u)&&!r&&t.get_static_property("allow_not_in_list")){if(t.state("typed_content")!==i.typeahead("val")){t.state("typed_content",i.typeahead("val"));t.state("has_been_changed",true);t.state("value",null);k.run_element_workflow(t,"InputChanged")}}else{t.state("typed_content",null);t.message("user_submit",r)}};var W;u=t.get_static_property("choices_style");switch(u){case"static":{var F=r._get_static_choices(t).map((function(e){return{value:e}}));W=function e(t,r){var n=F.filter((function(e){return e.value.toLowerCase().indexOf(t.trim().toLowerCase())!==-1}));return r(n)};break}case"dynamic":{W=function e(r,n){if(!T){n([]);return}d.run_once(30,(function(){var e=M.evaluate_property(t,"data_source");if(!e){return[]}var n={constraint_type:/[^a-zA-Z0-9]/.exec(r)!=null?"match_phrase_prefix":"prefix_search",key:T,value:r.trim().toLowerCase(),opts:{no_language:t.get_static_property("no_language")}};var o=e._creation_eval_node;var s=e.filter([n]);s._creation_eval_node=o;var i=s.get_children(0,M.evaluate_property(t,"ac_list_max"));return i.map((function(e){return{value:L(e)}}))}),(function(e,t){if(e){w.log(e);return}return n(t)}))};break}case"geographic_places":{h.load_google_map_api();var G=["geocode"];W=function e(r,o){return d.run_once(30,(function(){return{location:M.evaluate_property(t,"location"),radius:M.evaluate_property(t,"radius")}}),(function(e,t){var s=t.location,i=t.radius;R={};N={};return j.get_address_place_autocomplete({input:r,types:G,location:s,radius:i},(function(e){var t=n(e),r;try{for(t.s();!(r=t.n()).done;){var s=r.value;R[s.description]=s.place_id;N[s.place_id]=s.structured_formatting.main_text}}catch(e){t.e(e)}finally{t.f()}return o(e.map((function(e){return{value:e.description}})))}))}))};break}case"algolia_search":{var X=t.element.property("algolia_source");var V=X.property("type_to_find").get_static();T=X.property("field_to_search").get_static();if((A==null?void 0:A.optional_modules.algolia_autocomplete_source)==null){throw new d.UnexpectedError("Missing algolia autocomplete source")}W=function e(t,r){return A.optional_modules.algolia_autocomplete_source({query:t,type_to_find:V,field_to_display:I,field_to_search:T,cb:r,cache_text_to_object:a,cache_text_to_field_name:l})};break}default:{throw new d.UnexpectedError("Invalid choices_style property in Autocomplete Dropdown",{choices_style:u})}}var H=M.evaluate_property(t,"font_alignment")==="left";var Y=function e(r,n){return W(r,(function(e){var r;var o=e.slice(0,(r=M.evaluate_property(t,"ac_list_max"))!=null?r:undefined);n(o);return J()}))};i.typeahead({minLength:2,highlight:true,hint:H},{source:Y,templates:{suggestion:function e(t){return"<p>".concat(f(t.value),"</p>")}}});if(((D=t.element.root())==null?void 0:D.get_responsive_version())>0){s.find(".twitter-typeahead").css("height","100%")}x.register_focus(t,i);s.find("input:first-of-type").css("border-radius",M.evaluate_property(t,"border_roundness"));t.on_message("set_focus",(function(){return i.focus()}));var K=null;var J=function e(){return d.run_once(30,(function(){return{font_color:M.evaluate_property(t,"font_color"),font_face:P.get_font_face(t),font_size:M.evaluate_property(t,"font_size"),width:M.evaluate_property(t,"width"),border_radius:M.evaluate_property(t,"border_roundness"),is_rtl:g.is_rtl(m().app_language())}}),(function(e,t){if(e){w.log(e);return}var r=d.lighten_color(d.rgb_to_hex(C.color_property_to_rgba(t.font_color)).code,.5);s.find(".tt-hint").css("color",r);var n=s.offset(),o=n.left,a=n.top;if(d.is_fixed(i)){a=a+s.height()-1-$(window).scrollTop()}else{a=a+s.height()-1}var c={"font-family":O.get_face_and_variant(t.font_face).font_family,"font-size":t.font_size+"px","min-width":t.width+"px","border-radius":t.border_radius+"px",top:a+"px",left:o+"px",right:"initial","z-index":1e4,position:d.is_fixed(s)?"fixed":"absolute","text-align":t.is_rtl?"right":"left"};y.apply_css_style(K,c);if(d.is_on_mobile_or_tablet()){K.off("touchend");K.on("click",(function(e){var t;e.stopPropagation();var r=$(e.target);var n=r.prop("tagName")==="STRONG"?r.parent().text():r.text();var o=z(n);if(o){U(o);if(u==="geographic_places"){var s;(s=i.typeahead)==null?void 0:s.call(i,"val",n)}else{d.run_once(30,(function(){return L(o,l[n])}),(function(e,t){var r;if(e){w.log(e);return}(r=i.typeahead)==null?void 0:r.call(i,"val",t)}))}}else{q();U(null)}return(t=i.typeahead)==null?void 0:t.call(i,"close")}))}}))};t.wait_for_visible((function(){K=s.find(".tt-dropdown-menu");K.detach();$("body").append(K);J()}));i.on("typeahead:opened touchstart",(function(){return J()}));t.on_message("reset_input",(function(){if(t.get_static_property("allow_not_in_list")){t.state("typed_content",null)}}));if(!d.is_on_mobile_or_tablet()){var Z=Date.now();i.on("typeahead:closed",(function(){if(Date.now()-Z>200||_.running_test()){Z=Date.now();B()}}));i.on("blur.autocomplete",(function(){if(Date.now()-Z>200||_.running_test()){Z=Date.now();B()}}))}else{i.on("blur",(function(){B()}))}i.on("keydown",(function(e){if(e.keyCode===13){i.blur()}}));t.autorun((function(){var e=M.evaluate_property(t,"not_submit_on_enter");x.assign_enter_handler_in_input(t,e)}));if(u==="dynamic"){var Q=d.Watcher((function(){if(!t.state("has_been_changed")){return false}var e=t.state("value");if(e==null){return false}var r=M.evaluate_property(t,"data_source");if(!r){return true}var n=v.get(t.element.property("data_source").property("type_to_find").json.get());return!r.contains(e,n)}));t.on_destroy((function(){return Q.destroy()}));Q.on_value((function(e){if(e){t.message("reset_input")}}))}t.on_destroy((function(){var e;return(e=i.typeahead)==null?void 0:e.call(i,"destroy")}));M.on_property_change(t,"disabled",(function(e){return i[0].disabled=e}))}x.input_change_autorun(t,(function(e){var r=L(e);if(t.run_mode()){var n;(n=i.typeahead)==null?void 0:n.call(i,"val",r)}else{i.val(r)}}))}))},_get_static_choices:function e(t){var r=t.get_static_property("choices");if(typeof r!=="string"){r=""}return r.split("\n").map((function(e){return e.trim()}))},get_starting_content:function e(t){var r;if(t.run_mode()&&t.get_static_property("auto_binding")){r=x.get_input_parent_thing_field(t)}else{r=M.evaluate_property(t,"default")}if(r==null){return null}var n=t.get_static_property("choices_style");if(n==="geographic_places"){if(!t.run_mode()&&!t.element.property("default").is_static()){r={address:r}}if(!v.get("geographic_address").runmode_display(r)){r=b.from_address(r);if(!v.get("geographic_address").runmode_display(r)){return null}}}else if(n==="static"){if(this._get_static_choices(t).indexOf(r)===-1){return null}}else{var o=M.evaluate_property(t,"data_source");var s=v.get(t.element.property("data_source").property("type_to_find").get_static());if(!o||!o.contains(r,s)){return null}}return r},content_validated:function e(t,r){if(!M.evaluate_property(r,"mandatory")){return true}if(t!=null){return true}if(r.get_static_property("allow_not_in_list")){return r.state("typed_content")!=null}},get_state_value:function e(t,r){var n,o;if(r==="value"){var s=t.get_static_property("choices_style");switch(s){case"static":return"text";case"geographic_places":return"geographic_address";case"dynamic":return(n=t.property("data_source").property("type_to_find").json.get())!=null?n:"text";case"algolia_search":return(o=t.property("algolia_source").property("type_to_find").json.get())!=null?o:"text"}}else if(r==="typed_content"){return"text"}},get_states:function e(t){return["typed_content"]},add_specific_messages:function e(t,r){if(r.get_static_property("choices_style")!=="geographic_places"){d.extend(t,{get_typed_content:{description:"'s typed text",section:"States",ret_btype:"text",fn:function e(t,r,n,o,s){var i;return(i=t==null?void 0:t.state("typed_content"))!=null?i:this.ret_btype_null()}}})}if(r.get_static_property("choices_style")==="geographic_places"){return d.extend(t,{get_place_name:{description:"'s place name",section:"States",ret_btype:"text",fn:function e(t,r,n,o,s){var i;var a=t==null?void 0:t.state("value");if(!a){return this.ret_btype_null()}return(i=t==null?void 0:t.state("value").name)!=null?i:this.ret_btype_null()}}})}},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:true,is_input:true,is_container:false,only_send_to_client_in_runmode:true,jquery_plugins:function e(){return["jquery_plugins/typeahead.jquery.min"]},css_files:["css/optional/typeahead.css"]})},{"../../../constants/elements":72,"../../../db/hydrate":422,"../../../geolocation/b_location":505,"../../../geolocation/client/google_maps":507,"../../../geolocation/location_lookups":509,"../../../lang/btypes":537,"../../../lang/color_tokens":540,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../lang/evaluation/page_state":575,"../../../languages":612,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../../u/shared/mode_check":713,"../../../webfonts":719,"../../property_applications":405,"../core_elements_utilities/element_optional_utils":279,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../core_elements_utilities/element_workflows":284,"../shared/inputs":360,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/escape":1176,"lodash/isEqual":1184}],289:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../property_applications");var s=e("../core_elements_utilities/element_transformer");var i=e("../core_elements_utilities/element_workflows");var a=e("../../../lang/evaluation/element_eval");var l=e("../components/ButtonComponent");s.make_element("Button",{category:"visual elements",glyph_id:"button",list_order:2,keyboard_shortcut:null,defaults:{font_alignment:"center",font_color:"#FFFFFF",background_style:"bgcolor",bgcolor:"#7F95EB",border_style:"none",border_roundness:3,border_width:1,border_color:"#7F95EB",boxshadow_style:"none",border_style_top:"none",border_roundness_top:3,border_width_top:1,border_color_top:"#7F95EB",border_style_left:"none",border_roundness_left:3,border_width_left:1,border_color_left:"#7F95EB",border_style_bottom:"none",border_roundness_bottom:3,border_width_bottom:1,border_color_bottom:"#7F95EB",border_style_right:"none",border_roundness_right:3,border_width_right:1,border_color_right:"#7F95EB",width:150,height:45,use_max_width:true,max_width:100,min_width:50},field_names:n.extend({text:{default:"...edit me..."}},i.start_workflow_field_names),uses_css_responsive:true,can_fit_width:true,can_fit_height:true,property_applications:function e(t){return[new o.Dimensions,new o.Font,new o.FontShadow,new o.FontSpacing,new o.Border,new o.BoxShadow,new o.Background,new o.ResponsiveElement(t),new o.ToolTip,new o.Rotation,new o.PaddingFields,new o.Opacity]},get_html:function e(t){return"<button></button>"},change_cursor_style_if_clickable:true,can_defer_drawing:function e(){return true},initialize:function e(t){var r=t.get_canvas();o.apply_css_style(r,{padding:"0px",cursor:"inherit",background:"none",border:"none","text-align":"left"});t.wait_for_visible_lite((function(){return a.on_property_change(t,["text","background_style"],(function(e){var t=e.text,n=e.background_style;r.text(t);if(n==="none"){(new o.NoSelect)._apply(true,r)}}))}))},is_input:false,is_container:false,add_an_invisible_div_on_the_top:false,events:["ButtonClicked"],get_min_width:function e(t){return 0},solid_component:l})},{"../../../lang/evaluation/element_eval":567,"../../../u":687,"../../property_applications":405,"../components/ButtonComponent":244,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_workflows":284}],290:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../../../constants/runmode");var i=e("../core_elements_utilities/element_transformer");var a=e("../shared/inputs");var l=e("../../../lang/evaluation/element_eval");var u=e("../components/CheckboxComponent");i.make_element("Checkbox",{category:"input forms",glyph_id:"checkbox",list_order:3,keyboard_shortcut:null,defaults:{width:180,height:20,min_width:50},field_names:n.extend({label:{default:"...edit me...",optional:true},contents:{default:"unchecked"},dynamic:{},mandatory:{}},a.get_disabled_field_name,a.get_auto_binding_field_names),property_applications:function e(t){return[new o.Dimensions,new o.Font,new o.FontShadow,new o.FontSpacing,new o.BoxShadow("input"),new o.ResponsiveElement(t),new o.PaddingFields,new o.Opacity]},uses_css_responsive:true,can_fit_width:true,can_fit_height:true,can_defer_drawing:function e(){return true},solid_component:u,use_legacy_in_editor:true,get_html:function e(t){return"<div></div>"},get_min_width:function e(t){return 0},initialize:function e(t){return t.wait_for_visible_lite((function(){var e=t.get_canvas();e[0].style.overflow="visible";var r=n.LUID();var o=$('<input type="checkbox" id="'.concat(r,'" style="background-color: white;"></input>'));var i=$('<label for="'.concat(r,'"></label>'));e.append(o);e.append(i);a.register_focus(t,o);t.on_message("set_focus",(function(){return o.focus()}));if(t.run_mode()){e.addClass(s.CLICKABLE_ELEMENT);o.change((function(){var e;t.message("user_submit",(e=o[0].checked)!=null?e:false);return true}));l.on_property_change(t,"disabled",(function(e){o[0].disabled=e}))}l.on_property_change(t,"label",(function(e){i.text(e)}));a.input_change_autorun(t,(function(e){if(typeof e==="string"&&["false","no","null","none","undefined"].includes(e.toLowerCase())){e=false}if(e){o[0].checked=true}else{o[0].checked=false}}))}))},get_starting_content:function e(t){if(t.run_mode()&&t.get_static_property("auto_binding")){return a.get_input_parent_thing_field(t)}var r=l.evaluate_property(t,"contents");if(r==="checked"){return true}else if(r==="unchecked"){return false}else{return l.evaluate_property(t,"dynamic")}},get_state_value:function e(t,r){if(r==="value"){return"sys.bool"}return undefined},content_validated:function e(t,r){if(!t&&l.evaluate_property(r,"mandatory")){return false}else{return true}},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:true,is_input:true,is_checkbox:true,is_container:false})},{"../../../constants/runmode":91,"../../../lang/evaluation/element_eval":567,"../../../u":687,"../../property_applications":405,"../components/CheckboxComponent":246,"../core_elements_utilities/element_transformer":281,"../shared/inputs":360,"core-js/modules/es.array.includes.js":933}],291:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/web.queue-microtask.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=e("../../../lang/appquery");var o=e("../../../lang/btypes");var s=e("../core_elements_utilities/element_transformer");var i=e("../shared/inputs");var a=e("../../../languages");var l=e("../../../lib");var u=e("../../../logger");var c=e("../../property_applications");var f=e("../../../constants/runmode");var d=e("../../../u/client/datepickerTranslationsList");var p=e("../../../constants/elements"),_=p.PADDING_VERSION;var m=e("../../../u");var y=e("../../../u/shared/b_date");var v=e("../../custom_tz_utilities");var b=e("../../../webfonts");var h=e("../../../lang/evaluation/element_eval");var j=e("../../../lang/evaluation/element_props");var g=e("../../../lang/timezone_override_settings"),w=g.has_input_timezone_controls_on;var O=m.require_moment();e("core-js/modules/web.queue-microtask.js");function S(e,t){if(!t){return}var r=o.get("date").cast(t);if(!r){return}var n=k(e);var s=O(r).tz(n);return[s.year(),s.month(),s.date()]}function k(e){if(w()){return v.get_custom_tz({static_eval:function t(r){return e.get_static_property(r)},dynamic_eval:function t(r){return h.evaluate_property(e,r)},not_overridden:true})}else{return l().current_timezone()}}function A(e,t){var r="";switch(t){case"number1":r+="d/mm/yyyy";break;case"number2":r+="m/dd/yyyy";break;case"alpha":r+="d mmmm, yyyy";break;case"alphalong":r+="dddd, d mmmm, yyyy";break;case"alphashort":r+="d-mmm-yyyy";break;case"us_short":r+="mmmm d, yyyy";break;case"us_long":r+="dddd, mmmm d, yyyy";break;case"custom":r+=e.get_static_property("custom_format");break}return r}s.make_element("DateInput",{display:"Date/Time Picker",category:"input forms",glyph_id:"datetime",list_order:8,keyboard_shortcut:null,defaults:{font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_color:"#BDBDBD",border_roundness:3,border_width:1,border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,padding_horizontal:4,padding_vertical:0,width:250,height:45,use_max_width:true,max_width:150},updated_default_sizing:{height:48},default_states:i.default_states_for_inputs,field_names:m.extend({input_type:{default:"date",no_states:true},content:{},overwrite_placeholder:{no_states:true},placeholder:{optional:true},date_format:{default:"number2",no_states:true,in_style:true},custom_format:{default:"ddd, m/dd/yy, mmmm (mmm) dS, yyyy",no_states:true,in_style:true},start_monday:{no_states:true},time_interval:{default:30,no_states:true},time_format:{default:"full",no_states:true},min_date:{},max_date:{},min_hour:{},max_hour:{},show_month_year_picker:{no_states:true},mandatory:{}},i.get_disabled_field_name,i.get_auto_binding_field_names,v.custom_tz_field_names),property_applications:function e(t){return[new c.Dimensions,new c.Background("input"),new c.Border("input"),new c.BoxShadow("input"),new c.Font("input"),new c.FontSpacing("input",["line_height"]),new c.InputPadding("input"),new c.PaddingFields({selector:"input",minimum_element_version:_,allow_legacy:true}),new c.PlaceholderColor("input"),new c.ResponsiveElement(t),new c.Opacity]},uses_css_responsive:true,additional_uses_properties:["input_type"],get_html:function e(t){return"<div></div>"},get_min_width:function e(){return 0},can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){var e,r;var o=t.get_canvas();o.addClass("date_picker_element");o[0].style.overflow="visible";var s=$('<input type="text" class="date_div"></input>');i.reset_input_div(s);o.append(s);var a=$('<input type="text" class="time_div"></input>');i.reset_input_div(a);h.on_property_change(t,"input_type",(function(e){if(e==="date_time"){o.append(a)}else{a.detach()}}));h.on_property_change(t,"disabled",(function(e){c.apply_css_style(s,{cursor:e?"default":"pointer"});c.apply_css_style(a,{cursor:e?"default":"pointer"})}));h.pre_cache(t,["input_type","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder"]);t.autorun((function(){var e,r;var o={};for(var i=0,u=["input_type","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder","padding_top","padding_bottom","padding_left","padding_right"];i<u.length;i++){var f=u[i];o[f]=h.evaluate_property(t,f)}var d=c.calculate_border_height(t);var p=c.calculate_border_width(t);var m=t.element.element_version(true)<_?2*o.padding_horizontal:o.padding_left+o.padding_right;var v=t.element.element_version(true)<_?0:o.padding_top+o.padding_bottom;var b=n.get_public_setting("bubble_version")<18;var j=b?"calc(100% - ".concat(d,"px)"):"calc(100% - ".concat(v+d,"px)");c.apply_css_style(s,{height:j,"box-sizing":"content-box"});if(o.input_type==="date_time"){var g=b?70:72;var w=b?5:8;c.apply_css_style(s,{width:"calc(100% - ".concat(2*m+2*p,"px - ").concat(g+w,"px)"),float:"left"});c.apply_css_style(a,{width:"".concat(g,"px"),float:"right",height:"calc(100% - ".concat(v+d,"px)"),"box-sizing":"content-box"})}else{s[0].style.width="calc(100% - ".concat(m+p,"px)")}if(o.input_type==="date"&&o.overwrite_placeholder){e=o.placeholder}else{var S;if(n.app().id()==="test_app"){var E;var x=(E=k(t))!=null?E:l().current_timezone();S=O.tz("1/15/2013",x).toDate()}else{S=new Date}var M=A(t,o.date_format);e=y.format_date(S,M,l().get_text("BUILT_IN","DATE_FORMAT"),k(t))}s.attr("placeholder",e);switch(o.time_format){case"full":r="12:00";break;case"ampm":r="12:00 AM";break}return a==null?void 0:a.attr("placeholder",r)}));if(t.run_mode()){var d=function n(){var o;if((o=e)!=null&&o.get()){var s=e.get("select");var i={year:s.year,month:s.month,day:s.date};if(t.get_static_property("input_type")==="date_time"){var a=r.get("select");if(!a){return undefined}else{var l,u;i.hour=(l=a==null?void 0:a.hour)!=null?l:"";i.minute=(u=a==null?void 0:a.mins)!=null?u:""}}return O.tz(i,k(t)).toDate()}else{return null}};var p=function e(){this.$holder.blur();m.run_once(30,d,(function(e,r){t.state("is_focused",false);if(r!==undefined){t.message("user_submit",r)}}));return true};var v=function e(r){var n=r.$holder,o=r.$root;n.css("transition","0.05s ease-in-out");n.position({my:"left top",at:"left bottom",of:t.get_canvas(),collision:"fit flip"});if(l().bubble_version()<19){o.addClass("datepicker-legacy-font")}};var g=function e(){return v(this)};var w=function n(o){queueMicrotask((function(){v(o);setTimeout((function(){return v(o)}),100)}));$(window).on("resize",(function(){return v(o)}));var s=t.get_canvas();m.run_once(30,(function(){return{width:s.width(),"font-family":b.get_face_and_variant(j.get_font_face(t)).font_family,top:0}}),(function(t,n){var o;if(t){u.log(t)}e.$root.css(n);(o=r)==null?void 0:o.$root.css(n)}))};var E=function e(){t.state("is_focused",true);w(this)};var x=function e(t){if(!t){return false}var r=Math.floor(t);var n=Math.round((t-r)*60);return[r,n]};o.addClass(f.CLICKABLE_ELEMENT);var M=t.get_static_property("show_month_year_picker");s.pickadate({container:"html",firstDay:t.get_static_property("start_monday"),selectMonths:M,selectYears:M&&200,onOpen:E,onClose:p,format:A(t,t.get_static_property("date_format"))});e=s.pickadate("picker");t.wait_for_visible((function(){w(e);setTimeout((function(){return w(e)}),100)}));var P=false;var T={};if(t.get_static_property("input_type")==="date_time"){P=true;T.container="html";T.interval=t.get_static_property("time_interval");switch(t.get_static_property("time_format")){case"full":T.format="H:i";break;case"ampm":T.format="h:i A";break}T.onClose=p;T.onOpen=E;T.onRender=g;a.pickatime(T);r=a.pickatime("picker")}t.autorun((function(){var n,o;var s=h.evaluate_property(t,"min_date");var i=h.evaluate_property(t,"max_date");e.set({min:(n=S(t,s))!=null?n:-Infinity,max:(o=S(t,i))!=null?o:Infinity});if(P){var a=h.evaluate_property(t,"min_hour");var l=h.evaluate_property(t,"max_hour");r.set({min:x(a),max:x(l)})}var u;t.autorun((function(){var n=k(t);if(t.state("has_been_changed")&&n===u){return}u=n;var o=t.state("value");if(m.autorun_top((function(){return t.state("is_focused")}))){return}if(o){e.set("select",S(t,o));if(P){var s=k(t);var i=O(o).tz(s);r.set("select",[i.hours(),i.minutes()])}}else{e.clear();if(P){r.clear()}}}))}));t.autorun((function(){e.$root.css({"margin-top":t.current_height(),"max-width":t.current_width()});if(t.get_static_property("input_type")==="date_time"){r.$root.css({"margin-top":t.current_height(),"max-width":t.current_width()})}}));h.on_property_change(t,"disabled",(function(e){s[0].disabled=e;if(a!=null){a[0].disabled=e}}))}i.register_focus(t,o.find("input"));t.on_message("set_focus",(function(){if(!s[0].disabled){e.open()}}));if(!t.run_mode()){s.attr("readonly","true");a==null?void 0:a.attr("readonly","true")}}))},get_starting_content:function e(t){if(t.run_mode()&&t.get_static_property("auto_binding")){return i.get_input_parent_thing_field(t)}return h.evaluate_property(t,"content")},content_validated:function e(t,r){return t||!h.evaluate_property(r,"mandatory")},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,is_input:true,is_container:false,get_state_value:function e(t,r){if(r==="value"){return"date"}},jquery_plugins:function e(t,r,n){var o=["jquery_plugins/datepicker/picker","jquery_plugins/datepicker/picker.date","jquery_plugins/datepicker/picker.time","jquery_plugins/jquery-ui.position.min"];if(typeof l().appname==="function"){var s;var i=a.get_iso_code(n);var c=(s=i.split(/[-_]/))==null?void 0:s[0];if(c==="en"){return o}var f=d[c];if(f==null){u.warn("Missing datepicker translation",{lang_file:i});return o}if(!f.includes(i)){i=f[0]}o.push("jquery_plugins/datepicker/".concat(i))}return o},css_files:["css/optional/datepicker.css"]})},{"../../../constants/elements":72,"../../../constants/runmode":91,"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../lang/timezone_override_settings":604,"../../../languages":612,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../../u/client/datepickerTranslationsList":683,"../../../u/shared/b_date":699,"../../../webfonts":719,"../../custom_tz_utilities":374,"../../property_applications":405,"../core_elements_utilities/element_transformer":281,"../shared/inputs":360,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.split.js":979,"core-js/modules/web.queue-microtask.js":993}],292:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=e("../../../u");var l=e("../../../db/hydrate");var u=e("../../../lib");var c=e("../../../lang/appquery");var f=e("../../property_applications");var d=e("create-hash");var p=e("../../../logger");var _=e("../../../lang/btypes");var m=e("../core_elements_utilities/element_utils");var y=e("../core_elements_utilities/element_transformer");var v=e("../shared/inputs");var b=e("../shared/dropdowns");var h=e("../../../lang/evaluation/element_eval");var j="BLANK_1427118194589";var g="PLACEHOLDER_1427118222253";var w=5e3;y.make_element("Dropdown",{category:"input forms",glyph_id:"dropdown",list_order:4,keyboard_shortcut:null,defaults:{font_size:14,background_style:"bgcolor",bgcolor:"#E6E6E6",border_style:"solid",border_width:1,border_color:"#858585",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#858585",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#858585",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#858585",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#858585",border_roundness_right:3,width:250,height:45,placeholder:"Choose an option...",use_max_width:true,max_width:150,placeholder_color:"#9C9C9C",padding_left:5,padding_right:15},updated_default_sizing:{height:48},default_states:v.default_states_for_inputs,field_names:a.extend({placeholder:{},choices_style:{default:"static",no_states:true},choices:{},dynamic_type:{no_states:true},data_source:{},option_display_expression:{},default:{},mandatory:{},placeholder_color:{in_style:true},computed_value:{optional:true,no_states:true}},v.get_disabled_field_name,v.get_auto_binding_field_names),property_applications:function e(t){return[new f.Dimensions,new f.Font(null,null,["font_color"]),new f.Background,new f.Border,new f.BoxShadow,new f.ResponsiveElement(t),new f.ToolTip,new f.FontSpacing(null,["line_height"]),new f.PaddingFields,new f.Opacity]},get_html:function e(t){return"<select></select>"},get_min_width:function e(t){return 0},_get_display_option:b._get_display_option,can_defer_drawing:function e(){return true},register:function e(t){var r=this;var n=a.Watcher((function(){if(!t.state("has_been_changed")){return false}var e=t.state("value");if(e==null){return false}return!r._choice_list_contains(t,e)}));t.on_destroy((function(){return n.destroy()}));n.on_value((function(e){if(e){return t.message("reset_input")}}))},initialize:function e(t){var r=this;return t.wait_for_visible_lite((function(){var e;var o=t.get_canvas();if(c.get_public_setting("bubble_version")>=16){o.addClass("dropdown-chevron")}if(((e=t.element.root())==null?void 0:e.get_responsive_version())>0){o.css("display","block")}else{o.css({"padding-left":5,"padding-right":15});if(t.run_mode()){m.register_tab_index_listener(t,(function(e){o.attr("tabindex",e)}))}}v.reset_input_div(o);var s=[];var f=null;function _(e){if(i(e)==="object"){var t=d("md5");t.update(JSON.stringify(e));var r=t.digest("hex");return r}return e}var y=null;function O(e){var t=$('<option class="dropdown-choice"></option>');t.text(e.display);var r=e.value;var n=l.dehydrate_tree(r);t.attr("value",JSON.stringify(n));if(f!=null){t[0].style.color=f}return t}var S=a.Box();a.autorun((function(){f=h.evaluate_property(t,"font_color");if(S()){o[0].style.color=h.evaluate_property(t,"placeholder_color")}else{o[0].style.color=f}o.find("option").css("color",f)}));if(t.run_mode()){var k=function e(r){if(r==null){if(h.evaluate_property(t,"mandatory")||!t.state("has_been_changed")){r=g}else{r=j}}return JSON.stringify(l.dehydrate_tree(r))};var A=function e(t){P=t;return E(t)};var E=function e(t){var r=k(t);var n=o.find(".dropdown-placeholder")[0];if(r===JSON.stringify(g)){S(true);if(n!=null){n.disabled=false}}else{S(false);if(n!=null){n.disabled=true}}return o.val(r)};var x=function e(){var t=o.find(".dropdown-placeholder");if(t.length===0){t=O({display:"",value:g});t.addClass("dropdown-placeholder");t[0].style.display="none";o.prepend(t)}return t};v.switch_disabled_or_not(t);o.on("click",(function(e){return e.stopPropagation()}));var M=function e(){var o=r._get_raw_choice_list(t);var i=r._get_display_option(t);var l=o.get_children(0,w);a.run_once(30,(function(){return l.map((function(e){return i(e)}))}));s=[];var u=n(l),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;s.push({display:i(f),value:f})}}catch(e){u.e(e)}finally{u.f()}if(!h.evaluate_property(t,"mandatory")){s=[{display:"",value:j}].concat(s)}return s};var P=null;t.autorun((function(){var e=h.evaluate_property(t,"choices_style");if(e!=="static"){var r=h.get_property_watcher(t,"data_source");return r.on_not_ready((function(){return a.run_once(30,(function(){return u().get_text("CORE","LOADING")}),(function(e,t){if(e){p.log(e)}var r=x();r.text(t!=null?t:"");return E(g)}))}))}}));var T=function e(){s=M();var r=h.evaluate_property(t,"placeholder");var i=[];var u=n(s),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;var d=f.value;var p=l.dehydrate_tree(d);var m=_(p);i.push([m,f.display])}}catch(e){u.e(e)}finally{u.f()}var v;if(y!=null&&a.compare(i,y)){v=x();v.text(r);return}else{y=i}o.empty();v=x();v.text(r);var b=v;var j={};var g=n(s),w;try{for(g.s();!(w=g.n()).done;){var S=w.value;var k=_(l.dehydrate_tree(S.value));if(j[k]){continue}else{j[k]=true}var E=O(S);b.after(E);b=E}}catch(e){g.e(e)}finally{g.f()}return A(P)};o.change((function(){var e=b.rehydrate_dropdown_value(JSON.parse(o.find("option:selected").attr("value")));if([g,j].includes(e)){e=null}t.message("user_submit",e);return A(e)}));v.input_change_autorun(t,(function(e){return A(e)}));var I=a.Box(false);o.on("focus",(function(){return I(true)}));o.on("blur",(function(){return I(false)}));v.register_focus(t,o);var C=a.Box(false);t.autorun((function(){if(t.is_visible()&&(!C()||!I())){T();return C(true)}}));t.on_message("set_focus",(function(){return o.focus()}))}}))},_get_raw_btype:function e(t){return b._get_raw_btype_dropdown(t)},_get_raw_choice_list:function e(t){return b._get_raw_choice_list_dropdown(t,this)},_choice_list_contains:function e(t,r){var n=_.get(this._get_raw_btype(t.element));return this._get_raw_choice_list(t).contains(r,n)},get_starting_content:function e(t){var r;if(t.run_mode()&&t.get_static_property("auto_binding")){r=v.get_input_parent_thing_field(t)}else{r=h.evaluate_property(t,"default")}if(typeof r==="string"&&this._get_raw_btype(t.element)==="number"){r=u().locale().parse_float(r)}if(r==null||!this._choice_list_contains(t,r)){return null}return r},get_state_value:function e(t,r){if(r==="value"){return this._get_raw_btype(t)}},get_injected_value:function e(t){return t.get_static_property("dynamic_type")},get_injected_display:function e(){return"Current option"},use_injected_datasource:function e(t){return b.use_injected_datasource("option_display_expression",t)},content_validated:function e(t,r){return t!=null||!h.evaluate_property(r,"mandatory")},uses_css_responsive:true,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:true,is_input:true,is_container:false})},{"../../../db/hydrate":422,"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../property_applications":405,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../shared/dropdowns":354,"../shared/inputs":360,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"create-hash":997}],293:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../../../constants/runmode");var i=e("../../../constants/workflow");var a=e("../../core_events");var l=e("../../widgets");var u=e("../../widgets/fileupload");var c=e("../core_elements_utilities/element_utils");var f=e("../core_elements_utilities/element_transformer");var d=e("../shared/inputs");var p=e("../shared/sliderinputs");var _=e("../shared/pictureinputs");var m=e("../../../logger");var y=e("../../../lang/evaluation/element_eval");var v=e("../../../constants/elements"),b=v.PADDING_VERSION;f.make_element("FileInput",{display:"File Uploader",category:"input forms",glyph_id:"file_uploader",list_order:10,keyboard_shortcut:null,defaults:{font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_color:"#BDBDBD",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#BDBDBD",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,border_width:1,font_alignment:"center",padding_horizontal:0,padding_vertical:15,width:200,height:45,use_max_width:true,max_width:150},updated_default_sizing:{height:48},default_states:d.default_states_for_inputs,field_names:n.extend({src:{},placeholder:{default:"Click to upload a file"},mandatory:{},private:{no_states:true},attach_to:{},service:{no_states:true},destination:{}},d.get_disabled_field_name,d.get_auto_binding_field_names,d.get_max_file_size_field_name),property_applications:function e(t){return[new o.Dimensions,new o.Background,new o.Border,new o.BoxShadow,new o.Font(".file-input-text"),new o.FontSpacing(".file-input-text"),new o.PaddingText(".file-input-text"),new o.PaddingFields({selector:".file-input-text",minimum_element_version:b,no_vertical_if_legacy_center:true,allow_legacy:true}),new o.ResponsiveElement(t),new o.Opacity]},uses_css_responsive:true,get_html:function e(t){return"<div></div>"},get_min_width:function e(){return 0},can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){p.show_message_for_ios_8_upload_bug();var e=t.get_canvas();var r=$('<div class="file-input-text"></div>');o.apply_css_style(r,{"-moz-box-sizing":"border-box",position:"absolute",top:"0px",overflow:"hidden",width:"100%",height:"100%"});e.append(r);var f=n.Box();var v=null;function b(e){var t;if(!e){var n;f(true);(n=v)==null?void 0:n.attr("title",null);return}f(false);var o=e.split("/");var s=o[-1+o.length];r.text(s);(t=v)==null?void 0:t.attr("title",s)}n.autorun((function(){if(f()){r.text(y.evaluate_property(t,"placeholder"))}}));d.input_change_autorun(t,(function(e){b(e)}));if(t.run_mode()){var h;var j=function e(r){n.run_once(30,(function(){return _.process_upload_security(t)}),(function(e,t){if(e){r(e)}else if(!t.public&&!t.attach_to){r(new n.UserError("PRIVATE_FILE"))}else{r(null,t)}}))};var g=function e(){t.state("loading",true);t.state("upload_percent",0)};var w=function e(r){var n;t.state("file_size",(n=v[0].files[0])==null?void 0:n.size);t.state("loading",false);t.state("upload_percent",100);b(r);t.message("user_submit",r);v[0].value=null};var O=function e(r){a.handle_uncaught_error({original_error:r,caught_from:i.ERROR_SOURCES.ELEMENT,cb:function e(r){if(r){window.alert(m.human_friendly(r))}t.state("loading",false);t.state("upload_percent",0)}})};var S=function e(r){t.state("upload_percent",Math.min(Math.round(r*1e4)/100,100))};var k=function e(){var r;var n=(r=y.evaluate_property(t,"max_size"))!=null?r:0;var o=n*1e3*1e3;return o};var A=function e(){var r;(r=E)==null?void 0:r();t.state("loading",false);t.state("upload_percent",0);v[0].value=null};var E;v=$('<input type="file"></input>');e.addClass(s.CLICKABLE_ELEMENT);e.append(v);o.apply_css_style(v,{opacity:0,position:"absolute","z-index":1+r.css("z-index"),top:"0px",width:"100%",height:"100%","font-size":0});var x=t.get_static_property("service");if(x&&x!=="bubble"){l.MakeImageUploader({input:v,get_additional_data:j,cb_success:w,cb_start:g,cb_fail:O,max_file_size_fn:k})}else{E=u.make_presigned_uploader({instance:t,input:v,get_additional_data:j,cb_success:w,cb_start:g,cb_fail:O,cb_progress:S,max_file_size_fn:k})}if(((h=t.element.root())==null?void 0:h.get_responsive_version())===0){c.register_tab_index_listener(t,(function(e){v.attr("tabindex",e)}))}y.on_property_change(t,"disabled",(function(e){v[0].disabled=e;o.apply_css_style(v,{cursor:e?"default":"pointer"});o.apply_css_style(r,{cursor:e?"default":"pointer"});if(t.state("loading")&&e){A()}}));d.register_focus(t,v);t.on_message("set_focus",(function(){return v.focus()}));t.on_message("cancel_upload",(function(){A()}))}y.on_property_change(t,"placeholder",(function(e){var t;if(((t=v)==null?void 0:t.val())!=null){return}r.text(e)}))}))},get_starting_content:function e(t){if(t.run_mode()&&t.get_static_property("auto_binding")){return d.get_input_parent_thing_field(t)}return y.evaluate_property(t,"src")},get_state_value:function e(t,r){if(r==="value"){return"file"}},get_states:function e(t){return["loading","file_size","upload_percent"]},add_specific_messages:function e(t,r){n.extend(t,_.file_inputs_additional_messages,{get_upload_percent:{description:"'s upload percentage",section:"States",ret_btype:"number",fn:function e(t,r){return t==null?void 0:t.state("upload_percent")}}})},need_to_wait_before_checking_validity:true,content_validated:function e(t,r){return t||!y.evaluate_property(r,"mandatory")},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,is_input:true,is_file_uploader:true,is_container:false})},{"../../../constants/elements":72,"../../../constants/runmode":91,"../../../constants/workflow":101,"../../../lang/evaluation/element_eval":567,"../../../logger":617,"../../../u":687,"../../core_events":372,"../../property_applications":405,"../../widgets":411,"../../widgets/fileupload":410,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../shared/inputs":360,"../shared/pictureinputs":363,"../shared/sliderinputs":368,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],294:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../core_elements_utilities/element_transformer");var i=e("../core_elements_utilities/element_workflows");var a=e("../../../constants/runmode");var l=e("../shared/groups");var u=e("../shared/floating_groups");var c=e("../../../lang/evaluation/element_eval");var f=e("../../../lang/evaluation/element_props");var d=e("../components/FloatingGroupComponent");var p=a.POPUP_ZINDEX-1;s.make_element("FloatingGroup",{display:"Floating Group",category:"containers",glyph_id:"floating_group",list_order:5,keyboard_shortcut:null,defaults:{floating_reference:"top",width:400,height:250},updated_default_sizing:{width:320},field_names:n.extend({},u.floating_field_names,i.start_workflow_field_names,l.container_field_names),property_applications:function e(t){return[new o.Dimensions,new o.Background,new o.Border,new o.BoxShadow,new o.ResponsiveContainer(t),new o.ResponsiveElement(t),new o.PaddingFields,new o.Opacity]},uses_css_responsive:true,solid_component:d,attach_to_body:function e(t){return t.run_mode()&&!this.added_to_container(t.element)},can_fit_width:true,can_fit_height:true,added_to_container:function e(t){var r;return((r=t.parent())==null?void 0:r.type())!=="Page"},not_draggable:function e(t){var r;return((r=t.root())==null?void 0:r.get_responsive_version())>0},goes_on_document:function e(t){if(t==null){return true}return this.not_draggable(t)},get_min_width:function e(){return 0},goes_on_document_for_drawing:function e(){return true},position_canvas:function e(t,r){var s=r.element;var i=r.element.parent();function l(){if(s.get_static_property("float_zindex")==="back"){return 0}else{var e;var t=$(".greyout");if(t.length===0){e=p-a.FLOATING_GROUP_ZINDEX_OFFSET}else{e=t.css("z-index")-a.FLOATING_GROUP_ZINDEX_OFFSET}if(!e||e<=0){e=2}var n=e+r.element.get_zindex();return n}}r.wait_for_visible_lite((function(){r.autorun((function(){var e={"margin-left":"","margin-right":"","margin-top":"","margin-bottom":"",width:"initial","min-width":f.min_width_css(r),"min-height":f.min_height_css(r)};var o=f.max_width_css(r);var a=f.max_height_css(r);for(var u=0,d=["left","right","top","bottom"];u<d.length;u++){var p=d[u];e[p]=c.evaluate_property(r,"margin_".concat(p))}if(s.fit_width()){e.width="auto";var _="calc(100% - ".concat(e.left+e.right,"px)");if(o!=null){e["max-width"]=n.apply_css_fallbacks("max-width",["min(".concat(o,", ").concat(_,")"),o])}else{e["max-width"]=_}}else{e.width="initial";e["max-width"]=o!=null?o:""}if(s.fit_height()){e.height="auto";var m="calc(100% - ".concat(e.top+e.bottom,"px)");if(a!=null){e["max-height"]=n.apply_css_fallbacks("max-height",["min(".concat(a,", ").concat(m,")"),a])}else{e["max-height"]=m}}else{e.height="initial";e["max-height"]=a!=null?a:""}switch(s.get_static_property("floating_reference_horizontal_resp")){case"left":if(s.fit_width()){e.right="unset"}else{e["margin-right"]="auto"}break;case"right":if(s.fit_width()){e.left="unset"}else{e["margin-left"]="auto"}break}var y=s.get_static_property("floating_reference");e.position=y==="none"||!r.run_mode()||i.type()!=="Page"?"absolute":"fixed";var v="";switch(y){case"top":if(s.fit_height()){e.bottom="unset"}break;case"bottom":if(s.fit_height()){e.top="unset"}else if(i.type()==="Page"){e.height="calc(100".concat(r.run_mode()?"vh":"%"," - ").concat(e.top+e.bottom,"px)");e.top="unset"}else{e["margin-top"]="auto"}break;case"both":if(i.type()==="Page"){e["margin-top"]=e["margin-bottom"]="auto"}v="auto";break;case"none":e.bottom="unset";break}if(r.run_mode()){t.css("overflow-y",v)}e["z-index"]=l();t.css(e)}));if(!r.run_mode()||i.type()!=="Page"){r.container.container_canvas.append(t);if(r.edit_mode()){r.container.setup_margins(r);r.container.setup_padding(r)}}else{$("body").append(t)}t.addClass("floating-group");if(r.run_mode()){var e=r.get_static_property("parallax");if(![null,undefined,1].includes(e)){$(window).on("scroll",(function(){window.requestAnimationFrame((function(){o.apply_css_style(t,{transform:"translate3d(0,"+(1-e)*$(window).scrollTop()+"px, 0)"})}))}))}}}))},can_defer_drawing:function e(){return true},register:function e(t){},initialize:function e(t){},check_for_errors:function e(t,r){return u.check_error_floating_group(t,r)},is_input:false,is_container:true,uses_inset_instead_of_margin:true,add_an_invisible_div_on_the_top:false,get_html:function e(t){return"<div></div>"},change_cursor_style_if_clickable:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},get_state_value:function e(t,r){return l.state_value_helper_for_group(t,r)},get_private_messages:function e(){return["child_movement","position_element"]},events:["ButtonClicked"]})},{"../../../constants/runmode":91,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../u":687,"../../property_applications":405,"../components/FloatingGroupComponent":248,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_workflows":284,"../shared/floating_groups":355,"../shared/groups":356,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933}],295:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.keys.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../u");var a=e("../../property_applications");var l=e("../../../geolocation/b_location");var u=e("../../../geolocation/location_lookups");var c=e("../../../geolocation/client/google_maps");var f=e("../../../constants/geolocation");var d=e("../../../logger");var p=e("../../../lib");var _=e("../../../lang/appquery");var m=e("../../../lang/btypes");var y=e("../core_elements_utilities/element_workflows");var v=e("../core_elements_utilities/element_utils");var b=e("../core_elements_utilities/element_transformer");var h=e("../core_elements_utilities/element_optional_utils");var j=e("lodash/debounce");var g=e("../../../shared/apps_utilities");var w=e("../shared/dropdowns");var O=e("../shared/image_utils");var S=e("../../../lang/evaluation/element_eval");var k=e("../../../constants/elements"),A=k.PADDING_VERSION;var E=false;var x=[];var M=f.SAMPLE_VALUE;var P=10;var T="use_evaled_props";function I(e){var t=m.get("geographic_address");e=t.cast(e);if(!l.ensure_valid_location(e)){return undefined}e=l.ensure_valid_location(e,true);return e}function C(e){if(e==null){return undefined}var t=e.lat,r=e.lng;if(t!=null&&r!=null){return new window.google.maps.LatLng(t,r)}else{return undefined}}function R(e){var t;if(g.is_test(_.app().id())){t=I(M);return t}var r=f.SAMPLE_VALUE;if(e){try{r=u.get_current_geographic_position()}catch(e){r=f.SAMPLE_VALUE}}if(r){t=I(r)}else{t=I(M)}return t}function N(e){var t=e.position,r=e.id,n=e.icon;return(t==null?void 0:t.toString())+(r!=null?r:"")+(n!=null?n:"")}b.make_element("GoogleMap",{display:"Map",category:"visual elements",glyph_id:"map",list_order:9,keyboard_shortcut:null,defaults:{width:450,height:350,collapse_margin:500},field_names:{marker_type:{default:"single",no_states:true},marker_data_type:{no_states:true},data_source:{no_states:true},location_field:{no_states:true},show_info_window:{default:"no",no_states:true},marker_caption_expression:{},autoclose:{no_states:true},map_type:{default:"ROADMAP",no_states:true,in_style:true},map_style:{default:"normal",in_style:true},custom_style:{in_style:true},allow_zoom_drag:{default:true},disable_zoom_scroll:{default:false,no_states:true},manual_setting:{default:false,no_states:true},center:{no_states:true},initial_zoom:{default:10,no_states:true},use_customized_marker_icon:{default:false,no_states:true},use_customized_marker_icon_for_list:{default:"no",no_states:true},custom_marker_icon:{no_states:true},custom_marker_field:{no_states:true},custom_selected_icon:{no_states:true,default:"no"},custom_selected_icon_image:{no_states:true},custom_selected_icon_field:{no_states:true},keep_proportion_resize:{no_states:true}},property_applications:function e(t){return[new a.Dimensions,new a.Border,new a.BoxShadow,new a.Padding,new a.PaddingFields({minimum_element_version:A,allow_legacy:true}),new a.ResponsiveElement(t),new a.Opacity]},uses_css_responsive:true,can_fix_aspect_ratio:function e(){return true},get_html:function e(t){return"<div></div>"},get_min_width:function e(){return 0},can_defer_drawing:function e(){return true},register:function e(t){var r=this;var n=c.load_google_map_api();t.currently_displayed_markers={};t.draw_the_list_once=false;if(t.run_mode()){t.on_message("set_marker_data",(function(e){t.state("datasource_changed_by_workflow_action",true);t.draw_the_list_once=false;t.state("marker_data",e)}));t.on_message("clear_marker_data",(function(){t.state("datasource_changed_by_workflow_action",false);t.draw_the_list_once=false}));t.autorun((function(){if(!t.state("datasource_changed_by_workflow_action")){var e;if(t.run_mode()){var r;e=(r=S.evaluate_property(t,"data_source"))!=null?r:null}else if(t.element.property("data_source").is_static()){var n;e=(n=S.evaluate_property(t,"data_source"))!=null?n:null}t.state("marker_data",e)}}));S.on_property_change(t,"use_customized_marker_icon_for_list",(function(e){if(e==="upload"){S.evaluate_property(t,"custom_marker_icon")}}));S.on_property_change(t,"custom_selected_icon",(function(e){if(e==="upload"){S.evaluate_property(t,"custom_selected_icon_image")}}));t.state(T,true);t.on_message("map_adjust_zoom",(function(e){if(e.manual_setting){t.state(T,false);t.state("manual_setting",null);t.state("manual_setting",true);t.state("initial_zoom",e.initial_zoom);t.state("center",e.center)}else{t.state(T,true)}}));t.autorun((function(){if(!t.state(T)){return}var e=S.evaluate_property(t,"manual_setting");var r=S.evaluate_property(t,"initial_zoom");var n=S.evaluate_property(t,"center");t.draw_the_list_once=false;t.state("manual_setting",null);t.state("manual_setting",e);t.state("initial_zoom",r);t.state("center",n)}));i.WaitFor(n,(function(){t.autorun((function(){r._process_markers(t)}));t.original_state_saver=t.autorun((function(){var e=r._get_center_and_zoom(t),n=e.center,o=e.zoom;t.state("map_center_address",n);t.state("zoom_level",o)}))}));t.on_message("set_marker_selection",(function(e){t.state("currently_selected_marker",e)}))}},initialize:function e(t){var r=this;t.wait_for_visible_lite((function(){var e;var n=c.load_google_map_api();(e=t.currently_displayed_markers)!=null?e:t.currently_displayed_markers={};var o=t.get_canvas();if(t.thumbnail_mode()){o.css({"background-color":"#E6E6E6"});return}var s=null;i.WaitFor(n,(function(){var e=function e(){s=r._get_map(t,{height:"100%",width:"100%",position:"absolute",top:0,left:0,right:0,bottom:0});if(t.edit_mode()){v.do_add_an_invisible_div_on_the_top(t)}var n=new ResizeObserver((function(e){return window.google.maps.event.trigger(s,"resize")}));n.observe(o[0]);t.on_destroy((function(){return n.disconnect()}));var a=null;t.autorun((function(){if(t.element.has_fixed_aspect_ratio()){var e;(e=a)!=null?e:a=i.div("",o);a.css("height",0);t.autorun((function(){var e=t.element.get_static_property("aspect_ratio_height")/t.element.get_static_property("aspect_ratio_width");a.css("padding-top","".concat(e*100,"%"))}))}else{var r;(r=a)==null?void 0:r.remove();a=null}}));S.pre_cache(t,["four_border_style","border_width","border_style","padding_vertical","padding_horizontal"]);t.autorun((function(){r._refresh_border(t,s)}));S.on_property_change(t,["allow_zoom_drag","map_style","custom_style","disable_zoom_scroll"],(function(e){r._handle_map_option_change(s,e)}));S.on_property_change(t,"map_type",(function(e){s.setMapTypeId(window.google.maps.MapTypeId[e])}));t.autorun((function(){r._render_markers(t,s)}));t.autorun((function(){r._set_center_and_zoom(t,s)}))};t.wait_for_visible((function(){setTimeout(e,1)}))}))}))},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:true,is_input:false,is_container:false,events:["MapMarkerClicked"],get_states:function e(t){return["currently_selected_marker","map_center_address","zoom_level"]},add_specific_messages:function e(t,r){var n=r.get_state_value("currently_selected_marker");if(n){i.extend(t,{get_currently_selected_marker:{description:"'s current marker",section:"States",ret_btype:n,fn:function e(t,r){var n;return(n=t==null?void 0:t.state("currently_selected_marker"))!=null?n:this.ret_btype_null()}}})}i.extend(t,{get_map_center_address:{description:"'s center address",section:"States",ret_btype:"geographic_address",fn:function e(t,r){var n;return(n=t==null?void 0:t.state("map_center_address"))!=null?n:this.ret_btype_null()}},get_zoom_level:{description:"'s zoom level",section:"States",ret_btype:"number",fn:function e(t,r){var n;return(n=t==null?void 0:t.state("zoom_level"))!=null?n:this.ret_btype_null()}}})},get_messages:function e(t){return["set_marker_data","clear_marker_data","map_adjust_zoom","set_marker_selection"]},get_state_value:function e(t,r){switch(r){case"currently_selected_marker":return t.get_static_property("marker_data_type");case"map_center_address":return"geographic_address";case"get_zoom_level":return"number"}},get_injected_value:function e(t){return t.get_static_property("marker_data_type")},get_injected_display:function e(){return"Current marker"},use_injected_datasource:function e(t){return w.use_injected_datasource("marker_caption_expression",t)},check_for_errors:function e(t,r){if(t.get_static_property("map_style",true)==="_custom"&&t.get_static_property("custom_style",true)!=null){try{return i.json_parse(t.get_static_property("custom_style",true))}catch(e){return r(t.display()+": the custom style cannot be parsed as a JSON object")}}},jquery_plugins:function e(){return["google_map_styles.js"]},_refresh_border:function e(t,r){for(var n=0,o=["four_border_style","border_width","border_style","padding_vertical","padding_horizontal"];n<o.length;n++){var s=o[n];S.evaluate_property(t,s)}for(var i=0,a=["_top","_right","_bottom","_left"];i<a.length;i++){var l=a[i];S.evaluate_property(t,"border_style"+l);S.evaluate_property(t,"border_width"+l)}return window.google.maps.event.trigger(r,"resize")},_handle_map_option_change:function e(t,r){var n=r.allow_zoom_drag,o=r.disable_zoom_scroll,s=r.map_style,a=r.custom_style;var l={};if(s&&!["normal","_custom"].includes(s)){l.styles=h.google_map_styles[s].data}else if(s==="_custom"){try{l.styles=i.json_parse(a)}catch(e){l.styles=null}}else{l.styles=null}l.disableDefaultUI=!n;l.scrollwheel=n&&!o;l.draggable=n;l.disableDoubleClickZoom=!n;return t.setOptions(l)},_get_map:function e(t,r){var n;var o=t.canvas;var s=null;if(x.length){var u=x.pop();s=u.map;n=u.map_wrapper;o.append(n)}else{var _=function e(){n=i.div("map-wrapper",o);a.apply_css_style(n,r);s=new window.google.maps.Map(n[0],{streetViewControl:false})};if(c.using_bubble_key()){if(window.glrl_key_status){d.owner_error(f.RATE_MAP_LIMIT_MESSAGE);return}_();p().location.post("server://user/m/gmap",{appname:p().appname(),mode:i.is_edit_mode()?"edit":"run",first:E?"no":"yes"},(function(e,t){if(e){return d.log(e)}else if(!t){window.glrl_key_status=true}}));E=true}else{_()}}n[0].id=t.element_id()+"_"+i.LUID()+"_map_wrapper_"+t.responsive_mode();function m(e,t){var r=e.getCenter();if(r){var n=new window.google.maps.LatLng(r.lat(),r.lng(),false);return t.state("map_center_address",(function(){return l.from_address({lat:n.lat(),lng:n.lng()})}))}}var y=j(m,300);if(t.run_mode()){var v;(v=t.original_state_saver)==null?void 0:v.destroy();window.google.maps.event.addListener(s,"click",(function(){return t.state("currently_selected_marker",null)}));window.google.maps.event.addListener(s,"idle",(function(){return y(s,t)}));window.google.maps.event.addListener(s,"center_changed",(function(){return y(s,t)}));window.google.maps.event.addListener(s,"zoom_changed",(function(){return t.state("zoom_level",s.getZoom())}))}t.on_destroy((function(){return x.push({map:s,map_wrapper:n})}));return s},_get_center_and_zoom:function e(t){var r;if(t.state("manual_setting")){var n;r=I(t.state("center"));(n=r)!=null?n:r=R(false);return{center:r,zoom:t.state("initial_zoom"),recenter_ui:true}}var o=S.evaluate_property(t,"marker_type");var s=o==="none"||t.edit_mode();var a;if(o==="none"||o==="single"){var u;a=I(t.state("marker_data"));(u=a)!=null?u:a=R(s);var c=t.get_static_property("initial_zoom");return{center:a,zoom:c,recenter_ui:true}}else{var f=t.state("processed_markers");if(f==null||i.is_empty(f)){a=R(s);return{center:a,zoom:P,recenter_ui:!t.draw_the_list_once}}else{var d;var p=Object.keys(f)[0];a=f[p].position;if(a){a=l.from_address({lat:a.lat(),lng:a.lng()})}(d=a)!=null?d:a=R(s);var _=false;var m=null;if(Object.keys(f).length===1){_=true;m=P}return{center:a,zoom:m,recenter_ui:_}}}},_set_center_and_zoom:function e(t,r){var n=this._get_center_and_zoom(t),o=n.center,s=n.zoom,i=n.recenter_ui;if(i){var a=C(o);if(a!=null){if(!r.getCenter()){r.setCenter(a)}else{r.panTo(a)}}r.setZoom(s)}else if(t.get_static_property("marker_type")==="list"){var l=S.evaluate_property(t,"manual_setting");var u=t.state("bounds");if(!l&&!t.draw_the_list_once){t.draw_the_list_once=true;r.fitBounds(u);if(r.getZoom()>18){r.setZoom(16)}}}window.google.maps.event.trigger(r,"center_changed");window.google.maps.event.trigger(r,"zoom_changed")},_process_markers:function e(t){var r=this;var o=S.evaluate_property(t,"marker_data_type");var s=m.get(o);var i,a,l;if(o==="geographic_address"){i=function e(t){return s.cast(t)}}else{var u=S.evaluate_property(t,"location_field");if(u){var c=s.get_message(u);i=c==null?void 0:c.evaluate}a=s.get_message(S.evaluate_property(t,"custom_marker_field"));l=s.get_message(S.evaluate_property(t,"custom_selected_icon_field"))}var f=t.state("marker_data");var d={};if(i!=null){var p,_;var y=n((p=f==null?void 0:(_=f.all)==null?void 0:_.call(f))!=null?p:[]),v;try{var b=function e(){var n=v.value;var u=i(n);if(u){var c;var f={position:C(I(u)),bubble_object:n,id:(c=n._id)==null?void 0:c.call(n),bubble_marker_equals:function e(t){return s.equals(n,t)}};if(!f.position){return"continue"}if(o!=="geographic_address"){if(["on_click","always"].includes(t.get_static_property("show_info_window"))){var p=t.get_injected_context(n,r.get_injected_value(t.element));f.title=S.eval_property_with_states(t.element,"marker_caption_expression",p)}}if(t.get_static_property("use_customized_marker_icon_for_list")==="upload"){f.icon=S.evaluate_property(t,"custom_marker_icon")}else if(t.get_static_property("use_customized_marker_icon_for_list")==="field"&&o!=="geographic_address"){f.icon=O.optimize_image(a.evaluate(n),30,30,{},false,true)}if(t.get_static_property("custom_selected_icon")==="upload"){f.selected_icon=S.evaluate_property(t,"custom_selected_icon_image")}else if(t.get_static_property("custom_selected_icon")==="field"&&o!=="geographic_address"){f.selected_icon=O.optimize_image(l.evaluate(n),30,30,{},false,true)}else{f.selected_icon=null}d[N(f)]=f}};for(y.s();!(v=y.n()).done;){var h=b();if(h==="continue")continue}}catch(e){y.e(e)}finally{y.f()}}t.state("processed_markers",d)},_add_marker:function e(t,r,n,o){var s=n.position,a=n.icon;var l=o.animation,u=o.add_event_listener;var c={position:s,map:r};if(l&&!g.is_test(_.app().id())){c.animation=window.google.maps.Animation.DROP}if(a){c.icon=a}var f=new window.google.maps.Marker(c);var d=N(n);t.currently_displayed_markers[d]={marker:f};if(u){var p,m;var v=null;if(n!=null&&n.title){if(!t.currently_displayed_markers[d].infowindow){v=new window.google.maps.InfoWindow;t.currently_displayed_markers[d].infowindow=v}else{v=t.currently_displayed_markers[d].infowindow}var b=i.div("infowindow-content");b.text(n.title);b[0].style.padding="3px";b[0].style["font-family"]="Lato";b[0].style.color="rgb(39, 39, 39)";v.setContent(b[0]);var h=t.get_static_property("show_info_window");var j=t.get_static_property("autoclose");if(h==="always"){v.open(r,f)}i.autorun_top((function(){t.currently_displayed_markers[d].infowindow_ar=t.autorun((function(){if(n.bubble_marker_equals(t.state("currently_selected_marker"))){if(h!=="no"){v.open(r,f)}}else if(h==="on_click"&&j){if(v!=null){v.close()}}}))}))}(m=(p=t.currently_displayed_markers[d]).event_listener)!=null?m:p.event_listener=window.google.maps.event.addListener(f,"click",(function(){t.state("currently_selected_marker",n.bubble_object);if(v){v.open(r,f)}y.run_element_workflow(t,"MapMarkerClicked")}))}return f},_remove_markers:function e(t,r){for(var n in r){var o;var s=r[n];s.marker.setMap(null);if(s.event_listener){window.google.maps.event.removeListener(s.event_listener)}(o=t.currently_displayed_markers[n].infowindow_ar)==null?void 0:o.destroy();delete t.currently_displayed_markers[n]}},_render_markers:function e(t,r){var n=this;var o=S.evaluate_property(t,"marker_type");if(o==="none"){this._remove_markers(t.currently_displayed_markers)}var s;if(o==="single"){this._remove_markers(t,t.currently_displayed_markers);var i=C(I(t.state("marker_data")));if(t.get_static_property("use_customized_marker_icon")){s=S.evaluate_property(t,"custom_marker_icon")}if(i){this._add_marker(t,r,{position:i,icon:s},{animation:false,add_event_listener:true})}else if(t.edit_mode()){this._add_marker(t,r,{position:C(R(true)),icon:s},{animation:true})}}if(o==="list"){if(t.run_mode()){var a=t.state("processed_markers");var l={};for(var u in t.currently_displayed_markers){var c=t.currently_displayed_markers[u];if(!a[u]){l[u]=c}}this._remove_markers(t,l);var f=new window.google.maps.LatLngBounds;var d=function e(o){var s=a[o];var i=void 0;if(!t.currently_displayed_markers[o]){i=n._add_marker(t,r,s,{animation:false,add_event_listener:true})}else{i=t.currently_displayed_markers[o].marker}f.extend(i.position);if(s.selected_icon!=null){var l=false;t.autorun((function(){if(s.bubble_marker_equals(t.state("currently_selected_marker"))){if(!l){l=true;i.setIcon(s.selected_icon)}}else if(l){l=false;i.setIcon(s.icon)}}))}};for(var p in a){d(p)}t.state("bounds",f)}else{this._remove_markers(t,t.currently_displayed_markers);if(t.get_static_property("use_customized_marker_icon_for_list")==="upload"){s=S.evaluate_property(t,"custom_marker_icon")}this._add_marker(t,r,{position:C(R(true)),icon:s},{animation:true})}}}})},{"../../../constants/elements":72,"../../../constants/geolocation":78,"../../../geolocation/b_location":505,"../../../geolocation/client/google_maps":507,"../../../geolocation/location_lookups":509,"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../logger":617,"../../../shared/apps_utilities":654,"../../../u":687,"../../property_applications":405,"../core_elements_utilities/element_optional_utils":279,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../core_elements_utilities/element_workflows":284,"../shared/dropdowns":354,"../shared/image_utils":359,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/debounce":1174}],296:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../core_elements_utilities/element_transformer");var s=e("../../../lang/elements");var i=e("../shared/groups");var a=e("../components/GroupComponent");var l=e("../../../lang/elements/elements_utils");var u=e("../../../lang/evaluation/element_props");var c=15;o.make_element("Group",n.extend({},i.group_element_definition,{glyph_id:"group",list_order:1,keyboard_shortcut:"G",get_private_messages:function e(t){return["child_movement"]},uses_css_responsive:true,solid_component:a,can_fit_width:true,can_fit_height:true,starts_variable_width:true,can_defer_drawing:function e(){return true},register:function e(t){t.state("collapsing",false)},attempt_size_only_draw:function e(t){return t.element.no_size_when_hidden()},initialize:function e(t){var r=t.get_canvas();t.autorun((function(){if(t.state("collapsing")){r.css("overflow","hidden")}else if(t.get_static_property("overflow_scroll")){if(t.run_mode()){r.css({"overflow-x":"hidden","overflow-y":"auto"})}else{r.css({overflow:"hidden"})}}else{r.css({overflow:"visible"})}}))},check_for_errors:function e(t,r){return i._check_for_errors_datasource_set_to_self(t,"get_group_data",r)},can_animate:function e(t){return true},do_show:function e(t,r,o,i,a){t._is_visible_me=true;t._update_visible();if(!t.run_mode()){t._display_me();return}t.with_canvas((function(e){var l;t._display_me();(l=e.velocity)==null?void 0:l.call(e,"stop");if(t.group_slide_timeout!=null){clearTimeout(t.group_slide_timeout);t.group_slide_timeout=undefined}var f=t.get_static_property("collapse_when_hidden");e.css("display","");if(f&&!i){if(t.get_static_property("collapse_animation")&&!a){t.set_animating(true);t.state("collapsing",true);switch(t.get_static_property("animation_type")){case"slide":{var d=function r(o){if(!t._is_visible_me){return}if(o>=p){n.autorun_once((function(){var r;e.css({"min-height":u.min_height_css(t),"max-height":(r=u.max_height_css(t))!=null?r:""})}));t.state("collapsing",false);t.set_animating(false);t.group_slide_timeout=undefined;return}var s=o+_;e.css({"min-height":s,"max-height":s});t.group_slide_timeout=setTimeout((function(){return r(s)}),1)};var p=e.height();var _=p/c;e.css({"min-height":0,"max-height":0});d(0);break}case"slide_horiz":{var m=function r(o){if(!t._is_visible_me){return}if(o>=y){n.autorun_once((function(){var r,n;e.css({"min-width":u.min_width_css(t),"max-width":(r=u.max_width_css(t))!=null?r:"","max-height":(n=u.max_height_css(t))!=null?n:""})}));t.state("collapsing",false);t.set_animating(false);t.group_slide_timeout=undefined;return}var s=o+v;e.css({"min-width":s,"max-width":s,"max-height":b});t.group_slide_timeout=setTimeout((function(){return r(s)}),1)};var y=e.width();var v=y/c;var b=e.height();e.css({"min-width":0,"max-width":0});m(0);break}case"fade":{e.css({opacity:0});n.velocity(e,"fadeIn",{duration:400,complete_cb:function e(){t.state("collapsing",false);t.set_animating(false)},display:""});break}default:t.set_animating(false)}}}else if(i){s.perform_animate_in(t,r,o)}}))},do_hide:function e(t,r,o,s,i){t._is_visible_me=false;if(!t.run_mode()){t._hide_me();t._update_visible();return}t.with_canvas((function(e){var a;(a=e.velocity)==null?void 0:a.call(e,"stop");if(t.group_slide_timeout!=null){clearTimeout(t.group_slide_timeout);t.group_slide_timeout=undefined}var f=t.get_static_property("collapse_when_hidden");if(f&&!s){if(t.get_static_property("collapse_animation")&&!i){t.set_animating(true);t.state("collapsing",true);switch(t.get_static_property("animation_type")){case"slide":{var d=function r(o){if(t._is_visible_me){return}if(o<=0){t._hide_me();n.autorun_once((function(){var r;e.css({"min-height":u.min_height_css(t),"max-height":(r=u.max_height_css(t))!=null?r:""})}));e.css("display","none");t.set_animating(false);t.state("collapsing",false);t.group_slide_timeout=undefined;return}var s=o-_;e.css({"min-height":s,"max-height":s});t.group_slide_timeout=setTimeout((function(){return r(s)}),1)};var p=e.height();var _=p/c;d(p);break}case"slide_horiz":{var m=function r(o){if(t._is_visible_me){return}if(o<=0){t._hide_me();n.autorun_once((function(){var r,n;e.css({"min-width":u.min_width_css(t),"max-width":(r=u.max_width_css(t))!=null?r:"","max-height":(n=u.max_height_css(t))!=null?n:""})}));e.css("display","none");t.set_animating(false);t.state("collapsing",false);t.group_slide_timeout=undefined;return}var s=o-v;e.css({"min-width":s,"max-width":s,"max-height":b});t.group_slide_timeout=setTimeout((function(){return r(s)}),1)};var y=e.width();var v=y/c;var b=e.height();m(y);break}case"fade":{n.velocity(e,"fadeOut",{duration:400,complete_cb:function e(){t.state("collapsing",false);t._hide_me();t.set_animating(false)},display:"none"});break}}}else{t._hide_me()}}else if(s){l.perform_animate_out(t,r,o)}else{t._hide_me()}}));t._update_visible()}}))},{"../../../lang/elements":557,"../../../lang/elements/elements_utils":556,"../../../lang/evaluation/element_props":568,"../../../u":687,"../components/GroupComponent":249,"../core_elements_utilities/element_transformer":281,"../shared/groups":356}],297:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.concat.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../../../lib");var i=e("../../../lang/appquery");var a=e("../core_elements_utilities/element_transformer");var l=e("../../../lang/elements");var u=e("../../../lang/elements/elements_utils");var c=e("../shared/groups");var f=e("../components/GroupFocusComponent");var d=e("../../../lang/evaluation/element_props");var p=e("../../../u/shared/mode_check");var _=20;a.make_element("GroupFocus",n.extend({},c.group_element_definition,{display:"Group Focus",glyph_id:"group_focus",list_order:6,keyboard_shortcut:null,field_names:n.extend({},c.container_field_names,{reference:{no_states:true},offset_left:{no_states:true,default:0},offset_top:{no_states:true,default:0},fixed_width:{no_states:true,default:true}}),defaults:{bgcolor:"#E8E8E8",background_style:"bgcolor",width:250,height:100},styleable_properties:{offset_top:false,offset_left:false},get_private_messages:function e(t){return["child_movement","position_element"]},can_animate:function e(t){return true},workflow_show:function e(t,r,n,o){t.ensure_drawn();t.get_canvas().data("GroupWithFocus_loading",true);setTimeout((function(){return t.get_canvas().data("GroupWithFocus_loading",false)}),1);t.do_show(r,n,o)},workflow_hide:function e(t,r,n,o){t.do_hide(r,n,o)},check_for_errors:function e(t,r){c._check_for_errors_datasource_set_to_self(t,"get_group_data",r)},can_defer_drawing:function e(){return true},register:function e(t){t.state("manual_position",null);t.on_message("position_element",(function(e){return t.state("manual_position",{top:e.Y+"px",left:e.X+"px",position:e.position})}))},initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();if(t.edit_mode()){e=e.parent()}var r=e.parent();var a,l;var u=false;if(t.run_mode()){var c;if(n.is_on_mobile_or_tablet()){c="touchend.groupfocus".concat(n.LUID())}else{c="click.groupfocus".concat(n.LUID())}a=function r(){$("body").on(c,(function(r){var o;var i=$(".tt-dropdown-menu");var a=t.is_visible()&&!e.data("GroupWithFocus_loading")&&e[0]!==r.target&&!$.contains(e[0],r.target)&&!((o=$(r.target).attr("class"))!=null&&o.match(/\bselect2-/))&&!(i.length>0&&$.contains(i[0],r.target));if(a){if(p.running_test()){t.do_hide()}else{u=true;setTimeout((function(){n.WaitFor(s().workflow.everything_done_key(),(function(){u=false;t.do_hide()}))}),10)}}}))};l=function e(){$("body").off(c)}}var f="resize.groupfocus".concat(t.toUniqueString());var d=null;var _=null;var m=null;function y(){var e,t;(e=d)==null?void 0:e.disconnect();(t=_)==null?void 0:t.disconnect();$(window).off(f);d=null;_=null;m=null}var v=t.autorun((function(){if(!t.is_visible()){var o;(o=l)==null?void 0:o();y();return}t.autorun((function(){var o;var l=t.get_static_property("offset_left");var c=t.get_static_property("offset_top");function p(){var o;if(t.state("manual_position")){return}if(!((o=m)!=null&&o.is(":visible"))){var s;if(!u){e.css({top:0,left:0})}(s=d)==null?void 0:s.disconnect();d=null;return}var a=t.run_mode()&&n.is_fixed(m);var f=m.offset();var _=r.offset();var y=f.left-_.left;var v=f.top-_.top;if(a){y-=window.scrollX;v-=window.scrollY}var b=i.get_public_setting("bubble_version")>=20;var h=b?m.outerHeight():m.height();var j=b?m.outerWidth():m.height();var g=y+l;var w=v+c+h;e.css({position:a?"fixed":"absolute",left:g,top:w});var O=-v;var S=-y;var k=v-r.height()+h;var A=y-r.width()+j;if(typeof IntersectionObserver!=="undefined"&&IntersectionObserver!==null){var E;(E=d)==null?void 0:E.disconnect();d=new IntersectionObserver((function(e){if(e[0].intersectionRatio<1){p()}}),{root:a?null:r[0],rootMargin:"".concat(O,"px ").concat(A,"px ").concat(k,"px ").concat(S,"px"),threshold:1});d.observe(m[0])}}var v=t.get_static_property("reference");if(t.edit_mode()){m=s.or_throw().visual_edit.current_editor_canvas.getWrapper(v)}else{var b;m=(b=t.find_instance_by_id(v))==null?void 0:b.canvas}(o=a)==null?void 0:o();if(m==null){e.css({top:0,left:0});y();return}p();$(window).off(f);$(window).on(f,(function(){p()}));if(typeof ResizeObserver!=="undefined"&&ResizeObserver!==null){var h;(h=_)==null?void 0:h.disconnect();_=new ResizeObserver((function(e){p()}));_.observe(m[0])}}))}),(function(){var e;y();(e=l)==null?void 0:e()}));v.set_run_immediately(true);t.autorun((function(){var e=t.state("manual_position");if(e){o.apply_css_style(t.get_canvas(),e)}}))}))},property_applications:function e(t){return[new o.ShortDimensions,new o.Background,new o.Border,new o.BoxShadow,new o.ResponsiveElement(t),new o.ResponsiveContainer(t),new o.PaddingFields]},uses_css_responsive:true,solid_component:f,can_fit_height:true,no_margins:function e(){return true},not_draggable:function e(){return true},goes_on_document:function e(){return true},starts_hidden:true,not_max_adjustable:true,must_be_fixed_size:function e(t){var r;return((r=t.root())==null?void 0:r.get_responsive_version())<0},manual_position:false,position_canvas:function e(t,r){var n;if(r.edit_mode()){n=$(".canvas")}else{n=$("body");t.css("display","none")}n.append(t);r.autorun((function(){var e,n;t.css({position:"absolute","min-width":d.min_width_css(r),"max-width":(e=d.max_width_css(r))!=null?e:"","min-height":d.min_height_css(r),"max-height":(n=d.max_height_css(r))!=null?n:"",height:r.element.fit_height()?"auto":"initial",right:_,bottom:r.element.fit_height()?"unset":_,"z-index":s().bv().MAX_POPUP_ZINDEX+r.element.get_zindex()})}));if(r.edit_mode()){r.container.setup_padding(r)}if(r.run_mode()){t.css("margin-right","auto");t.css("overflow-y","auto")}else{t.css("overflow","hidden")}},do_show:function e(t,r,n,o){t._is_visible_me=true;t._update_visible();t.with_canvas((function(e){var s;(s=e.velocity)==null?void 0:s.call(e,"stop",true);e.css("display","");if(!o){t._display_me()}else{l.perform_animate_in(t,r,n)}}))},do_hide:function e(t,r,n,o){if(!t.is_drawn){if(!o){t._is_visible_me=false;t._update_visible();return}t.ensure_drawn()}t._is_visible_me=false;t._update_visible();t.with_canvas((function(e){var s;(s=e.velocity)==null?void 0:s.call(e,"stop",true);if(!o){t._hide_me();e.css("display","none")}else{n.display="none";u.perform_animate_out(t,r,n)}}))}}))},{"../../../lang/appquery":535,"../../../lang/elements":557,"../../../lang/elements/elements_utils":556,"../../../lang/evaluation/element_props":568,"../../../lib":614,"../../../u":687,"../../../u/shared/mode_check":713,"../../property_applications":405,"../components/GroupFocusComponent":250,"../core_elements_utilities/element_transformer":281,"../shared/groups":356,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.match.js":976}],298:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../core_elements_utilities/element_transformer");var s=e("../shared/groups");o.make_element("GroupWithFocus",n.extend({},s.group_element_definition,{display:"Group Focus (old)",field_names:n.extend({},s.group_element_definition.field_names,{information:{no_states:true}}),workflow_show:function e(t,r,n,o){t.get_canvas().data("GroupWithFocus_loading",true);setTimeout((function(){return t.get_canvas().data("GroupWithFocus_loading",false)}),1);t.do_show(r,n,o)},workflow_hide:function e(t,r,n,o){t.do_hide(r,n,o)},check_for_errors:function e(t,r){s._check_for_errors_datasource_set_to_self(t,"get_group_data",r)},get_private_messages:function e(t){return["child_movement","position_element"]},starts_hidden:true,initialize:function e(t){throw new n.OwnerError("Old Group Focus is not supported in new responsive engine")}}))},{"../../../u":687,"../core_elements_utilities/element_transformer":281,"../shared/groups":356}],299:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../../../logger");var i=e("base64url");var a=e("../../../lib");var l=e("../core_elements_utilities/element_utils");var u=e("../core_elements_utilities/element_transformer");var c=e("../shared/video_elements");var f=e("../../../lang/evaluation/element_eval");var d=e("../../../constants/elements"),p=d.PADDING_VERSION;var _=e("../../../u/shared/callbacks"),m=_.ignoreError;var y=e("../components/HTMLComponent");function UNMANGLED_html_wrap(e){return e()}u.make_element("HTML",{category:"visual elements",glyph_id:"html",list_order:8,keyboard_shortcut:null,defaults:{border_style:"none",border_color:"#6B6B6B",border_width:0,padding_vertical:2,padding_horizontal:2,width:200,height:100},updated_default_sizing:{width:280,height:150},field_names:{html:{default:"<i>edit me...</i>"},useiframe:{default:false},stretch_to_fit:{default:false,no_states:true},keep_proportion_resize:{no_states:true},defer_drawing:{no_states:true}},property_applications:function e(t){return[new o.Dimensions,new o.Padding,new o.PaddingFields({minimum_element_version:p,allow_legacy:true}),new o.Border,new o.BoxShadow,new o.ResponsiveElement(t),new o.Opacity]},uses_css_responsive:true,solid_component:y,use_legacy_in_editor:true,get_html:function e(){return"<div></div>"},wrapped_canvas_append:function e(t,r){return UNMANGLED_html_wrap((function(){return t.append(r)}))},get_min_width:function e(){return 0},can_fit_width:function e(t){return!t.get_static_property("useiframe",true)},can_fit_height:function e(t){return!t.get_static_property("useiframe",true)},add_an_invisible_div_on_the_top:true,change_cursor_style_if_clickable:false,can_defer_drawing:function e(t){return t.get_static_property("defer_drawing")},register:function e(t){var r;if(t.run_mode()&&(r=window)!=null&&r.bubble_safe_mode){return s.owner_warn(new n.OwnerError("This HTML element is not rendered in safe mode",{element_instance:t}))}},initialize:function e(t){function r(){if(t.run_mode()&&window.bubble_safe_mode){return}var e=t.get_canvas();var r=null;var n=null;var o=function e(){return n[0].contentWindow};var u=false;f.pre_cache(t,["html","useiframe"]);t.autorun((function(){var d;var p={};for(var _=0,y=["html","useiframe"];_<y.length;_++){var v=y[_];p[v]=f.evaluate_property(t,v)}var b=p.html,h=p.useiframe;(d=b)!=null?d:b="";if(!t.run_mode()){var j=i.encode(b);a().location.post("server://appeditor/cache_iframe_content",{content:j},m((function(r){var o=r;var s="".concat(a().location.get_base_for_meta(),"/appeditor/basic_iframe_service/").concat(a().appname(),"/test/").concat(o);n=$('<iframe src="'.concat(s,'"\n    id=\'user_preview_iframe\'\n    width="100%"\n    height="100%"\n    sandbox="allow-scripts"\n>\n    (this browser does not support HTML element preview rendering)\n</iframe>'));e.empty();e.append(n);l.do_add_an_invisible_div_on_the_top(t)})))}else{if(h){var g=function t(s){clearTimeout(r);if(!n){n=$('<iframe src="about:blank"></iframe>');if(c.should_block_cookies()){n.attr("sandbox","allow-scripts allow-same-origin")}e.append(n)}n[0].style.width="100%";n[0].style.height="100%";if(o()){if(u!==s){n[0].contentWindow.contents=s;u=s}n[0].src='javascript:window["contents"]'}else{r=setTimeout((function(){return t(s)}),100)}};g(b);e.css("height",t.element.get_height())}else{try{if(u!==b){UNMANGLED_html_wrap((function(){return e.html(b)}));u=b}}catch(e){s.owner_only_error("html bug",{display:"Bug in custom html:\n"+e.stack,element_instance:t,prop_name:"html"})}}}}))}if(t.get_static_property("defer_drawing")){t.wait_for_visible_lite(r)}else{r()}},is_input:false,is_container:false})},{"../../../constants/elements":72,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../../u/shared/callbacks":705,"../../property_applications":405,"../components/HTMLComponent":251,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../shared/video_elements":370,base64url:724,"core-js/modules/es.array.concat.js":926}],300:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../property_applications");var s=e("../core_elements_utilities/element_transformer");var i=e("../core_elements_utilities/element_workflows");var a=e("../shared/icons");var l=e("../../../lang/evaluation/element_eval");var u=e("../components/IconComponent");s.make_element("Icon",{category:"visual elements",glyph_id:"icon",list_order:3,keyboard_shortcut:"I",defaults:{font_alignment:"center",color:"#6676F2",background_style:"none",border_style:"none",border_roundness:4,border_width:2,border_color:"#6B6B6B",boxshadow_style:"none",width:80,height:80},updated_default_sizing:{width:30,height:30},default_states:[],properties_for_new:{icon:"fa fa-bars"},field_names:n.extend({icon:{default:"fa fa-flag-checkered"},icon_color:{default:"#6676F2",in_style:true},spin_icon:{}},i.start_workflow_field_names),property_applications:function e(t){return[new o.Dimensions,new o.FontShadow,new o.Border,new o.BoxShadow,new o.Background,new o.ResponsiveElement(t),new o.ToolTip,new o.PaddingFields,new o.Opacity]},uses_css_responsive:true,solid_component:u,get_html:function e(t){return"<button></button>"},get_min_width:function e(t){return 0},change_cursor_style_if_clickable:true,can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();o.patch_user_agent_styles(e);e.css("display","block");$(document).ready((function(){t.autorun((function(){e.empty();var r=l.evaluate_property(t,"icon");e.append(a.get_icon_svg("fa",r));if(l.evaluate_property(t,"button_disabled")){e.attr("tabindex","-1")}}))}));l.on_property_change(t,"icon_color",(function(t){e[0].style.color=t}));l.on_property_change(t,"spin_icon",(function(t){if(!t){t=false}e.toggleClass("fa-spin",t)}))}))},transition_properties:{icon_color:"color"},is_input:false,is_container:false,events:["ButtonClicked"],add_an_invisible_div_on_the_top:false,css_files:["css/optional/font-awesome.min.css"]})},{"../../../lang/evaluation/element_eval":567,"../../../u":687,"../../property_applications":405,"../components/IconComponent":252,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_workflows":284,"../shared/icons":358}],301:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../property_applications");var s=e("../../../shared/apps_utilities");var i=e("../../../lang/appquery");var a=e("../core_elements_utilities/element_transformer");var l=e("../core_elements_utilities/element_workflows");var u=e("../shared/image_utils");var c=e("../shared/aspect_ratio");var f=e("../../../lang/evaluation/element_eval");var d=e("../../../lang/evaluation/element_props");var p=e("../components/ImageComponent");function _(e){var t=e.property("src");if(!t.is_empty()&&t.is_static()&&e.get_static_property("src",true)!==""){return true}}a.make_element("Image",{category:"visual elements",glyph_id:"image",list_order:4,keyboard_shortcut:null,defaults:{width:320,height:240},collapse_margin:500,keep_proportion_resize:true,field_names:n.extend({src:{},stretch_or_rescale:{default:"rescale",no_states:true},crop_data:{no_states:true},keep_proportion_resize:{no_states:true},alt_tag:{},editor_preview_image:{no_states:true}},l.start_workflow_field_names),uses_css_responsive:true,solid_component:p,use_legacy_in_editor:true,can_fix_aspect_ratio:function e(){return true},can_fit_height:function e(t){return!_(t)},property_applications:function e(t){return[new o.Dimensions,new o.Border,new o.BoxShadow,new o.ResponsiveElement(t),new o.ToolTip,new o.Rotation,new o.Opacity]},get_html:function e(){return"<div></div>"},can_defer_drawing:function e(){return true},initialize:function e(t){var r=t.get_canvas();t.wait_for_visible_lite((function(){var e;var o=n.img(undefined,r);if(!t.run_mode()){e=n.div("display_text",r)}var a=null;var l=null;if(t.run_mode()){f.on_property_change(t,"alt_tag",(function(e){o[0].alt=e!=null?e:""}))}f.pre_cache(t,["src","stretch_or_rescale","crop_data","editor_preview_image"]);c.structure_fixed_aspect_ratio(t,r);var p=null;var m=null;t.autorun((function(){var y,v;var b={};for(var h=0,j=["src","stretch_or_rescale","crop_data","keep_proportion_resize","editor_preview_image"];h<j.length;h++){var g=j[h];b[g]=f.evaluate_property(t,g)}var w=_(t.element);o.css(c.element_css(w||t.element.has_fixed_aspect_ratio()||!d.is_fitting_height(t)));if(!t.run_mode()){if(!w&&!b.editor_preview_image){var O;e.html((O=b.src)!=null?O:"");e.show();e.css({display:"block",overflow:"hidden",width:"100%",color:"grey",position:"absolute"});r.css("overflow","hidden");o.hide();return}else{e.hide();o.show()}}(y=p)!=null?y:p=n.Box(r.width());(v=m)!=null?v:m=n.Box(r.height());function S(e,r,c,f){var d;a=d=n.LUID();function p(r){if(a!==d){return}u.download_image(r,t,(function(t){if(a!==d){return}l=e;o[0].src=t}))}var _=u.optimize_image(e,r,c,f);var m=e===l&&!u.downloaded_images[_];if(m&&s.is_test(i.appname())){m=false}if(m){setTimeout(p.bind(null,_),300)}else{p(_)}}if(!t.run_mode()&&b.editor_preview_image){t.autorun((function(){S(b.editor_preview_image,p(),m())}))}else if(b.src&&!n.is_empty(b.src)){if(!o[0].src){o[0].src=u.transparent_image();u.reset_img_settings(o)}u.reset_img_settings(o);if(w){var k;if(b.keep_proportion_resize){k={fit:"crop"}}else{k={}}if(b.crop_data!=null){var A=function e(t){return"".concat(Math.floor(t*100),"%")};o.css({width:A(b.crop_data.width_factor),height:A(b.crop_data.height_factor),"margin-left":A(b.crop_data.left_offset)})}t.autorun((function(){S(b.src,p(),m(),k);if(b.crop_data!=null){o.css("margin-top",b.crop_data.top_offset*m())}}))}else{var E={rescale:"contain",adjust_height:"contain",stretch:"fill",zoom:"cover"};o.css({"object-fit":E[b.stretch_or_rescale]});if(!t.element.has_fixed_aspect_ratio()&&d.is_fitting_height(t)){o.css("height","auto");t.autorun((function(){S(b.src,p())}))}else{t.autorun((function(){S(b.src,p(),m())}))}}}else{o[0].src=u.transparent_image();l=null;u.reset_img_settings(o)}}));if(typeof ResizeObserver!=="undefined"&&ResizeObserver!==null&&!t.thumbnail_mode()){var y=new ResizeObserver((function(e){var t,r;(t=p)==null?void 0:t(e[0].contentRect.width);(r=m)==null?void 0:r(e[0].contentRect.height)}));y.observe(r[0]);t.on_destroy((function(){return y.disconnect()}))}t.autorun((function(){if(f.evaluate_property(t,"four_border_style")){for(var e=0,r=["top","right","bottom","left"];e<r.length;e++){var n=r[e];o[0].style["border-radius-".concat(n)]=f.evaluate_property(t,"border_roundness_"+n)+"px"}}else{o[0].style["border-radius"]=f.evaluate_property(t,"border_roundness")+"px"}}))}))},get_min_width:function e(t){return 0},change_cursor_style_if_clickable:true,add_an_invisible_div_on_the_top:false,is_input:false,is_container:false,events:["ButtonClicked"]})},{"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../shared/apps_utilities":654,"../../../u":687,"../../property_applications":405,"../components/ImageComponent":253,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_workflows":284,"../shared/aspect_ratio":352,"../shared/image_utils":359}],302:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.number.is-nan.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.trim.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../u");var a=e("../../../geolocation/b_location");var l=e("../../input_mask");var u=e("../../property_applications");var c=e("../../../lang/btypes");var f=e("../../../shared/domain_utilities");var d=e("../../core_actions/utilities/account_actions_utilities");var p=e("../../../lib");var _=e("../core_elements_utilities/element_utils");var m=e("../core_elements_utilities/element_transformer");var y=e("../shared/inputs");var v=e("../../../lang/evaluation/page_state");var b=e("../../../constants/elements"),h=b.PADDING_VERSION;var j=e("../../../u/shared/b_date");var g=e("../../custom_tz_utilities");var w=e("../components/InputComponent");var O=e("../../../lang/evaluation/element_eval");var S=e("../../../lang/timezone_override_settings"),k=S.has_input_timezone_controls_on;function A(e){if(k()){return g.get_custom_tz({static_eval:function t(r){return e.get_static_property(r)},dynamic_eval:function t(r){return O.evaluate_property(e,r)},not_overridden:true})}else{return p().current_timezone()}}function E(e){return e==="date"||e==="date_2"}function x(e,t){var r;var n=e.get_static_property("content_format");switch(n){case"int_number":{var o=parseFloat(t);r=Number.isNaN(o)?null:Math.round(o);break}case"float_number":case"percentage":case"currency":r=t;break;case"geographic_address":r=function e(){return a.from_address(t)};break;case"date":case"date_2":{var s=A(e);r=j.mk_date(t,s)}break;default:r=t;if([null,undefined,"text","numerical_ref"].includes(n)){if(e.get_static_property("limit_number_of_characters")){var i=e.get_static_property("character_limit");if(i!=null&&r!=null&&r.length>i){r=r.slice(0,i)}}}}if(typeof r==="number"&&isNaN(r)){return null}else{return r}}for(var M=0,P=["us_phone","percentage","currency","date","date_2","numerical_ref"];M<P.length;M++){var T;var I=P[M];if(!(I in l.masks)){throw new i.UnexpectedError("".concat(I," should be a valid mask"))}y.input_content_options[I]=(T=l.masks[I].caption)!=null?T:i.toTitleCase(I)}m.make_element("Input",{category:"input forms",glyph_id:"text_input",list_order:1,keyboard_shortcut:null,defaults:i.extend({},y.default_for_inputs,{width:250,height:45,use_max_width:true,max_width:150}),updated_default_sizing:{height:48},default_states:y.default_states_for_inputs,field_names:i.extend({placeholder:{default:"Type here..."},content:{},content_format:{default:"text",no_states:true},currency_symbol:{default:"$"},show_thousands:{no_states:true},always_show_decimals:{no_states:true},decimal_place:{no_states:true},have_a_numerical_range:{no_states:true},min_range_value:{},max_range_value:{},check_password_policy:{no_states:true}},y.additional_field_names_for_text_inputs,g.custom_tz_field_names),property_applications:function e(t){return[new u.Dimensions,new u.Background,new u.Border,new u.BoxShadow,new u.Font,new u.FontSpacing(null,["line_height"]),new u.InputPadding,new u.PaddingFields({minimum_element_version:h,allow_legacy:true}),new u.PlaceholderColor,new u.ResponsiveElement(t),new u.Opacity]},uses_css_responsive:true,solid_component:w,use_legacy_in_editor:true,can_defer_drawing:function e(){return true},get_html:function e(t){var r=this._format_to_type(t.get_static_property("content_format"));if(r==="number"){return'<input type="input" inputmode="decimal"></input>'}if(r==="password"){return'<input type="'+r+'" autocomplete="new-password"></input>'}else{return'<input type="'+r+'"></input>'}},_format_to_type:function e(t){if(i.is_on_mobile_or_tablet()){if(["int_number","us_phone","numerical_ref"].includes(t)){return"tel"}if(t==="float_number"){return"number"}}switch(t){case"password":return"password";case"email":return"email";default:return"input"}},get_min_width:function e(t){return 0},is_secure:function e(t){return["password","us_ssn","bank_routing_number","credit_card_number","credit_card_cvc","credit_card_exp_month","credit_card_exp_year"].includes(t.get_static_property("content_format"))},initialize:function e(t){var r=this;t.wait_for_visible_lite((function(){var e,r;var n=t.get_canvas();y.reset_input_div(n);n.focus((function(){v.input_focused(true)}));n.on("blur",(function(){v.input_focused(false)}));if(((e=t.element.root())==null?void 0:e.get_responsive_version())===0){_.register_tab_index_listener(t,(function(e){n.attr("tabindex",e)}))}function o(e){var r={clearMaskOnLostFocus:true,showMaskOnHover:false,greedy:false,rightAlign:false,inputEventOnly:true};if(e==="currency"){r.prefix=O.evaluate_property(t,"currency_symbol");if(t.get_static_property("always_show_decimals")){r.digitsOptional=false;r.placeholder="0"}else{r.digitsOptional=true;r.placeholder=""}}if(["float_number","percentage"].includes(e)){var n=t.get_static_property("decimal_place");if(n!=null&&n>=0){r.digits=n;r.digitsOptional=false;r.placeholder="0";r._radixDance=true;r.inputEventOnly=false}}if(["float_number","int_number"].includes(e)&&!t.get_static_property("show_thousands")){r.autoGroup=false;r.groupSeparator=""}if(E(e)){r.timezone=A(t)}return r}var s=function e(t){return t in l.masks};t.autorun((function(){var e=O.evaluate_property(t,"placeholder");n.attr("placeholder",e);if(n.get()[0].inputmask!=null){n.get()[0].inputmask.originalPlaceholder=e}}));y.set_character_limit_on_input(t);if(!t.run_mode()){n.attr("readonly","true")}var a;t.autorun((function(){var e;var r=t.get_static_property("content_format");var n=t.state("current_tz");if(t.state("has_been_changed")&&n===a){return}a=n;if(t.state("is_focused")){return}var i=t.state("value");if(r==="geographic_address"){i=c.get("geographic_address").runmode_display(i)}else if(t.run_mode()){if(s(r)){i=l.masks[r].format_val(i,o(r))}}t.get_canvas().val((e=i)!=null?e:"")}));if(t.run_mode()){var u=function e(){if(f in l.masks){var r={};if(E(f)){r.timezone=t.state("current_tz")}return l.masks[f].get_val(t.get_canvas(),r)}else{return x(t,t.get_canvas().val())}};t.on_message("set_focus",(function(){return n.focus()}));var f=t.get_static_property("content_format");if(E(f)){t.autorun((function(){t.state("current_tz",A(t))}))}y.assign_change_keyup_handlers(t,u);y.switch_disabled_or_not(t);t.autorun((function(){var e=O.evaluate_property(t,"not_submit_on_enter");return y.assign_enter_handler_in_input(t,e)}));if(f==="password"){n.passMeter({events:"keyup input change",afterTest:function e(r){if(r===0&&n.val()===""){r=null}t.state("pw_strength",r)}})}if(f in l.masks){i.autorun((function(){var e=l.masks[f].get_mask(o(f));n.inputmask(e);n.off("click.inputmask");n.on("click.inputmask",(function(e){return $(e.target).trigger("inputmaskclick")}))}))}}}))},content_validated:function e(t,r){var n;var o=r.get_static_property("content_format");function s(e){var t,n;if(!r.get_static_property("have_a_numerical_range")){return true}var o=(t=O.evaluate_property(r,"min_range_value"))!=null?t:-Infinity;var s=(n=O.evaluate_property(r,"max_range_value"))!=null?n:Infinity;if(s<o){return true}return o<=e&&e<=s}if(["",null,undefined].includes(t)||(t==null?void 0:(n=t.trim)==null?void 0:n.call(t))===""){return!O.evaluate_property(r,"mandatory")}switch(o){case"email":return i.is_email(t);case"geographic_address":return a.from_address(t)!=null;case"password":if(r.get_static_property("check_password_policy")){return y.is_pw_valid(t)}else{return true}case"appname_validate":return f.is_appname_valid(t==null?void 0:t.toLowerCase());default:if(o in l.masks){var u=l.masks[o];if(typeof t==="string"){if(!u.is_valid_text(t)){return false}}if(u.btype==="date"){if(isNaN(Date.parse(t))){return false}}if(u.btype==="number"){if(typeof t==="number"){return s(t)}var c=u.parse_val(t);if(c!=null){return s(c)}else{return false}}else{return true}}else{return true}}},get_starting_content:function e(t){if(t.run_mode()&&t.get_static_property("auto_binding")){var r=y.get_input_parent_thing(t),o=r.type,s=r.thing;var a=t.get_static_property("bind_field");var l=x(t,c.get(o).get_message(a).evaluate(s));if(typeof l==="function"){return l()}else{return l}}else{var u=t.get_static_property("content_format");var f;if(!t.run_mode()){if(u==="geographic_address"&&!t.element.property("content").is_static()){f={address:O.evaluate_property(t,"content")}}else{f=O.evaluate_property(t,"content")}}else{f=x(t,O.evaluate_property(t,"content"))}if(typeof f==="function"){return f()}else{if(t.run_mode()&&!f&&u==="email"){var _;var m=(_=i.local_storage_get(d.get_remember_email_key()))==null?void 0:_.email;if(m&&!p().current_user().is_logged_in()){var v,b,h;var j=n((v=(b=(h=t.element).get_visible_workflows)==null?void 0:b.call(h))!=null?v:[]),g;try{for(j.s();!(g=j.n()).done;){var w=g.value;var S=void 0;var k=false;var A=n(w.actions()),E;try{for(A.s();!(E=A.n()).done;){S=E.value;if(S.type()==="LogIn"){k=true;break}}}catch(e){A.e(e)}finally{A.f()}if(k&&S.find_my_expressions("GetElement.element_id="+t.element_id()).length){return m}}}catch(e){j.e(e)}finally{j.f()}}}return f}}},get_state_value:function e(t,r){if(r==="value"){var n=t.get_static_property("content_format");if(n in l.masks){return l.masks[n].btype}else if(n==="geographic_address"){return"geographic_address"}else{return"text"}}if(r==="pw_strength"&&t.get_static_property("content_format")==="password"){return"number"}},add_specific_messages:function e(t,r){if(r.get_static_property("content_format")==="password"){i.extend(t,{get_pw_strength:{description:"'s password strength",section:"States",ret_btype:"number",fn:function e(t){var r;return(r=t==null?void 0:t.state("pw_strength"))!=null?r:this.ret_btype_null()}}})}},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,is_input:true,is_container:false,jquery_plugins:function e(){return["jquery_plugins/pass-meter.min"]},only_send_to_client_in_runmode:true})},{"../../../constants/elements":72,"../../../geolocation/b_location":505,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/page_state":575,"../../../lang/timezone_override_settings":604,"../../../lib":614,"../../../shared/domain_utilities":657,"../../../u":687,"../../../u/shared/b_date":699,"../../core_actions/utilities/account_actions_utilities":175,"../../custom_tz_utilities":374,"../../input_mask":376,"../../property_applications":405,"../components/InputComponent":254,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../shared/inputs":360,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.number.is-nan.js":947,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],303:[function(e,t,r){"use strict";e("core-js/modules/es.string.trim.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../../../constants/runmode");var i=e("../../../lang/application");var a=e("../../../lang/appquery");var l=e("../../url_data");var u=e("../../../constants/lang");var c=e("../../../lang/evaluation/evaluate");var f=e("../../../lang/evaluation/eval_node_state");var d=e("../../../lib");var p=e("querystring");var _=e("../core_elements_utilities/element_utils");var m=e("../core_elements_utilities/element_transformer");var y=e("../shared/text_elements");var v=e("../shared/links");var b=e("../../../lang/evaluation/element_eval");var h=e("../../../constants/elements"),j=h.PADDING_VERSION;var g=e("../components/LinkComponent");m.make_element("Link",{category:"visual elements",glyph_id:"link",keyboard_shortcut:"L",defaults:{font_alignment:"left",font_color:"#4083a9",width:150,height:20,min_width:80,use_max_width:true,max_width:120},field_names:{text:{default:"...edit me..."},show_icon:{no_states:true,in_style:true},icon:{default:"fa fa-facebook-official"},linktype:{default:"pagelink",no_states:true},page:{default:"index",no_states:true},data_to_send:{no_states:true},url:{},link_disabled:{default:false},open_in_new_tab:{default:false},add_parameters:{no_states:true},url_parameters:{optional:true,no_states:true},keep_current_page_params:{no_states:true},wrap_when_squizzed:{no_states:true,default:true},no_html:{no_states:true},nofollow:{no_states:true}},property_applications:function e(t){return[new o.Dimensions,new o.Font,new o.FontShadow,new o.FontSpacing,new o.PaddingText,new o.PaddingFields({minimum_element_version:j,no_vertical_if_legacy_center:true,allow_legacy:true}),new o.Border,new o.BoxShadow,new o.Background,new o.ResponsiveElement(t),new o.ToolTip,new o.Opacity]},solid_component:g,use_legacy_in_editor:true,uses_css_responsive:true,can_fit_width:true,can_fit_height:true,change_cursor_style_if_clickable:false,get_min_width:function e(t){return 0},get_html:function e(t){if(t.run_mode()){return"<a></a>"}else{return"<div></div>"}},can_defer_drawing:function e(){return true},initialize:function e(t){var r=t.get_canvas();t.wait_for_visible_lite((function(){r.addClass(s.CLICKABLE_ELEMENT);o.apply_css_style(r,{"white-space":"pre-wrap","text-decoration":"none","word-break":"break-word"});var e=false;b.pre_cache(t,["text","font_size","icon","show_icon","background_style","no_html"]);t.autorun((function(){var s={};for(var i=0,a=["text","font_size","icon","show_icon","background_style","no_html"];i<a.length;i++){var l=a[i];s[l]=b.evaluate_property(t,l)}var u=s.text,c=s.icon,f=s.show_icon,d=s.background_style,p=s.no_html;if(d==="image"){r.text("")}else{if(f){var m;e=false;y.remove_dotdotdot(t);(m=r.trigger)==null?void 0:m.call(r,"destroy");r.empty();var v=n.div(c+" inner-element");o.apply_css_style(v,{"font-family":"FontAwesome","padding-left":"3px"});r.append(v)}else{var h=function e(n){if(b.evaluate_property(t,"vertical_centering")||t.run_mode()&&y.could_clip(t)){r.html("<div>".concat(n,"</div>"))}else{r.html(n)}};if(p){h(n.bbcode_to_html(u,true).trim())}else{h(u)}if(!e&&y.could_clip(t)){e=true;y.apply_dotdotdot(t,t.edit_mode()?"letter":"words")}if(!t.run_mode()){_.do_add_an_invisible_div_on_the_top(t)}}}if(d==="none"){return(new o.NoSelect)._apply(true,r)}}));if(t.run_mode()){b.on_property_change(t,"open_in_new_tab",(function(e){if(e){r[0].target="_blank"}else{r[0].target="_self"}}));b.on_property_change(t,"link_disabled",(function(e){t.state("link_disabled",e);if(e){t.get_canvas()[0].style.cursor="not-allowed";t.get_canvas()[0].style["pointer-events"]="none"}else{t.get_canvas()[0].style.cursor="pointer";t.get_canvas()[0].style["pointer-events"]="auto"}}));b.on_property_change(t,"nofollow",(function(e){if(e){r[0].rel="nofollow"}}));t.autorun((function(){function e(e){var t,r;var n=i.page_id_to_name(e);(t=n)!=null?t:n=(r=a.get_page_by_name(e))==null?void 0:r.name();return n}var o=b.evaluate_property(t,"linktype");var s;if(o==="pagelink"){var _;var m=b.evaluate_property(t,"page");var y=(_=e(m))!=null?_:"";var h=b.evaluate_property(t,"data_to_send");if(h){var j=a.get_page_by_name(y);if(j!=null){h=l.get_data_to_send(h,j.get_static_property("readable_field"));if(h){y+="/"+h}}}var g={};if(t.get_static_property("keep_current_page_params")){n.extend(g,d().location.get_query())}if(n.is_debug_mode()){g.debug_mode=true}if(b.evaluate_property(t,"add_parameters")){var w=t.element.property("url_parameters");f.with_eval_node(w,(function(){var e=c.evaluate_properties(w.json._raw(),t.prop_eval_context(),u.DETECT_FIELD_NAMES,[],w.json._path());for(var r=0,n=Object.values(e);r<n.length;r++){var o=n[r],s=o.key,i=o.value;if(!v.forbidden_url_keys.includes(s)){g[s]=i}}}))}if(y==="index"){y=""}s=d().location.get_server_base()+y;if(!n.is_empty(g)){s+="?"+p.stringify(g)}}else{var O;s=b.evaluate_property(t,"url");if(((O=s)==null?void 0:O.indexOf("//"))===-1&&!v.href_attributes.includes(s.split(":")[0])&&s[0]!=="#"){s="//"+s}}r[0].href=s;if(n.on_phonegap()){r.on("touchend",(function(){return window.open(s,"_blank","location=yes,enableViewportScale=yes")}));r.on("click",(function(e){e.preventDefault();return false}))}}))}t.on_destroy((function(){y.remove_dotdotdot(t)}))}))},is_input:false,is_container:false,add_an_invisible_div_on_the_top:false,css_files:["css/optional/font-awesome.min.css"]})},{"../../../constants/elements":72,"../../../constants/lang":81,"../../../constants/runmode":91,"../../../lang/application":534,"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/eval_node_state":571,"../../../lang/evaluation/evaluate":572,"../../../lib":614,"../../../u":687,"../../property_applications":405,"../../url_data":408,"../components/LinkComponent":256,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../shared/links":361,"../shared/text_elements":369,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,querystring:1237}],304:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../../../lib");var i=e("../core_elements_utilities/element_transformer");var a=e("../shared/inputs");var l=e("../../../lang/evaluation/page_state");var u=e("../../../lang/btypes");var c=e("../../../lang/evaluation/element_eval");var f=e("../../../lang/evaluation/element_props");var d=e("../../../constants/elements"),p=d.PADDING_VERSION;i.make_element("MultiLineInput",{display:"Multiline Input",category:"input forms",glyph_id:"multiline_input",list_order:2,keyboard_shortcut:null,defaults:{font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_width:1,border_color:"#BDBDBD",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#BDBDBD",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,padding_horizontal:4,padding_vertical:4,width:300,height:100},updated_default_sizing:{width:226},default_states:a.default_states_for_inputs,field_names:n.extend({placeholder:{default:"Type here..."},content:{},stretch_to_fit:{default:false,no_states:true}},a.additional_field_names_for_text_inputs),property_applications:function e(t){return[new o.Dimensions,new o.Background,new o.Border,new o.BoxShadow,new o.Font,new o.FontSpacing,new o.Padding,new o.PaddingFields({minimum_element_version:p,allow_legacy:true}),new o.PlaceholderColor,new o.ResponsiveElement(t),new o.Opacity]},uses_css_responsive:true,can_fit_height:true,get_html:function e(t){return"<textarea></textarea>"},get_min_width:function e(t){return 0},can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();a.reset_input_div(e);e.focus((function(){l.input_focused(true)}));e.on("blur",(function(){l.input_focused(false)}));e.attr("data-gramm_editor","false");if(!t.run_mode()){e.attr("readonly","true");e[0].style.resize="none"}a.set_character_limit_on_input(t);t.autorun((function(){var e=true;a.assign_enter_handler_in_input(t,e)}));var r=false;var o="";function i(){window.optional_modules.autosize.update(e);o=e[0].style.cssText}t.autorun((function(){e.attr("placeholder",c.evaluate_property(t,"placeholder"));i()}));var u=n.Box(0);a.input_change_autorun(t,(function(n){if(t.state("is_focused")){return}e.val(n!=null?n:"");if(r){if(!e[0].disabled){i()}else{u(u.dangerously_peek()+1);setTimeout((function(){i();u(u.dangerously_peek()-1)}),5)}}}));if(t.run_mode()){t.on_message("set_focus",(function(){return e.focus()}));a.assign_change_keyup_handlers(t,(function(){return t.get_canvas().val()}));t.autorun((function(){if(u()>0){e[0].disabled=false}else{e[0].disabled=c.evaluate_property(t,"disabled")}}));a.switch_disabled_or_not(t);var d=null;t.autorun((function(){if(f.is_fitting_height(t)){if(!r){if(s().bubble_version()>=8){e.attr("rows",1)}window.optional_modules.autosize(e);t.wait_for_visible(i);d=new MutationObserver((function(){if(o!==e[0].style.cssText){i()}}));d.observe(e[0],{attributes:true,attributeFilter:["style"]});r=true}t.autorun((function(){t.current_width();i()}))}else{if(r){window.optional_modules.autosize.destroy(e);d.disconnect();r=false}}}));t.on_destroy((function(){var t;window.optional_modules.autosize.destroy(e);(t=d)==null?void 0:t.disconnect()}));e.on("blur",(function(){var e=20;setTimeout((function(){i()}),e)}))}}))},content_validated:function e(t,r){if(!t&&c.evaluate_property(r,"mandatory")){return false}else{return true}},get_starting_content:function e(t){if(t.get_static_property("auto_binding")){if(t.run_mode()){return a.get_input_parent_thing_field(t)}else{var r=a.get_input_parent_thing(t,true),n=r.type;var o=t.get_static_property("bind_field");if(n==null||o==null){return"Parent Thing's field"}var s=u.get(n).custom_type();if(s==null){return"Cannot autobind on parent Thing"}var i=s.field(o);return"Parent ".concat(s.display(),"'s ").concat(i.display())}}return c.evaluate_property(t,"content")},get_state_value:function e(t,r){if(r==="value"){return"text"}},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,is_input:true,is_container:false,jquery_plugins:function e(){return["jquery_plugins/autosize.min"]},only_send_to_client_in_runmode:true})},{"../../../constants/elements":72,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../lang/evaluation/page_state":575,"../../../lib":614,"../../../u":687,"../../property_applications":405,"../core_elements_utilities/element_transformer":281,"../shared/inputs":360,"core-js/modules/es.array.concat.js":926}],305:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../u");var a=e("../../property_applications");var l=e("../shared/image_utils");var u=e("../../../lang/evaluation/page_state");var c=e("../core_elements_utilities/element_transformer");var f=e("../shared/pages");var d=e("../../../lang/color_tokens");var p=e("../../../lang/font_tokens");var _=e("../../../lang/evaluation/element_eval");var m=e("../components/PageComponent");c.make_element("Page",{can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},field_names:{page_item_type:{no_states:true},readable_field:{no_states:true},title:{default:"My Page"},native_app:{no_states:true},native_app_name:{no_states:true,default:"App"},mobile_page:{no_states:true},delete_page:{no_states:true},meta_title:{in_pageservice:true,no_states:true},meta_description:{in_pageservice:true,no_states:true},meta_image:{in_pageservice:true,no_states:true},backdrop_background_style:{default:"bgcolor",no_states:true,in_style:true},backdrop_bgcolor:{default:"#FFFFFF",in_style:true},backdrop_background_gradient_direction:{default:"top",in_style:true},backdrop_background_gradient_custom_angle:{default:45,in_style:true},backdrop_background_gradient_from:{default:"#FFFFFF",in_style:true},backdrop_background_gradient_to:{default:"#AAAAAA",in_style:true},backdrop_background_gradient_mid:{in_style:true,optional:true},backdrop_background_gradient_style:{in_style:true,default:"linear"},backdrop_background_radial_gradient_shape:{in_style:true,default:"ellipse"},backdrop_background_radial_gradient_size:{in_style:true,default:"farthest-corner"},backdrop_background_radial_gradient_xpos:{in_style:true,default:10},backdrop_background_radial_gradient_ypos:{in_style:true,default:10},backdrop_background_image:{in_style:true},backdrop_center_background:{in_style:true},backdrop_background_size_cover:{in_style:true},backdrop_repeat_background_vertical:{in_style:true},backdrop_repeat_background_horizontal:{in_style:true},backdrop_image_paralax:{no_states:true,default:false,in_style:true},backdrop_paralax_speed:{no_states:true,default:.2,in_style:true},backdrop_background_color_if_empty_image:{default:"rgba(255, 255, 255, 0.0)",no_states:true,in_style:true},backdrop_video_source:{default:"http://vjs.zencdn.net/v/oceans.mp4",in_style:true},backdrop_video_image_fallback:{in_style:true},backdrop_video_silence:{default:true,in_style:true},stripes:{no_states:true,in_style:true},preset_width:{no_states:true,default:"custom",in_style:false},html_header:{no_states:true,in_pageservice:true},new_responsive:{no_states:true},responsive_version:{no_states:true},element_version:{default:0,no_states:true},upgrade_responsive_version:{no_states:true},fixed_width:{no_states:true,default:false},min_width:{default:0,no_states:true},backdrop_crop_responsive:{no_states:true},page_folder:{optional:true,no_states:true,only_edit_mode:true},tz_type:{no_states:true},tz_static:{no_states:true},tz_type_overridden:{no_states:true},tz_static_overridden:{no_states:true}},always_visible:true,uses_css_responsive:true,solid_component:m,attach_to_body:function e(){return false},property_applications:function e(t){return[new a.RootSizing,new a.ShortDimensions,new a.ResponsiveContainer(t),new a.Opacity]},get_html:function e(t){return'<div class="main-page"></div>'},position_canvas:function e(t,r){if(r.run_mode()){a.apply_css_style(t,{width:r.element.container_layout()==="fixed"?"".concat(r.element.get_width(),"px"):"100%","margin-right":"auto","margin-left":"auto",position:"relative","z-index":2});$("html, body").css("height","100%");$(window.document.body).append(t);var n=r.element.root_min_height();t[0].style["min-height"]="max(".concat(n,"px, 100%)");if(r.element.container_layout()==="column"){$("body").css({display:"flex","flex-direction":"column"});t.css({height:"max-content","flex-shrink":0})}}else{$(".canvas").append(t)}},transition_properties:{backdrop_background_style:"background"},get_min_width:function e(){return 0},not_max_adjustable:true,can_register_workflows:function e(){return i.FakeKey()},initialize:function e(t){if(t.run_mode()){t.register_workflows(t.element.events())}_.on_property_change(t,"title",(function(e){if(t.edit_mode()){$(".edit-date").text(e)}else if(t.run_mode()){$(document).ready((function(){return window.document.title=e}))}}));function r(e,t){var r=e.get_static_property("preset_width");for(var n in f.preset_page_widths){var o=f.preset_page_widths[n];if(t===o.width){if(r!==n){e.element.set_property("preset_width",n)}return}}if(r!=="custom"){e.element.set_property("preset_width","custom")}}var o=document.documentElement;if(t.edit_mode()){t.autorun((function(){p.load_font_tokens_default();p.load_font_tokens_user()}));_.on_property_change(t,"preset_width",(function(e){if(f.preset_page_widths[e].width!=null){t.element.set_property("width",f.preset_page_widths[e].width);t.element.set_property("default_width",f.preset_page_widths[e].width);t.element.commit_merge()}}));_.on_property_change(t,["width","default_width"],(function(e){var n=e.width,o=e.default_width;if(t.element.get_responsive_version()<1||t.element.container_layout()==="fixed"){r(t,n)}else{r(t,o)}t.element.commit_merge()}))}t.autorun((function(){var e=d.default_color_tokens_to_property();for(var t in e){var r=e[t];o.style.setProperty(t,r)}}));t.autorun((function(){var e=d.user_color_tokens_to_property();for(var t in e){var r=e[t];o.style.setProperty(t,r)}}));t.autorun((function(){var e=p.default_font_tokens_to_property();for(var t in e){var r=e[t];o.style.setProperty(t,r)}}));t.autorun((function(){var e=p.user_font_tokens_to_property();for(var t in e){var r=e[t];o.style.setProperty(t,r)}}));if(t.run_mode()){u.page_width($(window).width());$(window).on("resize",(function(){return u.page_width($(window).width())}));u.page_current_scroll_position($(window).scrollTop());$(window).on("scroll wheel touchmove",(function(){return u.page_current_scroll_position($(window).scrollTop())}))}var s=["background_style","bgcolor","background_gradient_direction","background_gradient_from","background_gradient_mid","background_gradient_to","background_image","center_background","background_size_cover","repeat_background_vertical","repeat_background_horizontal","background_color_if_empty_image","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos","background_gradient_custom_angle"];function c(){var e=t.get_canvas();if(t.thumbnail_mode()){e.css({"z-index":1,position:"absolute",top:0,width:t.element.get_width(),height:t.element.get_height(),overflow:"hidden"})}else{a.apply_css_style(e,{"z-index":1})}var r=null;_.pre_cache(t,s.map((function(e){return"backdrop_".concat(e)})));_.pre_cache(t,["backdrop_paralax_speed","backdrop_image_paralax"]);t.autorun((function(){var o;var u={is_backdrop:true};var c=n(s),f;try{for(c.s();!(f=c.n()).done;){o=f.value;u[o]=_.evaluate_property(t,"backdrop_"+o)}}catch(e){c.e(e)}finally{c.f()}if(t.run_mode()){for(var d=0,p=["backdrop_paralax_speed","backdrop_image_paralax"];d<p.length;d++){o=p[d];u[o]=_.evaluate_property(t,o)}}if(u.background_style==="video"){if(t.run_mode()&&!i.is_on_mobile_or_tablet()){if(r==null){r=new $.BigVideo;r.init()}$("#big-video-wrap").css("background","black");var m=$("#big-video-wrap video");m.attr("muted","");var y=l.optimize_image(_.evaluate_property(t,"backdrop_video_source"),undefined,undefined,undefined,true);r.show(y,{forceAutoplay:true,doLoop:true,ambient:true});t.autorun((function(){if(_.evaluate_property(t,"backdrop_video_silence")){m.attr("muted","");return r.getPlayer().muted(true)}else{r.getPlayer().volume(.8);m.removeAttr("muted");return r.getPlayer().muted(false)}}))}else{e.css("background","black");var v=_.evaluate_property(t,"backdrop_video_image_fallback");if(v){e.css({"background-image":"url(".concat(l.optimize_image(v,e.width()),")"),"background-position":"center top"})}}}else{(new a.Background)._apply(u,e)}}))}if(t.edit_mode()){_.pre_cache(t,s);t.autorun((function(){t.autorun((function(){if(!t.is_destroyed()){var e={};var r=n(s),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;e[i]=_.evaluate_property(t,i)}}catch(e){r.e(e)}finally{r.f()}(new a.Background)._apply(e,t.get_canvas())}}));c()}))}else if(t.thumbnail_mode()){t.autorun(c)}else{c()}},is_input:false,is_container:false,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,get_private_messages:function e(){return["movement_in_stripe","child_movement"]},not_draggable:function e(){return true}})},{"../../../lang/color_tokens":540,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/page_state":575,"../../../lang/font_tokens":589,"../../../u":687,"../../property_applications":405,"../components/PageComponent":257,"../core_elements_utilities/element_transformer":281,"../shared/image_utils":359,"../shared/pages":362,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],306:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");var n=e("../../../u");var o=e("../../../logger");var s=e("../../property_applications");var i=e("../../../constants/runmode");var a=e("../../../constants/workflow");var l=e("../../widgets");var u=e("../../core_events");var c=e("../core_elements_utilities/element_utils");var f=e("../core_elements_utilities/element_transformer");var d=e("../shared/inputs");var p=e("../shared/sliderinputs");var _=e("../shared/pictureinputs");var m=e("../shared/image_utils");var y=e("../../../lang/evaluation/element_eval");var v=e("../../../lib");f.make_element("PictureInput",{display:"Picture Uploader",category:"input forms",glyph_id:"picture_uploader",list_order:9,keyboard_shortcut:null,defaults:{font_size:14,bold:true,background_style:"bgcolor",border_style:"solid",border_width:1,border_roundness:0,border_color:"#A6A6A6",border_style_top:"solid",border_width_top:1,border_roundness_top:0,border_color_top:"#A6A6A6",border_style_left:"solid",border_width_left:1,border_roundness_left:0,border_color_left:"#A6A6A6",border_style_bottom:"solid",border_width_bottom:1,border_roundness_bottom:0,border_color_bottom:"#A6A6A6",border_style_right:"solid",border_width_right:1,border_roundness_right:0,border_color_right:"#A6A6A6",padding_horizontal:0,padding_vertical:0,bgcolor:"#EBEBEB",font_alignment:"center",width:130,height:140},updated_default_sizing:{width:150,height:150},default_states:d.default_states_for_inputs,field_names:n.extend({src:{},placeholder:{default:"Click to upload an image"},mandatory:{},private:{no_states:true},attach_to:{},service:{no_states:true},destination:{},keep_proportion_resize:{no_states:true},limit_image_width:{no_states:true}},d.get_disabled_field_name,d.get_auto_binding_field_names),property_applications:function e(t){var r;return[new s.Font(".button_for_file_uploader"),new s.Dimensions,new s.Border,new s.Background(".button_for_file_uploader"),new s.BoxShadow,new s.ResponsiveElement(t),new s.FontSpacing(".button_for_file_uploader",["line_height"]),new s.PaddingFields(((r=v())==null?void 0:r.app().get_public_setting("bubble_version"))<18?{}:{selector:"button,img"}),new s.Opacity]},get_html:function e(t){return"<div></div>"},get_min_width:function e(){return 0},can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){var e;p.show_message_for_ios_8_upload_bug();t.state("src_version",0);var r=5;var f=t.get_canvas();var v=n.img(undefined,f);var b={width:"100%",height:"100%","z-index":r,position:"absolute"};s.apply_css_style(v,b);if(((e=t.element.root())==null?void 0:e.get_responsive_version())>0){v.css({"object-fit":"contain"})}f.append(v);var h=$('<button class="button_for_file_uploader"></button>');d.reset_input_div(h);var j={"z-index":r-1,position:"absolute",left:"0px",top:"0px",width:"100%",height:"100%"};s.apply_css_style(h,j);f.append(h);y.on_property_change(t,"width",(function(e){if(e<80){s.apply_css_style(h,{padding:0})}}));function g(e){if(!e){return null}return m.optimize_image(e,y.evaluate_property(t,"width"),y.evaluate_property(t,"height"))}var w=null;function O(e){if(!e){var r;v[0].src=m.transparent_image();h.css("opacity",1);v.css("opacity",0);(r=w)==null?void 0:r.attr("title",null)}else{var o,s;if(((o=t.element.root())==null?void 0:o.get_responsive_version())>0){m.download_image(e,t,(function(e){v[0].src=e}))}else{t.autorun((function(){var r=n.autorun_top((function(){return t.state("src_version")}));r+=1;t.state("src_version",r);m.rescale_image({src:e,img:v,instance:t,ref_version:r,cb:function t(){v[0].src=e}})}))}var i=e.split("%2F");var a=i[-1+i.length];var l=a.split("?w=")[0];(s=w)==null?void 0:s.attr("title",l);h.css("opacity",0);v.css("opacity",1)}}if(t.run_mode()){var S;var k=function e(r){n.run_once(30,(function(){return _.process_upload_security(t)}),(function(e,t){if(e){r(e)}else{r(null,t)}}))};var A=function e(){t.state("loading",true)};var E=function e(r){u.handle_uncaught_error({original_error:r,caught_from:a.ERROR_SOURCES.ELEMENT,cb:function e(r){if(r){window.alert(o.human_friendly(r))}t.state("loading",false)}})};f.addClass(i.CLICKABLE_ELEMENT);w=$('<input type="file" accept="image/*"></input>');f.append(w);s.apply_css_style(w,{opacity:0,position:"absolute","z-index":1+v.css("z-index"),left:"0px",width:"100%",height:"100%","font-size":0});var x=function e(r){var n,o;t.state("file_size",(n=(o=w[0].files[0])==null?void 0:o.size)!=null?n:null);t.state("loading",false);O(g(r));t.message("user_submit",r);w[0].value=null};l.MakeImageUploader({input:w,get_additional_data:k,cb_success:x,cb_start:A,cb_fail:E,limit_size:t.get_static_property("limit_image_width")});if(((S=t.element.root())==null?void 0:S.get_responsive_version())===0){c.register_tab_index_listener(t,(function(e){w.attr("tabindex",e)}))}y.on_property_change(t,"disabled",(function(e){w[0].disabled=e;s.apply_css_style(w,{cursor:e?"default":"pointer"});s.apply_css_style(h,{cursor:e?"default":"pointer"})}));d.register_focus(t,w);t.on_message("set_focus",(function(){return w.focus()}))}y.on_property_change(t,"placeholder",(function(e){h.text(e)}));d.input_change_autorun(t,(function(e){var r,n,o,s;if(!t.run_mode()&&!t.element.property("src").is_static()){e=""}else{e=g(e)}O(e);t.state("file_size",(r=(n=w)==null?void 0:(o=n[0])==null?void 0:(s=o.files[0])==null?void 0:s.size)!=null?r:null)}))}))},get_starting_content:function e(t){if(t.run_mode()&&t.get_static_property("auto_binding")){return d.get_input_parent_thing_field(t)}return y.evaluate_property(t,"src")},get_state_value:function e(t,r){if(r==="value"){return"image"}},get_states:function e(t){return["loading","file_size"]},uses_css_responsive:true,add_specific_messages:function e(t,r){return n.extend(t,_.file_inputs_additional_messages)},need_to_wait_before_checking_validity:true,content_validated:function e(t,r){return t||!y.evaluate_property(r,"mandatory")},change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,is_input:true,is_container:false})},{"../../../constants/runmode":91,"../../../constants/workflow":101,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../core_events":372,"../../property_applications":405,"../../widgets":411,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../shared/image_utils":359,"../shared/inputs":360,"../shared/pictureinputs":363,"../shared/sliderinputs":368,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],307:[function(e,t,r){(function(t){(function(){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/web.queue-microtask.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");function r(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=n(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var o=0;var s=function e(){};return{s:s,n:function t(){if(o>=e.length)return{done:true};return{done:false,value:e[o++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function n(e,t){if(!e)return;if(typeof e==="string")return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}function o(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var s=e("../../../u");var i=e("../../../logger");var a=e("../../../lib");var l=e("../../../lang/elements");var u=e("../../property_applications");var c=e("../../status_bar");var f=e("../../core_events");var d=e("../core_elements_utilities/element_transformer");var p=e("../core_elements_utilities/element_workflows");var _=e("../../../constants/workflow");var m=e("../../../constants/runmode");var y=e("../shared/popups");var v=e("../shared/groups");var b=e("../components/PopupComponent");var h=e("../../../lang/evaluation/element_eval");var j=e("../../../lang/evaluation/element_props");var g=e("../../../lang/elements/elements_utils");var w=e("../../../constants/popups"),O=w.HORIZONTAL_SPACING,S=w.INITIAL_POPUP_TOP,k=w.FILL_POPUP_BOTTOM;d.make_element("Popup",{category:"containers",glyph_id:"popup",list_order:4,keyboard_shortcut:null,defaults:{bgcolor:"#FFFFFF",background_style:"bgcolor",border_style:"none",border_roundness:3,boxshadow_style:"outset",boxshadow_horizontal:2,boxshadow_vertical:2,boxshadow_blur:4,boxshadow_color:"#000000",width:500,height:350},updated_default_sizing:{width:320,height:320},field_names:s.extend({},p.start_workflow_field_names,y.greyout_field_names,v.container_field_names),not_draggable:function e(){return true},property_applications:function e(t){return[new u.ShortDimensions,new u.Border,new u.BoxShadow,new u.Background,new u.ResponsiveElement(t),new u.ResponsiveContainer(t),new u.PaddingFields,new u.Opacity]},get_min_width:function e(){return 0},not_max_adjustable:true,uses_css_responsive:true,no_margins:function e(){return true},can_fit_height:true,get_html:function e(t){return"<div></div>"},change_cursor_style_if_clickable:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},goes_on_document:function e(){return true},can_animate:function e(t){return true},can_defer_drawing:function e(){return true},solid_component:b,register:function e(t){function r(e){t.start_child_drawing();var r=t.element.get_related_workflows(e);var n={element:t};var o=a().workflow.run_workflows(n,r,true);var s=c.show_progress_line(o);o.then((function(){return s()}),(function(e){s();f.handle_uncaught_error({original_error:e,caught_from:_.ERROR_SOURCES.ELEMENT_WORKFLOW,cb:function e(t){if(t){window.alert(i.human_friendly(t))}}})}))}t.on_message("popup_closed",(function(){return r("PopupClosed")}));t.on_message("popup_opened",(function(){return r("PopupOpened")}));t._has_been_hidden=true},initialize:function e(t){t.wait_for_visible_lite((function(){h.on_property_change(t,"greyout_color",(function(e){return y.apply_greyout_color(t,e)}));h.on_property_change(t,"greyout_blur",(function(e){if(![null,undefined,0].includes(e)){t.wait_for_visible((function(){y.apply_blur_effect_to_greyout(t,e)}))}}));t.on_destroy((function(){if(![null,undefined,0].includes(t.get_static_property("greyout_blur"))||t.edit_mode()){y.remove_blur_effect_to_greyout(t)}}))}))},check_for_errors:function e(t,r){return v._check_for_errors_datasource_set_to_self(t,"get_group_data",r)},is_input:false,is_container:true,add_an_invisible_div_on_the_top:false,events:["ButtonClicked","PopupClosed","PopupOpened"],get_state_value:function e(t,r){return v.state_value_helper_for_group(t,r)},position_canvas:function e(t,r){var n;if(r.edit_mode()){$(".canvas").append(t);n="absolute"}else{$(window.document.body).append(t);n="fixed"}t.css({top:S,left:0,right:0,position:n,"margin-left":"auto","margin-right":"auto"});r.autorun((function(){var e,n,o;t.css({width:"calc(100% - ".concat(O*2,"px)"),"min-width":j.min_width_css(r),"max-width":(e=j.max_width_css(r))!=null?e:"","min-height":j.min_height_css(r),"max-height":(n=j.max_height_css(r))!=null?n:"",height:r.element.fit_height()?"auto":"initial",bottom:r.element.fit_height()?"":k,"overflow-y":"auto","z-index":m.POPUP_ZINDEX+((o=r.state("popup_zindex"))!=null?o:0)})}));if(r.edit_mode()){r.container.setup_padding(r)}if(r.run_mode()){t.css("display","none");var o=null;$(window).on("resize.popup_"+r.element_id(),(function(){var e=$(window).height();if(o!==e){o=e;y.get_popup_positioning(r)}}));var s=null;queueMicrotask((function(){r.autorun((function(){var e=r.current_height();if(e!==s){s=e;y.get_popup_positioning(r,e)}}))}));r.on_destroy((function(){$(window).off("resize.popup_"+r.element_id())}))}},do_show:function e(n,o,i,a){n.with_canvas((function(e){n.state("has_been_absolutely_positioned",null);y.add_layer(n);var u=y.get_greyout(n);if(n.run_mode()){var c;u.css("z-index",m.POPUP_ZINDEX+((c=n.state("popup_zindex"))!=null?c:0))}if(![null,undefined,0].includes(n.get_static_property("greyout_blur"))||n.edit_mode()){y.apply_blur_effect_to_greyout(n,n.get_static_property("greyout_blur"))}if(n.run_mode()){var f,d;y.get_popup_positioning(n);e.css({"-webkit-filter":"none",filter:"none"});(f=e.velocity)==null?void 0:f.call(e,"stop");(d=u.velocity)==null?void 0:d.call(u,"stop");e.css("display","");if(a){l.perform_animate_in(n,o,i);t((function(){y.resize_popup_if_legacy(n,e.innerWidth())}))}else{o={animation:"transition.fadeIn"};i={duration:300};l.perform_animate_in(n,o,i);t((function(){y.resize_popup_if_legacy(n,e.innerWidth())}))}u.css("opacity",0);u.show();s.velocity(u,"fadeIn",{duration:300,complete_cb:function e(){u[0].style.top="-1px";return setTimeout((function(){return u[0].style.top="0px"}),151)}});setTimeout((function(){var e=[];var t=false;function o(n){var s;var i=r((s=n.children)!=null?s:[]),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.element.get_messages().includes("set_focus")){if(!l.get_canvas()){continue}if(l.get_canvas().is(":focus")){t=true;return}e.push(l)}o(l)}}catch(e){i.e(e)}finally{i.f()}}o(n);if(t){return}e=e.filter((function(e){return e.state("tab_index")&&e.is_visible()}));e.sort((function(e,t){if(e.state("tab_index")<=t.state("tab_index")){return-1}else{return 1}}));var s=r(e),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.is_visible()){if(a.element.type()!=="DateInput"){a.message("set_focus")}break}}}catch(e){s.e(e)}finally{s.f()}}),400);if(!n.get_static_property("prevent_user_from_closing_through_esc")){$(document).off("keydown.escape");$(document).on("keydown.escape",(function(e){if(e.keyCode===27){n.do_hide();$(document).off("keydown.escape")}}));u.off("click");u.on("click",(function(){return n.do_hide()}))}n.message("popup_opened")}else{e.css("display","");n._display_me();n._is_visible_me=true;n._update_visible();if(!n.thumbnail_mode()){u.show()}}}))},do_hide:function e(t,r,n,o){if(!t.is_drawn){return}t.set_animating(true);if(s.on_phonegap()){$(window).off("touchmove.popup_opened")}var i=t.get_canvas();var a=y.get_greyout(t);if(![null,undefined,0].includes(t.get_static_property("greyout_blur"))||t.edit_mode()){y.remove_blur_effect_to_greyout(t)}if(t.run_mode()&&i.is(":visible")&&i.css("visibility")!=="hidden"){var l,u;(l=i.velocity)==null?void 0:l.call(i,"stop");(u=a.velocity)==null?void 0:u.call(a,"stop");if(o){n.transform="";g.perform_animate_out(t,r,n);s.velocity(a,"fadeOut",{duration:300,complete_cb:function e(){a.hide()}});t.message("popup_closed")}else{t.set_animating(true);var c=300;r={animation:"transition.fadeOut"};n={duration:c};g.perform_animate_out(t,r,n,(function(){i.css("display","none")}));s.velocity(a,"fadeOut",{duration:c,complete_cb:function e(){a.hide()}});t.message("popup_closed")}}else{i.css("display","none");a.hide();t.set_animating(false)}t._is_visible_me=false;t._update_visible();y.remove_layer(t);y.set_body_overflow()},get_private_messages:function e(t){return["popup_opened","popup_closed","child_movement","position_element"]},starts_hidden:true,modal:function e(){return true}})}).call(this)}).call(this,e("timers").setImmediate)},{"../../../constants/popups":87,"../../../constants/runmode":91,"../../../constants/workflow":101,"../../../lang/elements":557,"../../../lang/elements/elements_utils":556,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../lib":614,"../../../logger":617,"../../../u":687,"../../core_events":372,"../../property_applications":405,"../../status_bar":407,"../components/PopupComponent":258,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_workflows":284,"../shared/groups":356,"../shared/popups":364,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,"core-js/modules/web.queue-microtask.js":993,timers:1289}],308:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");var n=e("../../../u");var o=e("../../property_applications");var s=e("../core_elements_utilities/element_transformer");var i=e("../../../lang/evaluation/element_eval");s.make_element("PoweredByBubble",{category:"visual elements",display:"Built on Bubble",glyph_id:"bubble_logo",list_order:10,keyboard_shortcut:null,defaults:{width:79,height:42},field_names:{element_type:{default:"image_black",no_states:true},add_border:{in_style:true,no_states:true},text_color:{default:"#C9C9C9",in_style:true,no_states:true}},property_applications:function e(t){return[new o.PositionOnly,new o.ResponsiveElement(t),new o.Opacity]},uses_css_responsive:true,get_html:function e(t){if(t.run_mode()){return"<a></a>"}else{return"<div></div>"}},can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.element;var r=t.get_canvas();var o=n.div("powered-by-bubble",r);if(t.run_mode()){r[0].href="https://bubble.io?utm_source=user_icon";r[0].target="_blank"}var s={image_blue:"#0205D3",image_white:"#FFFFFF",image_grey:"#C9C9C9",image_black:"#000000"};var a=[];for(var l in s){a.push(l)}var u=function e(t){return'<?xml version="1.0" encoding="utf-8"?>\n<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n width="71px" height="100px" viewBox="0 0 612 792" enable-background="new 0 0 612 792" xml:space="preserve">\n<path fill="'.concat(t,'" d="M298.97,123.2c-12.343,0-24.549,5.294-33.832,15.747V87.511h-18.395v86.608l0,0\nc0,28.125,22.795,50.92,50.92,50.92s50.919-22.795,50.919-50.92C348.583,145.995,327.095,123.2,298.97,123.2z M297.629,205.407\nc-17.294,0-31.288-14.028-31.288-31.288s14.028-31.288,31.288-31.288c17.293,0,31.288,14.028,31.288,31.288\nS314.924,205.407,297.629,205.407z"/>\n<path fill="').concat(t,'" d="M413.016,123.2c-12.344,0-24.549,5.294-33.832,15.747V87.511h-18.395v86.608l0,0\nc0,28.125,22.795,50.92,50.92,50.92c28.124,0,50.92-22.795,50.92-50.92C462.629,145.995,441.105,123.2,413.016,123.2z\n M411.675,205.407c-17.295,0-31.288-14.028-31.288-31.288s14.028-31.288,31.288-31.288c17.294,0,31.287,14.028,31.287,31.288\nS428.969,205.407,411.675,205.407z"/>\n<path fill="').concat(t,'" d="M143.185,183.024V125.95h19.735v56.902c0,14.543,8.424,23.861,22.624,23.861\nc14.372,0,22.623-8.974,22.623-23.861V125.95h19.907v57.074c0,26.371-15.987,41.98-42.53,41.98\nC159.688,225.039,143.185,208.88,143.185,183.024z"/>\n<path fill="').concat(t,'" d="M498.214,222.701h-19.735V87.511h19.735V222.701z"/>\n<path fill="').concat(t,'" d="M609.955,181.958h-75.537c2.889,15.06,13.443,25.306,32.113,25.306c10.934,0,24.239-4.126,32.835-10.418\nl8.251,14.544c-9.867,7.357-25.477,13.443-41.809,13.443c-36.238,0-51.848-25.306-51.848-50.782c0-14.544,4.47-26.543,13.649-36.067\nc9.146-9.524,21.18-14.372,35.723-14.372c13.822,0,25.306,4.298,34.107,13.1s13.271,20.629,13.271,35.723\nC610.644,175.15,610.472,178.383,609.955,181.958z M534.384,165.799h56.353c-1.616-15.266-12.928-25.133-27.472-25.133\nC548.377,140.666,537.271,150.74,534.384,165.799z"/>\n<path fill="').concat(t,'" d="M80.507,123.2c-12.343,0-24.549,5.294-33.832,15.747V87.511H28.246v86.608l0,0\nc0,28.125,22.795,50.92,50.92,50.92s50.919-22.795,50.919-50.92C130.085,145.995,108.597,123.2,80.507,123.2z M79.166,205.407\nc-17.294,0-31.288-14.028-31.288-31.288s14.028-31.288,31.288-31.288c17.294,0,31.288,14.028,31.288,31.288\nS96.46,205.407,79.166,205.407z"/>\n<g>\n<ellipse fill="').concat(t==="#000000"?"#0205D3":t,'" cx="14.872" cy="212.421" rx="12.584" ry="12.584"/>\n</g>\n<rect x="6.206" y="4.5" fill="none" width="602" height="63"/>\n<text transform="matrix(1 0 0 1 15.8643 58.4595)" fill="').concat(t,'" font-family="Arial" font-size="76">Built without code</text>\n</svg>')};return i.on_property_change(t,["element_type","add_border","text_color"],(function(e){var t=e.element_type,r=e.add_border,n=e.text_color;o.empty();var i={"border-radius":"3px",padding:"3px",height:"100%",width:"100%","text-align":"center"};switch(t){case"text":o.text("Built without code on Bubble");i["font-family"]="Arial";i["font-size"]=10;i.color=n;break;default:if(a.includes(t)){o.html(u(s[t]))}}if(r){var l;switch(t){case"text":l=n;break;default:if(a.includes(t)){l=s[t]}}i.border="1px solid "+l}else{i.border="1px solid transparent"}return o.css(i)}))}))},is_input:false,is_container:false,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,not_resizable:function e(){return true}})},{"../../../lang/evaluation/element_eval":567,"../../../u":687,"../../property_applications":405,"../core_elements_utilities/element_transformer":281,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933}],309:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){t=c(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("../../../u/shared/uuid");var p=e("../../../u/shared/async/autorun");var _=e("../../property_applications");var m=e("../../../constants/runmode");var y=e("../../../db/hydrate");var v=e("../../../lang/btypes");var b=e("../core_elements_utilities/element_transformer");var h=e("../shared/inputs");var j=e("../shared/dropdowns");var g=e("../shared/radiobuttons");var w=e("../../../lang/evaluation/element_eval");var O=50;var S=20;var k=20;b.make_element("RadioButtons",{category:"input forms",display:"Radio Buttons",glyph_id:"radio_buttons",list_order:6,keyboard_shortcut:null,defaults:{width:200,height:75},field_names:l(l({choices_style:{default:"static",no_states:true},choices:{no_states:true,default:"Choice 1"},dynamic_type:{no_states:true},data_source:{},option_display_expression:{},default:{},mandatory:{},columns:{no_states:true,default:1},use_dynamic_columns:{default:false,no_states:true},min_column_width_px:{no_states:true,default:100},color:{default:"black",in_style:true},computed_value:{optional:true,no_states:true}},h.get_disabled_field_name),h.get_auto_binding_field_names),property_applications:function e(t){return[new _.Dimensions,new _.Font,new _.Background,new _.ResponsiveElement(t),new _.FontSpacing(null,["line_height"]),new _.Opacity]},can_fit_width:true,can_fit_height:true,get_html:function e(t){return"<div></div>"},get_min_width:function e(t){return 0},_get_display_option:j._get_display_option,can_defer_drawing:function e(){return true},register:function e(t){var r=this;var n=p.Watcher((function(){if(!t.state("has_been_changed")){return false}var e=t.state("value");if(e==null){return false}return!r._choice_list_contains(t,e)}));t.on_destroy((function(){return n.destroy()}));n.on_value((function(e){if(e){t.message("reset_input")}}))},initialize:function e(t){var r=this;t.wait_for_visible_lite((function(){var e=d.LUID();var n=t.get_canvas();n.addClass("radio");t.autorun((function(){if(t.get_static_property("use_dynamic_columns")){var e=Math.max(k,t.get_static_property("min_column_width_px")-S);n.css("grid-template-columns","repeat(auto-fill, minmax(".concat(e,"px, 1fr))"))}else{n.css("grid-template-columns","repeat(".concat(t.get_static_property("columns"),", 1fr)"))}}));if(t.run_mode()){n.addClass(m.CLICKABLE_ELEMENT)}t.on_message("set_focus",(function(){return n.find("input:first").focus()}));w.on_property_change(t,"color",(function(e){var t=o(g.bootstrap_colors),r;try{for(t.s();!(r=t.n()).done;){var s=r.value;n.removeClass("radio-".concat(s))}}catch(e){t.e(e)}finally{t.f()}n.addClass("radio-".concat(e))}));var s={};function i(t,r){var n=y.dehydrate_tree_to_string_safe(t.value);var o=$('<input type="radio" value="'.concat(n,'" name="').concat(e,'" id="').concat(e,"_option_").concat(r,'"><label for="').concat(e,"_option_").concat(r,'">').concat(t.display,"</label>"));o.data("bubble_val",n);s[n]=o;return o}var a=function e(){if(t.edit_mode()&&w.evaluate_property(t,"choices_style")==="dynamic"){var n=["Dynamic choice 1","Dynamic choice 2","Dynamic choice 3","Dynamic choice 4"];t.get_canvas().data("Dynamic choice 1");return n.map((function(e){return{display:e,value:e}}))}var o=r._get_raw_choice_list(t);var s=r._get_display_option(t);var i=o.get_children(0,O);p.run_once(30,(function(){return i.map((function(e){return s(e)}))}));return i.map((function(e){return{display:s(e),value:e}}))};var l=null;function u(e){var r,o;l=e;s=n.data("options_div_mapping");if(!e){if(t.edit_mode()){for(var i=0,a=Object.values((u=s)!=null?u:{});i<a.length;i++){var u;var c=a[i];c[0].checked=true;return}}else{for(var f=0,d=Object.values((p=s)!=null?p:{});f<d.length;f++){var p;var _=d[f];_[0].checked=false}}}var m=y.dehydrate_tree_to_string_safe(e);var v=(r=s)==null?void 0:(o=r[m])==null?void 0:o[0];if(v!=null){v.checked=true}}var c=function e(){n.empty();s={};a().forEach((function(e,t){var r=i(e,t);n.append(r)}));n.data("options_div_mapping",s);n.find("input[type=radio]").on("change",(function(){var e=j.rehydrate_dropdown_value($(this).data("bubble_val"));t.message("user_submit",e);u(e)}));u(l);var r=w.evaluate_property(t,"disabled");for(var o=0,c=Object.values((f=s)!=null?f:{});o<c.length;o++){var f;var d=c[o];d[0].disabled=r}};h.input_change_autorun(t,(function(e){return u(e)}));t.autorun((function(){var e=w.evaluate_property(t,"disabled");for(var r=0,n=Object.values((o=s)!=null?o:{});r<n.length;r++){var o;var i=n[r];i[0].disabled=e}}));t.autorun((function(){if(t.is_visible()){c()}}))}))},_get_raw_btype:function e(t){return j._get_raw_btype_dropdown(t)},_get_raw_choice_list:function e(t){return j._get_raw_choice_list_dropdown(t,this)},_choice_list_contains:function e(t,r){var n=v.get(this._get_raw_btype(t.element));return this._get_raw_choice_list(t).contains(r,n)},get_starting_content:function e(t){var r;if(t.run_mode()&&t.get_static_property("auto_binding")){r=h.get_input_parent_thing_field(t)}else{r=w.evaluate_property(t,"default")}if(r==null||!this._choice_list_contains(t,r)){return null}return r},get_state_value:function e(t,r){if(r==="value"){return this._get_raw_btype(t)}},get_injected_value:function e(t){return t.get_static_property("dynamic_type")},get_injected_display:function e(){return"Current option"},use_injected_datasource:function e(t){return j.use_injected_datasource("option_display_expression",t)},content_validated:function e(t,r){return t!=null||!w.evaluate_property(r,"mandatory")},css_files:["css/optional/radio.css"],uses_css_responsive:true,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:true,is_input:true,is_container:false,no_is_focused:true})},{"../../../constants/runmode":91,"../../../db/hydrate":422,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../u/shared/async/autorun":693,"../../../u/shared/uuid":716,"../../property_applications":405,"../core_elements_utilities/element_transformer":281,"../shared/dropdowns":354,"../shared/inputs":360,"../shared/radiobuttons":365,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],310:[function(e,t,r){(function(t){(function(){"use strict";function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.immediate.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return r(t)==="symbol"?t:String(t)}function _(e,t){if(r(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if(r(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(r(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}var w=e("../../../u");var O=e("../../../lang/elements");var S=e("../../property_applications");var k=e("../../../db/values/StaticList");var A=e("../../../lib");var E=e("../../../languages");var x=e("../../status_bar");var M=e("../../../logger");var P=e("../../../db/sample");var T=e("../../../lang/btypes");var I=e("../core_elements_utilities/element_utils");var C=e("../core_elements_utilities/element_transformer");var R=e("../shared/groups");var N=e("events");var L=e("../../../client/epoch");var z=e("../../../constants/epoch");var D=e("../shared/repeating_group_utils");var q=e("../shared/repeating_groups");var B=e("../GroupItem");var U=e("../../../shared/responsive/responsive_layout");var W=e("../../../shared/responsive/responsive_css");var F=e("../components/RepeatingGroupComponent");var G=e("../../../lang/evaluation/element_eval");var X=e("../../../lang/evaluation/element_props");var V=e("../../../lang/elements/ElementInstance");var H=e("../../../lang/btype_ids");var Y=1;var K="#CCCCCC";var J=5e3;var Z=z.SPANS.rg_display_data_in_cells;var Q=z.SPANS.rg_add_cells;function ee(e){var t;var r=w.Dependency();if(typeof ResizeObserver!=="undefined"){t=new ResizeObserver((function(e){r.invalidate()}));t.observe(e[0])}return{register:function e(){return r.register()},disconnect:function e(){var r;return(r=t)==null?void 0:r.disconnect()}}}var te=function(e){m(r,e);var t=v(r);function r(e,n){var o;c(this,r);o=t.call(this);o.owner_instance=e;o.container_canvas=n;o.children=[];return o}d(r,[{key:"destroy",value:function e(){var t=a(this.children),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.destroy()}}catch(e){t.e(e)}finally{t.f()}this.children=[]}},{key:"resize_width",value:function e(){}},{key:"add_to_instances",value:function e(t){}},{key:"ready_key",value:function e(){return this.flow_created}},{key:"get_canvas",value:function e(){return this.container_canvas}},{key:"get_owner",value:function e(){return this.owner_instance}},{key:"render",value:function e(t){var r=$(t);r.addClass("bubble-element");return r}},{key:"to_canvas",value:function e(t){}},{key:"set_height",value:function e(t,r){t.canvas.css("height",r)}},{key:"add",value:function e(t){this.container_canvas.append(t.get_canvas())}},{key:"create_child",value:function e(t,r){var n=this.owner_instance.container.create_child(t,r);this.children.push(n);return n}},{key:"initialize",value:function e(){}},{key:"detach",value:function e(t){}}]);return r}(N.EventEmitter);var re=function(){function e(t){var r=t.instance;c(this,e);this.instance=r;this.mode=this.instance.mode;this.has_written_a_list=false;this.max_index=this.add_cells=null;this.previous_search=null;this.started_adding_cells=false;this.spinner=null;this.list_item=null;this.old_max_index=0;this.last_cell_add_timeout=null;this.first_unused_cell=null;this.finished_loading_switch=w.MakeSwitch(null,"loading_switch");this.extra_fields=[]}d(e,[{key:"instance_children",value:function e(){return this.instance.children}},{key:"is_on_window",value:function e(){var t,r;return((t=window)==null?void 0:(r=t.BrowserDetect)==null?void 0:r.OS)==="Windows"}},{key:"is_rtl",value:function e(){return E.is_rtl(A().app_language())}},{key:"separator_width",value:function e(){return this.instance.get_static_property("separator_width")}},{key:"separator_style",value:function e(){return this.instance.get_static_property("separator_style")}},{key:"separator_color",value:function e(){return this.instance.get_static_property("separator_color")}},{key:"is_fixed_width",value:function e(){return this.instance.get_static_property("fixed_width")}},{key:"stable_pagination",value:function e(){return this.instance.get_static_property("stable_pagination")}},{key:"group_type",value:function e(){return this.instance.get_static_property("group_type")}},{key:"show_all_items",value:function e(){return this.instance.get_static_property("show_all_items")}},{key:"auto_fit_row",value:function e(){return this.instance.get_static_property("auto_fit_row")}},{key:"auto_fit_column",value:function e(){return this.instance.get_static_property("auto_fit_column")}},{key:"scroll_direction",value:function e(){if(!this.fixed_rows()&&!this.fixed_columns()){return this.instance.get_static_property("scroll_direction")}if(this.fixed_columns()){return"vertical"}else{return"horizontal"}}},{key:"is_rg_flex",value:function e(){return this.scroll_direction()==="flex_row"}},{key:"is_masonry",value:function e(){return!this.fixed_rows()&&this.scroll_direction()==="vertical"&&!this.instance.get_static_property("auto_fit_row")&&!!this.instance.get_static_property("masonry")}},{key:"row_cell_gap",value:function e(){return G.evaluate_property(this.instance,"row_cell_gap")}},{key:"column_cell_gap",value:function e(){return G.evaluate_property(this.instance,"column_cell_gap")}},{key:"fixed_rows",value:function e(){return this.instance.get_static_property("fixed_rows")}},{key:"fixed_columns",value:function e(){return this.instance.get_static_property("fixed_columns")}},{key:"fixed_list",value:function e(){return this.fixed_rows()&&this.fixed_columns()}},{key:"columns",value:function e(){var t,r=this;(t=this._column_watcher)!=null?t:this._column_watcher=w.Watcher((function(){if(r.fixed_columns()){return G.evaluate_property(r.instance,"columns")}else{r.register_resize();G.evaluate_property(r.instance,"cell_min_width_css");r.instance.get_static_property("scroll_direction");return r.instance.canvas.css("grid-template-columns").split(" ").length}}));return this._column_watcher.get()}},{key:"rows",value:function e(){var t,r=this;(t=this._row_watcher)!=null?t:this._row_watcher=w.Watcher((function(){if(r.fixed_rows()){return G.evaluate_property(r.instance,"rows")}else{r.register_resize();G.evaluate_property(r.instance,"cell_min_height_css");r.instance.get_static_property("scroll_direction");return r.instance.canvas.css("grid-template-rows").split(" ").length}}));return this._row_watcher.get()}},{key:"estimate_one_row",value:function e(){var t=this.scroll_direction();if(t==="vertical"){return this.columns()}else if(t==="horizontal"){return this.rows()}else{var r=this.instance_children()[0].canvas.width();return this.instance.canvas.width()/r}}},{key:"data_source",value:function e(){return G.evaluate_property(this.instance,"data_source")}},{key:"total_number_of_cells",value:function e(){return this.rows()*this.columns()}},{key:"guess_number_of_cells",value:function e(){var t=this;if(this.fixed_list()){return this.total_number_of_cells()}var r=function e(r){var n=G.evaluate_property(t.instance,"cell_min_".concat(r,"_css"));if(t.instance.run_mode()&&n.indexOf("%")!==-1){var o=Math.max(parseInt(n),1);return Math.max(Math.ceil(100/o),1)}else{var s;if(!t.instance.run_mode()){t.register_first_cell_resize();s=t.list_item[r]()}else{var i=t.instance_children()[0];if(!i){s=parseInt(n)}else{var a=[];if(r==="height"&&t.auto_fit_row()||r==="width"&&t.auto_fit_column()){var l;var u=document.createElement("div");for(var c=0;c<50;c++){a.push(u.cloneNode())}(l=t.instance.canvas[0]).append.apply(l,a)}var f=!i.is_visible();i.do_show();if(r==="height"){s=i.canvas.outerHeight()}else{s=i.canvas.outerWidth()}if(f)i.do_hide();for(var d=0,p=a;d<p.length;d++){var _=p[d];t.instance.canvas[0].removeChild(_)}}}s=Math.max(s,1);t.register_resize();var m=0;if(r==="height"){if(t.instance.run_mode()&&X.is_fitting_height(t.instance)){m=Math.max(window.innerHeight-t.instance.canvas[0].getBoundingClientRect().top,0)}m=Math.max(m,t.instance.canvas.innerHeight());X.min_height_css(t.instance)}else{if(t.instance.run_mode()&&X.is_fitting_width(t.instance)){m=Math.max(window.innerWidth-t.instance.canvas[0].getBoundingClientRect().left,0)}m=Math.max(m,t.instance.canvas.innerWidth());X.min_width_css(t.instance)}if(t.instance.run_mode()){return Math.max(Math.ceil(m/s),1)}else{var y;if(t.is_rg_flex()){if(r==="width"){y=t.column_cell_gap()}else{y=t.row_cell_gap()}}else{y=t.separator_width()}return Math.max(Math.floor((m+y)/(s+y)),1)}}};if(this.scroll_direction()==="vertical"){var n;if(this.fixed_rows()){n=this.rows()}else{n=r("height")}return this.columns()*n}else if(this.scroll_direction()==="horizontal"){var o;if(this.fixed_columns()){o=this.columns()}else{o=r("width")}return this.rows()*o}else{return r("width")*r("height")}}},{key:"value_id",value:function e(){var t;return(t=this.group_type())!=null?t:"user"}},{key:"floating_group_parents",value:function e(){return this.instance.element.parents("FloatingGroup")}},{key:"show_range",value:function e(){return this.instance.state("show_range")}},{key:"list_data",value:function e(){return this.instance.state("list_data")}},{key:"loading",value:function e(){return this.instance.state("loading")}},{key:"set_list_data",value:function e(t){this.instance.state("list_data",t)}},{key:"set_show_range",value:function e(t){this.instance.state("show_range",t)}},{key:"set_loading",value:function e(t){this.instance.state("loading",t);if(t){this.finished_loading_switch.turn_off()}else{this.finished_loading_switch.turn_on()}}},{key:"register_resize",value:function e(){var t;(t=this._rg_resize_observer)!=null?t:this._rg_resize_observer=ee(this.instance.canvas);this._rg_resize_observer.register()}},{key:"num_to_row",value:function e(t){if(this.scroll_direction()==="vertical"){return Math.floor((t-1)/this.columns())+1}else{return(t-1)%this.rows()+1}}},{key:"num_to_col",value:function e(t){if(this.scroll_direction()==="vertical"){return(t-1)%this.columns()+1}else{return Math.floor((t-1)/this.rows())+1}}},{key:"has_top_border",value:function e(t){if(this.is_rg_flex())return false;return this.num_to_row(t)>1}},{key:"has_left_border",value:function e(t){if(this.is_rg_flex())return false;return this.num_to_col(t)>1}},{key:"cell_width_px",value:function e(){var t,r=this;(t=this._cell_width_watcher)!=null?t:this._cell_width_watcher=w.Watcher((function(){var e=G.evaluate_property(r.instance,"cell_min_width_css");if(e.indexOf("%")!==-1){if(X.is_fitting_width(r.instance)){return""}var t=Math.max(parseInt(e),1);r.register_resize();var n=Math.floor(r.instance.canvas.width()*t/100);return"".concat(n,"px")}else{return e}}));return this._cell_width_watcher.get()}},{key:"cell_height_px",value:function e(){var t,r=this;(t=this._cell_height_watcher)!=null?t:this._cell_height_watcher=w.Watcher((function(){var e=G.evaluate_property(r.instance,"cell_min_height_css");if(e.indexOf("%")!==-1){if(X.is_fitting_height(r.instance)){return""}var t=Math.max(parseInt(e),1);r.register_resize();var n=Math.floor(r.instance.canvas.height()*t/100);return"".concat(n,"px")}else{return e}}));return this._cell_height_watcher.get()}},{key:"cell_sizing",value:function e(t){var r=this;G.on_property_change(this.instance,"container_layout",(function(e){if(e==="fixed"){t.addClass("fixed")}else{t.removeClass("fixed")}}));this.instance.autorun((function(){if(r.is_rg_flex()){t.css({"box-sizing":"border-box","min-width":G.evaluate_property(r.instance,"cell_min_width_css"),"min-height":G.evaluate_property(r.instance,"cell_min_height_css"),"flex-grow":r.auto_fit_column()?1:0})}else{t.css({"box-sizing":"content-box","min-width":r.fixed_columns()||r.scroll_direction()!=="horizontal"?"":r.cell_width_px(),"min-height":r.fixed_rows()||r.scroll_direction()!=="vertical"?"":r.cell_height_px()})}}))}},{key:"observe_masonry_cell",value:function e(t){var r;(r=this._masonry_observer)!=null?r:this._masonry_observer=new ResizeObserver((function(e){var t=a(e),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;var o=void 0;if(n.borderBoxSize&&n.borderBoxSize.length>0){o=n.borderBoxSize[0].blockSize}else{o=n.target.offsetHeight}n.target.style.setProperty("grid-row-end","span ".concat(Math.ceil(o)))}}catch(e){t.e(e)}finally{t.f()}}));this._masonry_observer.observe(t)}},{key:"create_cell",value:function e(t,r){var n=new B(this.instance,0,t);var o=O.ElementInstance(n,this.instance.mode);o.state("group_data",O.STATE_NOT_READY);o.drawn_key=w.MakeKey(null,"cell_drawn");n.instance=o;this.instance_children().push(o);o.state("cell_index",t);o._is_visible_me=false;o.register(this.instance);o.create_skeleton(this.container);o.start_draw_tree();this.cell_sizing(o.canvas);this.add_sep(t,o.canvas);o.do_hide();o.drawn_key.turn();if(this.instance.run_mode()&&this.is_masonry()){this.observe_masonry_cell(o.canvas[0])}}},{key:"add_spinner",value:function e(){if(!this.instance.is_visible()){var t;(t=this.spinner)==null?void 0:t.call(this);return}if(!this.spinner){this.spinner=x.spinner(this.instance)}}},{key:"remove_spinner",value:function e(){var t;(t=this.spinner)==null?void 0:t.call(this);this.spinner=null}},{key:"init_raw_list_watcher",value:function e(t,r){var n,o=this;(n=this._raw_list_data_watcher)==null?void 0:n.destroy();this._raw_list_data_watcher=w.Watcher((function(){var e,n,s,i,a;var l=t();var u=r();return(e=(n=o.list_data())==null?void 0:(s=n.with_extra_fields)==null?void 0:(i=(a=s.call(n,o.extra_fields)).get_children)==null?void 0:i.call(a,l,u))!=null?e:[]}));this._raw_list_data_watcher.on_value((function(){o.set_loading(true)}))}},{key:"raw_list_data",value:function e(){var t;return(t=this._raw_list_data_watcher)==null?void 0:t.get()}},{key:"send_data_to_children",value:function e(){var t=this;this.add_spinner();var r=this.raw_list_data();this.remove_spinner();if(this.mode!=="responsive"){r=r.filter((function(e){return e!=null}))}var n=function e(n){var o=r[n];if(t.instance_children()[n]==null){w.autorun_top((function(){t.create_cell(n+1,t.instance.canvas)}))}var s=t.instance_children()[n];w.WaitFor(w.page_loaded_key,(function(){return s.can_register_workflows().turn()}));s.message("set_group_data",o);s.do_show()};for(var o=0;o<r.length;o++){n(o)}this.first_unused_cell=r.length;this.instance.last_cell=r.length;return r.length}},{key:"hide_unused_cells",value:function e(){var t=this;this.instance.autorun((function(){var e=t.instance_children();for(var r=t.first_unused_cell;r<e.length;r++){var n;(n=e[r])==null?void 0:n.do_hide()}}))}},{key:"end_of_list",value:function e(){if(this.list_data()!=null&&this.fixed_list()&&this.columns()===1&&this.rows()===1){var t;if(this.show_range()===((t=this.list_data())==null?void 0:t.length())&&this.list_data().length()>1){this.set_show_range(this.list_data().length()-1)}}}},{key:"display_data_in_cells",value:function e(t){var r=this;L.traceSpan(Z.name,Z.type,(function(){r.instance.autorun((function(){if(!r.instance.is_visible()){return}r.set_loading(true);var e,o;if(!w.is_on_mobile_or_tablet()){e=$("html");o=e[0].scrollTop}var s=r.send_data_to_children();if(!w.is_on_mobile_or_tablet()){e.scrollTop(o)}r.hide_unused_cells();r.end_of_list();if(r.has_written_a_list){w.wait_for_updates((function(){r.instance.mark_children_registered();r.instance.get_children_drawn_key().turn()}))}w.wait_for_updates((function(){var e=r._raw_list_data_watcher.get_current_status_array(),o=n(e,2),i=o[0],a=o[1];r.set_loading(!a||i!=null);if(t){r.watch_lazy_loader(s-1)}}))}))}))}},{key:"show_border_outline",value:function e(){return this.mode==="edit"&&this.instance.state("show_borders")&&(this.separator_width()===0||this.separator_style()==="none")}},{key:"get_separator_width",value:function e(){if(this.show_border_outline()){return Y}else{return q._get_separator_width(this.instance.element)}}},{key:"add_sep",value:function e(t,r){var n=this;this.instance.autorun((function(){r.css({"border-top-style":"none","margin-top":""});if(n.has_top_border(t)){if(n.is_masonry()){if(n.instance.run_mode()){r.css({"padding-top":"".concat(n.row_cell_gap(),"px")})}}else{r.css({"border-top-width":n.get_separator_width()+"px","border-top-color":n.show_border_outline()?K:n.separator_color(),"border-top-style":n.show_border_outline()?"solid":n.separator_style(),"margin-top":-n.get_separator_width()+"px"})}}}));this.instance.autorun((function(){if(!n.is_masonry()&&n.has_left_border(t)){var e;if(n.is_rtl()){e={"border-right":n.get_separator_width()+"px","border-right-color":n.show_border_outline()?K:n.separator_color(),"border-right-style":n.show_border_outline()?"solid":n.separator_style(),"margin-right":-n.get_separator_width()+"px"}}else{e={"border-left":n.get_separator_width()+"px","border-left-color":n.show_border_outline()?K:n.separator_color(),"border-left-style":n.show_border_outline()?"solid":n.separator_style(),"margin-left":-n.get_separator_width()+"px"}}S.apply_css_style(r,e)}else{if(n.is_rtl()){r.css({"border-right-style":"none","margin-right":""})}else{r.css({"border-left-style":"none","margin-left":""})}}}))}},{key:"get_edit_mode_dummies",value:function e(){var t=this.instance.get_canvas();return $("> .list-dummy",t)}},{key:"setup_grid_css",value:function e(){var t=this;var r=this.instance.get_canvas();this.instance.autorun((function(){r.removeClass("bubble-rg bubble-rg-flex-row");if(t.is_rg_flex()){r.addClass("bubble-rg-flex-row");t.instance.autorun((function(){r.css({"row-gap":"".concat(t.row_cell_gap(),"px"),"column-gap":"".concat(t.column_cell_gap(),"px"),"align-content":t.auto_fit_row()?"stretch":"flex-start"})}))}else{r.addClass("bubble-rg");t.instance.autorun((function(){r.toggleClass("masonry",t.is_masonry());if(t.is_masonry()){r.css({"column-gap":"".concat(t.column_cell_gap(),"px"),"row-gap":t.instance.run_mode()?"":"".concat(t.row_cell_gap(),"px")})}else{r.css({gap:t.get_separator_width()})}var e=t.auto_fit_row()?"auto-fit":"auto-fill";var n=t.auto_fit_column()?"auto-fit":"auto-fill";if(t.fixed_rows()){if(X.is_fitting_height(t.instance)){r.css({"grid-template-rows":"repeat(".concat(t.rows(),", minmax(max-content, auto))"),"grid-auto-rows":""})}else{r.css({"grid-template-rows":"repeat(".concat(t.rows(),", minmax(0, 1fr))"),"grid-auto-rows":""})}}else{if(t.scroll_direction()==="vertical"){if(t.auto_fit_row()){r.css({"grid-template-rows":"","grid-auto-rows":"minmax(max-content, 1fr)"})}else{r.css({"grid-template-rows":"","grid-auto-rows":t.is_masonry()&&t.instance.run_mode()?"1px":"minmax(max-content, ".concat(G.evaluate_property(t.instance,"cell_min_height_css"),")")})}}else{r.css({"grid-template-rows":"repeat(".concat(e,", minmax(").concat(G.evaluate_property(t.instance,"cell_min_height_css"),", 1fr))"),"grid-auto-rows":""})}}if(t.fixed_columns()){if(X.is_fitting_width(t.instance)){r.css({"grid-template-columns":"repeat(".concat(t.columns(),", max-content)"),"grid-auto-columns":""})}else{r.css({"grid-template-columns":"repeat(".concat(t.columns(),", minmax(0, 1fr))"),"grid-auto-columns":""})}}else{if(t.scroll_direction()==="horizontal"){if(t.auto_fit_column()){r.css({"grid-template-columns":"","grid-auto-columns":"minmax(max-content, 1fr)"})}else{r.css({"grid-template-columns":"","grid-auto-columns":"minmax(max-content, ".concat(G.evaluate_property(t.instance,"cell_min_width_css"),")")})}}else{r.css({"grid-template-columns":"repeat(".concat(n,", minmax(").concat(G.evaluate_property(t.instance,"cell_min_width_css"),", 1fr))"),"grid-auto-columns":""})}}r.css({"grid-auto-flow":t.scroll_direction()==="vertical"?"row":"column"})}))}}))}},{key:"create_provisional_cell",value:function e(){var t=this;this.instance.autorun((function(){var e=t.instance.get_canvas();if(t.mode!=="run"){if(e.find(".list-item").length===0){t.list_item=w.div("list-item",e)}else{t.list_item=e.find(".list-item")}}}))}},{key:"setup_scrolling",value:function e(){var t=this.instance.get_canvas();t.css({overflow:"auto","overflow-scrolling":"touch","-webkit-overflow-scrolling":"touch"})}},{key:"add_cells_cb",value:function e(t,r){var n,o=this;(n=t)!=null?n:t=1;this.started_adding_cells=true;w.run_once(30,(function(){var e,r,n;return(e=(r=o.list_data())==null?void 0:(n=r.with_extra_fields)==null?void 0:n.call(r,o.extra_fields).get_children(o.max_index(),t))!=null?e:[]}),(function(e,n){if(e){M.log(e);o.started_adding_cells=false;return}if(n.length){var s=Math.min(n.length,t);var i=o.estimate_one_row();o.add_cells(o.max_index()+s+i);o.max_index(o.max_index()+s+i-1);w.wait_for_updates((function(){o.started_adding_cells=false}))}else{o.started_adding_cells=false;r==null?void 0:r()}}))}},{key:"full_display_add_cells",value:function e(){var t=this;this.max_index=w.Box(null,true);this.init_raw_list_watcher((function(){return 0}),(function(){return t.max_index()}));this.display_data_in_cells();this.instance.autorun((function(){var e,r;var n=Math.min((e=(r=t.list_data())==null?void 0:r.length())!=null?e:0,J);if(n>100){M.owner_warn(new w.OwnerError("repeating group showing more than 100 items",{display:"This repeating group is showing more than 100 items, which can considerably slow down your page. You should consider not showing all items at once",element_instance:t.instance}))}w.autorun_top((function(){t.add_cells(n);t.max_index(n)}))}))}},{key:"page_style_add_cells",value:function e(){var t=this;var r=this.total_number_of_cells();for(var n=1;n<=r;n++){this.create_cell(n,this.instance.canvas)}this.init_raw_list_watcher((function(){return t.show_range()}),(function(){return t.total_number_of_cells()}));this.display_data_in_cells()}},{key:"load_more_cells",value:function e(t){var r,n;if(this.scroll_direction()!=="horizontal"){r=this.estimate_one_row();var o;if(t){o=window.innerHeight*3-this.instance.canvas[0].getBoundingClientRect().bottom}else{o=this.instance.canvas[0].clientHeight*3-(this.instance.canvas[0].scrollHeight-this.instance.canvas[0].scrollTop)}var s=this.instance_children()[0].canvas.height();n=Math.ceil(Math.max(o/s,1))+2}else{n=this.rows();var i;if(t){i=window.innerWidth*2-this.instance.canvas[0].getBoundingClientRect().right}else{i=this.instance.canvas[0].clientWidth*3-(this.instance.canvas[0].scrollWidth-this.instance.canvas[0].scrollLeft)}var a=this.instance_children()[0].canvas.width();r=Math.ceil(Math.max(i/a,1))+2}this.add_cells_cb(n*r)}},{key:"watch_lazy_loader",value:function e(t){var r,n,o=this,s;(r=this._root_intersection_observer)==null?void 0:r.disconnect();(n=this._canvas_intersection_observer)==null?void 0:n.disconnect();var i;if(this.scroll_direction()!=="horizontal"){i=this.instance.canvas[0].scrollHeight>this.instance.canvas[0].clientHeight&&this.instance.canvas[0].clientHeight<window.innerHeight}else{i=this.instance.canvas[0].scrollWidth>this.instance.canvas[0].clientWidth&&this.instance.canvas[0].clientWidth<window.innerWidth}var a;if(i){var l;a=(l=this._canvas_intersection_observer)!=null?l:this._canvas_intersection_observer=new IntersectionObserver((function(e){if(!o.started_adding_cells&&e[0].isIntersecting){o.load_more_cells()}}),{root:this.instance.canvas[0],rootMargin:"100%"})}else{var u;a=(u=this._root_intersection_observer)!=null?u:this._root_intersection_observer=new IntersectionObserver((function(e){if(!o.started_adding_cells&&e[0].isIntersecting){o.load_more_cells(true)}}),{rootMargin:"100%"})}var c=(s=this.instance_children()[t])==null?void 0:s.canvas;if(c!=null){a.observe(c[0])}}},{key:"populate_data",value:function e(){var t=this;w.autorun_once((function(){t.setup_scrolling();if(t.fixed_list()){t.page_style_add_cells()}else if(t.show_all_items()){t.full_display_add_cells()}else{t.started_adding_cells=false;t.add_cells(1);t.max_index=w.Box(Math.min(t.guess_number_of_cells(),100));t.add_cells(t.max_index()+1);t.init_raw_list_watcher((function(){return 0}),(function(){return t.max_index()+1}));t.display_data_in_cells(true)}}))}},{key:"do_scroll",value:function e(t,r){var n=this.instance_children()[t];if(this.scroll_direction()==="horizontal"){var o=this.instance.get_canvas();while(o.length&&(o[0].scrollWidth<=o[0].clientWidth||["hidden","visible"].includes(o.css("overflow-x")))){o=o.parent();if(o.is("body")){break}}var s;if(o.length===0||o.is("body")){o=$("html");s=n.get_canvas().offset().left+r.offset}else{s=n.get_canvas().offset().left-o.offset().left+o[0].scrollLeft+r.offset}if(r.animate){o.animate({scrollLeft:s},300)}else{o.scrollLeft(s)}}else{var i=this.instance.get_canvas();while(i.length&&(i[0].scrollHeight<=i[0].clientHeight||["hidden","visible"].includes(i.css("overflow-y")))){i=i.parent();if(i.is("body")){break}}var a;if(i.length===0||i.is("body")){i=$("html");a=n.get_canvas().offset().top+r.offset}else{a=n.get_canvas().offset().top-i.offset().top+i[0].scrollTop+r.offset}if(r.animate){i.animate({scrollTop:a},300)}else{i.scrollTop(a)}}}},{key:"setup_messages",value:function e(){var t=this;this.set_list_data(O.STATE_NOT_READY);var r=new Map;this.instance.autorun((function(){if(!t.instance.state("datasource_changed_by_workflow_action")){q.check_astable_loop(t.instance,t.data_source(),r);t.write_data(t.data_source())}}));this.instance.on_message("set_list_data",(function(e){t.instance.state("datasource_changed_by_workflow_action",true);t.write_data(e)}));this.instance.on_message("clear_list",(function(){var e;t.instance.state("datasource_changed_by_workflow_action",false);if(t.fixed_list()){t.set_show_range(0)}else{var r,n;(r=t.instance.get_canvas())==null?void 0:r.scrollLeft(0);(n=t.instance.get_canvas())==null?void 0:n.scrollTop(0)}var o=a((e=t.instance_children())!=null?e:[]),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;I.reset_inputs_and_groups(i)}}catch(e){o.e(e)}finally{o.f()}}));this.instance.on_message("show_next",(function(e){var r;(r=e)!=null?r:e=false;w.run_once(30,(function(){var e;return(e=t.list_data())==null?void 0:e.length()}),(function(r,n){if(r){M.log(r);return}var o=t.show_range();o+=t.total_number_of_cells();if(t.stable_pagination()){var s=o>=n;if(s&&e){o=0}else if(s){return}}else{var i=o===n;var a=o+t.total_number_of_cells()>n;if(i&&e){o=0}else if(a){o=Math.max(n-t.total_number_of_cells(),0)}}t.set_show_range(o)}))}));this.instance.on_message("show_previous",(function(e){var r;(r=e)!=null?r:e=false;w.run_once(30,(function(){var e;return(e=t.list_data())==null?void 0:e.length()}),(function(r,n){if(r){M.log(r);return}var o=t.show_range();if(o===0&&e){if(t.stable_pagination()){o=Math.max(n-t.total_number_of_cells()+n%t.total_number_of_cells(),0)}else{o=Math.max(n-t.total_number_of_cells(),0)}}else{o=Math.max(o-t.total_number_of_cells(),0)}t.set_show_range(o)}))}));this.instance.on_message("go_to_page",(function(e){w.run_once(30,(function(){var e;return(e=t.list_data())==null?void 0:e.length()}),(function(r,n){if(r){M.log(r);return}var o=(e-1)*t.total_number_of_cells();if(o+t.total_number_of_cells()>n&&!t.stable_pagination()){o=Math.max(0,n-t.total_number_of_cells())}t.set_show_range(o)}))}));this.instance.on_message("scroll_to",(function(e){if(t.fixed_list()){return}w.WaitFor(t.instance.get_children_drawn_key(),(function(){w.run_once(30,(function(){var r;if(t.list_data()==null&&!t.loading()){return-1}return(r=t.list_data())==null?void 0:r.position(e.entry,T.get(t.group_type()))}),(function(r,n){var o,s;if(r){M.log(r);return}if(n===-1){return}if(!((o=t.instance_children())!=null&&(s=o[n])!=null&&s.is_visible())){w.wait_for_updates((function(){t.instance.message("draw_till",n);var r=function r(){setTimeout((function(){var o,s,i;if((o=t.instance_children())!=null&&(s=o[n])!=null&&s.is_visible()&&(i=t.instance_children())!=null&&i[n].canvas.is(":visible")){t.do_scroll(n,e)}else{r()}}),50)};r()}))}else{t.do_scroll(n,e)}}))}))}))}},{key:"populate_sample_list",value:function e(){var r=this;t((function(){r.write_data(A().db_instance().static_list(r.value_id(),[new P.SampleObject(r.value_id())]))}))}},{key:"write_data",value:function e(t){if(t!==undefined){this.has_written_a_list=true}var r;if(t&&t.dehydrate){r=t.dehydrate()}else{r="no data";t=null}if(r!==this.previous_search){this.previous_search=r;this.set_list_data(t);this.set_show_range(0)}}},{key:"reset_class_data",value:function e(){var t=this;var r=this.instance.get_canvas();this.instance.children=[];this.add_cells=function(e){L.traceSpan(Q.name,Q.type,(function(){for(var n=t.old_max_index+1;n<=e;n++){t.create_cell(n,r)}if(t.old_max_index<e){t.old_max_index=e;t.instance.last_cell=t.old_max_index}}))}}},{key:"do_register",value:function e(){if(this.mode==="run"){this.setup_messages()}}},{key:"do_create_container",value:function e(){this.container=new te(this.instance,this.instance.canvas)}},{key:"compute_extra_fields",value:function e(){this.extra_fields=D.evaluate_extra_fields(this.instance.element)}},{key:"do_initialize",value:function e(){var t=this;this.instance.on_message("draw_till",(function(e){if(t.scroll_style==="none"||!t.max_index){return}if(t.max_index()>e){return}t.add_cells(e+1);t.max_index(e)}));this.reset_class_data();this.setup_grid_css();this.create_provisional_cell();this.instance.wait_for_visible_lite((function(){if(t.instance.run_mode()){t.compute_extra_fields()}if(["run","responsive"].includes(t.mode)){t.populate_data()}else{t.thumbnail_and_edit_mode_logic()}}))}},{key:"destroy",value:function e(){var t,r,n,o,s,i,a,l,u,c,f;(t=this._root_intersection_observer)==null?void 0:t.disconnect();(r=this._canvas_intersection_observer)==null?void 0:r.disconnect();(n=this._rg_resize_observer)==null?void 0:n.disconnect();(o=this._cell_resize_observer)==null?void 0:o.disconnect();(s=this._masonry_observer)==null?void 0:s.disconnect();(i=this._row_watcher)==null?void 0:i.destroy();(a=this._column_watcher)==null?void 0:a.destroy();(l=this._cell_width_watcher)==null?void 0:l.destroy();(u=this._cell_height_watcher)==null?void 0:u.destroy();(c=this._item_watcher)==null?void 0:c.destroy();(f=this.container)==null?void 0:f.destroy()}}]);return e}();C.make_element("RepeatingGroup",{display:"Repeating Group",category:"containers",glyph_id:"repeating_group",list_order:2,keyboard_shortcut:null,defaults:{width:300,height:350,fixed_columns:true,fixed_rows:true},updated_default_sizing:{width:280},field_names:{group_type:{no_states:true},data_source:{},rows:{default:4},columns:{default:1},separator_style:{default:"dashed",no_states:true,in_style:true},separator_width:{default:1,no_states:true,in_style:true},separator_color:{default:"#969696",no_states:true,in_style:true},row_cell_gap:{default:0},column_cell_gap:{default:0},layout_style:{default:"infinite_scroll",no_states:true},cell_min_width:{no_states:true,default:100},fixed_width:{no_states:true},use_max_width:{no_states:true,default:false},max_width:{default:100,optional:true,no_states:true},allow_more_than_one_colum:{default:false,no_states:true},responsive_alignment:{default:"center",no_states:true},fixed_columns:{default:false,no_states:true},fixed_rows:{default:false,no_states:true},cell_min_width_css:{default:"100px"},cell_min_height_css:{default:"100px"},auto_fit_row:{default:false,no_states:true},auto_fit_column:{default:false,no_states:true},scroll_direction:{default:"vertical",no_states:true},show_all_items:{default:false,no_states:true},masonry:{default:false,no_states:true}},property_applications:function e(t){return[new S.Dimensions,new S.Border,new S.BoxShadow,new S.Background,new S.ResponsiveElement(t),new S.ResponsiveContainer(t),new S.Opacity]},uses_css_responsive:true,solid_component:F,no_fixed_sizing:true,can_fit_width:function e(t){return t.get_static_property("fixed_columns")||t.get_static_property("fixed_rows")||t.get_static_property("scroll_direction")!=="vertical"},can_fit_height:function e(t){return t.get_static_property("fixed_columns")||t.get_static_property("fixed_rows")||t.get_static_property("scroll_direction")!=="horizontal"},get_html:function e(t){return"<div></div>"},change_cursor_style_if_clickable:true,is_input:false,is_container:false,add_an_invisible_div_on_the_top:false,get_states:function e(t){return["list_data","show_range","loading"]},new_namespace:true,use_element_search_data:function e(){},show_borders:function e(t){return t.state("show_borders",true)},hide_borders:function e(t){return t.state("show_borders",false)},is_list:true,can_have_children:function e(){return true},register_children:function e(t){},create_child_skeletons:function e(t){var r;(r=t.repeating_group_layout)==null?void 0:r.do_create_container()},draw_children:function e(t){},can_defer_drawing:function e(){return true},register:function e(t){t.repeating_group_layout=new re({instance:t});t.repeating_group_layout.do_register();t.on_destroy((function(){var e;(e=t.repeating_group_layout)==null?void 0:e.destroy()}))},initialize:function e(t){t.repeating_group_layout.do_initialize()},get_children_canvas:function e(t){return $("> .list-item",t.get_canvas())},get_min_width:function e(t){if(t.get_static_property("fixed_width")){return t.get_width()}else{var r;var n=t.get_static_property((r="cell_min_width")!=null?r:0);var o=q._get_cell_width(t);if(n>o){return o}else{return n}}},get_state_value:function e(t,r){if(r==="list_data"){var n=t.get_static_property("group_type");if(!n){return"null"}else{return H.list_type(n)}}return undefined},check_for_errors:function e(t,r){var n;if(((n=t.root())==null?void 0:n.get_responsive_version())<1){if(t.get_static_property("layout_style")==="vertical_extendable"){var o=function e(n){var o,s;var i=n.parent();if(i==null||((o=i.type)==null?void 0:o.call(i))==="Page"){return}if(((s=i.type)==null?void 0:s.call(i))==="RepeatingGroup"){if(i.get_static_property("layout_style")==="vertical_extendable"){r(t.get_name()+": extendible vertical scrolling repeating group cannot be nested")}}else{e(i)}};o(t)}}R._check_for_errors_datasource_set_to_self(t,"get_list_data",r)},add_specific_messages:function e(t,r){if(r.E.get_state_value(r,"list_data")!=null){var n=r.E.get_state_value(r,"list_data");var o=n.split(".");if(o[o.length-1]===r.id()){return t}}var s=r.get_state_value("list_data");if(s){var i;w.extend(t,{get_list_data:{description:"'s "+s.display(),section:"States",ret_btype:s,fn:function e(t,r){var n,o,i,a;return(n=t==null?void 0:(o=t.state("list_data"))==null?void 0:o.list_cast((i=s.inner())==null?void 0:i.id()))!=null?n:new k([],null,(a=s.inner())==null?void 0:a.id())}},get_loading_status:{description:" is loading",section:"States",ret_btype:"boolean",fn:function e(t,r){var n;return(n=t==null?void 0:t.state("loading"))!=null?n:this.ret_btype_null()}}});if(((i=r.root())==null?void 0:i.get_responsive_version(true))>0){if(r.get_static_property("fixed_rows")&&r.get_static_property("fixed_columns")){w.extend(t,{page_number:{description:"'s page number",section:"States",ret_btype:"number",fn:function e(t){var n,o;var s=t==null?void 0:t.state("show_range");if(t instanceof V){o=G.evaluate_property(t,"rows");n=G.evaluate_property(t,"columns")}else{o=r.get_static_property("rows",true);n=r.get_static_property("columns",true)}var i=o*n;if(s==null||o==null||n==null){return null}return Math.ceil(s/i)+1}},is_first_page:{description:" is on the first page",section:"States",ret_btype:"boolean",fn:function e(t,r){return(t==null?void 0:t.state("show_range"))===0}},is_last_page:{description:" is on the last page",section:"States",ret_btype:"boolean",fn:function e(t){var r;var n=t==null?void 0:t.state("show_range");var o=G.evaluate_property(t,"rows")*G.evaluate_property(t,"columns");var s=t==null?void 0:(r=t.state("list_data"))==null?void 0:r.length();return o+n>=s}}})}}else{if(r.get_static_property("layout_style")==="limit_items"){w.extend(t,{page_number:{description:"'s page number",section:"States",ret_btype:"number",fn:function e(t){var r=t==null?void 0:t.state("show_range");if(r==null){return null}var n=G.evaluate_property(t,"rows");var o=n*q.get_fixed_cell_rg_column_count(t,1);return Math.ceil(r/o+1)}},is_first_page:{description:" is on the first page",section:"States",ret_btype:"boolean",fn:function e(t,r){var n;return(n=(t==null?void 0:t.state("show_range"))===0)!=null?n:this.ret_btype_null()}},is_last_page:{description:" is on the last page",section:"States",ret_btype:"boolean",fn:function e(t){var n,o,s;var i=(n=r.get_static_property("rows",true))!=null?n:1;var a=t==null?void 0:t.state("show_range");var l=i*q.get_fixed_cell_rg_column_count(t,1);var u=t==null?void 0:(o=t.state("list_data"))==null?void 0:o.length();return(s=l+a>=u)!=null?s:this.ret_btype_null()}}})}}}},get_messages:function e(t){return["set_list_data","clear_list","show_previous","show_next","draw_till","scroll_to","go_to_page","resize_cell","resize_dummies"]}})}).call(this)}).call(this,e("timers").setImmediate)},{"../../../client/epoch":41,"../../../constants/epoch":74,"../../../db/sample":454,"../../../db/values/StaticList":464,"../../../lang/btype_ids":536,"../../../lang/btypes":537,"../../../lang/elements":557,"../../../lang/elements/ElementInstance":546,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../languages":612,"../../../lib":614,"../../../logger":617,"../../../shared/responsive/responsive_css":668,"../../../shared/responsive/responsive_layout":669,"../../../u":687,"../../property_applications":405,"../../status_bar":407,"../GroupItem":242,"../components/RepeatingGroupComponent":259,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../shared/groups":356,"../shared/repeating_group_utils":366,"../shared/repeating_groups":367,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,events:745,timers:1289}],311:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../property_applications");var s=e("../core_elements_utilities/element_transformer");var i=e("../core_elements_utilities/element_workflows");var a=e("../shared/aspect_ratio");var l=e("../components/ShapeComponent");s.make_element("Shape",{category:"visual elements",glyph_id:"rectangle",list_order:5,keyboard_shortcut:"R",defaults:{bgcolor:"#DEDEDE",background_style:"bgcolor",width:150,height:150},field_names:n.extend({keep_proportion_resize:{no_states:true}},i.start_workflow_field_names),property_applications:function e(t){return[new o.Dimensions,new o.Background,new o.Border,new o.BoxShadow,new o.Rotation,new o.ResponsiveElement(t),new o.Opacity]},uses_css_responsive:true,can_fix_aspect_ratio:function e(){return true},solid_component:l,change_cursor_style_if_clickable:true,get_min_width:function e(t){return 0},get_html:function e(t){return"<div></div>"},can_defer_drawing:function e(){return true},initialize:function e(t){a.structure_fixed_aspect_ratio(t,t.canvas)},is_input:false,is_container:false,add_an_invisible_div_on_the_top:false,events:["ButtonClicked"]})},{"../../../u":687,"../../property_applications":405,"../components/ShapeComponent":261,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_workflows":284,"../shared/aspect_ratio":352}],312:[function(e,t,r){(function(t){(function(){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.find.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function r(e){"@babel/helpers - typeof";return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){t=d(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function d(e){var t=p(e,"string");return r(t)==="symbol"?t:String(t)}function p(e,t){if(r(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==undefined){var o=n.call(e,t||"default");if(r(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _=e("../../../u/shared/async/b_async");var m=e("../../../u/client/b_ui");var y=e("../../property_applications");var v=e("../../../constants/runmode");var b=e("../core_elements_utilities/element_transformer");var h=e("../shared/inputs");var j=e("../../../lang/evaluation/element_eval");b.make_element("SliderInput",{display:"Slider Input",category:"input forms",glyph_id:"slider",list_order:7,keyboard_shortcut:null,defaults:{width:200,height:45},field_names:c(c({min_value:{default:0},max_value:{default:10},step:{default:1},range_type:{default:"simple",no_states:true,in_style:true},content:{},orientation:{no_states:true,default:"horizontal"},border_color:{default:"#aaa",in_style:true},background_color:{default:"#fff",in_style:true},handle_color:{default:"#e6e6e6",in_style:true},range_area_color:{default:"#cccccc",in_style:true}},h.get_disabled_field_name),h.get_auto_binding_field_names),property_applications:function e(t){return[new y.Dimensions,new y.ResponsiveElement(t),new y.Opacity]},get_html:function e(t){return"<div></div>"},get_min_width:function e(t){return 0},can_defer_drawing:function e(){return true},initialize:function e(r){r.wait_for_visible_lite((function(){var e=r.get_canvas();var o=_.MakeKey(null,"slider_init");var s=m.div("jquery-slider",e);s.slider();e.css("padding",8);var i=function e(){return s.slider("instance")};r.on_destroy((function(){if(i()){s.slider("destroy")}}));if(!r.run_mode()){s.off()}if(r.run_mode()){e.addClass(v.CLICKABLE_ELEMENT);r.wait_for_visible((function(){_.WaitFor(o,(function(){j.on_property_change(r,"disabled",(function(e){s.slider("option","disabled",e)}));r.on_message("set_focus",(function(){return e.find(".ui-slider-handle").focus()}))}))}))}j.pre_cache(r,["min_value","max_value","step","range_type","orientation","handle_color","range_area_color","border_color","background_color"]);r.autorun((function(){var e,a;var l;if(r.element.get_styleable_static_property("range_type")==="range"){l="values"}else{l="value"}var u={};for(var c=0,f=["min_value","max_value","step","range_type","orientation","handle_color","range_area_color","border_color","background_color"];c<f.length;c++){var d=f[c];u[d]=j.evaluate_property(r,d)}var p={min:(e=u.min_value)!=null?e:0,max:(a=u.max_value)!=null?a:9,step:u.step,range:u.range_type==="range",orientation:u.orientation,slide:function e(n,o){t((function(){r.message("user_change",s.slider(l))}));return true},stop:function e(n,o){t((function(){r.message("user_submit",s.slider(l))}));return true}};if(!r.thumbnail_mode()||i()){for(var _=0,m=Object.entries(p);_<m.length;_++){var y=n(m[_],2),v=y[0],b=y[1];s.slider("option",v,b)}}var g={"margin-left":3,"margin-right":3,cursor:j.evaluate_property(r,"disabled")?"default":"pointer",background:u.background_color,"border-color":u.border_color};var w={cursor:j.evaluate_property(r,"disabled")?"default":"pointer",outline:"none","border-color":u.border_color};if(u.orientation==="horizontal"){g.height="100%";g.width="calc(100% - 7px)";w.top=-8;w.height="calc(100% + 16px)";w.width=19;s.find(".ui-slider-range").css({height:"100%"})}else{g.width="calc(100% - 6px)";g.height="calc(100% - 2px)";w.width="calc(100% + 11px)";w.height=19;s.find(".ui-slider-range").css({width:"100%"})}w.background=u.handle_color;if(u.range_type==="range"){s.find(".ui-slider-range").css({background:u.range_area_color})}s.css(g);s.find(".ui-slider-handle").css(w);o.turn();if(r.thumbnail_mode()&&!i()){return}h.input_change_autorun(r,(function(e){if(l==="values"&&e==null){e=[]}s.slider(l,e)}))}))}))},get_starting_content:function e(t){var r;if(t.run_mode()&&t.get_static_property("auto_binding")){r=h.get_input_parent_thing_field(t)}else{r=j.evaluate_property(t,"content")}if(t.element.get_styleable_static_property("range_type")==="range"){var n,o,s,i,a,l;r=(n=(o=r)==null?void 0:(s=o.all)==null?void 0:s.call(o))!=null?n:r;if((i=r)!=null&&i.length){return r}var u=(a=j.evaluate_property(t,"min_value"))!=null?a:0;var c=(l=j.evaluate_property(t,"max_value"))!=null?l:9;return[u,c]}else{var f,d;return(f=(d=r)!=null?d:j.evaluate_property(t,"min_value"))!=null?f:0}},get_state_value:function e(t,r){if(r==="value"){if(t.get_styleable_static_property("range_type")==="range"){return"number_range"}else{return"number"}}},uses_css_responsive:true,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:true,is_input:true,is_container:false,jquery_plugins:function e(){return["jquery_plugins/jquery-ui-slider-draggable.min","jquery_plugins/jquery.ui.touch-punch.min.js"]},css_files:["css/optional/jquery-ui.slider.css"],only_send_to_client_in_runmode:true})}).call(this)}).call(this,e("timers").setImmediate)},{"../../../constants/runmode":91,"../../../lang/evaluation/element_eval":567,"../../../u/client/b_ui":677,"../../../u/shared/async/b_async":695,"../../property_applications":405,"../core_elements_utilities/element_transformer":281,"../shared/inputs":360,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,timers:1289}],313:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.from-entries.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.filter.js");var o=_(e("../../../lang/appquery"));var s=e("../../../u/shared/errors");var i=_(e("../../property_applications"));var a=_(e("../components/TableMainAxisComponent"));var l=_(e("../components/TableCellComponent"));var u=_(e("../components/TableElementComponent"));var c=_(e("../core_elements_utilities/element_transformer"));var f=_(e("../components/TableCrossAxisComponent"));var d=e("../../../editor/flag_check");var p=e("../components/utils/table_element");function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){t=b(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function b(e){var t=h(e,"string");return n(t)==="symbol"?t:String(t)}function h(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}c.default.make_element("Table",{display:"Table",category:"containers",glyph_id:"table",list_order:3,keyboard_shortcut:null,condition:function e(t){return(0,d.tableElementOn)()&&o.default.get_public_setting("bubble_version")>=21&&t!=null&&t.get_responsive_version()>0},defaults:{width:p.NUM_DEFAULT_COLUMNS*p.DEFAULT_COLUMN_WIDTH,height:p.NUM_DEFAULT_ROWS_EDITOR*p.DEFAULT_REPEATING_ROW_HEIGHT+p.DEFAULT_HEADER_ROW_HEIGHT},generate_default_children:function e(){var t;function r(e,t,r){return{id:e,type:"TableMainAxis",properties:{},default_name:r,name:r}}var n=Array.from({length:p.NUM_DEFAULT_COLUMNS},(function(){return o.default.uid()}));function s(e,t,r){var s="".concat(r," Row");return{id:o.default.uid(),type:"TableCrossAxis",properties:{axis_index:e,cross_axis_repeat:t},default_name:s,name:s,elements:Object.fromEntries(n.map((function(e,t){return[o.default.uid(),{id:o.default.uid(),type:"TableCell",properties:{cell_main_axis_id:e},default_name:"".concat(r," Cell ").concat((0,p.getLetterIndex)(t),"}")}]})))}}return y(y({},Object.fromEntries(n.map((function(e,t){return[o.default.uid(),r(e,t,"Column ".concat((0,p.getLetterIndex)(t)))]})))),{},(t={},v(t,o.default.uid(),s(0,false,"Header")),v(t,o.default.uid(),s(1,true,"Repeating")),t))},standard_container_layout:"table",field_names:{table_direction:{no_states:true,default:"vertical"},group_type:{no_states:true},data_source:{},separator_style:{default:"solid",in_style:true},separator_width:{default:1,in_style:true},separator_color:{default:"#ECECEC",in_style:true}},uses_css_responsive:true,can_fit_width:true,can_fit_height:true,property_applications:function e(t){return[new i.default.Dimensions,new i.default.Border,new i.default.BoxShadow,new i.default.Background,new i.default.ResponsiveElement(t),new i.default.PaddingFields,new i.default.Opacity]},get_html:function e(t){throw new s.UnexpectedError("get_html not implemented for this element")},change_cursor_style_if_clickable:true,can_defer_drawing:function e(){return true},get_min_width:function e(){return 0},initialize:function e(t){throw new s.UnexpectedError("initialize not implemented for this element")},is_container:true,is_restricted_container:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},is_input:false,add_an_invisible_div_on_the_top:false,solid_component:u.default});c.default.make_element("TableMainAxis",{field_names:{axis_index:{no_states:true}},property_applications:function e(t){return[new i.default.ResponsiveElement(t)]},uses_css_responsive:true,can_fit_width:true,can_fit_height:true,is_input:false,is_container:false,should_not_be_brought_to_front_when_selected:true,get_min_width:function e(){return 0},not_draggable:function e(){return true},no_margins:function e(){return true},is_pseudo:true,manual_wrapper:true,change_cursor_style_if_clickable:true,add_an_invisible_div_on_the_top:false,get_html:function e(t){throw new s.UnexpectedError("get_html not implemented for this element")},initialize:function e(t){throw new s.UnexpectedError("initialize not implemented for this element")},solid_component:a.default});c.default.make_element("TableCrossAxis",{field_names:{axis_index:{no_states:true},cross_axis_repeat:{no_states:true,default:false}},property_applications:function e(t){return[new i.default.ResponsiveElement(t),new i.default.Opacity,new i.default.Background]},no_margins:function e(){return true},compute_initial_properties:function e(t,r){var n;var o=(n=r.elements().find((function(e){return e.get_static_property("cross_axis_repeat")})))==null?void 0:n.get_static_property("axis_index");t.properties={axis_index:o!=null?o:0,cross_axis_repeat:false}},generate_default_children:function e(t){var r,n;var s=(r=t==null?void 0:(n=t.parent())==null?void 0:n.elements().filter((function(e){return e.type()==="TableMainAxis"})).map((function(e){return e.id()})))!=null?r:[];return Object.fromEntries(s.map((function(e){return[o.default.uid(),{id:o.default.uid(),type:"TableCell",properties:{cell_main_axis_id:e},default_name:"Cell"}]})))},uses_css_responsive:true,can_fit_width:true,can_fit_height:true,is_input:false,is_container:true,is_restricted_container:true,should_not_be_brought_to_front_when_selected:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},get_min_width:function e(){return 0},not_draggable:function e(){return true},is_pseudo:true,manual_wrapper:true,standard_container_layout:"table_cross_axis",change_cursor_style_if_clickable:true,add_an_invisible_div_on_the_top:false,get_html:function e(t){throw new s.UnexpectedError("get_html not implemented for this element")},initialize:function e(t){throw new s.UnexpectedError("initialize not implemented for this element")},solid_component:f.default});c.default.make_element("TableCell",{field_names:{cell_main_axis_id:{no_states:true}},property_applications:function e(t){return[new i.default.ResponsiveContainer(t),new i.default.PaddingFields,new i.default.Opacity,new i.default.Background]},uses_css_responsive:true,is_input:false,is_container:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},get_min_width:function e(){return 0},not_draggable:function e(){return true},not_resizable:function e(){return true},is_pseudo:true,manual_wrapper:true,change_cursor_style_if_clickable:true,add_an_invisible_div_on_the_top:false,get_html:function e(t){throw new s.UnexpectedError("get_html not implemented for this element")},initialize:function e(t){throw new s.UnexpectedError("initialize not implemented for this element")},solid_component:l.default})},{"../../../editor/flag_check":482,"../../../lang/appquery":535,"../../../u/shared/errors":708,"../../property_applications":405,"../components/TableCellComponent":262,"../components/TableCrossAxisComponent":263,"../components/TableElementComponent":264,"../components/TableMainAxisComponent":266,"../components/utils/table_element":277,"../core_elements_utilities/element_transformer":281,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.from-entries.js":952,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],314:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../lang/appquery");var s=e("../../property_applications");var i=e("../core_elements_utilities/element_utils");var a=e("../core_elements_utilities/element_transformer");var l=e("../core_elements_utilities/element_workflows");var u=e("../shared/text_elements");var c=e("../../../lang/evaluation/element_eval");var f=e("../../../constants/elements"),d=f.PADDING_VERSION;var p=e("../components/TextComponent");a.make_element("Text",{category:"visual elements",glyph_id:"type",list_order:1,keyboard_shortcut:"T",defaults:{width:200,height:45},field_names:n.extend({text:{default:"...edit me..."},editor_preview_text:{no_states:true},stretch_to_fit:{default:false,no_states:true},cut_off_content:{no_states:true},shrink_if_less_high:{no_states:true},tag_type:{no_states:true,default:"normal",in_style:true,if_no_style_use_element:true},recognize_links:{no_states:true},link_color:{optional:true,no_states:true},nofollow:{no_states:true},no_bbcode:{no_states:true}},l.start_workflow_field_names),property_applications:function e(t){return[new s.Dimensions,new s.Font,new s.FontShadow,new s.FontSpacing,new s.PaddingText,new s.PaddingFields({minimum_element_version:d,no_vertical_if_legacy_center:true,allow_legacy:true}),new s.Border,new s.BoxShadow,new s.Background,new s.ResponsiveElement(t),new s.ToolTip,new s.Rotation,new s.Opacity]},uses_css_responsive:true,can_fit_width:true,can_fit_height:true,solid_component:p,change_cursor_style_if_clickable:true,get_html:function e(t){if(!t.run_mode()||t.get_static_property("tag_type")==="normal"||!o.get_public_setting("expose_text_tags")){return"<div></div>"}else{var r=t.get_static_property("tag_type");return"<"+r+"></"+r+">"}},get_min_width:function e(t){return 0},can_defer_drawing:function e(){return true},register:function e(){},attempt_size_only_draw:function e(t){return t.element.no_size_when_hidden()},initialize:function e(t){var r=t.get_canvas();t.autorun((function(){if(o.get_public_setting("bubble_version")>=10){s.apply_css_style(r,{"white-space":"pre-wrap"})}else{s.apply_css_style(r,{"white-space":""})}}));t.wait_for_visible_lite((function(){var e;if(t.edit_mode()){e="letter";r[0].style.overflow="hidden"}else{e="words";r[0].style.overflow="visible"}c.pre_cache(t,["text","font_size","padding_vertical","line_height","word_spacing","letter_spacing","rotation_angle","vertical_centering","editor_preview_text"]);_(t);t.autorun((function(){if(u.could_clip(t)){u.apply_dotdotdot(t,e)}else{u.remove_dotdotdot(t)}}));t.on_destroy((function(){u.remove_dotdotdot(t)}))}))},is_input:false,is_container:false,add_an_invisible_div_on_the_top:false,events:["ButtonClicked"],css_files:["css/optional/font-awesome.min.css"]});function _(e){var t=e.get_canvas();e.autorun((function(){var r=["text","font_size","font_face","padding_vertical","line_height","link_color","nofollow","vertical_centering","editor_preview_text"];var n={};for(var o=0,a=r;o<a.length;o++){var l=a[o];n[l]=c.evaluate_property(e,l)}if(e.is_animating()){return}if(e.run_mode()){if(e.element.element_version(true)<d){var f;t[0].style["padding-bottom"]=((f=n.padding_vertical)!=null?f:0)+"px"}if(!e.is_visible()){return}s.apply_css_style(t,{"word-break":"break-word"});u.apply_text(e,t,n)}else{u.apply_text(e,t,n);i.do_add_an_invisible_div_on_the_top(e)}}))}},{"../../../constants/elements":72,"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../u":687,"../../property_applications":405,"../components/TextComponent":267,"../core_elements_utilities/element_transformer":281,"../core_elements_utilities/element_utils":282,"../core_elements_utilities/element_workflows":284,"../shared/text_elements":369}],315:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.promise.js");e("core-js/modules/es.regexp.to-string.js");var n=e("../../../u/client/color");var o=e("../../../constants/known_plugins");var s=e("../../../u/shared/async/b_async");var i=e("../../../u/client/b_ui");var a=e("../../property_applications");var l=e("../../../services/shared/plugin_registry");var u=e("../core_elements_utilities/element_transformer");var c=e("../shared/video_elements");var f=e("../shared/image_utils");var d=e("../../../constants/elements"),p=d.PADDING_VERSION;var _=e("../shared/aspect_ratio");var m=e("../../../lang/evaluation/element_eval");var y=e("../../../u");var v=e("../../../lib");var b=e("../../../client/analytics");var h=e("../../../constants/segment_events");var j="https://www.youtube.com/iframe_api";var g=s.MakeKey(null,"always turned");g.turn();function w(e){var t=s.MakeKey(null,"next video");s.WaitFor(g,(function(){return setTimeout((function(){e();t.turn()}),10)}));g=t}u.make_element("Video",{category:"visual elements",glyph_id:"video",list_order:7,keyboard_shortcut:null,defaults:{width:320,height:240,collapse_margin:500,use_max_width:true,max_width:100},field_names:{video_source:{default:"youtube",no_states:true},video_id:{},auth_token:{optional:true,no_states:true},autoplay:{default:false,no_states:true},loop:{default:false,no_states:true},control_color_vimeo:{default:"#00adef",no_states:true,in_style:true}},can_fix_aspect_ratio:function e(){return true},property_applications:function e(t){return[new a.Dimensions,new a.Padding,new a.PaddingFields({minimum_element_version:p,allow_legacy:true}),new a.Border,new a.BoxShadow,new a.ResponsiveElement(t),new a.Opacity]},uses_css_responsive:true,get_html:function e(t){return"<div></div>"},get_min_width:function e(){return 0},notify_width:function e(t,r){return f.keep_proportions(t,r,true)},add_an_invisible_div_on_the_top:true,change_cursor_style_if_clickable:false,can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){var e="youtube_uuid_"+y.LUID();var r=t.get_canvas();setTimeout((function(){m.pre_cache(t,["video_source","video_id","autoplay","control_color_vimeo","padding_horizontal","padding_vertical","loop","auth_token"]);var s={};t.autorun((function(){var u={};var f={};for(var d=0,p=["video_source","video_id","autoplay","control_color_vimeo","padding_horizontal","padding_vertical","loop","auth_token"];d<p.length;d++){var y=p[d];f[y]=m.evaluate_property(t,y);if(f[y]!==s[y]){u[y]=f[y];s[y]=f[y]}}f.width_to_subtract=2*f.padding_horizontal+a.calculate_border_width(t);f.height_to_subtract=2*f.padding_vertical+a.calculate_border_height(t);for(var b=0,h=["width_to_subtract","height_to_subtract"];b<h.length;b++){var j=h[b];if(f[j]!==s[j]){u[j]=f[j];s[j]=f[j]}}var g='<iframe allow="autoplay; fullscreen" width="100% - '.concat(f.width_to_subtract,'" height=" 100% - ').concat(f.height_to_subtract,'" ');if(c.should_block_cookies()){g+=' sandbox="allow-same-origin allow-presentation allow-scripts" '}var O;if(f.video_source==="youtube"){var k;g+="id = ".concat(e," ");if(((k=f.video_id)==null?void 0:k.indexOf)!=null&&f.video_id.indexOf("watch?v=")!==-1){f.video_id=f.video_id.split("watch?v=")[1]}O="//www.youtube.com/embed/".concat(f.video_id,"?rel=0");O+="&enablejsapi=1";if(f.autoplay&&t.run_mode()){O+="&autoplay=1"}if(f.loop&&t.run_mode()){O+="&loop=1&playlist="+f.video_id}g+=' frameborder="0" allowfullscreen modestbranding="1" autohide="1"'}if(f.video_source==="vimeo"){var A;if(((A=f.video_id)==null?void 0:A.indexOf)!=null&&f.video_id.indexOf("https://vimeo.com/")!==-1){f.video_id=f.video_id.split("https://vimeo.com/")[1]}var E=n.rgb_to_hex(f.control_color_vimeo).code.slice(1);O="//player.vimeo.com/video/"+f.video_id+"?title=0&byline=0&portrait=0&color="+E;if(f.autoplay&&t.run_mode()){O+="&autoplay=1"}if(f.loop&&t.run_mode()){O+="&loop=1"}g+=' frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'}var x,M;if(f.video_source===o.ZIGGEO){var P=l.get_hardcoded_plugin(o.ZIGGEO);M=f.auth_token||(P==null?void 0:P.get_key(P.key_for_html_header));if(M){var T,I,C;x=$("<ziggeoplayer/>");x.attr({video:(T=f.video_id)!=null?T:"no_video",application:M,auth:"true",width:"100%",height:"100%",autoplay:(I=f.autoplay)!=null?I:"false",loop:(C=f.loop)!=null?C:"false",theme:"modern"});var R=x[0].outerHTML.replace(/"/g,"'");g+=" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen\nstyle='overflow:hidden'\nsrcdoc=\"\n<html style='overflow:hidden'>\n<head style='overflow:hidden'>\n    <meta http-equiv='Content-Security-Policy' content='upgrade-insecure-requests'>\n    <link rel='stylesheet' href='https://assets.ziggeo.com/v2-stable/ziggeo.css' />\n    <script src='https://assets.ziggeo.com/v2-stable/ziggeo.js'><\/script>\n</head>\n<body style='margin:0px'>\n    ".concat(R,'\n</body>\n</html>\n"')}else{O="https://ziggeo.io/p/".concat(f.video_id);g+='height="100%"\nframeborder="0"\nscrolling="no"\nreferrerpolicy="no-referrer"\nallowspeakers '.concat(f.autoplay?"allowautoplay":"",' allowfullscreen\nallow="').concat(f.autoplay?"autoplay *; ":"",'  fullscreen *"\nstyle="width:100%;height:100%" ')}}g+="></iframe>";if(f.video_source!=="ziggeo"||!M){x=$(g);x.attr("src",O)}var N=f.video_source!=="ziggeo";var L={width_to_subtract:true,height_to_subtract:true};for(var z in u){if(L[z]){continue}N=false;break}var D=t.element.has_fixed_aspect_ratio();if(t.run_mode()){if(N){_.structure_fixed_aspect_ratio(t,r);r.children().attr(_.element_css(D));return}if(f.video_id){w((function(){r.empty();x.css(_.element_css(D));x.css("position","absolute");_.structure_fixed_aspect_ratio(t,r);r.append(x)}))}else{r.empty();_.structure_fixed_aspect_ratio(t,r)}}else{r.empty();var q=i.img("",r,"//s3.amazonaws.com/appforest_uf/f1665093563671x395094029933674050/video.png");q.css(_.element_css(D));_.structure_fixed_aspect_ratio(t,r)}var B=v().appname()==="meta"&&f.video_source==="youtube"&&t.run_mode();if(B){S(t,e,f.video_id)}}))}),20)}))},is_input:false,is_container:false});function O(e){return new Promise((function(t,r){var n=document.createElement("script");n.src=e;n.addEventListener("load",t);n.addEventListener("error",(function(e){return r(e.error)}));document.head.appendChild(n)}))}function S(e,t,r){O(j).then((function(){var e;window.YT.ready((function(){n()}));function n(){e=new window.YT.Player(t,{videoId:r,events:{onStateChange:i,onPlaybackQualityChange:o,onPlaybackRateChange:s}})}function o(t){var n=E(r,e,"onPlaybackQualityChange");b.track(h.YOUTUBE_VIDEO_QUALITY_CHANGED,n)}function s(t){var n=E(r,e,"onPlaybackRateChange");b.track(h.YOUTUBE_VIDEO_RATE_CHANGED,n)}function i(t){var n=E(r,e,"onStateChange");var o=A(t.data);b.track(o,n)}})).catch((function(e){console.error(e)}))}var k={"-1":"unstarted",0:"ended",1:"playing",2:"paused",3:"buffering",5:"video cued"};var A=function e(t){switch(x(t)){case"ended":return h.YOUTUBE_VIDEO_ENDED;case"playing":return h.YOUTUBE_VIDEO_PLAYING;case"paused":return h.YOUTUBE_VIDEO_PAUSED;case"buffering":return h.YOUTUBE_VIDEO_BUFFER;case"video cued":return h.YOUTUBE_VIDEO_CUED;default:return"Youtube video: unknown event ".concat(t)}};function E(e,t,r){return{video_id:e,video_title:t.videoTitle,video_timestamp_in_secs:t.getCurrentTime(),video_total_duration:t.getDuration(),video_playback_rate:t.getPlaybackRate(),video_playback_quality:t.getPlaybackQuality(),event_name:r,current_user_id:v().current_user()._id(),current_user_email:v().current_user().get_email()}}var x=function e(t){return k[t==null?void 0:t.toString()]}},{"../../../client/analytics":38,"../../../constants/elements":72,"../../../constants/known_plugins":80,"../../../constants/segment_events":93,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../services/shared/plugin_registry":650,"../../../u":687,"../../../u/client/b_ui":677,"../../../u/client/color":681,"../../../u/shared/async/b_async":695,"../../property_applications":405,"../core_elements_utilities/element_transformer":281,"../shared/aspect_ratio":352,"../shared/image_utils":359,"../shared/video_elements":370,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.promise.js":962,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979}],316:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/web.dom-collections.for-each.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../constants/elements"),f=c.LATEST_ELEMENT_VERSION,d=c.OLD_VERSION_OVERRIDE_PROPERTIES;var p=e("../../lib");var _=e("../../lang/appquery");var m=e("../../u/shared/async/autorun");var y=e("../../logger");var v=e("../../webfonts");var b=e("../../constants/fonts");var h=r;var j=[{font_family:"font_face",font_weight:"font_face"},{padding_left:"padding_horizontal",padding_right:"padding_horizontal",padding_top:"padding_vertical",padding_bottom:"padding_vertical"},{},{}];var g=[{font_face:["font_family","font_weight"]},{padding_horizontal:["padding_left","padding_right"],padding_vertical:["padding_bottom","padding_top"]},{},{}];var w=[function(e,t){var r=v.get_unquoted_face_and_variant(t),n=r.font_family,o=r.variant;if(e==="font_family"){return n}else{if(o==="custom"){return"400"}else{var s;return(s=b.NAMED_WEIGHTS[o])!=null?s:o}}},function(e,t){return t},function(){}];h.get_mapped_property=function(e,t,r){for(var n=e;n<t;n++){if(j[n][r])return j[n][r]}return null};h.get_unmapped_properties=function(e,t,r){for(var n=e;n<t;n++){if(g[n][r])return g[n][r]}return[]};h.map_property=function(e,t,r,n){for(var o=e;o<t;o++){if(j[o][r]){return w[o](r,n)}}return n}},{"../../constants/elements":72,"../../constants/fonts":77,"../../lang/appquery":535,"../../lib":614,"../../logger":617,"../../u/shared/async/autorun":693,"../../webfonts":719,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],317:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=e("../../u");var o=e("../../logger");var s=e("../../lang/elements");var i=e("../property_applications");var a=e("../../lang/evaluation/element_eval");var l=e("./core_elements_utilities/element_transformer");var u=e("./components/CellComponent");var c={};var f={};l.make_element("GroupItem",{get_html:function e(){return"<div></div>"},default_group_data:function e(){return s.STATE_NOT_READY},can_register_workflows:function e(t){var r;(r=t._can_register_workflow_key)!=null?r:t._can_register_workflow_key=n.MakeKey(null,"_can_register_workflow_key");return t._can_register_workflow_key},uses_css_responsive:true,always_visible:true,solid_component:u,register:function e(t){t.split_namespace();t.autorun((function(){var e=t.element_id();t.parent().add_to_namespace(t);if(e&&t.canvas){t.canvas[0].key=e}}))},initialize:function e(t){var r;t.canvas.addClass("group-item entry-"+t.element.num+" ");var s=t.element.rg_instance;if(((r=s.element.root())==null?void 0:r.get_responsive_version())<1){var l=function e(){if(s.columns!=null){return s.columns}if(_==="show_all"&&s.children.length>0&&s.children[0].canvas.width()>0){var t=s.canvas.width();var r=s.children[0].canvas.width();return Math.floor(t/r)||1}return a.evaluate_property(s,"columns")};var u=function e(t){if(t>1){var r=s.get_static_property("separator_width",true);var n=s.get_static_property("separator_style",true);return[undefined,null,"none"].includes(n)?0:r}else{return 0}};var d=function e(){if(_==="horizontal_scroll"){return 1}else{return Math.floor((m-1)/l())+1}};var p=function e(){if(_==="limit_items"){return a.evaluate_property(s,"rows")}else if(["show_all","vertical_extendable"].includes(_)){return Math.ceil(s.last_cell/l())}else if(_==="horizontal_scroll"){return 1}};var _=s.get_static_property("layout_style");var m=t.element.num;var y=null;t.autorun((function(){var e,r;y=s.toUniqueString();(r=f[e=y])!=null?r:f[e]={};var n=d();if(t.is_visible()&&!f[y][n]){var o;f[y][n]=Math.max((o=f[y][n])!=null?o:0,t.get_canvas().height())}}));var v=function e(){return n.run_once(30,(function(){var e=p();if(!e){return 0}var r=0;for(var n=1;n<=e;n++){var o;var a=u(n);var l=((o=f[y])==null?void 0:o[n])||t.element.get_height();r+=a+l}return r+i.calculate_border_height(s,true)}),(function(e,t){if(e){o.log(e)}s.set_height(t)}))};var b=null;t.on_message("child_movement",(function(e){b=e;return n.WaitFor(t.drawn_key,(function(){return t.wait_for_visible((function(){var e,r;var n=t.element_id();(r=c[e=y])!=null?r:c[e]={};var o;if(b==null){o=c[y][n]}else{o=t.element.get_height()+b;t.get_canvas().height(o);c[y][n]=o}t.get_canvas()[0].key=n;var i=(d()-1)*l()+1;var a=_==="horizontal_scroll"?s.last_cell:i+l()-1;var p=[];var m=o-u(d());for(var h=i;h<=a;h++){var j;var g=(j=s.children[h-1])==null?void 0:j.canvas;if(g){p.push(g);var w=c[y][g[0].key];if(w&&w>m){m=w}}}for(var O=0,S=p;O<S.length;O++){var k=S[O];k.height(m)}if(_!=="infinite_scroll"){f[y][d()]=m;return v()}}))}))}));t.on_message("child_shown",(function(){if(_!=="infinite_scroll"){return v()}}));t.on_resize((function(e){if(_==="show_all"){return v()}}))}},do_show:function e(t,r,n,o){t.canvas.show();t._is_visible_me=true;t._update_visible()},do_hide:function e(t,r,n,o){t._is_visible_me=false;t._update_visible();t.canvas.hide()},position_canvas:function e(t,r){return r.container.get_canvas().append(t)},added_to_container:function e(){return true},is_container:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},get_private_messages:function e(){return["child_movement","child_shown"]},is_input:false,change_cursor_style_if_clickable:false,add_an_invisible_div_on_the_top:false,property_applications:[]})},{"../../lang/elements":557,"../../lang/evaluation/element_eval":567,"../../logger":617,"../../u":687,"../property_applications":405,"./components/CellComponent":245,"./core_elements_utilities/element_transformer":281,"core-js/modules/es.array.includes.js":933}],318:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.entries.js");var n;function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}var c=e("../../lang/elements/style_properties");var f=e("./core_elements_utilities/element_registry");var d=e("./core_elements_utilities/element_optional_utils");(n=d.optional_modules)!=null?n:d.optional_modules={};e("./elements/Alert");e("./elements/AutocompleteDropdown");e("./elements/Button");e("./elements/Checkbox");e("./elements/DateInput");e("./elements/Dropdown");e("./elements/FileInput");e("./elements/FloatingGroup");e("./elements/GoogleMaps");e("./elements/Group");e("./elements/GroupFocus");e("./elements/GroupWithFocus");e("./elements/HTML");e("./elements/Icon");e("./elements/Image");e("./elements/Input");e("./elements/Link");e("./elements/MultiLineInput");e("./elements/Page");e("./elements/PictureInput");e("./elements/Popup");e("./elements/PoweredByBubble");e("./elements/RadioButtons");e("./elements/RepeatingGroup");e("./elements/Shape");e("./elements/SliderInput");e("./elements/TableElement");e("./elements/Text");e("./elements/VideoComponent");e("./group_item_plugin");e("./custom_definition");e("./components/LegacyContainerComponent");for(var p=0,_=Object.values(f.registered_elements);p<_.length;p++){var m=_[p];if(m.field_names){for(var y=0,v=Object.entries(m.field_names);y<v.length;y++){var b=o(v[y],2),h=b[0],j=b[1];if(j.in_style){c.register_style_property(h)}}}}},{"../../lang/elements/style_properties":561,"./components/LegacyContainerComponent":255,"./core_elements_utilities/element_optional_utils":279,"./core_elements_utilities/element_registry":280,"./custom_definition":285,"./elements/Alert":287,"./elements/AutocompleteDropdown":288,"./elements/Button":289,"./elements/Checkbox":290,"./elements/DateInput":291,"./elements/Dropdown":292,"./elements/FileInput":293,"./elements/FloatingGroup":294,"./elements/GoogleMaps":295,"./elements/Group":296,"./elements/GroupFocus":297,"./elements/GroupWithFocus":298,"./elements/HTML":299,"./elements/Icon":300,"./elements/Image":301,"./elements/Input":302,"./elements/Link":303,"./elements/MultiLineInput":304,"./elements/Page":305,"./elements/PictureInput":306,"./elements/Popup":307,"./elements/PoweredByBubble":308,"./elements/RadioButtons":309,"./elements/RepeatingGroup":310,"./elements/Shape":311,"./elements/SliderInput":312,"./elements/TableElement":313,"./elements/Text":314,"./elements/VideoComponent":315,"./group_item_plugin":317,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],319:[function(e,t,r){"use strict";var n=e("../../../../u");var o=e("../../../property_applications");var s=e("../../shared/image_utils");var i=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new o.MinWidth],can_defer_drawing:function e(){return true},register:function e(t){t.on_message("show_alert",(function(e){if(t.is_drawn){t.message("do_show_alert",e);return}t.state("pending_alert",{orig_props:e,start_time:Date.now()});if(t.run_mode()&&t.get_static_property("at_to_top")){t.ensure_drawn()}}))},initialize:function e(t){var r=t.get_canvas();if(t.edit_mode()){r.empty()}else if(t.run_mode()||t.responsive_mode()){r[0].style.display="none";if(t.responsive_mode()){t._has_been_hidden=true}}i.on_property_change(t,"text",(function(e){r.html(n.bbcode_to_html(e))}));t.on_message("do_show_alert",(function(e){var s;o.apply_css_style(r,{display:"block",opacity:(s=e.fin_starting_opacity)!=null?s:0});t._is_visible_me=true;t._update_visible();r.html(n.bbcode_to_html(e.message));n.velocity(r,{opacity:1},{duration:e.fade_in,complete_cb:function o(){setTimeout((function(){var o;r.css("opacity",(o=e.fout_starting_opacity)!=null?o:1);n.velocity(r,{opacity:0},{duration:e.fade_out,complete_cb:function e(){r[0].style.display="none";t._is_visible_me=false;t._update_visible()}})}),e.hold)}})}));var s=t.state("pending_alert");if(s){t.message("do_show_alert",this._convert_pending_alert(s))}},position_canvas:function e(t,r){if(r.run_mode()&&r.get_static_property("at_to_top")){$("body").append(t);o.apply_css_style(t,{position:"fixed",top:"0px",left:"0px",width:"100%","min-height":r.element.get_height()+"px","z-index":"20000"})}else{r.container.add(r)}},additional_data:{notify_width:function e(t,r){return s.keep_proportions(t,r)}}}},{"../../../../lang/evaluation/element_eval":567,"../../../../u":687,"../../../property_applications":405,"../../shared/image_utils":359}],320:[function(e,t,r){"use strict";var n=e("../../../property_applications");t.exports={property_applications:[new n.MinWidth]}},{"../../../property_applications":405}],321:[function(e,t,r){arguments[4][320][0].apply(r,arguments)},{"../../../property_applications":405,dup:320}],322:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=e("../../../../u");var o=e("../../../property_applications");var s=e("../../../../constants/runmode");var i=e("../../core_elements_utilities/element_utils");var a=e("../../shared/inputs");var l=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new o.MinWidth],can_defer_drawing:function e(){return true},initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();e[0].style.overflow="visible";var r=n.LUID();var o=$('<input type="checkbox" id="'+r+'" style="background-color: white;"></input>');var u=$('<label for="'+r+'"></label>');e.append(o);e.append(u);i.register_tab_index_listener(t,(function(e){o.attr("tabindex",e)}));a.register_focus(t,o);t.on_message("set_focus",(function(){return o.focus()}));if(t.run_mode()){e.addClass(s.CLICKABLE_ELEMENT);o.change((function(){var e;t.message("user_submit",(e=o[0].checked)!=null?e:false);return true}));l.on_property_change(t,"disabled",(function(e){o[0].disabled=e}))}l.on_property_change(t,"label",(function(e){u.text(e)}));if(t.run_mode()||t.responsive_mode()){t.autorun((function(){var e;if((e=t.element.root())!=null&&e.use_responsive_algorithm()){l.evaluate_property(t,"width");t.set_height(Math.max(t.element.get_height(),u.height()))}}))}a.input_change_autorun(t,(function(e){if(typeof e==="string"&&["false","no","null","none","undefined"].includes(e.toLowerCase())){e=false}if(e){o[0].checked=true}else{o[0].checked=false}}))}))}}},{"../../../../constants/runmode":91,"../../../../lang/evaluation/element_eval":567,"../../../../u":687,"../../../property_applications":405,"../../core_elements_utilities/element_utils":282,"../../shared/inputs":360,"core-js/modules/es.array.includes.js":933}],323:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/web.queue-microtask.js");e("core-js/modules/es.array.find.js");var n=e("../../../../u");var o=e("../../../../lang/btypes");var s=e("../../../property_applications");var i=e("../../../../lang/appquery");var a=e("../../../../lib");var l=e("../../../../constants/runmode");var u=e("../../../../webfonts");var c=e("../../../../logger");var f=e("../../core_elements_utilities/element_utils");var d=e("../../shared/inputs");var p=e("../../../../u/shared/b_date");var _=e("../../../../lang/evaluation/element_eval");var m=e("../../../../lang/evaluation/element_props");var y=e("../../../custom_tz_utilities");var v=e("../../../../constants/elements"),b=v.PADDING_VERSION;var h=e("../../../../lang/timezone_override_settings"),j=h.has_input_timezone_controls_on;var g=n.require_moment();function w(e,t){if(!t){return}var r=o.get("date").cast(t);if(!r){return}var n=O(e);var s=g(r).tz(n);return[s.year(),s.month(),s.date()]}function O(e){if(j()){return y.get_custom_tz({static_eval:function t(r){return e.get_static_property(r)},dynamic_eval:function t(r){return _.evaluate_property(e,r)},not_overridden:true})}else{return a().current_timezone()}}function S(e,t){var r="";switch(t){case"number1":r+="d/mm/yyyy";break;case"number2":r+="m/dd/yyyy";break;case"alpha":r+="d mmmm, yyyy";break;case"alphalong":r+="dddd, d mmmm, yyyy";break;case"alphashort":r+="d-mmm-yyyy";break;case"us_short":r+="mmmm d, yyyy";break;case"us_long":r+="dddd, mmmm d, yyyy";break;case"custom":r+=e.get_static_property("custom_format");break}return r}t.exports={property_applications:[new s.MinWidth],initialize:function e(t){t.wait_for_visible_lite((function(){var e,r,o;var y=t.get_canvas();var v=r=e=o=null;var h=n.MakeKey(null,"dateinput_drawn");t.on_message("add_tab_index",(function(e){return n.WaitFor(h,(function(){}))}));y.addClass("date_picker_element");y[0].style.overflow="visible";_.on_property_change(t,"input_type",(function(e){y.empty();v=$('<input type="text" class="date_div"></input>');d.reset_input_div(v);y.append(v);f.register_tab_index_listener(t,(function(e){v.attr("tabindex",e)}));if(e==="date_time"){r=$('<input type="text" class="time_div"></input>');d.reset_input_div(r);y.append(r)}}));_.on_property_change(t,"disabled",(function(e){s.apply_css_style(v,{cursor:e?"default":"pointer"});s.apply_css_style(r,{cursor:e?"default":"pointer"})}));_.pre_cache(t,["input_type","width","height","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder"]);t.autorun((function(){var e;var n,o,l;var u={};for(var c=0,f=["input_type","width","height","padding_horizontal","date_format","time_format","placeholder","overwrite_placeholder","padding_top","padding_bottom","padding_left","padding_right"];c<f.length;c++){var d=f[c];u[d]=_.evaluate_property(t,d)}var m=s.calculate_border_height(t);var y=s.calculate_border_width(t);var h=t.element.element_version(true)<b?2*u.padding_horizontal:u.padding_left+u.padding_right;var j=t.element.element_version(true)<b?0:u.padding_top+u.padding_bottom;var w=i.get_public_setting("bubble_version")<18;var k=w?"calc(100% - ".concat(m,"px)"):"calc(100% - ".concat(j+m,"px)");s.apply_css_style(v,{height:k,"box-sizing":"content-box"});if(u.input_type==="date_time"){var A=w?70:72;var E=w?5:8;s.apply_css_style(v,{width:"calc(100% - ".concat(2*h+2*y,"px - ").concat(A+E,"px)"),float:"left"});s.apply_css_style(r,{width:"".concat(A,"px"),float:"right",height:"calc(100% - ".concat(j+m,"px)"),"box-sizing":"content-box"})}else{n=u.width-h-y;v[0].style.width=n+"px"}if(u.input_type==="date"&&u.overwrite_placeholder){o=u.placeholder}else{var x;if(i.app().id()==="test_app"){var M;var P=(M=O(t))!=null?M:a().current_timezone();x=g.tz("1/15/2013",P).toDate()}else{x=new Date}var T=S(t,u.date_format);o=p.format_date(x,T,a().get_text("BUILT_IN","DATE_FORMAT"),O(t))}v.attr("placeholder",o);switch(u.time_format){case"full":l="12:00";break;case"ampm":l="12:00 AM";break}return(e=r)==null?void 0:e.attr("placeholder",l)}));if(t.run_mode()){var j=function r(){var n;if((n=e)!=null&&n.get()){var s=e.get("select");var i={year:s.year,month:s.month,day:s.date};if(t.get_static_property("input_type")==="date_time"){var a=o.get("select");if(!a){return undefined}else{var l,u;i.hour=(l=a==null?void 0:a.hour)!=null?l:"";i.minute=(u=a==null?void 0:a.mins)!=null?u:""}}return g.tz(i,O(t)).toDate()}else{return null}};var k=function e(){this.$holder.blur();n.run_once(30,j,(function(e,r){t.state("is_focused",false);if(r!==undefined){t.message("user_submit",r)}}));return true};var A=function e(r){var n=r.$holder,o=r.$root;n.css("transition","0.05s ease-in-out");n.position({my:"left top",at:"left bottom",of:t.get_canvas(),collision:"fit flip"});if(a().bubble_version()<19){o.addClass("datepicker-legacy-font")}};var E=function e(){A(this)};var x=function r(){var s=this;queueMicrotask((function(){A(s);setTimeout((function(){return A(s)}),100)}));$(window).on("resize",(function(){return A(s)}));var i=t.get_canvas();n.run_once(30,(function(){return{width:i.width(),"font-family":u.get_face_and_variant(m.get_font_face(t)).font_family}}),(function(t,r){var n;if(t){c.log(t);return}e.$root.css(r);(n=o)==null?void 0:n.$root.css(r)}))};var M=function e(t){if(!t){return false}var r=Math.floor(t);var n=Math.round((t-r)*60);return[r,n]};y.addClass(l.CLICKABLE_ELEMENT);var P=t.get_static_property("show_month_year_picker");v.pickadate({container:"html",firstDay:t.get_static_property("start_monday"),selectMonths:P,selectYears:P&&200,format:S(t,t.get_static_property("date_format")),onOpen:x,onClose:k});e=v.pickadate("picker");t.wait_for_visible((function(){x.apply(e);setTimeout((function(){return x.apply(e)}),100)}));n.autorun((function(){return e.$root.css({"margin-top":_.evaluate_property(t,"height"),"max-width":_.evaluate_property(t,"width")})}));var T=false;var I={};if(t.get_static_property("input_type")==="date_time"){T=true;I.container="html";I.interval=t.get_static_property("time_interval");switch(t.get_static_property("time_format")){case"full":I.format="H:i";break;case"ampm":I.format="h:i A";break}I.onClose=k;I.onOpen=x;I.onRender=E;r.pickatime(I);o=r.pickatime("picker");n.autorun((function(){return o.$root.css({"margin-top":_.evaluate_property(t,"height"),"max-width":_.evaluate_property(t,"width")})}))}t.autorun((function(){var r,s;var i=_.evaluate_property(t,"min_date");var l=_.evaluate_property(t,"max_date");e.set({min:(r=w(t,i))!=null?r:-Infinity,max:(s=w(t,l))!=null?s:Infinity});if(T){var u=_.evaluate_property(t,"min_hour");var c=_.evaluate_property(t,"max_hour");o.set({min:M(u),max:M(c)})}var f=a().current_timezone();t.autorun((function(){var r=O(t);if(t.state("has_been_changed")&&r===f){return}f=r;var s=t.state("value");if(n.autorun_top((function(){return t.state("is_focused")}))){return}if(s){e.set("select",w(t,s));if(T){var i=O(t);var a=g(s).tz(i);o.set("select",[a.hours(),a.minutes()])}}else{e.clear();if(T){o.clear()}}}))}));_.on_property_change(t,"disabled",(function(e){v[0].disabled=e;if(r!=null){r[0].disabled=e}}))}d.register_focus(t,y.find("input"));t.on_message("set_focus",(function(){if(!v[0].disabled){e.open()}}));if(!t.run_mode()){var C;v.attr("readonly","true");(C=r)==null?void 0:C.attr("readonly","true")}}))}}},{"../../../../constants/elements":72,"../../../../constants/runmode":91,"../../../../lang/appquery":535,"../../../../lang/btypes":537,"../../../../lang/evaluation/element_eval":567,"../../../../lang/evaluation/element_props":568,"../../../../lang/timezone_override_settings":604,"../../../../lib":614,"../../../../logger":617,"../../../../u":687,"../../../../u/shared/b_date":699,"../../../../webfonts":719,"../../../custom_tz_utilities":374,"../../../property_applications":405,"../../core_elements_utilities/element_utils":282,"../../shared/inputs":360,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/web.queue-microtask.js":993}],324:[function(e,t,r){arguments[4][320][0].apply(r,arguments)},{"../../../property_applications":405,dup:320}],325:[function(e,t,r){arguments[4][320][0].apply(r,arguments)},{"../../../property_applications":405,dup:320}],326:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=e("../../../../u");var o=e("../../../../lib");var s=e("../../../property_applications");var i=e("../../../../constants/runmode");var a=e("./shared/containers");var l=e("../../../../lang/evaluation/element_edit_eval");var u=i.POPUP_ZINDEX;var c=500;t.exports={property_applications:[new s.MinWidth],position_canvas:function e(t,r){var i=r.element;var f=r.element.parent();function d(){if(i.get_static_property("float_zindex")==="back"){return 0}else{var e;var t=$(".greyout");if(t.length===0){e=u-c}else{e=t.css("z-index")-c}if(!e||e<=0){e=2}var n=e+r.element.get_zindex();return n}}if(!(r.run_mode()||r.responsive_mode())||f.type()!=="Page"){r.container.add(r,true);r.container.container_canvas.append(r.get_canvas());r.wait_for_visible_lite((function(){s.apply_css_style(r.get_canvas(),{position:"absolute",width:r.element.get_width()+"px",top:r.element.get_top()+"px",left:r.element.get_left()+"px",height:r.element.get_height()+"px"});n.WaitFor(r.get_children_drawn_key(),(function(){return a.resize_container_width(r)}))}));return}if(r.responsive_mode()){r.container.wrap(r);r.container.add_to_instances(r);t=r.container.to_canvas(r)}r.wait_for_visible_lite((function(){if(i.root().use_responsive_algorithm()&&!i.root().get_static_property("fixed_width")){var e=function e(){var o,s;var u=i.get_width();var c=i.get_min_width();var d=i.get_max_width();var p=i.get_left();var _=r.container.container_width;var m=l.get_container_width(f);var y=m-(p+u);var v=p+y;var b=u-c;var h=m-_;if(b===0){o=1}else if(b>=h){o=(b-h)/b;h=0}else{o=0;h-=b}if(v===0||h===0){s=1}else if(v>=h){s=(v-h)/v}else{s=0}switch(i.get_static_property("floating_reference_horizontal_resp")){case"left":t.css("left",p*s);break;case"right":t.css("right",y*s);break}var j=c+b*o;if(d){j=Math.min(j,d)}t.css("width",j);n.WaitFor(r.get_children_drawn_key(),(function(){return a.resize_container_width(r,j)}))};r.container.on("resize_width",e);n.WaitFor(r.container.flow_created,(function(){var o,s,a;var l=i.get_height();var u=i.get_static_property("floating_reference");var c;if(["bottom","top","both"].includes(u)){s=r.responsive_mode()?"absolute":"fixed";if(u==="top"){a=i.get_top();o=undefined}else if(u==="bottom"){a=undefined;o=f.get_height()-i.get_top()-i.get_height();if(n.is_debug_mode()){o+=50}}else if(u==="both"){a=i.get_top();o=f.get_height()-i.get_top()-i.get_height();if(n.is_debug_mode()){o+=50}l=undefined;c="auto"}}else{s="absolute";a=i.get_top();o=undefined}if(r.responsive_mode()){r.container.container_canvas.append(t)}else{$("body").append(t)}t.addClass("floating-group");t.css({position:s,"z-index":d(),height:l,top:a,bottom:o,"overflow-y":c});return e()}))}else{var u,c,p,_,m,y;var v=m=i.get_top();var b=c=i.get_left();var h=i.get_height();var j=i.get_width();switch(i.get_static_property("floating_reference_horizontal")){case"left":c=b;_=undefined;break;case"right":_=f.get_width()-b-j;c=undefined;break;default:c="50%";p=-f.get_width()/2+b}if(["bottom","top"].includes(i.get_static_property("floating_reference"))){y="fixed";switch(i.get_static_property("floating_reference")){case"top":m=i.get_top();u=undefined;break;case"bottom":u=f.get_height()-v-h;if(n.is_debug_mode()){var g=o().workflow.debugger.canvas;u+=g.children(".element-area").height()}m=undefined;break}}else{y="absolute"}$("body").append(t);t.addClass("floating-group");t.css({position:y,"z-index":d(),width:j,height:h,top:m,bottom:u,left:c,right:_,"margin-left":p});if(i.root().use_responsive_algorithm()){n.WaitFor(r.get_children_drawn_key(),(function(){return a.resize_container_width(r,j)}))}}var w=r.get_static_property("parallax");if(r.run_mode()&&![null,undefined,1].includes(w)){$(window).on("scroll",(function(){return window.requestAnimationFrame((function(){return s.apply_css_style(t,{transform:"translate3d(0,"+(1-w)*$(window).scrollTop()+"px, 0)"})}))}))}}))},register:function e(t){if(t.get_static_property("floating_reference")!=="both"){t.on_message("child_movement",(function(e){t.state("child_movement_delta",e)}))}},initialize:function e(t){if(t.get_static_property("floating_reference")!=="both"){t.autorun((function(){var e=t.state("child_movement_delta");if(e!=null){var r=t.element.get_height()+e;t.get_canvas().height(r)}}))}},additional_data:{notify_width:function e(t,r){n.WaitFor(t.get_children_drawn_key(),(function(){return a.resize_container_width(t,r)}))}}}},{"../../../../constants/runmode":91,"../../../../lang/evaluation/element_edit_eval":566,"../../../../lib":614,"../../../../u":687,"../../../property_applications":405,"./shared/containers":347,"core-js/modules/es.array.includes.js":933}],327:[function(e,t,r){"use strict";var n=e("../../../../u");var o=e("../../../property_applications");var s=e("../../../../geolocation/client/google_maps");var i=e("../../core_elements_utilities/element_utils");var a=e("../../shared/image_utils");var l=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new o.MinWidth],additional_data:{notify_width:function e(t,r){a.keep_proportions(t,r)}},initialize:function e(t){var r=this;t.wait_for_visible_lite((function(){var e;(e=t.currently_displayed_markers)!=null?e:t.currently_displayed_markers={};var o=s.load_google_map_api();var a=t.get_canvas();if(t.thumbnail_mode()){a.css({"background-color":"#E6E6E6"});return}var u=null;n.WaitFor(o,(function(){var e=function e(){u=r._get_map(t,{height:"100%",width:"100%",position:null,top:null,left:null,right:null,bottom:null});if(t.edit_mode()){i.do_add_an_invisible_div_on_the_top(t)}l.pre_cache(t,["height","width","four_border_style","border_width","border_style","padding_vertical","padding_horizontal"]);t.autorun((function(){r._refresh_border(t,u)}));l.on_property_change(t,["allow_zoom_drag","map_style","custom_style","disable_zoom_scroll"],(function(e){r._handle_map_option_change(u,e)}));l.on_property_change(t,"map_type",(function(e){u.setMapTypeId(window.google.maps.MapTypeId[e])}));t.autorun((function(){r._render_markers(t,u)}));t.autorun((function(){r._set_center_and_zoom(t,u)}))};t.wait_for_visible((function(){setTimeout(e,1)}))}))}))}}},{"../../../../geolocation/client/google_maps":507,"../../../../lang/evaluation/element_eval":567,"../../../../u":687,"../../../property_applications":405,"../../core_elements_utilities/element_utils":282,"../../shared/image_utils":359}],328:[function(e,t,r){"use strict";var n=e("../../../../u");var o=e("../../../property_applications");var s=e("./shared/groups");t.exports=n.extend({property_applications:[new o.MinWidth],attempt_size_only_draw:function e(t){if(t.get_static_property("collapse_when_hidden")){t.set_height(0);t.canvas[0].style.display="none";t.canvas.css("overflow","visible");return false}return true},register:function e(t){t.on_message("child_movement",(function(e){var r=t.element.get_height()+e;if(t.is_visible()||!t._has_been_hidden){t.set_height(r);t.state("actual_height",r)}else{t.state("actual_height",r)}}))},initialize:function e(t){}},s.group_collapse_definition)},{"../../../../u":687,"../../../property_applications":405,"./shared/groups":348}],329:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.find.js");var n=e("../../../../u");var o=e("../../../../lang/elements");var s=e("../../../property_applications");var i=e("../../../../lib");var a=e("../../../../logger");var l=e("../../../../lang/appquery");var u=e("./shared/containers");var c=e("../../../../lang/evaluation/element_eval");var f=e("../../../../u/shared/mode_check");t.exports={initialize:function e(t){var r=t.get_canvas();var o=false;if(t.run_mode()){var a;if(n.is_on_mobile_or_tablet()){a="touchend.groupfocus, inputmaskclick"}else{a="click.groupfocus, inputmaskclick"}$("body").on(a,(function(e){var s;var a=$(".tt-dropdown-menu");var l=t.is_visible()&&!r.data("GroupWithFocus_loading")&&r[0]!==e.target&&!$.contains(r[0],e.target)&&!((s=$(e.target).attr("class"))!=null&&s.match(/\bselect2-/))&&!(a.length>0&&$.contains(a[0],e.target));if(l){if(f.running_test()){t.do_hide()}else{o=true;setTimeout((function(){n.WaitFor(i().workflow.everything_done_key(),(function(){o=false;t.do_hide()}))}),10)}}}));t.on_message("child_movement",(function(e){var r=t.element.get_height()+e;t.get_canvas()[0].style.height=r+"px"}))}t.autorun((function(){var e=t.state("manual_position");if(e){s.apply_css_style(t.get_canvas(),e)}}))},position_canvas:function e(t,r){var o;if(r.responsive_mode()){o={position:"absolute"};var l=n.div("r-wrapper groupfocus");l.append(t);i().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper").append(l);r.container.add_to_instances(r);i().visual_edit.responsive_canvas.register_wrapper(r.element_id(),l,true);t.hide()}else if(r.edit_mode()){$(".container.page-element").parent(".non-draggable").append(t);o={position:"absolute"}}else{$(window.document.body).append(t);o={position:"fixed"}}n.extend(o,{width:r.element.get_width()+"px",height:r.element.get_height()+"px","z-index":i().bv().MAX_POPUP_ZINDEX+r.element.get_zindex()});s.apply_css_style(t,o);if(r.run_mode()||r.responsive_mode()){var c=function e(t){n.WaitFor(r.get_children_drawn_key(),(function(){return r.wait_for_visible_lite((function(){r.get_canvas().css({width:t});u.resize_container_width(r,t)}))}))};c(n.real_inner_width(r.get_canvas()));r.on_resize((function(e){return n.run_once(30,(function(){return r.find_instance_by_id(r.get_static_property("reference"))}),(function(t,n){if(t){a.log(t);return}if(!n){return}var o=n.get_canvas().offset().left+r.get_static_property("offset_left");var s=Math.max(r.element.get_min_width(),Math.min(r.element.get_width(),e-20-o));c(s)}))}))}},do_show:function e(t,r,l,u){t._is_visible_me=true;t.ensure_drawn();t._update_visible();var c=t.get_canvas();if(!t.run_mode()){c[0].style.display="";if(t.responsive_mode()){var f=n.div("groupfocus-greyout",i().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper"));s.apply_css_style(f,{"background-color":"rgba(0, 0, 0, 0.701961)",top:"0px",left:"0px",position:"absolute",width:"100%",height:f.parents(".res-preview").find(".main-page").height()+"px","z-index":2001+t.element.get_zindex()})}return}n.run_once(30,(function(){return t.find_instance_by_id(t.get_static_property("reference"))}),(function(e,s){var i;if(e){a.log(e);return}if(!s){return}(i=c.velocity)==null?void 0:i.call(c,"stop");if(u){o.perform_animate_in(t,r,l)}else{c[0].style.display="";t._is_visible_me=true;t._update_visible()}function f(){var e,r;if(t.state("manual_position")){return}var n=s.get_canvas();if(n){r=n.offset().left;e=n.offset().top+n.height()}else{r=0;e=0}var o=r+t.get_static_property("offset_left");var i=e+t.get_static_property("offset_top")-$(window).scrollTop();c.css({top:i,left:o})}f();if(!n.is_on_mobile_or_tablet()){var d=null;$(window).off("resize.groupfocus"+t.toUniqueString());$(window).on("resize.groupfocus"+t.toUniqueString(),(function(){var e=$(window).width();if(d!==e){d=e;if(t.is_visible()&&!t.get_canvas().data("GroupWithFocus_loading")){t.do_hide()}}}))}var p="scroll.groupfocus"+t.toUniqueString();$(window).off(p);$(window).on(p,f)}))},do_hide:function e(t,r,o,s){var a;t._is_visible_me=false;t._update_visible();var l=t.get_canvas();(a=l.velocity)==null?void 0:a.call(l,"stop");if(s){var u,c,f,d,p;(u=t._transforms)!=null?u:t._transforms={};(f=(c=t._transforms).initial_opacity)!=null?f:c.initial_opacity=l[0].style.opacity;(p=(d=t._transforms).initial_transform)!=null?p:d.initial_transform=l[0].style.transform;t.set_animating(true);n.velocity(l,r.animation,{duration:o.duration,complete_cb:function e(){t.set_animating(false);l[0].style.transform=t._transforms.initial_transform;l[0].style.opacity=t._transforms.initial_opacity;t._transforms=undefined}})}else{l[0].style.display="none"}$(window).off("resize.groupfocus"+t.toUniqueString());$(window).off("scroll.groupfocus"+t.toUniqueString());if(t.responsive_mode()){i().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper").find(".groupfocus-greyout").remove()}}}},{"../../../../lang/appquery":535,"../../../../lang/elements":557,"../../../../lang/evaluation/element_eval":567,"../../../../lib":614,"../../../../logger":617,"../../../../u":687,"../../../../u/shared/mode_check":713,"../../../property_applications":405,"./shared/containers":347,"core-js/modules/es.array.find.js":929,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.match.js":976}],330:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");var n=e("../../../../u");var o=e("../../../property_applications");var s=e("./shared/groups");t.exports=n.extend({property_applications:[new o.MinWidth],initialize:function e(t){var r=t.get_canvas();t.do_hide();if(t.run_mode()){var o;if(n.is_on_mobile_or_tablet()){o="touchend.groupfocus"}else{o="click.groupfocus"}$("body").on(o,(function(e){var n;var o=t.is_visible()&&!r.data("GroupWithFocus_loading")&&r[0]!==e.target&&!$.contains(r[0],e.target)&&!((n=$(e.target).attr("class"))!=null&&n.match(/\bselect2-/));if(o){t.do_hide()}}));t.on_message("child_movement",(function(e){var r=t.element.get_height()+e;t.get_canvas()[0].style.height=r+"px"}))}}},s.group_collapse_definition)},{"../../../../u":687,"../../../property_applications":405,"./shared/groups":348,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.match.js":976}],331:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");var n=e("../../../../lang/elements");var o=e("../../../../u");var s=e("../../../property_applications");var i=e("../../../../logger");var a=e("base64url");var l=e("../../../../lib");var u=e("../../core_elements_utilities/element_utils");var c=e("../../shared/image_utils");var f=e("../../shared/video_elements");var d=e("./shared/text_elements");var p=e("../../../../lang/evaluation/element_eval");var _=e("../../../../u/shared/callbacks"),m=_.ignoreError;function UNMANGLED_html_wrap(e){return e()}t.exports={property_applications:[new s.MinWidth],additional_data:{notify_width:function e(t,r){return c.keep_proportions(t,r)}},can_defer_drawing:function e(t){return t.get_static_property("defer_drawing")},register:function e(t){if(t.run_mode()&&window.bubble_safe_mode){return i.owner_warn(new o.OwnerError("This HTML element is not rendered in safe mode",{element_instance:t}))}},initialize:function e(t){function r(){if(t.run_mode()&&window.bubble_safe_mode){return}var e=t.get_canvas();var r=null;var s=null;var c=function e(){return s[0].contentWindow};var _=false;var y=false;p.pre_cache(t,["html","useiframe","width","height"]);t.autorun((function(){var v;var b;var h={};for(var j=0,g=["html","useiframe","width","height"];j<g.length;j++){var w=g[j];h[w]=p.evaluate_property(t,w)}var O=h.html,S=h.useiframe,k=h.width,A=h.height;(v=O)!=null?v:O="";if(!t.run_mode()){b=a.encode(O);l().location.post("server://appeditor/cache_iframe_content",{content:b},m((function(r){var n=r;var o="".concat(l().location.get_base_for_meta(),"/appeditor/basic_iframe_service/").concat(l().appname(),"/test/").concat(n);s=$('<iframe src="'.concat(o,"\"\n    id='user_preview_iframe'\n    width=\"").concat(k,'"\n    height="').concat(A,'"\n    sandbox="allow-scripts"\n>\n    (this browser does not support HTML element preview rendering)\n</iframe>'));e.empty();e.append(s);u.do_add_an_invisible_div_on_the_top(t)})))}else{if(S){var E=function t(n){clearTimeout(r);if(!s){s=$('<iframe src="about:blank"></iframe>');if(f.should_block_cookies()){s.attr("sandbox","allow-scripts allow-same-origin")}e.append(s)}s[0].style.width=k+"px";s[0].style.height=A+"px";if(c()){if(y!==n){s[0].contentWindow.contents=n;y=n}s[0].src='javascript:window["contents"]'}else{r=setTimeout((function(){return t(n)}),100)}};E(O)}else{try{if(t.get_static_property("stretch_to_fit")){var x=function r(n){if(t.is_animating(true)){n==null?void 0:n();return}var o=t.is_visible(true);if(!o&&!_){n==null?void 0:n();return}_=o;var s=e.outerHeight()-e.height();var i=parseInt(b.css("height").replace("px",""));if(i===0&&b.find(" > *").length){i=parseInt(b.find(" > *").css("height").replace("px",""))}var a=t.element.get_height();t.set_height(Math.max(a,i+s));n==null?void 0:n()};b=e.find(".content");if(b.length===0){b=o.div("content",e)}if(y!==O){UNMANGLED_html_wrap((function(){return b.html(O)}));y=O}if(!t.is_animating()){var M=n.add_layout_resizing_key();o.wait_for_updates((function(){return d.wait_for_img_tags_loaded(b,(function(){return x((function(){return M.turn()}))}))}));if(t.is_visible()){setTimeout(x,500);setTimeout(x,2e3)}}}else{UNMANGLED_html_wrap((function(){return e.html(O)}))}}catch(e){var P=e;i.owner_only_error("html bug",{display:"Bug in custom html:\n"+P.stack,element_instance:t,prop_name:"html"})}}}}))}if(t.get_static_property("defer_drawing")){t.wait_for_visible_lite(r)}else{r()}}}},{"../../../../lang/elements":557,"../../../../lang/evaluation/element_eval":567,"../../../../lib":614,"../../../../logger":617,"../../../../u":687,"../../../../u/shared/callbacks":705,"../../../property_applications":405,"../../core_elements_utilities/element_utils":282,"../../shared/image_utils":359,"../../shared/video_elements":370,"./shared/text_elements":350,base64url:724,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977}],332:[function(e,t,r){"use strict";var n=e("../../../property_applications");var o=e("../../../../constants/runmode");var s=e("./shared/icons");var i=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new n.MinWidth],initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();n.patch_user_agent_styles(e);i.on_property_change(t,"icon",(function(t){var r;if(e.hasClass(o.CLICKABLE_ELEMENT)){r=true}e.attr("class","");e.addClass(t+" inner-element bubble-element");if(r){e.addClass(o.CLICKABLE_ELEMENT)}}));i.on_property_change(t,"icon_color",(function(t){e[0].style.color=t}));i.on_property_change(t,"spin_icon",(function(t){if(!t){t=false}e.toggleClass("fa-spin",t)}));s.calculate_font_size_for_fontawesome(t)}))},additional_data:{notify_width:function e(t,r){t.state("notify_width",r)}}}},{"../../../../constants/runmode":91,"../../../../lang/evaluation/element_eval":567,"../../../property_applications":405,"./shared/icons":349}],333:[function(e,t,r){"use strict";var n=e("../../../property_applications");var o=e("../../../../shared/apps_utilities");var s=e("../../../../shared/images");var i=e("../../../../lang/appquery");var a=e("../../../../u");var l=e("../../shared/image_utils");var u=e("../../../../lang/evaluation/element_eval");function c(e){var t=e.property("src");if(!t.is_empty()&&t.is_static()&&e.get_static_property("src",true)!==""){return true}}t.exports={property_applications:[new n.MinWidth],can_defer_drawing:function e(){return true},register:function e(t){t.state("src_version",0)},initialize:function e(t){var r=t.get_canvas();r.addClass("bubble-legacy-image");t.wait_for_visible_lite((function(){var e;var f=a.img(undefined,r);f[0].style.display="block";if(!t.run_mode()){e=a.div("display_text",r);f[0].style.float="left"}var d=null;var p=null;if(t.run_mode()){u.on_property_change(t,"alt_tag",(function(e){return f[0].alt=e!=null?e:""}))}u.pre_cache(t,["src","stretch_or_rescale","width","height","crop_data"]);t.autorun((function(){var r;var _={};for(var m=0,y=["src","stretch_or_rescale","width","height","crop_data"];m<y.length;m++){var v=y[m];_[v]=u.evaluate_property(t,v)}var b=c(t.element);if(!t.run_mode()){if(!b){var h;e.html((h=_.src)!=null?h:"");n.apply_css_style(e,{display:"block",overflow:"hidden",width:"100%",color:"grey"});f[0].style.display="none";return}else{e[0].style.display="none";f[0].style.display="block"}}d=r=a.LUID();if(_.src&&!a.is_empty(_.src)){var j=function e(n,s,a,u){function c(e){if(d!==r){return}l.download_image(e,t,(function(e){if(d!==r){return}p=n;f[0].src=e}))}var _=l.optimize_image(n,s,a,u);var m=n===p&&!l.downloaded_images[_];if(m&&o.is_test(i.appname())){m=false}if(m){setTimeout(c.bind(null,_),300)}else{c(_)}};if(!f[0].src){f[0].src=l.transparent_image();l.reset_img_settings(f)}if(b){var g;var w;if((g=t.element.root())!=null&&g.use_responsive_algorithm()&&!t.get_static_property("keep_proportion_resize")){w={fit:"crop"}}else{w={}}l.reset_img_settings(f);j(_.src,_.width,_.height,w);if(_.crop_data){var O=function e(t){return"".concat(Math.floor(t*100),"%")};n.apply_css_style(f,{width:O(_.crop_data.width_factor),height:O(_.crop_data.height_factor),"margin-left":O(_.crop_data.left_offset),"margin-top":_.crop_data.top_offset*_.height+"px"})}}else{var S=a.autorun_top((function(){return t.state("src_version")}));S+=1;t.state("src_version",S);if(_.stretch_or_rescale==="rescale"){l.rescale_image({src:_.src,img:f,instance:t,ref_version:S,cb:function e(){j(_.src,u.evaluate_property(t,"width"),u.evaluate_property(t,"height"))}})}else if(_.stretch_or_rescale==="adjust_height"){s.get_image_real_dimensions(_.src,(function(e){if(e.height==null){j(_.src,_.width,_.height);return}var r=a.autorun_top((function(){return t.state("src_version")}));if(S!==r){return}l.reset_img_settings(f);var n=e.height/e.width*_.width;j(_.src,_.width,n);t.set_height(n)}))}else if(_.stretch_or_rescale==="stretch"){l.reset_img_settings(f);j(_.src,_.width,_.height)}else if(_.stretch_or_rescale==="zoom"){l.reset_img_settings(f);n.apply_css_style(f,{"object-fit":"cover"});j(_.src,_.width,_.height)}}}else{f[0].src=l.transparent_image();p=null;l.reset_img_settings(f)}}));t.autorun((function(){if(u.evaluate_property(t,"four_border_style")){for(var e=0,r=["top","right","bottom","left"];e<r.length;e++){var n=r[e];f[0].style["border-radius-"+n]=u.evaluate_property(t,"border_roundness_"+n)+"px"}}else{f[0].style["border-radius"]=u.evaluate_property(t,"border_roundness")+"px"}}))}))},additional_data:{notify_width:function e(t,r){l.keep_proportions(t,r)}}}},{"../../../../lang/appquery":535,"../../../../lang/evaluation/element_eval":567,"../../../../shared/apps_utilities":654,"../../../../shared/images":661,"../../../../u":687,"../../../property_applications":405,"../../shared/image_utils":359}],334:[function(e,t,r){arguments[4][320][0].apply(r,arguments)},{"../../../property_applications":405,dup:320}],335:[function(e,t,r){"use strict";e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.string.split.js");var n=e("../../../../u");var o=e("../../../property_applications");var s=e("../../../../constants/runmode");var i=e("../../../../lang/application");var a=e("../../../../lang/appquery");var l=e("../../../url_data");var u=e("../../../../constants/lang");var c=e("../../../../lang/evaluation/evaluate");var f=e("../../../../lang/evaluation/eval_node_state");var d=e("../../../../lib");var p=e("querystring");var _=e("../../core_elements_utilities/element_utils");var m=e("./shared/text_elements");var y=e("../../shared/links");var v=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new o.MinWidth],additional_data:{notify_width:function e(t,r){t.state("notify_width",r)}},initialize:function e(t){var r=t.get_canvas();t.wait_for_visible_lite((function(){r.addClass(s.CLICKABLE_ELEMENT);o.apply_css_style(r,{"white-space":"pre-wrap","text-decoration":"none"});var e=false;v.pre_cache(t,["text","font_size","icon","show_icon","background_style","no_html"]);t.autorun((function(){var s={};for(var i=0,a=["text","font_size","icon","show_icon","background_style","no_html"];i<a.length;i++){var l=a[i];s[l]=v.evaluate_property(t,l)}var u=s.text,c=s.icon,f=s.show_icon,d=s.background_style,p=s.no_html;t.state("notify_width");if(d==="image"){r.text("")}else{if(f){var y;e=false;(y=r.trigger)==null?void 0:y.call(r,"destroy");r.empty();var b=n.div(c+" inner-element");o.apply_css_style(b,{"font-family":"FontAwesome","padding-left":"3px"});r.append(b)}else{var h=function e(t){if(p){t.html(n.bbcode_to_html(u).trim())}else{t.html(u)}};if(t.get_static_property("wrap_when_squizzed")&&(t.run_mode()||t.responsive_mode())){o.apply_css_style(r,{"word-break":"break-word"});t.wait_for_visible_lite((function(){return setTimeout((function(){var e=r.find(".content");if(e.length===0){e=n.div("content",r)}h(e);var o=r.outerHeight()-r.height();var s=parseInt(e.css("height").replace("px",""));var i=t.element.get_height();t.set_height(Math.max(i,s+o))}),1)}))}else{h(r);if((t.run_mode()||t.thumbnail_mode())&&!e){e=true;m.apply_dotdotdot(t,t.edit_mode()||t.responsive_mode()?"letter":"words")}}if(!t.run_mode()){_.do_add_an_invisible_div_on_the_top(t)}}}if(d==="none"){(new o.NoSelect)._apply(true,r)}}));if(t.run_mode()){v.on_property_change(t,"open_in_new_tab",(function(e){if(e){r[0].target="_blank"}else{r[0].target="_self"}}));v.on_property_change(t,"link_disabled",(function(e){t.state("link_disabled",e);if(e){t.get_canvas()[0].style.cursor="not-allowed";t.get_canvas()[0].style["pointer-events"]="none"}else{t.get_canvas()[0].style.cursor="pointer";t.get_canvas()[0].style["pointer-events"]="auto"}}));v.on_property_change(t,"nofollow",(function(e){if(e){r[0].rel="nofollow"}}));t.autorun((function(){var e=v.evaluate_property(t,"linktype");function o(e){var t,r;var n=i.page_id_to_name(e);(t=n)!=null?t:n=(r=a.get_page_by_name(e))==null?void 0:r.name();return n}var s;if(e==="pagelink"){var _;var m=v.evaluate_property(t,"page");var b=(_=o(m))!=null?_:"";var h=v.evaluate_property(t,"data_to_send");if(h){var j=a.get_page_by_name(b);if(j!=null){h=l.get_data_to_send(h,j.get_static_property("readable_field"));if(h){b+="/"+h}}}var g={};if(t.get_static_property("keep_current_page_params")){n.extend(g,d().location.get_query())}if(n.is_debug_mode()){g.debug_mode=true}if(v.evaluate_property(t,"add_parameters")){var w=t.element.property("url_parameters");f.with_eval_node(w,(function(){var e=c.evaluate_properties(w.json._raw(),t.prop_eval_context(),u.DETECT_FIELD_NAMES,[],w.json._path());for(var r=0,n=Object.values(e!=null?e:{});r<n.length;r++){var o=n[r],s=o.key,i=o.value;if(!y.forbidden_url_keys.includes(s)){g[s]=i}}}))}if(b==="index"){b=""}s=d().location.get_server_base()+b;if(!n.is_empty(g)){s+="?"+p.stringify(g)}}else{var O;s=v.evaluate_property(t,"url");if(((O=s)==null?void 0:O.indexOf("//"))===-1&&!y.href_attributes.includes(s.split(":")[0])&&s[0]!=="#"){s="//"+s}}r[0].href=s;if(n.on_phonegap()){r.on("touchend",(function(){return window.open(s,"_blank","location=yes,enableViewportScale=yes")}));r.on("click",(function(e){e.preventDefault();return false}))}}))}}))}}},{"../../../../constants/lang":81,"../../../../constants/runmode":91,"../../../../lang/application":534,"../../../../lang/appquery":535,"../../../../lang/evaluation/element_eval":567,"../../../../lang/evaluation/eval_node_state":571,"../../../../lang/evaluation/evaluate":572,"../../../../lib":614,"../../../../u":687,"../../../property_applications":405,"../../../url_data":408,"../../core_elements_utilities/element_utils":282,"../../shared/links":361,"./shared/text_elements":350,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,querystring:1237}],336:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");var n=e("../../../property_applications");var o=e("../../core_elements_utilities/element_utils");var s=e("../../../../lib");var i=e("../../../../u");var a=e("../../shared/inputs");var l=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new n.MinWidth],initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();a.reset_input_div(e);e.attr("data-gramm_editor","false");o.register_tab_index_listener(t,(function(t){e.attr("tabindex",t)}));t.autorun((function(){e.attr("placeholder",l.evaluate_property(t,"placeholder"));window.optional_modules.autosize.update(e)}));if(!t.run_mode()){e.attr("readonly","true");e[0].style.resize="none"}a.set_character_limit_on_input(t);t.autorun((function(){var e=true;a.assign_enter_handler_in_input(t,e)}));var r=i.Box(0);a.input_change_autorun(t,(function(n){if(t.state("is_focused")){return}e.val(n!=null?n:"");if(t.run_mode()&&t.get_static_property("stretch_to_fit")&&t.is_visible()){if(!e[0].disabled){window.optional_modules.autosize.update(e)}else{r(r.dangerously_peek()+1);setTimeout((function(){window.optional_modules.autosize.update(e);r(r.dangerously_peek()-1)}),5)}}}));if(t.run_mode()){t.on_message("set_focus",(function(){return e.focus()}));a.assign_change_keyup_handlers(t,(function(){return t.get_canvas().val()}));t.autorun((function(){if(r()>0){e[0].disabled=false}else{e[0].disabled=l.evaluate_property(t,"disabled")}}));if(t.get_static_property("stretch_to_fit")){e[0].style["min-height"]=t.element.get_height()+"px";if(s().bubble_version()>=8){e.attr("rows",1)}window.optional_modules.autosize(e);e.on("autosize:resized",(function(){var r=parseInt(e.css("height").replace("px",""));t.set_height(r)}));t.wait_for_visible((function(){return window.optional_modules.autosize.update(e)}));t.on_destroy((function(){return window.optional_modules.autosize.destroy(e)}))}}}))}}},{"../../../../lang/evaluation/element_eval":567,"../../../../lib":614,"../../../../u":687,"../../../property_applications":405,"../../core_elements_utilities/element_utils":282,"../../shared/inputs":360,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977}],337:[function(e,t,r){(function(r){(function(){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.find.js");e("core-js/modules/web.immediate.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../../../u");var f=e("../../../property_applications");var d=e("../../shared/image_utils");var p=e("../../../../lang/evaluation/page_state");var _=e("../../../../constants/lang");var m=e("../../../../lang/evaluation/evaluate");var y=e("../../../../lang/evaluation/eval_node_state");var v=e("../../shared/pages");var b=e("../../../../lang/color_tokens");var h=e("../../../../lang/font_tokens");var j=e("../../../../lang/evaluation/element_eval");function g(e){var t=v.get_stripes(e.element);if(!t.length){return[]}var r=[];var n=a(t),o;try{var s=function t(){var n=o.value;y.with_eval_node(n,(function(){return r.push(m.evaluate_properties(n.json._raw(),e.prop_eval_context(),_.DETECT_FIELD_NAMES,[],n.json._path()))}))};for(n.s();!(o=n.n()).done;){s()}}catch(e){n.e(e)}finally{n.f()}return r}t.exports={property_applications:function e(t){if(!t||!(t!=null&&t.use_responsive_algorithm())){return[new f.Background]}else{return[]}},position_canvas:function e(t,r){if(r.responsive_mode()){r.container.add(r);return}var n=this.calculate_run_mode_width(r);f.apply_css_style(t,{width:n+"px",height:r.element.get_height()+"px"});if(r.edit_mode()){$(".canvas").append(t)}else{$("html, body").css("height","100%");$(window.document.body).append(t);t[0].style["min-height"]="100%"}f.apply_css_style(t,{"margin-right":"auto","margin-left":"auto",position:"relative","z-index":2})},register:function e(t){t.on_message("child_movement",(function(e){t.state("last_delta",e)}))},initialize:function e(t){if(t.run_mode()){t.register_workflows(t.element.events())}j.on_property_change(t,"title",(function(e){if(t.edit_mode()){$(".edit-date").text(e)}else if(t.run_mode()){$(document).ready((function(){return window.document.title=e}))}}));var r=document.documentElement;if(t.edit_mode()){t.autorun((function(){h.load_font_tokens_default();h.load_font_tokens_user()}));j.on_property_change(t,"preset_width",(function(e){if(v.preset_page_widths[e].width!=null){t.element.set_property("width",v.preset_page_widths[e].width);t.element.commit_merge()}}));j.on_property_change(t,"width",(function(e){var r=t.get_static_property("preset_width");for(var n in v.preset_page_widths){var o=v.preset_page_widths[n];if(e===o.width){if(n!==r){t.element.set_property("preset_width",n);t.element.commit_merge()}return}}if(r!=="custom"){t.element.set_property("preset_width","custom");t.element.commit_merge()}}))}t.autorun((function(){for(var e=0,t=Object.entries(h.default_font_tokens_to_property());e<t.length;e++){var o=n(t[e],2),s=o[0],i=o[1];r.style.setProperty(s,i)}}));t.autorun((function(){for(var e=0,t=Object.entries(h.user_font_tokens_to_property());e<t.length;e++){var o=n(t[e],2),s=o[0],i=o[1];r.style.setProperty(s,i)}}));t.autorun((function(){for(var e=0,t=Object.entries(b.default_color_tokens_to_property());e<t.length;e++){var o=n(t[e],2),s=o[0],i=o[1];r.style.setProperty(s,i)}}));t.autorun((function(){for(var e=0,t=Object.entries(b.user_color_tokens_to_property());e<t.length;e++){var o=n(t[e],2),s=o[0],i=o[1];r.style.setProperty(s,i)}}));if(t.run_mode()){p.page_width($(window).width());$(window).on("resize",(function(){return p.page_width($(window).width())}));p.page_current_scroll_position($(window).scrollTop());$(window).on("scroll wheel touchmove",(function(){return p.page_current_scroll_position($(window).scrollTop())}))}var o=["background_style","bgcolor","background_gradient_direction","background_gradient_from","background_gradient_mid","background_gradient_to","background_image","center_background","background_size_cover","repeat_background_vertical","repeat_background_horizontal","background_color_if_empty_image","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos","background_gradient_custom_angle"];function s(){var e,r,n;if(t.element.use_responsive_algorithm()){r=t.get_canvas()}else{r=c.div("stripe-container Backdrop",t.container.get_canvas());if(t.run_mode()){$(window).off("resize.backdrop-non-responsive");$(window).on("resize.backdrop-non-responsive",(function(){return r[0].style.width=Math.max($(".main-page").width(),$(window).width())+"px"}))}}if(t.thumbnail_mode()){r.css({"z-index":1,position:"absolute",top:0,width:t.element.get_width(),height:t.element.get_height(),overflow:"hidden"})}else{f.apply_css_style(r,{"z-index":1,position:t.get_static_property("fixed_width")?"relative":"absolute",top:"0px",width:t.get_static_property("fixed_width")?t.element.get_width():"100%",overflow:"hidden"})}if(c.is_debug_mode()){e=300;$(".main-page").css("height",$(".main-page").height()+e)}else{e=0}var s=function e(){var n;if(t.thumbnail_mode()){n=t.element.get_height()}else{n=Math.max(r.parent().height(),$(".main-page").height());if(n===0){n=t.element.get_height()}}r[0].style.height=n+"px"};s();window.fix_backdrop_height=s;if(t.edit_mode()){t.autorun((function(){return r.css("height",j.evaluate_property(t,"height")+20)}))}var i=null;j.pre_cache(t,o.map((function(e){return"backdrop_".concat(e)})));j.pre_cache(t,["backdrop_paralax_speed","backdrop_image_paralax"]);t.autorun((function(){var e={is_backdrop:true};var n=a(o),s;try{for(n.s();!(s=n.n()).done;){var l=s.value;e[l]=j.evaluate_property(t,"backdrop_"+l)}}catch(e){n.e(e)}finally{n.f()}if(t.run_mode()){for(var u=0,p=["backdrop_paralax_speed","backdrop_image_paralax"];u<p.length;u++){var _=p[u];e[_]=j.evaluate_property(t,_)}}if(e.background_style==="video"){if(t.run_mode()&&!c.is_on_mobile_or_tablet()){if(!i){i=new $.BigVideo;i.init()}$("#big-video-wrap").css("background","black");var m=$("#big-video-wrap video");m.attr("muted","");var y=d.optimize_image(j.evaluate_property(t,"backdrop_video_source"),undefined,undefined,undefined,true);i.show(y,{forceAutoplay:true,doLoop:true,ambient:true});t.autorun((function(){if(j.evaluate_property(t,"backdrop_video_silence")){m.attr("muted","");i.getPlayer().muted(true)}else{i.getPlayer().volume(.8);m.removeAttr("muted");i.getPlayer().muted(false)}}))}else{r.css("background","black");var v=j.evaluate_property(t,"backdrop_video_image_fallback");if(v){r.css({"background-image":"url(".concat(d.optimize_image(v,r.width()),")"),"background-position":"center top"})}}}else{(new f.Background)._apply(e,r)}}));if(!t.element.use_responsive_algorithm()){var l=c.MakeKey(null,"stripe_drawn");var u=[];$(window).off("resize.withstripe",s);$(window).on("resize.withstripe",s);t.on_destroy((function(){return $(window).off("resize.withstripe",s)}));t.autorun((function(){var e=0;var n=0;function o(e){var t={};var n=c.div("backdrop-stripe",r);if(e.floating){t["z-index"]=5e3}else{t["z-index"]=i}i-=1;t.width="100%";t["box-sizing"]="border-box";t["-moz-box-sizing"]="border-box";t.height=e.stripe_height+"px";if(e.border_width>0){t["border-bottom"]="".concat(e.border_width,"px ").concat(e.border_style," ").concat(e.border_color);t["border-radius"]=e.border_roundness+"px"}f.apply_css_style(n,t);(new f.Background)._apply(e,n);(new f.BoxShadow)._apply(e,n);return n}var s=function e(r,n){var o;if(n.floating&&!t.edit_mode()){o="fixed";r.addClass("floating")}else{o="absolute"}r.css("position",o)};var i=5e3;r.find(".backdrop-stripe").remove();var d=g(t);if(d.length===0){return}var p=a(d),_;try{for(p.s();!(_=p.n()).done;){var m=_.value;var y=o(m);s(y,m);if(m.floating!==true||m.floating&&m.floating_reference==="top"){y.css("top",e+"px");u.push({div:y,top:e,height:parseFloat(m.stripe_height)});e+=parseFloat(m.stripe_height)}else{y.css("bottom",n+"px");u.push({});n+=parseFloat(m.stripe_height)}}}catch(e){p.e(e)}finally{p.f()}return l.turn()}));n=$(".main-page");t.on_message("movement_in_stripe",(function(o,s){return c.WaitFor(l,(function(){var i=0;for(var a=0;a<u.length;a++){var l;var c=u[a];if(c.top===undefined){continue}var f=void 0;if(a>=o){if(a===o){f=s-i}else{f=c.height_change}c.div.height(c.height+f);c.div.css("top",c.top+i+"px");c.height_change=f}i+=(l=c.height_change)!=null?l:0}var d=t.element.get_height()+i+e;r.css("height",d);n.css("height",d)}))}))}t.autorun((function(){var o=t.state("last_delta");if(o!=null){var s;var i=t.element.get_height()+o+e;r.css("height",i);(s=n)==null?void 0:s.css("height",i)}}))}if(t.edit_mode()){j.pre_cache(t,o);t.autorun((function(){t.container.get_canvas().find(".stripe-container.Backdrop").remove();t.autorun((function(){if(!t.is_destroyed()){var e={};var r=a(o),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;e[s]=j.evaluate_property(t,s)}}catch(e){r.e(e)}finally{r.f()}(new f.Background)._apply(e,t.get_canvas())}}));s()}))}else if(t.thumbnail_mode()){t.autorun(s)}else{s()}},additional_data:{is_responsive_mode:function e(t){return t.run_mode()&&t.element.use_responsive_algorithm()},calculate_run_mode_width:function e(t){if(this.is_responsive_mode(t)&&!t.get_static_property("fixed_width")){var r=$(window).width();return Math.max(t.element.get_min_width(),r)}else{return t.element.get_width()}},initialize_container_width:function e(t,n){var o=this;if(!this.is_responsive_mode(t)){return}n.resize_width(this.calculate_run_mode_width(t));r((function(){n.resize_width(o.calculate_run_mode_width(t))}));var s=null;$(window).resize((function(){var e=o.calculate_run_mode_width(t);if(e!==s){if(c.is_fullscreen()){return}s=e;n.resize_width(e);t.get_canvas()[0].style.width=e+"px"}}))}}}}).call(this)}).call(this,e("timers").setImmediate)},{"../../../../constants/lang":81,"../../../../lang/color_tokens":540,"../../../../lang/evaluation/element_eval":567,"../../../../lang/evaluation/eval_node_state":571,"../../../../lang/evaluation/evaluate":572,"../../../../lang/evaluation/page_state":575,"../../../../lang/font_tokens":589,"../../../../u":687,"../../../property_applications":405,"../../shared/image_utils":359,"../../shared/pages":362,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,timers:1289}],338:[function(e,t,r){"use strict";var n=e("../../../property_applications");var o=e("../../shared/image_utils");t.exports={property_applications:[new n.MinWidth],additional_data:{notify_width:function e(t,r){return o.keep_proportions(t,r)}}}},{"../../../property_applications":405,"../../shared/image_utils":359}],339:[function(e,t,r){(function(r){(function(){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.find.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../../u");var a=e("../../../../lib");var l=e("../../../../lang/elements");var u=e("../../../property_applications");var c=e("../../../../constants/runmode");var f=e("../../shared/popups");var d=e("../../../../lang/evaluation/element_eval");var p=e("../../../../u/shared/callbacks"),_=p.ignoreError;t.exports={property_applications:[new u.MinWidth],initialize:function e(t){t.wait_for_visible_lite((function(){d.on_property_change(t,"greyout_color",(function(e){f.apply_greyout_color(t,e)}));d.on_property_change(t,"greyout_blur",(function(e){if(![null,undefined,0].includes(e)){t.wait_for_visible((function(){f.apply_blur_effect_to_greyout(t,e)}))}}));var e=0;t.on_message("child_movement",(function(r){e=r;t.wait_for_visible((function(){var r=t.element.get_height()+e;f.get_popup_positioning(t,r);t.get_canvas()[0].style.height=r+"px"}))}));t.on_destroy((function(){if(![null,undefined,0].includes(t.get_static_property("greyout_blur"))||t.edit_mode()){f.remove_blur_effect_to_greyout(t)}}))}))},position_canvas:function e(t,r){var n;if(r.responsive_mode()){n="absolute";var o=i.div("r-wrapper popup");o.append(t);a().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper").append(o);r.container.add_to_instances(r);a().visual_edit.responsive_canvas.register_wrapper(r.element_id(),o,true);t.hide()}else if(r.edit_mode()){$(".canvas").append(t);n="absolute"}else{$(window.document.body).append(t);n="fixed";t.css("display","none")}var s=r.element.get_width();u.apply_css_style(t,{height:r.element.get_height()+"px",top:f.get_popup_top(r)+"px",position:n,left:"50%"});r.autorun((function(){var e;t.css("z-index",c.POPUP_ZINDEX+((e=r.state("popup_zindex"))!=null?e:0))}));t.data("overwrite-left","50%");if(r.run_mode()||r.responsive_mode()){var l=function e(t){if(r.run_mode()){var n;(n=t)!=null?n:t=$(window).width()}else if(r.responsive_mode()){var o;(o=t)!=null?o:t=a().visual_edit.responsive_canvas.current_width_without_dependency}return Math.max(r.element.get_min_width(),Math.min(r.element.get_width(),t-20))};r.on_resize((function(e){if(r.is_visible()){f.resize_popup(r,l(e))}}));var d=null;$(window).on("resize.popup_"+r.element_id(),(function(){var e=$(window).height();if(e!==d){d=e;f.get_popup_positioning(r)}}));r.on_destroy((function(){return $(window).off("resize.popup_"+r.element_id())}))}else{u.apply_css_style(t,{width:s+"px","margin-left":"-"+s/2+"px"})}},do_show:function e(t,o,s,p){t.ensure_drawn();var m=t.get_canvas();t.state("has_been_absolutely_positioned",null);f.add_layer(t);m=t.get_canvas();var y=f.get_greyout(t);if(t.run_mode()){var v;y.css("z-index",c.POPUP_ZINDEX+((v=t.state("popup_zindex"))!=null?v:0))}if(![null,undefined,0].includes(t.get_static_property("greyout_blur"))||t.edit_mode()){f.apply_blur_effect_to_greyout(t,t.get_static_property("greyout_blur"))}if(t.run_mode()){f.get_popup_positioning(t);i.run_once(30,(function(){return{height:d.evaluate_property(t,"height"),width:d.evaluate_property(t,"width")}}),_((function(e){var a,c,d;var _=e.height,v=e.width;(a=(c=m).velocity)==null?void 0:a.call(c,"stop");(d=y.velocity)==null?void 0:d.call(y,"stop");f.get_popup_positioning(t,_);u.apply_css_style(m,{opacity:0,"margin-left":"-"+v/2+"px",width:v+"px"});var b=Math.max(t.element.get_min_width(),Math.min(v,$(window).width()-20));m[0].style.display="block";if(p){l.perform_animate_in(t,o,s,true);r((function(){f.resize_popup(t,b);m[0].style.display="block"}))}else{o={animation:"transition.fadeIn"};s={duration:300};r((function(){f.resize_popup(t,b)}));l.perform_animate_in(t,o,s,true)}u.apply_css_style(y,{opacity:0,display:"block"});i.velocity(y,"fadeIn",{duration:300,complete_cb:function e(){y[0].style.top="-1px";setTimeout((function(){y[0].style.top="0px"}),151)}});setTimeout((function(){var e=[];var r=false;function o(t){var s;var i=n((s=t.children)!=null?s:[]),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.element.get_messages().includes("set_focus")){if(l.get_canvas().is(":focus")){r=true;return}e.push(l)}o(l)}}catch(e){i.e(e)}finally{i.f()}}o(t);if(r){return}e=e.filter((function(e){return e.state("tab_index")&&e.is_visible()}));e.sort((function(e,t){if(e.state("tab_index")<=t.state("tab_index")){return-1}else{return 1}}));var s=n(e),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.is_visible()){if(a.element.type()!=="DateInput"){a.message("set_focus")}break}}}catch(e){s.e(e)}finally{s.f()}}),400);if(!t.get_static_property("prevent_user_from_closing_through_esc")){$(document).off("keydown.escape");$(document).on("keydown.escape",(function(e){if(e.keyCode===27){t.do_hide();$(document).off("keydown.escape")}}));y.off("click");y.on("click",(function(){t.do_hide()}))}t.message("popup_opened")})))}else{m[0].style.display="block";t._is_visible_me=true;t._update_visible();if(!t.thumbnail_mode()){y[0].style.display="block"}if(t.responsive_mode()){y[0].style.height=y.parents(".res-preview").find(".main-page").height()+"px";i.run_once(30,(function(){return d.evaluate_property(t,"width")}),_((function(e){var r=a().visual_edit.responsive_canvas.current_width_without_dependency;e=Math.max(t.element.get_min_width(),Math.min(e,r-20));f.resize_popup(t,e)})))}}},do_hide:function e(t,r,n,o){if(!t.is_drawn){return}t.set_animating(true);if(i.on_phonegap()){$(window).off("touchmove.popup_opened")}var s=t.get_canvas();var a=f.get_greyout(t);if(![null,undefined,0].includes(t.get_static_property("greyout_blur"))||t.edit_mode()){f.remove_blur_effect_to_greyout(t)}if(!t.edit_mode()&&s.is(":visible")){var l,u;(l=s.velocity)==null?void 0:l.call(s,"stop");(u=a.velocity)==null?void 0:u.call(a,"stop");if(o){var c,d,p,_,m;(c=t._transforms)!=null?c:t._transforms={};(p=(d=t._transforms).initial_opacity)!=null?p:d.initial_opacity=s[0].style.opacity;(m=(_=t._transforms).initial_transform)!=null?m:_.initial_transform=s[0].style.transform;i.velocity(s,r.animation,{duration:n.duration,transform:"",complete_cb:function e(){t.set_animating(false);s[0].style.transform=t._transforms.initial_transform;s[0].style.opacity=t._transforms.initial_opacity;t._transform=undefined}})}else{i.velocity(s,"fadeOut",{duration:300,complete_cb:function e(){t.set_animating(false);s[0].style.display="none"}})}i.velocity(a,"fadeOut",{duration:300,complete_cb:function e(){a[0].style.display="none"}});t.message("popup_closed")}else{s[0].style.display="none";a[0].style.display="none";t.set_animating(false)}t._is_visible_me=false;t._update_visible();f.remove_layer(t);f.set_body_overflow()}}}).call(this)}).call(this,e("timers").setImmediate)},{"../../../../constants/runmode":91,"../../../../lang/elements":557,"../../../../lang/evaluation/element_eval":567,"../../../../lib":614,"../../../../u":687,"../../../../u/shared/callbacks":705,"../../../property_applications":405,"../../shared/popups":364,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,timers:1289}],340:[function(e,t,r){(function(r){(function(){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../../u");var a=e("../../../property_applications");var l=e("../../../../constants/runmode");var u=e("../../../../db/hydrate");var c=e("../../../../logger");var f=e("../../core_elements_utilities/element_utils");var d=e("../../shared/dropdowns");var p=e("../../shared/radiobuttons");var _=e("../../shared/inputs");var m=e("../../../../lang/evaluation/element_eval");var y=50;t.exports={property_applications:[new a.MinWidth],can_defer_drawing:function e(){return true},register:function e(t){var r=this;var n=i.Watcher((function(){if(!t.state("has_been_changed")){return false}var e=t.state("value");if(e==null){return false}return!r._choice_list_contains(t,e)}));t.on_destroy((function(){return n.destroy()}));n.on_value((function(e){if(e){t.message("reset_input")}}))},initialize:function e(t){var o=this;t.wait_for_visible_lite((function(){var e=i.LUID();var s=t.get_canvas();var v=i.div("radio-v0",s);if(t.run_mode()){s.addClass(l.CLICKABLE_ELEMENT)}t.on_message("set_focus",(function(){return s.find("input:first").focus()}));f.register_tab_index_listener(t,(function(e){s.find("input:first").attr("tabindex",e)}));if(t.edit_mode()){v[0].style.height="100%"}m.on_property_change(t,"color",(function(e){var t=n(p.bootstrap_colors),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;v.removeClass("radio-"+o)}}catch(e){t.e(e)}finally{t.f()}v.addClass("radio-"+e)}));var b={};function h(t,r){var n=u.dehydrate_tree_to_string_safe(t.value);var o=$('<input type="radio" value="'+n+'" name="'+e+'" id="'+e+"_option_"+r+'"><label for="'+e+"_option_"+r+'">'+t.display+"</label>");o.data("bubble_val",n);b[n]=o;return o}var j=function e(){var r;if(t.edit_mode()&&m.evaluate_property(t,"choices_style")==="dynamic"){r=["Dynamic choice 1","Dynamic choice 2","Dynamic choice 3","Dynamic choice 4"];t.get_canvas().data("Dynamic choice 1");return r.map((function(e){return{display:e,value:e}}))}r=o._get_raw_choice_list(t);var s=o._get_display_option(t);var a=r.get_children(0,y);i.run_once(30,(function(){return a.map((function(e){return s(e)}))}));var l=[];var u=n(a),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;l.push({display:s(f),value:f})}}catch(e){u.e(e)}finally{u.f()}return l};var g=null;function w(e){var r,n;g=e;b=s.data("options_div_mapping");if(!e){if(t.edit_mode()){var o;var i=Object.values((o=b)!=null?o:{})[0];if(i!=null){i[0].checked=true;return}}else{for(var a=0,l=Object.values((c=b)!=null?c:{});a<l.length;a++){var c;var f=l[a];f[0].checked=false}}}var d=u.dehydrate_tree_to_string_safe(e);var p=(r=b)==null?void 0:(n=r[d])==null?void 0:n[0];if(p!=null){p.checked=true}}var O=function e(){var n;v.empty();b={};var o=t.get_static_property("columns");var l=m.evaluate_property(t,"width");var u=Math.max(Math.floor(o/t.element.get_width()*l),1);var f=10;var p=20;var _=(l-a.calculate_border_width(t))/u-f;_-=p;var y=j();for(var O=0;O<y.length;O++){var S=y[O];n=h(S,O);v.append(n);var k=$(n[1]);k[0].style.width=_+"px";k[0].style["margin-right"]=p+"px";if(O<u){k[0].style["margin-top"]="3px"}else{k[0].style["margin-top"]="12px"}}s.data("options_div_mapping",b);v.find("input[type=radio]").on("change",(function(){var e=d.rehydrate_dropdown_value($(this).data("bubble_val"));t.message("user_submit",e);w(e)}));w(g);var A=m.evaluate_property(t,"disabled");for(var E=0,x=Object.values((M=b)!=null?M:{});E<x.length;E++){var M;var P=x[E];P[0].disabled=A}if(!t.edit_mode()&&!t.thumbnail_mode()){var T=s.outerHeight()-s.height();var I=t.element.get_height();r((function(){var e=i.MakeKey(null,"wrapper_drawn");i.run_once(30,(function(){var e=parseInt(v.css("height").replace("px",""));if(e>0){return e}}),(function(r,n){if(r){c.log(r);return}if(n>0){e.turn();return t.set_height(Math.max(I,n+T))}}))}))}};_.input_change_autorun(t,(function(e){return w(e)}));i.autorun((function(){var e=m.evaluate_property(t,"disabled");for(var r=0,n=Object.values((o=b)!=null?o:{});r<n.length;r++){var o;var s=n[r];s[0].disabled=e}}));t.autorun((function(){if(t.is_visible()){O()}}))}))}}}).call(this)}).call(this,e("timers").setImmediate)},{"../../../../constants/runmode":91,"../../../../db/hydrate":422,"../../../../lang/evaluation/element_eval":567,"../../../../logger":617,"../../../../u":687,"../../../property_applications":405,"../../core_elements_utilities/element_utils":282,"../../shared/dropdowns":354,"../../shared/inputs":360,"../../shared/radiobuttons":365,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,timers:1289}],341:[function(e,t,r){(function(r){(function(){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.concat.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../../../u");var f=e("../../../../lang/elements");var d=e("../../../property_applications");var p=e("../../../../lib");var _=e("../../../../languages");var m=e("../../../status_bar");var y=e("../../../../logger");var v=e("../../../../db/sample");var b=e("../../../../lang/btypes");var h=e("../../core_elements_utilities/element_utils");var j=e("../../../../client/epoch");var g=e("../../../../constants/epoch");var w=e("../../shared/repeating_group_utils");var O=e("../../shared/repeating_groups");var S=e("../../GroupItem");var k=e("../../../../lang/evaluation/element_eval");var A="#CCCCCC";var E=5e3;var x=g.SPANS.rg_display_data_in_cells;var M=g.SPANS.rg_add_cells;function P(e){if(e.get_static_property("layout_style")==="horizontal_scroll"){return 1}else{return e.get_static_property("rows",true)}}t.exports={register:function e(t){t.repeating_group_layout={max_index:null,add_cells:null,has_written_a_list:false,do_create_container:function e(){return{}},finished_loading_switch:c.MakeSwitch(null,"loading_switch"),raw_list_data:function e(){return null}};var n=null;function o(e){var r;if(e!==undefined){t.repeating_group_layout.has_written_a_list=true}if(e&&e.dehydrate){r=e.dehydrate()}else{r="no data";e=null}if(r!==n){n=r;t.state("list_data",e);t.state("show_range",0)}}if(t.responsive_mode()){r((function(){var e;var r=(e=t.get_static_property("group_type"))!=null?e:"user";return o(p().db_instance().static_list(r,[new v.SampleObject(r)]))}))}else if(t.run_mode()){t.state("list_data",f.STATE_NOT_READY);var s=new Map;t.autorun((function(){if(!t.state("datasource_changed_by_workflow_action")){var e=k.evaluate_property(t,"data_source");O.check_astable_loop(t,e,s);o(e)}}));t.on_message("set_list_data",(function(e){t.state("datasource_changed_by_workflow_action",true);o(e)}));t.on_message("clear_list",(function(){var e;t.state("datasource_changed_by_workflow_action",false);var r=t.get_static_property("layout_style");if(r==="limit_items"){t.state("show_range",0)}else if(r==="infinite_scroll"){var n;(n=t.get_canvas())==null?void 0:n.scrollTop(0)}else if(r==="horizontal_scroll"){var o;(o=t.get_canvas())==null?void 0:o.scrollLeft(0)}var s=a((e=t.children)!=null?e:[]),i;try{for(s.s();!(i=s.n()).done;){var l=i.value;h.reset_inputs_and_groups(l)}}catch(e){s.e(e)}finally{s.f()}}));t.on_message("show_next",(function(e){var r;(r=e)!=null?r:e=false;c.run_once(30,(function(){var e;return(e=t.state("list_data"))==null?void 0:e.length()}),(function(r,n){var o;if(r){y.log(r);return}var s=P(t)*O.get_fixed_cell_rg_column_count(t);var i=t.state("show_range");i+=s;if(t.get_static_property("stable_pagination")){o=i>=n;if(o&&e){i=0}else if(o){return}}else{o=i===n;var a=i+s>n;if(o&&e){i=0}else if(a){i=Math.max(n-s,0)}}t.state("show_range",i)}))}));t.on_message("show_previous",(function(e){var r;(r=e)!=null?r:e=false;return c.run_once(30,(function(){var e;return(e=t.state("list_data"))==null?void 0:e.length()}),(function(r,n){if(r){y.log(r);return}var o=P(t)*O.get_fixed_cell_rg_column_count(t);var s=t.state("show_range");if(s===0&&e){if(t.get_static_property("stable_pagination")){s=Math.max(n-o+n%o,0)}else{s=Math.max(n-o,0)}}else{s=Math.max(s-o,0)}return t.state("show_range",s)}))}));t.on_message("go_to_page",(function(e){return c.run_once(30,(function(){var e;return(e=t.state("list_data"))==null?void 0:e.length()}),(function(r,n){if(r){y.log(r);return}var o=P(t)*O.get_fixed_cell_rg_column_count(t);var s=(e-1)*o;if(s+o>n&&!t.get_static_property("stable_pagination")){s=Math.max(0,n-o)}return t.state("show_range",s)}))}));t.on_message("draw_till",(function(e){var r=t.get_static_property("layout_style");if(!["infinite_scroll","horizontal_scroll","vertical_extendable"].includes(r)||!t.repeating_group_layout.max_index){return}if(t.repeating_group_layout.max_index()>e){return}t.repeating_group_layout.add_cells(e+1);t.repeating_group_layout.max_index(e)}));t.on_message("scroll_to",(function(e){if(t.get_static_property("layout_style")==="limit_items"){return}c.WaitFor(t.get_children_drawn_key(),(function(){c.run_once(30,(function(){var r=t.state("list_data");if(r==null&&!t.state("loading")){return-1}return r==null?void 0:r.position(e.entry,b.get(t.get_static_property("group_type")))}),(function(r,n){var o,s;if(r){y.log(r);return}if(n===-1){return}function i(){var r;var o=t.children[n];var s=t.get_static_property("layout_style");if(s==="infinite_scroll"){r=o.get_canvas().position().top+t.get_canvas().scrollTop()+e.offset;if(e.animate){return t.get_canvas().animate({scrollTop:r},300)}else{return t.get_canvas().scrollTop(r)}}else if(s==="horizontal_scroll"){r=o.get_canvas().position().left+t.get_canvas().scrollLeft();if(e.animate){return t.get_canvas().animate({scrollLeft:r},300)}else{return t.get_canvas().scrollLeft(r)}}else{if(e.animate){return c.velocity(o.get_canvas(),"scroll",{duration:300,offset:-e.offset})}else{var i;var a=o.get_canvas();while(a.length&&!a.hasClass("main-page")&&!i){if(a.css("position")==="fixed"){i=a}a=a.parent()}if(!a.length||a.hasClass("main-page")){i=$(window)}return i.scrollTop(o.get_canvas().offset().top+e.offset)}}}if(!((o=t.children)!=null&&(s=o[n])!=null&&s.is_visible())){c.wait_for_updates((function(){t.message("draw_till",n);function e(){setTimeout((function(){var r,o,s;if((r=t.children)!=null&&(o=r[n])!=null&&o.is_visible()&&(s=t.children)!=null&&s[n].canvas.is(":visible")){i()}else{e()}}),50)}e()}))}else{i()}}))}))}))}},initialize:function e(t){var o;var s=t.get_canvas();var i=function e(){var t,r;return((t=window)==null?void 0:(r=t.BrowserDetect)==null?void 0:r.OS)==="Windows"};var a=function e(){return _.is_rtl(p().app_language())};var l=function e(){return t.get_static_property("columns",true)};var u=function e(){var r;return(r=t.columns)!=null?r:l()};var v=function e(t){return Math.floor((t-1)/u())+1};var b=function e(t){return(t-1)%u()+1};function h(e){if(t.get_static_property("layout_style")==="horizontal_scroll"){return false}else{return v(e)>1}}function g(e){if(t.get_static_property("layout_style")==="horizontal_scroll"){return e>1}else{return b(e)>1}}var k=1;var T=function e(){return t.edit_mode()&&t.state("show_borders")&&(t.get_static_property("separator_width")===0||t.get_static_property("separator_style")==="none")};function I(){if(T()){return k}else{return O._get_separator_width(t.element)}}function C(){var e=t.element.get_width();var r=e-O.get_external_border_width(t);var n=r-I()*(u()-1);return Math.floor(10*n/(u()+0))/10}function R(){var e=t.element.get_height();var r=e-O.get_external_border_width(t);var n=r-I()*(P(t)-1);return Math.floor(10*n/(P(t)+0))/10}var N=function e(){return t.element.get_zindex()};function L(e,r){if(h(e)){d.apply_css_style(r,{"border-top-width":I()+"px","border-top-color":T()?A:t.get_static_property("separator_color"),"border-top-style":T()?"solid":t.get_static_property("separator_style")})}else{r[0].style["border-top-style"]="none"}return t.autorun((function(){var n;if(a()){n="right"}else{n="left"}if(g(e)){var o={};o["border-"+n+"-width"]=I()+"px";o["border-"+n+"-color"]=T()?A:t.get_static_property("separator_color");o["border-"+n+"-style"]=T()?"solid":t.get_static_property("separator_style");return d.apply_css_style(r,o)}else{r[0].style["border-"+n+"-style"]="none"}}))}var z;function D(){if(z==null){if(["show_all","vertical_extendable","limit_items"].includes(t.get_static_property("layout_style"))){z=0}else{var e=c.div("div-for-scrollbar",$("body"));e.css("overflow-y","scroll");z=Math.max(e[0].offsetWidth-e[0].clientWidth,0);e.remove()}}return z}var q=function e(r,n){return t.autorun((function(){d.apply_css_style(n.canvas,{float:a()?"right":"left",position:"relative","box-sizing":"border-box","-moz-box-sizing":"border-box","z-index":N(),height:R()+(h(r)?I():0)+"px"});return B(r,n)}))};function B(e,n,o){var s,i;var a=(s=o!=null?o:t.repeating_group_layout.cell_width)!=null?s:C();if(t.get_static_property("layout_style")!=="horizontal_scroll"){if(b(e)===u()){if(u()>1){a-=D()+1}}}d.apply_css_style(n.canvas,{width:a+(g(e)?I():0)+"px"});L(e,n.canvas);n==null?void 0:(i=n.child_container)==null?void 0:i.resize_width(a);return r((function(){var e;return n==null?void 0:(e=n.child_container)==null?void 0:e.resize_width(a)}))}function U(){var e;if(t.edit_mode()||t.thumbnail_mode()){e=$("> .list-dummy",s)}else{if($("> .rows",s).length){e=$("> .rows > .list-dummy",s)}else{e=$("> .list-dummy",s)}}return e}t.on_message("resize_cell",(function(e,t,r){return B(e,t,r)}));t.on_message("resize_dummies",(function(e){var t=U();for(var r=0;r<t.length;r++){var n=t[r];B(r+1,{canvas:$(n)},e)}}));if(!(t.run_mode()||t.responsive_mode())){o=c.div("list-item",t.canvas)}t.wait_for_visible_lite((function(){if(t.run_mode()||t.responsive_mode()){var e;var r=t.get_static_property("layout_style");t.children=[];var o=[];var l=w.evaluate_extra_fields(t.element);var _=function e(r,n){var o;(o=t.repeating_group_layout._raw_list_data_watcher)==null?void 0:o.destroy();t.repeating_group_layout._raw_list_data_watcher=c.Watcher((function(){var e,o,s,i;var a=r();var u=n();var c=t.state("list_data");return(e=c==null?void 0:(o=c.with_extra_fields)==null?void 0:(s=(i=o.call(c,l)).get_children)==null?void 0:s.call(i,a,u))!=null?e:[]}));t.repeating_group_layout._raw_list_data_watcher.on_value((function(){t.state("loading",true);t.repeating_group_layout.finished_loading_switch.turn_off()}));t.repeating_group_layout.raw_list_data=function(){return t.repeating_group_layout._raw_list_data_watcher.get()}};var v=function n(s,i){if(!(t.responsive_mode()&&s>1)){var a=new S(t,R(),s);var l=f.ElementInstance(a,t.mode);l.state("group_data",f.STATE_NOT_READY);l.drawn_key=c.MakeKey(null,"cell_drawn");a.instance=l;t.children.push(l);l.state("cell_index",s);l._is_visible_me=false;l.register(t);l.create_skeleton(e);l.start_draw_tree();q(s,l);L(s,l.canvas);l.do_hide();l.drawn_key.turn()}if(r!=="show_all"){var u=c.div("list-dummy",i);q(s,{canvas:u});L(s,u);o.push(u)}};var b;var h=function e(){return j.traceSpan(x.name,x.type,(function(){var e=null;return t.autorun((function(){var s;var i;if(!t.is_visible()){var a;(a=e)==null?void 0:a();return}t.state("loading",true);t.repeating_group_layout.finished_loading_switch.turn_off();if(!e){e=m.spinner(t)}var l=t.repeating_group_layout.raw_list_data();var f=t.state("list_data");if(!t.responsive_mode()){l=l.filter((function(e){return e!=null}))}(s=e)==null?void 0:s();e=null;var d;for(d=0;d<l.length;d++){var p=l[d];if(t.children[d]!=null){(function(){var e;var n=t.children[d];c.WaitFor(c.page_loaded_key,(function(){return n.can_register_workflows().turn()}));n.message("set_group_data",p);n.do_show();if(["show_all","vertical_extendable"].includes(r)){n.message("child_shown")}var s=(e=o[d])==null?void 0:e[0];if(s!=null){s.style.display="none"}})()}}t.last_cell=d;var _=t.children[d-1];if(_&&["show_all","vertical_extendable"].includes(r)){_.message("child_shown")}var y=d;if(!["show_all","vertical_extendable"].includes(r)){var v;var h,j;var g=P(t)*u();for(v=y,j=o.length,h=y<=j;h?v<j:v>j;h?v++:v--){var w;if(v<g){var O;i=(O=o[v])==null?void 0:O[0];if(i!=null){i.style.display="block"}}(w=t.children[v])==null?void 0:w.do_hide()}if(["infinite_scroll","horizontal_scroll"].includes(r)&&y<o.length){var S,k;for(v=y,k=o.length,S=y<=k;S?v<k:v>k;S?v++:v--){i=o[v][0];if(i!=null){i.style.display="none"}}}}else{for(var A=y,E=t.children.length,x=y<=E;x?A<E:A>E;x?A++:A--){t.children[A].do_hide();if(r==="vertical_extendable"){var M;i=(M=o[A])==null?void 0:M[0];if(i!=null){i.style.display="none"}}}if(y<t.children.length){t.children[t.children.length-1].message("child_shown")}}if(r==="horizontal_scroll"){b[0].style.width=d*C()+(d-1)*I()+10+"px"}if(f!=null&&r==="limit_items"&&u()===1&&P(t)===1){if(t.state("show_range")===(f==null?void 0:f.length())&&f.length()>1){t.state("show_range",f.length()-1)}}if(t.repeating_group_layout.has_written_a_list){c.wait_for_updates((function(){t.mark_children_registered();return t.get_children_drawn_key().turn()}))}c.wait_for_updates((function(){var e=t.repeating_group_layout._raw_list_data_watcher.get_current_status_array(),r=n(e,2),o=r[0],s=r[1];var i=!s||o!=null;t.state("loading",i);if(i){t.repeating_group_layout.finished_loading_switch.turn_off()}else{t.repeating_group_layout.finished_loading_switch.turn_on()}}))}))}))};if(["infinite_scroll","horizontal_scroll","show_all","vertical_extendable"].includes(r)){var g=0;b=c.div("rows",s);b[0].style["-webkit-transform"]="translateZ(0)";if(r==="infinite_scroll"){b[0].style["min-height"]=t.element.get_height()+1+"px"}t.repeating_group_layout.add_cells=function(e){j.traceSpan(M.name,M.type,(function(){if(e>g){for(var n=g+1,o=n,s=e,i=n<=s;i?o<=s:o>=s;i?o++:o--){v(o,b)}g=e;t.last_cell=g}if(r==="horizontal_scroll"){b[0].style.width=e*C()+(e-1)*I()+10+"px"}}))};e=t.container.create_child(t,b);if(["infinite_scroll","horizontal_scroll","vertical_extendable"].includes(r)){var k=function e(n,o){var s;(s=n)!=null?s:n=1;U=true;c.run_once(30,(function(){var e,r,o;return(e=(r=t.state("list_data"))==null?void 0:(o=r.with_extra_fields)==null?void 0:o.call(r,l).get_children(t.repeating_group_layout.max_index(),n))!=null?e:[]}),(function(e,s){if(e){y.log(e);U=false;return}if(s.length){var i;var a=Math.min(s.length,n);if(r==="infinite_scroll"){i=u()}else{i=0}t.repeating_group_layout.add_cells(t.repeating_group_layout.max_index()+a+i);t.repeating_group_layout.max_index(t.repeating_group_layout.max_index()+a+i-1);c.wait_for_updates((function(){return U=false}))}else{U=false;o==null?void 0:o()}}))};var A=t.element.get_height()-O.get_external_border_width(t);var T=s.height();var N={"overflow-scrolling":"touch","-webkit-overflow-scrolling":"touch"};if(!t.responsive_mode()){if(r==="infinite_scroll"){if(i()){N["overflow-y"]="scroll"}else{N["overflow-y"]="auto"}}else if(r==="vertical_extendable"){N["overflow-y"]="hidden"}else if(r==="horizontal_scroll"){if(i()){N["overflow-x"]="scroll"}else{N["overflow-x"]="auto"}}}else{N["overflow-y"]="hidden"}d.apply_css_style(s,N);t.autorun((function(){return b[0].style.float=a()?"right":"left"}));var z=t.get_static_property("fixed_width");if(r==="vertical_extendable"){var D=function e(){var r=R();if(r===0){return 0}var n=Math.ceil(($(window).scrollTop()+$(window).height()-s.offset().top)/r);return u()*Math.max(P(t),n)-1};t.repeating_group_layout.max_index=c.Box(D());setTimeout((function(){var e=D()-t.repeating_group_layout.max_index();if(e>0){return k(e)}}),100)}else if(r==="horizontal_scroll"&&!z){var B=function e(){return Math.ceil(s.width()/C())};t.repeating_group_layout.max_index=c.Box(Math.max(u(),B()));setTimeout((function(){var e=B()-t.repeating_group_layout.max_index();if(e>0){k(e)}}),100)}else{t.repeating_group_layout.max_index=c.Box(P(t)*u())}var U=false;var W="scroll wheel";if(["infinite_scroll","horizontal_scroll"].includes(r)){s.on(W,(function(e){var n=$(window).height();if(r==="infinite_scroll"){var o;if(!(c.is_on_mobile_or_tablet()||((o=window.BrowserDetect)==null?void 0:o.OS)==="Windows")){var i;var l=s.offset().top+T;if(U&&l<$(window).scrollTop()+n){e.preventDefault();return}else if(((i=e.originalEvent)==null?void 0:i.wheelDelta)<0&&l>$(window).scrollTop()+n){s[0].style["overflow-y"]="hidden";return}else{s[0].style["overflow-y"]="auto"}}if(s.scrollTop()+A>parseInt(b.css("height").replace("px",""))-50){k(2*u())}}else if(r==="horizontal_scroll"){if(U){e.preventDefault();return}var f=function e(){return k(2,(function(){return b.css("width",t.last_cell*C()+(t.last_cell-1)*I())}))};if(a()){if(s.scrollLeft()<C()){f()}}else{if(s.scrollLeft()+s.width()>parseInt(b.css("width").replace("px",""))-C()){f()}}}}))}else if(r==="vertical_extendable"){var F=function e(t){var r=null;t.on("DOMMouseScroll mousewheel scroll wheel",(function(e){if(U){return}clearTimeout(r);r=setTimeout((function(){var e=s.offset().top+s.height();var t=$(window).height();if(e<$(window).scrollTop()+Math.max(t+R()*2,100)){var r=Math.ceil(($(window).scrollTop()+t-e)/R()+2);k(Math.max(r+1,3)*u())}}),20)}))};var G=t.element.parents("FloatingGroup");if(G.length){var X,V;c.wait_for_attached(s,(function(){var e;var t;var r=s;while(r.length&&!r.is("body")){if(r.css("position")==="fixed"){t=r}r=r.parent()}(e=t)!=null?e:t=$(window);F(t)}),{error_message:'Dynamic data necessary to render vertically-extending Repeating Group "'.concat(t.element.display(),'" inside Floating Group "').concat((X=G[0])==null?void 0:(V=X.display)==null?void 0:V.call(X),'" was not ready on page load.\nFor better performance, please set the repeating group to "full list" or re-structure the page to have the repeating group\'s data load earlier elsewhere on the page.')})}else{F($(window))}}t.repeating_group_layout.add_cells(t.repeating_group_layout.max_index()+1);_((function(){return 0}),(function(){return t.repeating_group_layout.max_index()+1}));h()}else{b[0].style.overflow="hidden";t.repeating_group_layout.max_index=c.Box(null,true);_((function(){return 0}),(function(){return t.repeating_group_layout.max_index()}));h();t.autorun((function(){var e,r;var n=Math.min((e=(r=t.state("list_data"))==null?void 0:r.length())!=null?e:0,E);if(n>100){y.owner_warn(new c.OwnerError("repeating group showing more than 100 items",{display:"This repeating group is showing more than 100 items, which can considerably slow down your page. You should consider using infinite scrolling",element_instance:t}))}c.autorun_top((function(){t.repeating_group_layout.add_cells(n);t.repeating_group_layout.max_index(n)}));if(n===0){return t.set_height(0)}}))}}else{e=t.container.create_child(t,t.canvas);for(var H=1,Y=P(t)*u(),K=Y>=1;K?H<=Y:H>=Y;K?H++:H--){v(H,t.canvas)}_((function(){return t.state("show_range")}),(function(){return P(t)*u()}));return h()}}else{var J,Z,Q;if(t.thumbnail_mode()&&!((J=p().styles_editor)!=null&&(Z=J.element_styles_editor())!=null&&(Q=Z.owner)!=null&&Q.is_active())){c.run_once(60,(function(){return t.start_child_drawing()}))}}}))},get_container_width:function e(t){var r;var n=t.get_static_property("columns",true);if([undefined,null,"none"].includes(t.get_static_property("separator_style",true))){r=t.get_static_property("separator_width",true)}else{r=0}return(t.get_width()-r*(n-1)-O.get_external_border_width(t))/n},additional_data:{notify_width:function e(t,r){if(!t.get_static_property("fixed_width")){var n;var o=O._get_separator_width(t.element);var s=t.get_static_property("columns",true);var i=O._get_cell_width(t.element);if(t.get_static_property("layout_style")!=="horizontal_scroll"){if(r){var a,l;var u,c;if(s===1&&!t.get_static_property("allow_more_than_one_colum")){u=1;n=r-O.get_external_border_width(t)}else{var f=this.get_min_width(t.element);var d=(r-o*(s-1)-O.get_external_border_width(t))/s;if(d<f){n=f}else{if(r>t.element.get_width()){n=i}else{n=d}}u=Math.max(Math.floor(r/n),1);n=(r-o*(u-1)-O.get_external_border_width(t))/u;var p=r-O.get_external_border_width(t)-u*n-o*(u-1);n=n+p/u}t.columns=u;t.repeating_group_layout.cell_width=n;var _=(a=t.children)!=null?a:[];for(var m=0;m<_.length;m++){c=_[m];t.message("resize_cell",m+1,c,n)}(l=c)==null?void 0:l.message("child_shown");var y=t.responsive_mode();var v=t.run_mode()&&!t.get_static_property("fixed_width");if(y||v){t.message("resize_dummies",n)}}}else{var b=t.get_canvas().scrollLeft();t.get_canvas().find("> .rows").css("width",t.last_cell*i+(t.last_cell-1)*o+10);t.get_canvas().scrollLeft(b);if(t.responsive_mode()){t.message("resize_dummies",n)}}}}}}}).call(this)}).call(this,e("timers").setImmediate)},{"../../../../client/epoch":41,"../../../../constants/epoch":74,"../../../../db/sample":454,"../../../../lang/btypes":537,"../../../../lang/elements":557,"../../../../lang/evaluation/element_eval":567,"../../../../languages":612,"../../../../lib":614,"../../../../logger":617,"../../../../u":687,"../../../property_applications":405,"../../../status_bar":407,"../../GroupItem":242,"../../core_elements_utilities/element_utils":282,"../../shared/repeating_group_utils":366,"../../shared/repeating_groups":367,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,timers:1289}],342:[function(e,t,r){"use strict";var n=e("../../../property_applications");var o=e("../../shared/image_utils");t.exports={property_applications:[new n.MinWidth],initialize:function e(){},additional_data:{notify_width:function e(t,r){return o.keep_proportions(t,r)}}}},{"../../../property_applications":405,"../../shared/image_utils":359}],343:[function(e,t,r){(function(r){(function(){"use strict";e("core-js/modules/es.array.find.js");e("core-js/modules/web.immediate.js");var n=e("../../../../u");var o=e("../../../property_applications");var s=e("../../core_elements_utilities/element_utils");var i=e("../../../../constants/runmode");var a=e("../../shared/inputs");var l=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new o.MinWidth],initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();var o=n.MakeKey(null,"slider_init");var u=n.div("jquery-slider",e);u.slider();e.css("padding",8);var c=function e(){return u.slider("instance")};t.on_destroy((function(){if(c()){u.slider("destroy")}}));if(!t.run_mode()){u.off()}if(t.run_mode()){e.addClass(i.CLICKABLE_ELEMENT);t.wait_for_visible((function(){n.WaitFor(o,(function(){l.on_property_change(t,"disabled",(function(e){u.slider("option","disabled",e)}));t.on_message("set_focus",(function(){return e.find(".ui-slider-handle").focus()}))}))}))}l.pre_cache(t,["min_value","max_value","step","range_type","orientation","height","width","handle_color","range_area_color","border_color","background_color"]);t.autorun((function(){var n,i;var f;if(t.get_styleable_static_property("range_type")==="range"){f="values"}else{f="value"}var d={};for(var p=0,_=["min_value","max_value","step","range_type","orientation","height","width","handle_color","range_area_color","border_color","background_color"];p<_.length;p++){var m=_[p];d[m]=l.evaluate_property(t,m)}var y={min:(n=d.min_value)!=null?n:0,max:(i=d.max_value)!=null?i:9,step:d.step,range:d.range_type==="range",orientation:d.orientation,slide:function e(n,o){r((function(){t.message("user_change",u.slider(f))}));return true},stop:function e(n,o){r((function(){t.message("user_submit",u.slider(f))}));return true}};if(!t.thumbnail_mode()||c()){for(var v in y){var b=y[v];u.slider("option",v,b)}}var h={"margin-left":3,"margin-right":3,cursor:l.evaluate_property(t,"disabled")?"default":"pointer",background:d.background_color,"border-color":d.border_color};var j={cursor:l.evaluate_property(t,"disabled")?"default":"pointer",outline:"none","border-color":d.border_color};if(d.orientation==="horizontal"){h.height=d.height-16;h.width=d.width-23;j.top=-8;j.height=d.height-1;j.width=19;u.find(".ui-slider-range").css({height:"100%"})}else{h.width=d.width-22;h.height=d.height-20;j.width=d.width-11;j.height=19;u.find(".ui-slider-range").css({width:"100%"})}j.background=d.handle_color;if(d.range_type==="range"){u.find(".ui-slider-range").css({background:d.range_area_color})}u.css(h);u.find(".ui-slider-handle").css(j);o.turn();s.register_tab_index_listener(t,(function(t){e.find(".ui-slider-handle").attr("tabindex",t)}));if(t.thumbnail_mode()&&!c()){return}a.input_change_autorun(t,(function(e){if(f==="values"&&e==null){e=[]}u.slider(f,e)}))}))}))}}}).call(this)}).call(this,e("timers").setImmediate)},{"../../../../constants/runmode":91,"../../../../lang/evaluation/element_eval":567,"../../../../u":687,"../../../property_applications":405,"../../core_elements_utilities/element_utils":282,"../../shared/inputs":360,"core-js/modules/es.array.find.js":929,"core-js/modules/web.immediate.js":992,timers:1289}],344:[function(e,t,r){"use strict";var n=e("../../../../lang/appquery");var o=e("../../../property_applications");var s=e("../../../../lib");var i=e("./shared/text_elements");var a=e("../../../../lang/evaluation/element_eval");t.exports={property_applications:[new o.MinWidth],attempt_size_only_draw:function e(t){if(t.run_mode()||t.responsive_mode()){if(s().bubble_version()>=4&&!t.is_visible()){if(i.text_should_stretch_vertically(t)){i.set_text_height_to_invisibility_state(t);return false}}}return true},initialize:function e(t){var r=t.get_canvas();this.attempt_size_only_draw(t);t.autorun((function(){if(n.get_public_setting("bubble_version")>=10){o.apply_css_style(r,{"white-space":"pre-wrap"})}else{o.apply_css_style(r,{"white-space":""})}}));t.wait_for_visible_lite((function(){var e,n;var o;if(t.edit_mode()||t.responsive_mode()){o="letter";if(t.responsive_mode()){r[0].style.overflow="hidden"}}else{o="words";r[0].style.overflow="visible"}var l=t.get_static_property("stretch_to_fit");var u=t.get_static_property("cut_off_content");a.pre_cache(t,["text","font_size","padding_vertical","line_height","rotation_angle"]);s().bv().apply_dynamic_properties_text(t);if(t.edit_mode()||t.thumbnail_mode()||(e=t.element.root())!=null&&e.use_responsive_algorithm()&&u||!((n=t.element.root())!=null&&n.use_responsive_algorithm())&&!l){i.apply_dotdotdot(t,o)}if(t.responsive_mode()){r[0].style["pointer-events"]="none"}}))},additional_data:{notify_width:function e(t,r){t.state("notify_width",r)}}}},{"../../../../lang/appquery":535,"../../../../lang/evaluation/element_eval":567,"../../../../lib":614,"../../../property_applications":405,"./shared/text_elements":350}],345:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.replace.js");var n=e("../../../../u");var o=e("../../../../constants/known_plugins");var s=e("../../../property_applications");var i=e("../../../../services/shared/plugin_registry");var a=e("../../shared/video_elements");var l=e("../../shared/image_utils");var u=e("../../../../lang/evaluation/element_eval");var c=n.MakeKey(null,"always turned");c.turn();function f(e){var t=n.MakeKey(null,"next video");n.WaitFor(c,(function(){return setTimeout((function(){e();t.turn()}),10)}));c=t}t.exports={property_applications:[new s.MinWidth],additional_data:{notify_width:function e(t,r){l.keep_proportions(t,r,true)}},initialize:function e(t){t.wait_for_visible_lite((function(){var e=t.get_canvas();setTimeout((function(){u.pre_cache(t,["video_source","video_id","autoplay","control_color_vimeo","width","height","padding_horizontal","padding_vertical","loop","auth_token"]);var r={};t.autorun((function(){var l,c,d,p;var _={};var m={};for(var y=0,v=["video_source","video_id","autoplay","control_color_vimeo","width","height","padding_horizontal","padding_vertical","loop","auth_token"];y<v.length;y++){c=v[y];m[c]=u.evaluate_property(t,c);if(m[c]!==r[c]){_[c]=m[c];r[c]=m[c]}}m.available_width=m.width-2*m.padding_horizontal-s.calculate_border_width(t);m.available_height=m.height-2*m.padding_vertical-s.calculate_border_height(t);for(var b=0,h=["available_width","available_height"];b<h.length;b++){c=h[b];if(m[c]!==r[c]){_[c]=m[c];r[c]=m[c]}}var j='<iframe allow="autoplay; fullscreen" width="'.concat(m.available_width,'" height="').concat(m.available_height,'" ');if(a.should_block_cookies()){j+=' sandbox="allow-scripts" '}if(m.video_source==="youtube"){var g;if(((g=m.video_id)==null?void 0:g.indexOf)!=null&&m.video_id.indexOf("watch?v=")!==-1){m.video_id=m.video_id.split("watch?v=")[1]}p="//www.youtube.com/embed/"+m.video_id+"?rel=0";if(m.autoplay&&t.run_mode()){p+="&autoplay=1"}if(m.loop&&t.run_mode()){p+="&loop=1&playlist="+m.video_id}j+=' frameborder="0" allowfullscreen modestbranding="1" autohide="1"'}if(m.video_source==="vimeo"){var w;if(((w=m.video_id)==null?void 0:w.indexOf)!=null&&m.video_id.indexOf("https://vimeo.com/")!==-1){m.video_id=m.video_id.split("https://vimeo.com/")[1]}var O=n.rgb_to_hex(m.control_color_vimeo).code.slice(1);p="//player.vimeo.com/video/"+m.video_id+"?title=0&byline=0&portrait=0&color="+O;if(m.autoplay&&t.run_mode()){p+="&autoplay=1"}if(m.loop&&t.run_mode()){p+="&loop=1"}j+=' frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'}if(m.video_source===o.ZIGGEO){var S=i.get_hardcoded_plugin(o.ZIGGEO);d=m.auth_token||(S==null?void 0:S.get_key(S.key_for_html_header));if(d){var k,A,E;l=$("<ziggeoplayer/>");l.attr({video:(k=m.video_id)!=null?k:"no_video",application:d,auth:"true",width:"100%",height:"100%",autoplay:(A=m.autoplay)!=null?A:"false",loop:(E=m.loop)!=null?E:"false",theme:"modern"});var x=l[0].outerHTML.replace(/"/g,"'");j+=" frameborder=\"0\" webkitAllowFullScreen mozallowfullscreen allowFullScreen\n                                style='overflow:hidden'\n                                srcdoc=\"\n<html style='overflow:hidden'>\n<head style='overflow:hidden'>\n<meta http-equiv='Content-Security-Policy' content='upgrade-insecure-requests'>\n<link rel='stylesheet' href='https://assets.ziggeo.com/v2-stable/ziggeo.css' />\n<script src='https://assets.ziggeo.com/v2-stable/ziggeo.js'><\/script>\n</head>\n<body style='margin:0px'>\n".concat(x,'\n</body>\n</html>\n"')}else{p="https://ziggeo.io/p/".concat(m.video_id);j+='height="'.concat(m.width,'"\nframeborder="0"\nscrolling="no"\nreferrerpolicy="no-referrer"\nallowspeakers ').concat(m.autoplay?"allowautoplay":"",' allowfullscreen\nallow="').concat(m.autoplay?"autoplay *; ":"",'  fullscreen *"\nstyle="width:').concat(m.width,"px;height:").concat(m.height,'px" ')}}j+="></iframe>";if(m.video_source!=="ziggeo"||!d){l=$(j);l.attr("src",p)}var M=m.video_source!=="ziggeo";var P={width:true,height:true,available_width:true,available_height:true};for(var T in _){if(P[T]){continue}M=false;break}if(t.run_mode()){if(M){e.children().attr({width:m.available_width,height:m.available_height});return}if(m.video_id){f((function(){e.empty();e.append(l)}))}else{e.empty()}}else{e.empty();e.append('<img style="width: '.concat(m.available_width,"px; height: ").concat(m.available_height,'px;" src="//s3.amazonaws.com/appforest_uf/f1665093563671x395094029933674050/video.png"></img>'))}}))}),20)}))}}},{"../../../../constants/known_plugins":80,"../../../../lang/evaluation/element_eval":567,"../../../../services/shared/plugin_registry":650,"../../../../u":687,"../../../property_applications":405,"../../shared/image_utils":359,"../../shared/video_elements":370,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979}],346:[function(e,t,r){"use strict";var n=r;var o=e("../../../../safe_require");o.safe_register("./core/core_elements/legacy/responsive_v0",n);var s=e("../../../property_applications");var i={Page:e("./Page"),Text:e("./Text"),Button:e("./Button"),Icon:e("./Icon"),Link:e("./Link"),Image:e("./Image"),Shape:e("./Shape"),Alert:e("./Alert"),Video:e("./VideoComponent"),HTML:e("./HTML"),GoogleMap:e("./GoogleMaps"),Group:e("./Group"),RepeatingGroup:e("./RepeatingGroup"),Popup:e("./Popup"),FloatingGroup:e("./FloatingGroup"),GroupFocus:e("./GroupFocus"),GroupWithFocus:e("./GroupWithFocus"),Input:e("./Input"),MultiLineInput:e("./MultiLineInput"),Checkbox:e("./Checkbox"),Dropdown:e("./Dropdown"),AutocompleteDropdown:e("./AutocompleteDropdown"),RadioButtons:e("./RadioButtons"),SliderInput:e("./SliderInput"),DateInput:e("./DateInput"),PictureInput:e("./PictureInput"),FileInput:e("./FileInput")};n.get_element_modifications=function(e){return i[e]};n.set_legacy_element_modifications=function(e,t){var r;(r=t)!=null?r:t={property_applications:[new s.MinWidth]};i[e]=t}},{"../../../../safe_require":643,"../../../property_applications":405,"./Alert":319,"./AutocompleteDropdown":320,"./Button":321,"./Checkbox":322,"./DateInput":323,"./Dropdown":324,"./FileInput":325,"./FloatingGroup":326,"./GoogleMaps":327,"./Group":328,"./GroupFocus":329,"./GroupWithFocus":330,"./HTML":331,"./Icon":332,"./Image":333,"./Input":334,"./Link":335,"./MultiLineInput":336,"./Page":337,"./PictureInput":338,"./Popup":339,"./RadioButtons":340,"./RepeatingGroup":341,"./Shape":342,"./SliderInput":343,"./Text":344,"./VideoComponent":345}],347:[function(e,t,r){"use strict";var n=e("../../../../../u");var o=r;o.resize_container_width=function(e,t){function r(){if(e.element.root().use_responsive_algorithm()){var r;return(r=n.real_inner_width(e.get_canvas()))!=null?r:t}else{return e.element.get_width()}}var o=r();if(o){var s;(s=e.child_container)==null?void 0:s.resize_width(o)}e._set_immediate((function(){n.wait_for_updates((function(){var t=r();if(t&&Math.abs(t-o)>1){var n;(n=e.child_container)==null?void 0:n.resize_width(t)}}))}))}},{"../../../../../u":687}],348:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");var n=e("../../../../../u");var o=e("../../../../../lang/elements");var s=r;var i=15;s.group_collapse_definition={do_show:function e(t,r,s,a,l){var u;t._is_visible_me=true;t.ensure_drawn();var c=t.get_canvas();var f=t.group_slide_timeout!==null;c[0].style.display="";t._update_visible();if(!t.run_mode()){return}(u=c.velocity)==null?void 0:u.call(c,"stop");if(t.group_slide_timeout!=null){clearTimeout(t.group_slide_timeout);t.group_slide_timeout=undefined}var d=t.get_static_property("collapse_when_hidden");function p(){var e;return(e=t.state("actual_height"))!=null?e:t.element.get_height()}if(d&&!a){if(t.get_static_property("collapse_animation")&&!l){switch(t.get_static_property("animation_type")){case"slide":{var _=function e(){var r=p();if(r!==m){m=r;y=m/i}if(v>=r){t.set_height(r);t.canvas.css("overflow","visible");t.group_slide_timeout=undefined;return}v+=y;t.set_height(v);t.group_slide_timeout=setTimeout((function(){return e()}),1)};t.canvas.css("overflow","hidden");var m=p();var y=m/i;var v=f?parseInt(c.css("height").replace("px","")):0;t.set_height(v);_();break}case"fade":{c[0].style.opacity=0;t.set_height(p());n.velocity(c,"fadeIn",{duration:400});t.canvas.css("overflow","visible")}}}else{t.set_height(p())}}else if(a){t.set_height(p());o.perform_animate_in(t,r,s,true)}else{t.set_height(p())}},do_hide:function e(t,r,o,s,a){var l;t.ensure_drawn();var u=t.get_canvas();if(!t.run_mode()){t._is_visible_me=false;t._update_visible();u[0].style.display="none";return}(l=u.velocity)==null?void 0:l.call(u,"stop");if(t.group_slide_timeout!=null){clearTimeout(t.group_slide_timeout);t.group_slide_timeout=undefined}var c=t.get_static_property("collapse_when_hidden");var f=parseInt(u.css("height").replace("px",""));if(c&&!s){if(t.get_static_property("collapse_animation")&&!a){switch(t.get_static_property("animation_type")){case"slide":{var d=function e(){if(_<=0){t.set_height(0);u[0].style.display="none";t.canvas.css("overflow","visible");t.group_slide_timeout=undefined;return}_-=p;t.set_height(_);t.canvas.css("height",_);t.group_slide_timeout=setTimeout((function(){return e()}),1)};t.canvas.css("overflow","hidden");var p=f/i;var _=f;d();break}case"fade":{n.velocity(u,"fadeOut",{duration:400,complete_cb:function e(){u[0].style.display="none";return t.set_height(0)}});break}}}else{t.set_height(0);u[0].style.display="none"}}else if(s){var m,y,v,b,h;(m=t._transforms)!=null?m:t._transforms={};(v=(y=t._transforms).initial_transform)!=null?v:y.initial_transform=u[0].style.transform;(h=(b=t._transforms).initial_opacity)!=null?h:b.initial_opacity=u[0].style.opacity;t.set_animating(true);n.velocity(u,r.animation,{duration:o.duration,complete_cb:function e(){t.set_animating(false);u[0].style.transform=t._transforms.initial_transform;u[0].style.opacity=t._transforms.initial_opacity;t._transforms=undefined;if(c){t.set_height(0)}}})}else{u[0].style.display="none"}t._is_visible_me=false;return t._update_visible()}}},{"../../../../../lang/elements":557,"../../../../../u":687,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977}],349:[function(e,t,r){"use strict";var n=r;var o=e("../../../../../lang/evaluation/element_eval");var s=e("../../../../property_applications");var i=e("../../../../../safe_require");i.safe_register("./core/core_elements/legacy/responsive_v0/shared/icons",n);n.calculate_font_size_for_fontawesome=function(e){e.autorun((function(){var t;var r=o.evaluate_property(e,"height");var n=(t=e.state("notify_width"))!=null?t:o.evaluate_property(e,"width");function i(){var t=Math.min(r,n);var o=Math.max(s.calculate_border_height(e),s.calculate_border_width(e));if(o!==0){t-=o+5}return t}e.get_canvas()[0].style["font-size"]=i()+"px"}))}},{"../../../../../lang/evaluation/element_eval":567,"../../../../../safe_require":643,"../../../../property_applications":405}],350:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.promise.js");e("core-js/modules/es.promise.finally.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.string.trim.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r;var s=e("../../../../property_applications");var i=e("../../../core_elements_utilities/element_utils");var a=e("../../../../../u");var l=e("../../../../../lang/elements");var u=e("../../../../../webfonts");var c=e("../../../../../logger");var f=e("../../../../../lang/evaluation/element_eval");var d=e("../../../../../lang/evaluation/element_props");var p=e("../../../../../constants/elements"),_=p.PADDING_VERSION;var m=e("../../../shared/text_elements");o.wait_for_img_tags_loaded=function(e,t){if(!(e instanceof $)){t();return}var r=e.find("img").not((function(){return this.complete}));if(!r.length){t();return}var n=r.length;r.on("load",(function(){n--;if(n===0){t()}}))};o.apply_dynamic_properties_text=function(e){var t=e.get_canvas();var r=e.get_static_property("shrink_if_less_high");var n=null;var c=null;var p=null;e.autorun((function(){e.state("notify_width");var y=["text","font_size","padding_vertical","line_height","rotation_angle","link_color","nofollow"];var v={};for(var b=0,h=y;b<h.length;b++){var j=h[b];v[j]=f.evaluate_property(e,j)}v.notify_width=e.state("notify_width");v.font_face=d.get_font_face(e);n=v;if(e.is_animating()){return}if(e.run_mode()||e.responsive_mode()){var g;if((g=e.element.root())!=null&&g.use_responsive_algorithm()&&e.element.element_version(true)<_){var w;t[0].style["padding-bottom"]=((w=v.padding_vertical)!=null?w:0)+"px"}if(o.text_should_stretch_vertically(e)){var O=function s(i){if(e.is_animating(true)){i();return}var a=e.is_visible(true);if(!a){i();return}c=JSON.stringify(n);m.apply_text(e,S,n);o.wait_for_img_tags_loaded(S,(function(){var n=t.outerHeight()-t.height();if(v.rotation_angle!=null&&![0,180].includes(v.rotation_angle)){i();return}var o=S.height();var s=e.element.get_height();if(r){p=o+n;e.set_height(p)}else{p=Math.max(s,o+n);e.set_height(p)}i()}))};if(!e.is_visible()){o.set_text_height_to_invisibility_state(e);return}if(JSON.stringify(v)===c){if(p){e.set_height(p)}return}var S=t.find(".content");if(S.length===0){S=a.div("content",t)}var k=a.div("content-for-img");var A=l.add_layout_resizing_key();a.wait_for_updates((function(){var t;if(a.has_bbcode(n.text)&&!e.get_static_property("no_bbcode")&&n.text.indexOf("[/img]")>-1){m.apply_text(e,k,n);t=k}else{t=null}o.wait_for_img_tags_loaded(t,(function(){var e=u.get_quoted_face_and_variant(v.font_face),t=e.font_family;var r=v.font_size;O((function(){var e;if((e=t)!=null&&e.includes("var(")){t=u.font_token_to_font(t).font_family}o.wait_for_font_loaded("".concat(r,"px ").concat(t),(function(e){if(e){A.turn();return}O((function(){return A.turn()}))}))}))}))}))}else{if(e.is_visible()){s.apply_css_style(t,{"word-break":"break-word"});m.apply_text(e,t,v)}}}else{m.apply_text(e,t,v);i.do_add_an_invisible_div_on_the_top(e)}}))};o.wait_for_font_loaded=function(e,t){if(e==null){t(true);return}if(document.fonts==null){t(true);return}if(document.fonts.check(e)){t(true);return}var r=document.fonts.load(e);if(r.finally!=null){r.finally((function(){return t(false)}))}else if(r.then!=null){r.then((function(){return t(false)})).catch((function(){return t(false)}));if(Math.random()>.99){var o,s;c.info("odd missing Promise.prototype.finally",{type:n(r),this_then:r.then.toString(),finally:Promise==null?void 0:(o=Promise.prototype.finally)==null?void 0:o.toString(),then:Promise==null?void 0:(s=Promise.prototype.then)==null?void 0:s.toString()})}}else{var i;c.info("document.font polyfill but not Promise",{type:n(r),then:Promise==null?void 0:(i=Promise.prototype.then)==null?void 0:i.toString()});t(true)}};o.apply_dotdotdot=function(e,t){var r=e.get_canvas();if(e.thumbnail_mode()){r.css("overflow","hidden");return}setTimeout((function(){return r.dotdotdot({wrap:t,callback:function t(n,o){a.run_once(30,(function(){var t,r;return e.edit_mode()&&o.length!==0&&((t=e.canvas)==null?void 0:(r=t.text)==null?void 0:r.call(t))&&e.canvas.text().trim()===""&&f.evaluate_property(e,"text")!==""}),(function(t,n){if(t){c.log(t);return}if(n){var o=a.div("dots-placeholder",r);s.apply_css_style(o,{"line-height":0,"font-size":"20px","text-align":e.get_static_property("font_alignment",true)});o.text("............")}}))}})}),1);f.pre_cache(e,["width","height","font_size","padding_vertical","line_height","word_spacing","letter_spacing"]);return e.autorun((function(){var t;for(var n=0,o=["width","height","font_size","padding_vertical","line_height","word_spacing","letter_spacing"];n<o.length;n++){var s=o[n];f.evaluate_property(e,s)}e.element.get_style_id();(t=r.trigger)==null?void 0:t.call(r,"update.dot")}))};o.text_should_stretch_vertically=function(e){var t;var r=(t=e.element.root())==null?void 0:t.use_responsive_algorithm();var n=e.get_static_property("cut_off_content");var o=e.get_static_property("stretch_to_fit");return r&&!n||!r&&o};o.set_text_height_to_invisibility_state=function(e){if(e.get_static_property("shrink_if_less_high")){e.set_height(0)}else{e.set_height(e.element.get_height())}}},{"../../../../../constants/elements":72,"../../../../../lang/elements":557,"../../../../../lang/evaluation/element_eval":567,"../../../../../lang/evaluation/element_props":568,"../../../../../logger":617,"../../../../../u":687,"../../../../../webfonts":719,"../../../../property_applications":405,"../../../core_elements_utilities/element_utils":282,"../../../shared/text_elements":369,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.promise.finally.js":961,"core-js/modules/es.promise.js":962,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],351:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");var n=e("../../property_applications");var o=e("../../../lang/elements");var s=e("../../../u");var i=e("../../../lib");var a=e("./responsive_v0");var l=r;var u={do_show:function e(t,r,n,s){var i;t._is_visible_me=true;t.ensure_drawn();var a=t.get_canvas();(i=a.velocity)==null?void 0:i.call(a,"stop",true);if(!s){t._display_me();t._update_visible()}else{o.perform_animate_in(t,r,n,true)}},do_hide:function e(t,r,n,o){var i;var a=t.get_canvas();(i=a.velocity)==null?void 0:i.call(a,"stop",true);if(!o){t._hide_me();t._is_visible_me=false;t._update_visible()}else{var l,u,c,f,d;(l=t._transforms)!=null?l:t._transforms={};(c=(u=t._transforms).initial_opacity)!=null?c:u.initial_opacity=a[0].style.opacity;(d=(f=t._transforms).initial_transform)!=null?d:f.initial_transform=a[0].style.transform;t._is_visible_me=false;t._update_visible();t.set_animating(true);var p={duration:n.duration,complete_cb:function e(){t.set_animating(false);a[0].style.transform=t._transforms.initial_transform;a[0].style.opacity=t._transforms.initial_opacity;t._transforms=undefined}};n.visibility="hidden";s.velocity(a,r.animation,p)}}};var c={position_canvas:1,do_show:0,do_hide:0,get_container_width:0,attempt_size_only_draw:0,register:0};l.wrap_core_element=function(e){var t;var r=a.get_element_modifications(e.plugin_name);if((r==null?void 0:r.additional_data)!=null){s.extend(e,r.additional_data)}var o=function e(t,r){var n;return(t==null?void 0:(n=t.root())==null?void 0:n.get_responsive_version())>0&&(t.E.uses_css_responsive||["position_canvas","do_show","do_hide"].includes(r))};var l=e.property_applications;e.property_applications=function(t){var s;if(typeof l==="function"){s=l(t)}else{s=l}s=s.slice();if(!e.uses_css_responsive){s.push(new n.ResponsiveElement(t))}if(o(t,"property_applications")){return s}else{var i;if(typeof(r==null?void 0:r.property_applications)==="function"){i=r==null?void 0:r.property_applications(t)}else{i=r==null?void 0:r.property_applications}if(i!=null){return s.concat(i)}return s}};function f(t,n){var a;var l=e[t];var c=(a=r==null?void 0:r[t])!=null?a:l;if(l!=null||c!=null){e[t]=function(){var r;var a=arguments[n];var f=(r=a.element)!=null?r:a;if((!s.on_server()||i().force_responsive_version)&&o(f,t)){var d;if(t==="position_canvas"&&a.responsive_mode()){return}return(d=l!=null?l:u[t])==null?void 0:d.apply(e,arguments)}else{return c.apply(e,arguments)}}}}for(var d in c){var p=c[d];f(d,p)}var _=e.initialize;var m=(t=r==null?void 0:r.initialize)!=null?t:_;e.initialize=function(t){var r;if(o(t.element,"initialize")){_.call(e,t)}else{m.call(e,t)}if(((r=t.element.root())==null?void 0:r.get_responsive_version())>0&&!t.element.E.uses_css_responsive){if(!t.thumbnail_mode()){if(typeof ResizeObserver!=="undefined"&&ResizeObserver!==null){var n=new ResizeObserver((function(e){var r=e[0].contentRect.width;t.notify_width(r)}));n.observe(t.canvas[0]);t.on_destroy((function(){n.disconnect()}))}t.notify_width(t.canvas.width())}t.autorun((function(){t.canvas.css({height:t.element.get_height()})}))}};return e}},{"../../../lang/elements":557,"../../../lib":614,"../../../u":687,"../../property_applications":405,"./responsive_v0":346,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.slice.js":937}],352:[function(e,t,r){"use strict";var n=r;var o=e("../../../u/client/b_ui");n.structure_fixed_aspect_ratio=function(e,t){var r=o.div("",t);e.autorun((function(){if(e.element.has_fixed_aspect_ratio()){var t=e.element.get_static_property("aspect_ratio_height")/e.element.get_static_property("aspect_ratio_width");r.css({position:"relative","padding-top":t*100+"%"});r.show()}else{r.hide()}}))};n.element_css=function(e){return{position:e?"absolute":"relative",top:0,left:0,display:"block","margin-top":"","margin-left":"",width:"100%",height:"100%"}}},{"../../../u/client/b_ui":677}],353:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.unwatchClip=c;r.watchClip=u;e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.dom-collections.for-each.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=new WeakMap;var a;function l(e){var t=n(e),r;try{var o=function e(){var t=r.value;var n=i.get(t.target);if(n!=null){t.removedNodes.forEach((function(e){if(e instanceof Element)n.unobserve(e)}));t.addedNodes.forEach((function(e){if(e instanceof Element)n.observe(e)}))}};for(t.s();!(r=t.n()).done;){o()}}catch(e){t.e(e)}finally{t.f()}}function u(e,t){if(typeof MutationObserver!=="undefined"&&typeof IntersectionObserver!=="undefined"){var r;if(i.has(e))return;var n=new IntersectionObserver((function(r,n){if(r.some((function(e){return e.boundingClientRect.height>0&&e.intersectionRatio<1}))){n.disconnect();i.delete(e);t()}}),{root:e,threshold:[0,1]});i.set(e,n);e.childNodes.forEach((function(e){if(e instanceof Element)n.observe(e)}));(r=a)!=null?r:a=new MutationObserver(l);a.observe(e,{childList:true})}else{t()}}function c(e){var t;(t=i.get(e))==null?void 0:t.disconnect();i.delete(e)}},{"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],354:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../../../u");var l=e("../../../db/hydrate");var u=e("../../../lib");var c=e("../../../lang/evaluation/element_eval");var f=e("../../../safe_require");f.safe_register("./core/core_elements/shared/dropdowns",i);i._get_raw_btype_dropdown=function(e){if(e.get_static_property("choices_style")==="static"){if(!u().is_edit_mode()){var t=e.get_static_property("computed_value");if(t!=null){return t}}var r=d(e.get_static_property("choices",true));return r}else if(e.get_static_property("dynamic_type")){return e.get_static_property("dynamic_type")}return"text"};function d(e){if(typeof e!=="string"){e=""}var t=n(e.split("\n").map((function(e){return e.trim()}))),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;if(o.length>0){if(!["0","00","000","0000"].includes(o)){if(o.indexOf("0.")!==0&&o.indexOf("00.")!==0&&o.indexOf("000.")!==0){o=o.replace(/^0+/g,"")}o=o.replace(/(\.[0-9]*?)0+$/,"$1");o=o.replace(/\.$/,"")}if(![o,"0"].includes(String(u().locale().parse_float(o)))){return"text"}}}}catch(e){t.e(e)}finally{t.f()}return"number"}i._get_raw_choice_list_dropdown=function(e,t){var r=t._get_raw_btype(e.element);if(c.evaluate_property(e,"choices_style")==="static"){var n;var o=c.evaluate_property(e,"choices");if(typeof o!=="string"){n=[]}else{n=o.split("\n").map((function(e){return e.trim()})).filter((function(e){return e}));if(r==="number"){n=n.map((function(e){return u().locale().parse_float(e)}))}}return u().db_instance().static_list(r,n)}else{var s=c.evaluate_property(e,"data_source");if(typeof(s==null?void 0:s.get_children)==="function"){if(!s.contains){throw new a.UnexpectedError("Get children but no contains: "+s.constructor.name+" "+s.constructor)}return s}else{return u().db_instance().static_list(r,[])}}};i._get_display_option=function(e){var t=this;if(c.evaluate_property(e,"choices_style")==="static"){return function(e){return e}}else{return function(r){var n=e.get_injected_context(r,t.get_injected_value(e.element));return c.eval_property_with_states(e.element,"option_display_expression",n)}}};i.rehydrate_dropdown_value=function(e){if(e===""){return null}else{var t;return(t=l.rehydrate_tree(u().db_instance(),e))!=null?t:null}}},{"../../../db/hydrate":422,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../safe_require":643,"../../../u":687,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],355:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=r;var o=e("./groups");var s=e("../../../lib");n.floating_field_names={floating_reference:{default:"top",no_states:true},floating_reference_horizontal:{default:"none",no_states:true},floating_reference_horizontal_resp:{default:"left",no_states:true},float_zindex:{default:"front",no_states:true},parallax:{default:1,no_states:true}};n.check_error_floating_group=function(e,t){if(!["Page","CustomDefinition"].includes(e.parent().type())){var r;switch(e.parent().type()){case"Page":r="page";break;case"CustomDefinition":r="reusable element";break}t(e.display()+": Floating Group must be right under the "+r+". Instead it is under "+e.parent().display());o._check_for_errors_datasource_set_to_self(e,"get_group_data",t)}}},{"../../../lib":614,"./groups":356,"core-js/modules/es.array.includes.js":933}],356:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../../../u");var l=e("../core_elements_utilities/element_workflows");var u=e("../../../lang/appquery");var c=e("../../property_applications");var f=e("../legacy/responsive_v0/shared/containers");var d=e("../../../safe_require");d.safe_register("./core/core_elements/shared/groups",i);i.container_field_names={group_type:{no_states:true},data_source:{}};i.state_value_helper_for_group=function(e,t){if(t==="group_data"){return e.get_static_property("group_type")}};i.group_field_names={collapse_animation:{no_states:true,default:false},animation_type:{no_states:true,default:"slide"},overflow_scroll:{no_states:true,default:false}};i.group_element_definition={category:"containers",defaults:{bgcolor:"#FFFFFF",background_style:"bgcolor",width:400,height:250},updated_default_sizing:{width:280,height:280},field_names:a.extend({collapse_when_hidden:{no_states:true,default:false}},i.group_field_names,l.start_workflow_field_names,i.container_field_names),property_applications:function e(t){return[new c.Dimensions,new c.Background,new c.Border,new c.BoxShadow,new c.ResponsiveContainer(t),new c.ResponsiveElement(t),new c.PaddingFields,new c.Opacity]},get_html:function e(t){return"<div></div>"},change_cursor_style_if_clickable:true,can_have_children:function e(){return true},get_children_canvas:function e(t){return t.get_canvas()},is_container:true,get_state_value:function e(t,r){return i.state_value_helper_for_group(t,r)},notify_width:function e(t,r){a.WaitFor(t.get_children_drawn_key(),(function(){f.resize_container_width(t,r)}))},get_min_width:function e(t){return 0},events:["ButtonClicked"],is_input:false,add_an_invisible_div_on_the_top:false}},{"../../../lang/appquery":535,"../../../safe_require":643,"../../../u":687,"../../property_applications":405,"../core_elements_utilities/element_workflows":284,"../legacy/responsive_v0/shared/containers":347,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],357:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=new Set;var l=function e(t){var r=n(a),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;if(!s.canvas[0].matches(":hover")){s.state("is_hovered",false);a.delete(s)}}}catch(e){r.e(e)}finally{r.f()}if(a.size===0)window.removeEventListener("mousemove",e)};i.setup_hover=function(e){var t=e.canvas[0].matches!=null;e.canvas.mouseenter((function(){e.state("is_hovered",true);if(t){if(a.size===0)window.addEventListener("mousemove",l);a.add(e)}}));e.canvas.mouseleave((function(){e.state("is_hovered",false);a.delete(e)}));var r=t&&e.canvas[0].matches(":hover");e.state("is_hovered",r);return r}},{"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],358:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.concat.js");var n=r;var o=e("../../../constants/icons_content");var s=e("../../../safe_require");s.safe_register("./core/core_elements/shared/icons",n);function i(){var e=$("#bubble-icon-retriever")[0];if(e!=null){return e}e=$('<div id="bubble-icon-retriever" style="display: none; position: absolute;"></div>')[0];document.body.appendChild(e);return e}var a=null;function l(){var e=document.createElement("iframe");document.body.appendChild(e);var t=e.contentWindow.getComputedStyle;e.remove();return t}function u(){var e;(e=a)!=null?e:a=l();return a.apply(window,arguments)}function c(e){var t=i();t.setAttribute("class",e);return u(t,":before").content.replace(/"/g,"")}n.get_static_icon=function(e){return o.ICONS_CONTENT[e]};var f={};n.get_icon_svg=function(e,t){var r;var o=(r=f[t])!=null?r:f[t]=c(t);return n.get_svg_canvas(e,o)};n.get_svg_canvas=function(e,t,r){var n;(n=r)!=null?n:r=-18;var o=$('<svg viewbox="0 '.concat(r,' 50 50">\n    <text class="').concat(e,'" x="50%" y="50%" text-anchor="middle" style="font-size: 50px;fill: currentColor;">\n        ').concat(t,"\n    </text>\n</svg>"));o.css({width:"100%",height:"100%"});return o}},{"../../../constants/icons_content":79,"../../../safe_require":643,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977}],359:[function(e,t,r){"use strict";e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.replace.js");var n=r;var o=e("../../../u");var s=e("../../../shared/images");var i=e("../../../lang/evaluation/element_eval");var a=e("../../../client_config");var l=e("../../../imgix");var u=e("../../../lib");var c=e("../../../lang/appquery");var f=e("../../../safe_require");var d=e("../../../u/shared/b_file_shared");f.safe_register("./core/core_elements/shared/image_utils",n);n.reset_img_settings=function(e){return e.css({margin:"0px",width:"100%",height:"100%","object-fit":""})};n.rescale_image=function(e){var t=e.src,r=e.img,a=e.element_height,l=e.element_width,u=e.cb,c=e.instance,f=e.ref_version;if(t.indexOf("data:image/")===0){u(r)}function d(){if(c!=null){return{element_height:i.evaluate_property(c,"height"),element_width:i.evaluate_property(c,"width")}}else{return{element_height:a,element_width:l}}}var p=d();a=p.element_height;l=p.element_width;t=n.optimize_image(t,l,a);s.get_image_real_dimensions(t,(function(e){if(e.height==null){u==null?void 0:u(r);return}if(c!=null){var t=o.autorun_top((function(){return c.state("src_version")}));if(t!==f){return}}n.reset_img_settings(r);if(e.height/e.width>a/l){var s=e.width/e.height*a;r.css({"margin-left":(l-s)/2+"px",width:s+"px"})}else{var i=e.height/e.width*l;r.css({"margin-top":(a-i)/2+"px",height:i+"px"})}u==null?void 0:u(r)}))};n.keep_proportions=function(e,t,r){var n;if(r||e.get_static_property("keep_proportion_resize")){n=t/e.element.get_width()*e.element.get_height();e.set_height(n)}else{n=e.element.get_height()}return n};n.optimize_image=function(e,t,r,n,o,s){var i;if(typeof e!=="string"){return}if(/^data:image\//.test(e)){return e}if(/^blob:/.test(e)){return e}e=d.replace_s3_with_cdn_url(e,c.appname());if(/\.(mov|mp4|mkv|avi|flv|webm)$/i.test(e)){return e}if(t===0){t=undefined}if(r===0){r=undefined}var f=e.indexOf("https://")===0;if(e.indexOf("http://")===0){e=e.split("http://").slice(1).join("http://")}if(e.indexOf("https://")===0){e=e.split("https://").slice(1).join("https://")}if(e.indexOf("//")===0){e=e.replace("//","")}if(!(a.image_optimization_service&&e.indexOf(a.image_optimization_service)!==-1||e.indexOf("/user/iop/")!==-1)&&!((i=n)!=null&&i.force)&&l.ignore_imgix_fn(e)){if(a.user_file_cdn){e=e.replace(a.user_file_cdn,d.get_file_cdn_url(c.appname()))}}else{if(!u().is_edit_mode()){var p;var _=y((p=window)==null?void 0:p.devicePixelRatio);if(_!=null){var m;(m=n)!=null?m:n={};n.dpr=_}}e=l.get_reduced_file_url(e,t,r,n)}var v;if(f){v="https:"}else{v=u().location.parsed_url().protocol}e=v+"//"+e;return e};n.download_image=function(e,t,r){if(n.downloaded_images[e]){return r==null?void 0:r(e)}else{var s=o.img(undefined,undefined,e);s.on("load",(function(){var t;n.downloaded_images[e]=true;r==null?void 0:r(e);s.remove();return(t=u().workflow.debugger)==null?void 0:t.get_request_size(e,"image")}));return s.on("error",(function(){s.remove();if(r){var o;r(n.transparent_image());return(o=u().workflow.debugger)==null?void 0:o.report_error({type:"warning",instance:t,error:{message:"The image could not be loaded: ".concat(e," .")}})}}))}};var p=.5;var _=8;var m=.25;function y(e){if(e==null){return 1}if(!(e>p)){return p}if(!(e<_)){return _}return m*Math.floor(e/m)}n.transparent_image=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"};n.downloaded_images={}},{"../../../client_config":55,"../../../imgix":512,"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../safe_require":643,"../../../shared/images":661,"../../../u":687,"../../../u/shared/b_file_shared":700,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979}],360:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("lodash/debounce");var l=e("../../../u");var u=e("../../../db/hydrate");var c=e("../../../u/shared/mode_check");var f=e("../../../db/obfuscate");var d=e("../../../logger");var p=e("../../../constants/eval");var _=e("../../core_events");var m=e("../core_elements_utilities/element_workflows");var y=e("../../../lang/appquery");var v=e("../../data_updates");var b=e("../../property_applications");var h=e("../../../constants/workflow");var j=e("../../../lib");var g=e("../../../lang/btypes");var w=e("../../status_bar");var O=e("../../../lang/evaluation/element_eval");var S=e("../../../safe_require");S.safe_register("./core/core_elements/shared/inputs",i);i.get_max_file_size_field_name={max_size:{default:50}};i.get_file_upload_condition_field_name={file_upload_condition:{}};i.type_content_format_mapping={text:["_all"],number:["int_number","float_number","currency","percentage"],geographic_address:["geographic_address"],date:["date","date_2"],file:["text"],image:["text"],number_range:[],dateinterval:[]};i.register_input_states=function(e,t,r){var n=false;function o(){if(n){d.owner_error("Circular reference evaluating the input's initial content",{element_instance:r,prop_name:"content"});return null}if(!e.get_starting_content){return null}try{n=true;return e.get_starting_content(r)}finally{n=false}}function s(){if(!r.state("has_been_changed")){r.state("value",o)}}r.autorun(s);if(r.run_mode()){var a=function e(t){if(l.compare(t,r.state("value",undefined,true))){return false}if(t===undefined){t=null}r.state("has_been_changed",true);r.state("value",t);return true};var u=function e(t){if(!a(t)){if(!c){return}}c=false;r.get_canvas().blur();r.state("is_focused",false);i.run_auto_binding(r,t);m.run_element_workflow(r,"InputChanged");j().element.emit("user_changed_input",{instance:r,val:t})};if(t.includes("is_invalid")){r.state("is_invalid",(function(){return!e.content_validated(r.state("value"),r)}))}r.state("value_that_is_valid",(function(){if(t.includes("is_invalid")&&r.state("is_invalid")){var e={};e[p.NV_MARKER]=true;return e}else{return r.state("value")}}));if(t.includes("display_invalid")){r.state("display_invalid",(function(){return r.state("is_invalid")&&(r.state("has_been_changed")||r.state("force_display_validity"))}))}r.on_message("display_validity",(function(){r.state("force_display_validity",true)}));var c=false;r.on_message("user_change",(function(e){if(!a(e)){return}c=true}));r.on_message("user_submit",(function(e){if(l.is_ie()){setTimeout((function(){u(e)}),0)}else{u(e)}}));r.on_message("reset_input",(function(){r.state("force_display_validity",false);if(r.state("has_been_changed")){r.state("has_been_changed",false);s()}}))}};i.input_change_autorun=function(e,t){return e.autorun((function(){if(!e.state("has_been_changed")){t(e.state("value"))}}))};i.register_focus=function(e,t){t.focus((function(){return e.state("is_focused",true)}));t.blur((function(){return e.state("is_focused",false)}))};i.get_input_parent_thing=function(e,t){var r,n,o,s,i;var a,l;var u=(r=e.parent)==null?void 0:r.call(e);if(u!=null&&u.get_static_property("group_type")){l=u.get_static_property("group_type");if(!t){a=e.parent().state("group_data")}}else if((u==null?void 0:(n=u.element)==null?void 0:n.type())==="GroupItem"){l=u.parent().get_static_property("group_type");if(!t){a=u.state("group_data")}}else if((o=(s=e.element).root)!=null&&(i=o.call(s))!=null&&i.get_static_property("page_item_type")){l=e.element.root().get_static_property("page_item_type");if(!t){a=j().pageparam.get()}}return{type:l,thing:a}};i.get_input_parent_thing_field=function(e){var t;var r=i.get_input_parent_thing(e),n=r.type,o=r.thing;if(n==null||!(o!=null&&(t=o.exists)!=null&&t.call(o))){return null}var s=e.get_static_property("bind_field");if(!s){return null}return g.get(n).get_message(s).evaluate(o)};i.do_auto_binding=function(e,t,r,n,o,s){var i;(i=s)!=null?i:s={0:{key:n,value:o}};v.update_thing(t,s);var a={appname:y.appname(),app_version:y.app_version(),temp_db:j().db_instance().cur_temp_db(),data:{type:r,items:[{id:t._id(),changes:u.dehydrate_tree(s)}]}};var c=f.encode_data(a,j().appname());var p=j().location.post("server://elasticsearch/modify",c);var m=w.show_progress_line(p);j().workflow.all_server_completed.add_promise(p);return p.callback((function(r,n){j().db_instance().ensure_object_updates(n);e.state("currently_binding",false);m();if(r){j().db_instance().flush(t._id());_.handle_uncaught_error({original_error:r,caught_from:h.ERROR_SOURCES.ELEMENT,cb:function e(t){if(t){window.alert(d.human_friendly(t))}}})}if(e.supports_message("reset_input")){e.message("reset_input")}if(!r){if(e.get_static_property("show_alert_on_sucess")){return l.run_once(30,(function(){var t=e.find_instance_by_id(e.get_static_property("alert_element"));var r=O.evaluate_property(e,"alert_message");var n=O.evaluate_property(t,"text");return{alert_instance:t,element_text:r,alert_text:n}}),(function(e,t){if(e){d.log(e);return}var r=t.alert_instance,n=t.element_text,o=t.alert_text;if(r!=null){var s={fade_in:500,hold:500,fade_out:500};if(![null,undefined,""].includes(n)){s.message=n}else{s.message=o}r.message("show_alert",s)}}))}}}))};i.run_auto_binding=function(e,t,r){if(!e.get_static_property("auto_binding")){return}var n=e.get_static_property("bind_field");var o=j().workflow.all_sent_to_server.make(30,"run_aut_bonding");return l.run_once(30,(function(){var o;var s=i.get_input_parent_thing(e);var a=s.thing;if(a!=null){o=a.child(n).get()}return{current_val:o,is_invalid:!r?e.state("is_invalid"):undefined,thing_type:s,val:typeof t==="function"?t():t}}),(function(t,s){o.turn();if(t){d.log(t);return}if(!r){if(s.is_invalid){return}e.state("currently_binding",true)}var a=s.thing_type,l=a.type,u=a.thing;if(u==null){return}var c=s.val;var f=g.get(l).custom_type();var p=f.field(n).value();if(g.get(p).equals(s.current_val,c)){return}if(!l||u==null||!n){return}if(!r){if(e.element.E.field_names.content_format){var _=e.get_static_property("content_format");if(i.type_content_format_mapping[p][0]!=="_all"&&!i.type_content_format_mapping[p].includes(_)){return}}}return i.do_auto_binding(e,u,l,n,c)}))};i.get_disabled_field_name={disabled:{default:false}};i.get_auto_binding_field_names={auto_binding:{default:false,no_states:true},information:{no_states:true},bind_field:{no_states:true},show_alert_on_sucess:{no_states:true},alert_element:{no_states:true,optional:true},alert_message:{no_states:true,optional:true}};i.additional_field_names_for_text_inputs=l.extend({mandatory:{},limit_number_of_characters:{no_states:true,default:false},character_limit:{no_states:true}},i.get_disabled_field_name,i.get_auto_binding_field_names);i.switch_disabled_or_not=function(e){return O.on_property_change(e,"disabled",(function(t){return e.get_canvas()[0].disabled=t}))};i.set_character_limit_on_input=function(e){return O.on_property_change(e,["limit_number_of_characters","character_limit","content_format"],(function(t){var r=t.limit_number_of_characters,n=t.character_limit,o=t.content_format;if(r&&n&&[null,undefined,"text","numerical_ref"].includes(o)){return e.get_canvas().attr("maxlength",n)}else{return e.get_canvas().attr("maxlength","")}}))};i.assign_change_keyup_handlers=function(e,t){var r=e.get_canvas();if(l.on_phonegap()){r.css("-webkit-user-select","text")}i.register_focus(e,e.canvas);var n=null;var o=false;var s=function s(){o=true;if(n){clearTimeout(n)}var i;if(e.get_static_property("content_format")==="geographic_address"){i=3e3}else{var a=r.val();if([null,undefined,""].includes(a)||a.length===1){i=0}else{i=1500}}n=setTimeout((function(){e.message("user_change",t());n=null}),i);return true};r.on("input",s);r.on("paste",s);var u=e.get_static_property("content_format");var f=["int_number","float_number"].includes(u);var d="";if(f){r.on("keyup",(function(e){var t=e.key==="Backspace";var n=r.get(0);var o=d[0]==="-";d=r.val();var i=n.selectionStart===0&&n.selectionEnd===0;if(t&&i&&o){return s()}}))}r.on("keydown",(function(e){var t=13;var n=r.hasClass("MultiLineInput");if(e.keyCode!==t||n){return}r.blur()}));r.blur((function(){if(o){o=false;p()}_.flush();if(n!=null){e.message("user_change",t());clearTimeout(n);n=null}}));function p(){e.message("user_submit",t())}var _=a(p,50);return r.change((function(){if(c.running_test()){p()}else{_()}}))};i.default_for_inputs={font_size:14,font_color:"#3D3D3D",background_style:"bgcolor",border_style:"solid",border_width:1,border_color:"#BDBDBD",border_roundness:3,border_style_top:"solid",border_width_top:1,border_color_top:"#BDBDBD",border_roundness_top:3,border_style_left:"solid",border_width_left:1,border_color_left:"#BDBDBD",border_roundness_left:3,border_style_bottom:"solid",border_width_bottom:1,border_color_bottom:"#BDBDBD",border_roundness_bottom:3,border_style_right:"solid",border_width_right:1,border_color_right:"#BDBDBD",border_roundness_right:3,padding_horizontal:4,padding_vertical:0};i.input_content_options={text:"Text",email:"Email",password:"Password",int_number:"Integer",float_number:"Decimal",geographic_address:"Address"};i.is_pw_valid=function(e){if(typeof e!=="string"){return false}if(e.length===0||e.length>1e4){return false}if(!y.get_public_setting("have_pw_policy")){return true}var t=y.get_public_setting("pw_length");if(typeof t!=="number"){t=null}var r=y.get_public_setting("pw_require_capital_letter");var n=y.get_public_setting("pw_require_number");var o=y.get_public_setting("pw_require_special_char");if(t&&e.length<t){return false}if(r&&!e.match(/[A-Z]/)){return false}if(n&&!e.match(/\d/)){return false}if(o&&!e.match(/[^a-zA-Z\d\s:]/)){return false}return true};i.assign_enter_handler_in_input=function(e,t){var r,o,s;var i=e.get_canvas();var a=null;var u=(r=(o=(s=e.element).get_visible_workflows)==null?void 0:o.call(s))!=null?r:[];var c=e.element_id();var f=n(u),d;try{for(f.s();!(d=f.n()).done;){var p;var _=d.value;if(_.find_expressions("GetElement.element_id=".concat(c)).length<1){continue}var m=e.find_instance_by_id((p=_.element_id)==null?void 0:p.call(_));if(m!=null&&m.is_visible()){var y;(y=a)!=null?y:a=m;if(m!==a){a=null;break}}}}catch(e){f.e(e)}finally{f.f()}i.off("keydown.click_the_button");if(!a){return}return i.on("keydown.click_the_button",(function(e){if(e.shiftKey){return}var r=l.meta(e);if(t&&!r){return}var n=13;if(e.keyCode===n){var o=a.get_canvas();if(o.is(":visible")){l.trigger_blur(i);return o.click()}}}))};i.reset_input_div=function(e){return b.apply_css_style(e,{border:"none","background-color":"transparent"})}},{"../../../constants/eval":75,"../../../constants/workflow":101,"../../../db/hydrate":422,"../../../db/obfuscate":423,"../../../lang/appquery":535,"../../../lang/btypes":537,"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../logger":617,"../../../safe_require":643,"../../../u":687,"../../../u/shared/mode_check":713,"../../core_events":372,"../../data_updates":375,"../../property_applications":405,"../../status_bar":407,"../core_elements_utilities/element_workflows":284,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/debounce":1174}],361:[function(e,t,r){"use strict";e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=r;var o=e("../../../lang/shrink");n.href_attributes=["mailto","tel","sms","skype"];n.forbidden_url_keys=["id","debug_mode","resume","record_debugging_session"];n.check_parameters=function(e,t){if(e.get_static_property("add_parameters")){var r=e.get_static_property("url_parameters");if(r!=null){for(var s=0,i=Object.values(r);s<i.length;s++){var a=i[s];if(n.forbidden_url_keys.includes(a[o.shrink("key")])){t(e.display()+": The parameter "+a[o.shrink("key")]+" cannot be used.")}}}}}},{"../../../lang/shrink":603,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.includes.js":972}],362:[function(e,t,r){"use strict";e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");var n=r;var o=e("../../../u");n.get_stripes=function(e){var t;var r;if((t=e.get_style)!=null&&t.call(e).exists()){r=e.get_style().property("stripes")}else{r=e.property("stripes")}if(r.is_empty()){return[]}return r.entries()};n.stripe_defaults={bgcolor:"#AAAAAA",background_style:"bgcolor",boxshadow_horizontal:0,border_style:"none",border_roundness:0,border_width:1,border_color:"#6B6B6B"}},{"../../../u":687,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.to-string.js":959,"core-js/modules/web.dom-collections.iterator.js":991}],363:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../../../services/is_installed");var l=e("../../../services/shared/plugin_registry");var u=e("../../../lang/evaluation/element_eval");var c=e("../../../safe_require");c.safe_register("./core/core_elements/shared/pictureinputs",i);i.file_inputs_additional_messages={get_loading_status:{description:" is loading",ret_btype:"boolean",fn:function e(t,r){return t==null?void 0:t.state("loading")}},get_file_size:{description:"'s file size",ret_btype:"number",fn:function e(t,r){return t==null?void 0:t.state("file_size")}}};i.process_upload_security=function(e){var t={};if(e.get_static_property("private")){var r,n;t.attach_to=(r=u.evaluate_property(e,"attach_to"))==null?void 0:(n=r._id)==null?void 0:n.call(r)}else{t.public=true}f(e,t);return t};function f(e,t){var r;var o=(r=e.get_static_property("service"))!=null?r:"bubble";t.service=o;if(o!=="bubble"&&a(o)){var s=l.get_hardcoded_plugin(o);var i=n(s.file_upload.fields),c;try{for(i.s();!(c=i.n()).done;){var f=c.value;t[f.name]=u.evaluate_property(e,f.name)}}catch(e){i.e(e)}finally{i.f()}}}},{"../../../lang/evaluation/element_eval":567,"../../../safe_require":643,"../../../services/is_installed":647,"../../../services/shared/plugin_registry":650,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],364:[function(e,t,r){(function(t){(function(){"use strict";e("core-js/modules/es.array.find-index.js");e("core-js/modules/es.array.splice.js");e("core-js/modules/es.array.find.js");e("core-js/modules/web.immediate.js");var n=r;var o=e("../../../u");var s=e("../../../lib");var i=e("../../property_applications");var a=e("../../../constants/runmode");var l=e("../../../lang/elements");var u=e("../../../u/shared/callbacks"),c=u.ignoreError;var f=[];n.top_layer=function(){return f[0]};n.previous_layer=function(){return f[1]};n.add_layer=function(e){var t,r;e.state("popup_zindex",s().bubble_version()>18?((t=(r=n.top_layer())==null?void 0:r.state("popup_zindex"))!=null?t:-1)+1:0);f.unshift(e)};n.remove_layer=function(e){var t=function t(r){return r.toUniqueString()===e.toUniqueString()};var r=f.findIndex(t);if(r>=0){return f.splice(r,1)[0]}};function d(){var e;var t=n.top_layer();return(e=t==null?void 0:t.state("body_positioning"))!=null?e:"auto"}n.set_body_overflow=function(){return document.body.style.overflow=d()};n.get_popup_top=function(e,t){if(o.is_on_mobile_or_tablet()){return 20}else{var r;(r=t)!=null?r:t=e.element.get_height();var n=$(window).height();if(t>n-100){return 30}else if(t>n-200){return 50}else{return 100}}};n.get_popup_positioning=function(e,t){var r,s;var i;if(e._has_been_hidden){return}var a=e.get_canvas();(r=t)!=null?r:t=a.outerHeight();var l=(s=window.innerHeight)!=null?s:$(window).height();if(t>l-n.get_popup_top(e,t)+10||e.state("has_been_absolutely_positioned")!=null){i="absolute";e.state("body_positioning","visible");if(o.on_phonegap()){$(window).off("touchmove.popup_opened")}}else if(!e.responsive_mode()){i="fixed";e.state("body_positioning","hidden");if(o.on_phonegap()){if(!e.element.find_elements_custom("RepeatingGroup").length){$(window).on("touchmove.popup_opened",(function(e){return e.preventDefault()}))}}}n.set_body_overflow();a[0].style.position=i;if(i==="absolute"){if(e.state("has_been_absolutely_positioned")==null){e.state("has_been_absolutely_positioned",$(window).scrollTop())}a[0].style.top=e.state("has_been_absolutely_positioned")+50+"px"}else{a[0].style.top=n.get_popup_top(e,t)+"px"}};var p={editor:{position:"absolute","z-index":a.POPUP_ZINDEX-1},runmode:{position:"fixed","z-index":a.POPUP_ZINDEX}};n.get_greyout=function(e){if(!e.state("greyout")){var t=o.div("greyout");t.hide();e.state("greyout",t);e.on_destroy((function(){return t.remove()}));i.apply_css_style(t,{top:"0px",left:"0px",width:"100%",height:"100%","background-color":"rgba(0,0,0,0.7)"});if(e.edit_mode()){$(".canvas").append(t);t.css(p.editor)}else if(e.responsive_mode()){var r=s().visual_edit.responsive_canvas.get_current_preview_canvas().find("> .r-wrapper");r.append(t);t.css(p.editor)}else{t.insertBefore(e.get_canvas());t.css(p.runmode)}}return e.state("greyout")};n.get_elements_to_blur=function(e){var t;var r;if(e.edit_mode()){r=$(".element",$(css.VISUAL_CANVAS)).not($(".element.Popup,.element.CustomElement.non-draggable",$(css.VISUAL_CANVAS))).not($("*",$(".element.Popup,.element.CustomElement.non-draggable")))}if(e.run_mode()){r=$("body > div").not(e.get_canvas().parents()).not(e.get_canvas()).not(".debugger-canvas").not(".highlight-box").not("span.tt-dropdown-menu").not(".bad-revision").not(".GroupFocus").not(".db-limit-reached")}return(t=r)==null?void 0:t.add(".stripe-container")};n.apply_blur_effect_to_greyout=function(e,t){var r,o;var s;var i=n.previous_layer();if(i!=null){s=n.get_elements_to_blur(i)}(r=s)!=null?r:s=$();var a=(o=n.get_elements_to_blur(e))==null?void 0:o.not(".Popup:not(:visible)");var l=s.not(a);l==null?void 0:l.css({"-webkit-filter":"none",filter:"none"});var u="blur(".concat(t,"px)");a==null?void 0:a.css({"-webkit-filter":u,filter:u})};n.remove_blur_effect_to_greyout=function(e){var t=n.get_elements_to_blur(e);t==null?void 0:t.css({"-webkit-filter":"none",filter:"none"})};n.apply_greyout_color=function(e,t){var r=n.get_greyout(e);r[0].style["background-color"]=t};n.resize_popup=function(e,r){var s=l.add_layout_resizing_key();e.get_canvas()[0].style["margin-left"]="-"+r/2+"px";e.get_canvas()[0].style.width=r+"px";return o.WaitFor(e.get_children_drawn_key(),(function(){return o.run_once(30,(function(){return i.calculate_border_width(e)}),c((function(i){e.child_container.resize_width(r-i);if(e._has_been_hidden){s.turn()}else{e.wait_for_visible((function(){return t((function(){var t;e.child_container.resize_width((t=o.real_inner_width(e.get_canvas()))!=null?t:r-i);n.get_popup_positioning(e);s.turn()}))}))}})))}))};n.resize_popup_if_legacy=function(e,r){if(!e.element.E.uses_css_responsive){var s=l.add_layout_resizing_key();return o.WaitFor(e.get_children_drawn_key(),(function(){return o.run_once(30,(function(){return i.calculate_border_width(e)}),c((function(i){e.child_container.resize_width(r-i);if(e._has_been_hidden){s.turn()}else{e.wait_for_visible((function(){return t((function(){var t;e.child_container.resize_width((t=o.real_inner_width(e.get_canvas()))!=null?t:r-i);n.get_popup_positioning(e);s.turn()}))}))}})))}))}};n.greyout_field_names={prevent_user_from_closing_through_esc:{no_states:true},greyout_color:{default:"rgba(0,0,0,0.7)",in_style:true},greyout_blur:{default:0,no_states:true,in_style:true}}}).call(this)}).call(this,e("timers").setImmediate)},{"../../../constants/runmode":91,"../../../lang/elements":557,"../../../lib":614,"../../../u":687,"../../../u/shared/callbacks":705,"../../property_applications":405,"core-js/modules/es.array.find-index.js":928,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.splice.js":939,"core-js/modules/web.immediate.js":992,timers:1289}],365:[function(e,t,r){"use strict";var n=r;n.bootstrap_colors=["black","primary","danger","info","warning","success"]},{}],366:[function(e,t,r){"use strict";e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.from.js");var n=r;var o=e("../../../lang/btypes");var s=function e(t){return t.type()==="ElementParent"};var i=function e(t){return t.type()==="TextExpression"};var a=function e(t){var r=t.next();if(r.type()==="Message"&&r.message().is_lookup()&&o.is_custom_type(r.message().ret_btype_id())){return r.message().get_lookup_name()}return null};var l=function e(t,r){if(s(t)){var n=a(t);if(n)r.add(n)}return r};var u=function e(t,r){t.elements().forEach((function(t){if(c(t))return;if(f(t)){r=e(t,r)}var n=t.properties();n.forEach((function(e){if(i(e)){var t=e.entries();t.forEach((function(e){r=l(e,r)}))}else{r=l(e,r)}}))}));return r};var c=function e(t){return t.type()==="RepeatingGroup"};var f=function e(t){if(t.type()==="Group"){var r=t.property("data_source");return s(r)&&!r.has_next()}return false};n.evaluate_extra_fields=function(e){var t=new Set;t=u(e,t);var r=Array.from(t);return r}},{"../../../lang/btypes":537,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],367:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.concat.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../../../u/shared/mode_check");var l=e("../../../lib");var u=e("../../../u");var c=e("../../../lang/evaluation/element_eval");i._get_separator_width=function(e){var t=function t(r,n){var o;if((!a.on_server()||l().force_responsive_version)&&((o=e.root())==null?void 0:o.get_responsive_version())>=1){return e.get_styleable_static_property(r,n)}else{return e.get_static_property(r,n)}};if([undefined,null,"none"].includes(t("separator_style",true))){return 0}else{return t("separator_width",true)}};function f(e){return function(t){var r;if(t.get_static_property("four_border_style",true)){var o=0;var s=n(e),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;r=t.get_static_property("border_style"+a,true);if(r&&r!=="none"){o+=t.get_static_property("border_width"+a,true)}}}catch(e){s.e(e)}finally{s.f()}return o}else{r=t.get_static_property("border_style",true);if(r&&r!=="none"){return 2*t.get_static_property("border_width",true)}else{return 0}}}}i.get_external_border_width=f(["_left","_right"]);var d=f(["_top","_bottom"]);i._get_cell_width=function(e){var t=i._get_separator_width(e);var r=e.get_static_property("columns",true);return(e.get_width()-t*(r-1)-i.get_external_border_width(e))/r};i._get_cell_height=function(e){var t=i._get_separator_width(e);var r=e.get_static_property("rows",true);return(e.get_height()-t*(r-1)-d(e))/r};i.get_fixed_cell_rg_column_count=function(e){var t,r,n;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;if(e==null){return o}var s;if(((t=e.element.root())==null?void 0:t.get_responsive_version())>0){var i;s=(i=c.evaluate_property(e,"columns"))!=null?i:o}else{var a,l;s=(a=(l=e.element)==null?void 0:l.get_static_property("columns",true))!=null?a:o}if((r=e.element)!=null&&r.parent().is_root()||(n=e.element)!=null&&n.get_static_property("fixed_width")){var u;return(u=e.columns)!=null?u:s}else{var f;return Math.min((f=e.columns)!=null?f:1,s)}};var p=1e3;var _=10;i.check_astable_loop=function(e,t,r){var n=false;var o=Date.now();r.forEach((function(s,i){var a=s.since_timestamp,l=s.count;if(o-a>p){r.delete(i);return}if(!u.compare(i,t)){return}if(l>_){var c=e.element.root();throw new u.OwnerError("Astable data source in repeating group",{display:"".concat(c.type()," ").concat(c.display(),': Data source on repeating group "').concat(e.element.display(),'" is not stable, please fix or remove conditional data source. Some elements may be able to render and workflows may time out.')})}r.set(i,{since_timestamp:a,count:l+1});n=true}));if(!n){r.set(t,{since_timestamp:o,count:1})}}},{"../../../lang/evaluation/element_eval":567,"../../../lib":614,"../../../u":687,"../../../u/shared/mode_check":713,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],368:[function(e,t,r){"use strict";var n=r;var o=e("../../../u");var s=e("../../../safe_require");s.safe_register("./core/core_elements/shared/sliderinputs",n);var i=false;n.show_message_for_ios_8_upload_bug=function(){var e;if(!i&&o.safe_contains((e=navigator)==null?void 0:e.userAgent,"12A365")){i=true;alert("The iOS version you're using prevents you from uploading files, please upgrade your system and try again.")}}},{"../../../safe_require":643,"../../../u":687}],369:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../../logger");var a=e("../../../u");var l=e("../../../lang/appquery");var u=e("../../property_applications");var c=e("./clipping");var f=e("../../../lang/evaluation/element_eval");var d=e("../../../lang/evaluation/element_props");var p=e("../../../constants/colors");var _=e("../../../lang/color_tokens"),m=_.variable_to_token_variant;var y=r;var v=/(?:(?:https?|ftp|file):\/\/|www\.|ftp\.)(?:\([-A-Z0-9+&@#/%=~_|$?!:,.']*\)|[-A-Z0-9+&@#/%=~_|$?!:,.'])*(?:\([-A-Z0-9+&@#/%=~_|$?!:,.']*\)|[-A-Z0-9+&@#/%=~_|$])/gim;var b=/(?:[a-zA-Z0-9+._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9_-]+)/gim;var h;if(typeof ResizeObserver!=="undefined"&&ResizeObserver!==null){h=new ResizeObserver((function(e){var t=n(e),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;$(o.target).trigger("update.dot")}}catch(e){t.e(e)}finally{t.f()}}))}y.apply_dotdotdot=function(e,t){var r=e.get_canvas();if(e.thumbnail_mode()){r.css("overflow","hidden");return}function n(){r.dotdotdot({wrap:t,callback:function t(n,o){a.run_once(30,(function(){var t,r;return e.edit_mode()&&o.length!==0&&((t=e.canvas)==null?void 0:(r=t.text)==null?void 0:r.call(t))&&e.canvas.text().trim()===""&&f.evaluate_property(e,"text")!==""}),(function(t,n){if(t){i.log(t);return}if(n){var o=a.div("dots-placeholder",r);o.css({"line-height":0,"font-size":20,"text-align":e.get_static_property("font_alignment",true)});o.text("............")}}))}})}setTimeout((function(){if(e.run_mode()){c.watchClip(r[0],(function(){n()}))}else{n()}}),1);e.autorun((function(){var t;for(var n=0,o=["font_size","font_family","font_weight","padding_vertical","line_height","word_spacing","letter_spacing","fit_width","fit_height","min_width_css","max_width_css","min_height_css","max_height_css","single_width","single_height"];n<o.length;n++){var s=o[n];f.evaluate_property(e,s)}(t=r.trigger)==null?void 0:t.call(r,"update.dot")}));if(h!=null){h.observe(r[0])}else{r.css("overflow","hidden")}};y.remove_dotdotdot=function(e){var t,r,n;(t=(r=e.canvas).trigger)==null?void 0:t.call(r,"destroy.dot");c.unwatchClip(e.canvas[0]);(n=h)==null?void 0:n.unobserve(e.canvas[0])};y.could_clip=function(e){var t;if(d.max_height_css(e)!=null){return true}if(((t=e.element.parent())==null?void 0:t.container_layout())==="row"){if(f.evaluate_property(e,"vert_alignment")!=="stretch"){return false}}else if(e.element.fit_height()){return false}return true};y.apply_text=function(e,t,r){function n(t){var n;if(((n=e.element.root())==null?void 0:n.get_responsive_version())>0&&(r.vertical_centering||e.run_mode()&&y.could_clip(e))){return"<div>".concat(t,"</div>")}else{return t}}var o=l.get_public_setting("bubble_version")>=10;var s=e.get_canvas();var i=e.get_static_property("recognize_links");var c=e.get_static_property("no_bbcode");var f;if(e.run_mode()||!r.editor_preview_text){f=r.text}else{f=r.editor_preview_text}if(c){if(!a.has_bbcode(f)){var d;if(i){d=a.bbcode_to_html(y.replace_links_emails(e,r),o)}else{d=a.bbcode_to_html(f,o)}t.html(n(d))}else{var p;if(((p=e.element.root())==null?void 0:p.get_responsive_version())>0&&y.could_clip(e)){var _;var m=a.div("");m.text(f);t.append(m);(_=t.trigger)==null?void 0:_.call(t,"update.dot")}else{t.text(f)}u.apply_css_style(s,{"white-space":"pre-wrap"})}}else{if(i){f=y.replace_links_emails(e,r)}t.html(n(a.bbcode_to_html(f,o)))}};y.replace_links_emails=function(e,t){var r=t.text,n=t.link_color,o=t.nofollow;if(typeof r!=="string"||!e.run_mode()){return r}var s=["[url=","[url]","[video]","[youtube]"];var i=["[/url]","[/img]","[/video]","[/youtube]"];function u(e,t,r,n,o){if(o){return r+t.length+n.length<=e.length&&e.substring(r+t.length,r+t.length+n.length)===n}return r>=n.length&&e.substring(r-n.length,r)===n&&r+t.length<e.length&&e[r+t.length]==="]"}function c(e,t,r){for(var n=0;n<s.length;n++){var o=s[n];var a=i[n];if(e.substring(0,r).includes(o)&&e.substring(r).includes(a)){var l=e.substring(r);var u=l.indexOf(o);if(u<0||u>0&&u>l.indexOf(a)){return true}}}return false}function f(e){if(n==null){return e}if(n.includes(p.VAR_IDENTIFIER)){var t;var r=(t=l.get_public_setting("color_tokens"))!=null?t:p.DEFAULT_COLOR_TOKENS;var o=m(n),s=o.token_set,i=o.variant;n=r[s][i]}var u=a.rgb_to_hex(n);return"[color=".concat(u.code,"]").concat(e,"[/color]")}var d=o?" nofollow=true":"";var _=r.replace(v,(function(e,t){var n;for(var o=0,a=s;o<a.length;o++){n=a[o];if(u(r,e,t,n)){return e}}for(var l=0,c=i;l<c.length;l++){n=c[l];if(u(r,e,t,n,true)){return e}}var p=/^http/.test(e)?e:"http://".concat(e);return f("[url=".concat(p).concat(d,"]").concat(e,"[/url]"))}));_=_.replace(b,(function(e,t){if(c(_,e,t)){return e}for(var r=0,n=["[url=https://mailto:","[url=mailto:","[url]"];r<n.length;r++){var o=n[r];if(u(_,e,t,o)){return e}}if(u(_,e,t,"[/url]",true)){return e}return f("[email=".concat(e,"]").concat(e,"[/email]"))}));return _}},{"../../../constants/colors":64,"../../../lang/appquery":535,"../../../lang/color_tokens":540,"../../../lang/evaluation/element_eval":567,"../../../lang/evaluation/element_props":568,"../../../logger":617,"../../../u":687,"../../property_applications":405,"./clipping":353,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],370:[function(e,t,r){"use strict";var n=r;var o=e("../../../lang/appquery");var s=e("../../../lib");var i=e("../../../constants/db");n.should_block_cookies=function(){return o.get_public_setting("cookie_opt_in")&&s().current_user()._id()===i.NO_USER}},{"../../../constants/db":69,"../../../lang/appquery":535,"../../../lib":614}],371:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");Object.defineProperty(r,"__esModule",{value:true});r.add_event=d;r.all_events=m;r.clear_event=p;r.has_event=_;r.relevant_elements=y;r.relevant_events=v;e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.set.js");e("core-js/modules/es.array.filter.js");var n=o(e("../../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return u(e)||l(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}n.default.safe_register("./core/core_events/event_element_mapping",r);var f=new Map;function d(e,t){var r=f.get(e);if(!r){r=new Set;f.set(e,r)}if(t){r.add(t)}}function p(e){var t;(t=f.get(e))==null?void 0:t.clear()}function _(e,t){var r,n;return(r=(n=f.get(e))==null?void 0:n.has(t))!=null?r:false}function m(){return s(f.keys())}function y(e){var t;return s((t=f.get(e))!=null?t:[])}function v(e){return m().filter((function(t){return _(t,e)}))}},{"../../safe_require":643,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],372:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.map.js");var n;function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function s(e,t){return l(e)||a(e,t)||f(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}function u(e){return p(e)||d(e)||f(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(!e)return;if(typeof e==="string")return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}function d(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p(e){if(Array.isArray(e))return _(e)}function _(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var m=e("../../u");var y=e("../../lib");var v=e("../../safe_require");var b=e("../../u/shared/b_object");var h=e("../../logger");var j=e("../../constants/workflow");var g=e("../../constants/core");var w=e("../../lang/appquery");var O=e("../core_datasources/utilities/core_ds_workflow_utilities");var S=e("../custom_tz_utilities");var k=e("../../lang/evaluation/FrozenState");var A=e("../../lang/evaluation/page_state");var E=e("../../u/shared/decaf");var x=e("../../services/shared/service_type_parser");var M=e("./event_element_mapping");var P=e("../../u/shared/mode_check");var T,I,C,R;var N=r;v.safe_register("./core/core_events",N);(n=N.plugin_general_events)!=null?n:N.plugin_general_events={};var L=N.make_gen_event=function(e,t){N[e]=t;t.register=function(t,r){var n=function e(){var n={element:r};var o=y().workflow.run_workflows(n,[t]);return o.callback((function(e){return N.handle_uncaught_error({original_error:e,caught_from:j.ERROR_SOURCES.GENERAL_WORKFLOW,cb:function e(t){if(t){console.log("Workflow failed:");return h.log(t)}}})}))};y().workflow.on_event(e,n);var o=function t(){return y().workflow.off_event(e,n)};return o}};var z=N.make_element_event=function(e,t,r){var n,o;if(!r){N[e]=t}(n=t.field_names)!=null?n:t.field_names={element_id:{}};t.register=function(){}};L("LoggedIn",{display:function e(){return"User is logged in"},can_redirect:true,server_side_redirect:function e(){return y().current_user().is_logged_in()}});L("LoggedOut",{display:function e(){return"User is logged out"},can_redirect:true,server_side_redirect:function e(){return!y().current_user().is_logged_in()}});L("PageLoaded",{display:function e(){return"Page is loaded"},can_redirect:true,server_side_redirect:function e(){return true}});var D=m.MakeSwitch(null,"conditiontrue is running");D.turn_on();N.ConditionTrue={field_names:{run_when:{default:"just_once"}},condition_not_optional:true,register:function e(t,r){var n=t.get_static_property("run_when");var o=null;m.WaitFor(r.get_is_ready_key(),(function(){var e=new Date(m.timestamp());o=m.Watcher((function(){m.ensure_ready(D);if(!e){e=new Date(m.timestamp())}var n={element:r,datasources:A.get_basic_datasources(r.element.root()),_current_date_time:e};new k(n);return[H.evaluate_event_condition(t,n),n]}));var i=true;o.on_value((function(r){var a=s(r,2),l=a[0],u=a[1];e=null;if(l){if(i){D.turn_off();y().workflow.run_workflows(u,[t]).callback((function(e){return N.handle_uncaught_error({original_error:e,caught_from:j.ERROR_SOURCES.GENERAL_WORKFLOW,cb:function e(t){if(t){h.log(t)}return D.turn_on()}})}));i=false;if(n!=="every_time"){o.destroy()}}}else{i=true}}))}));var i=function e(){var t;return(t=o)==null?void 0:t.destroy()};return i}};var q=[];var B=0;N.OnPageError={display:function e(t){return"An unhandled error occurs"},fields:function e(){return[{name:"caught_error_origins",caption:"Catch ",editor:"Dropdown",set:y().sets.get_set("Object")(j.ERROR_CATCHER_TYPES)}]},field_names:{caught_error_origins:{default:j.DEFAULT_CATCHER_TYPE}},register:function e(t,r){var n=B;B++;var o=t.get_static_property("caught_error_origins");q.push({id:n,workflow:t,element_instance:r,error_origin:o});var s=function e(){q=q.filter((function(e){return e.id!==n}))};return s}};N.build_wf_error_object=function(e){var t=e.message;if(!t){if(e instanceof m.errors.ExpectedError){t="MISCELLANEOUS"}else{t="TEMPORARY_BUG"}}var r=h.human_friendly(e);return{code:t,message:r}};N.handle_uncaught_error=function(e){var t=e.original_error,r=e.caught_from,n=e.cb;if(t==null){n(null);return}if(q.length===0){n(t);return}var s=N.build_wf_error_object(t);var i=[];var a=o(q),l;try{for(a.s();!(l=a.n()).done;){var u=l.value,c=u.workflow,f=u.element_instance,d=u.error_origin;var p=d!=null?d:j.DEFAULT_CATCHER_TYPES;var _=j.CAUGHT_ERROR_SOURCES[p];if(r!=null&&!_.includes(r)){continue}var v={element:f,datasources:A.get_basic_datasources(f.element.root())};var b={};b[g.LEGACY_PARAM_ID]=new X(s,null,"sys.error");v.datasources.get_wf_param=O.generate_wf_param_datasource(b);i.push(y().workflow.run_workflows(v,[c],true))}}catch(e){a.e(e)}finally{a.f()}if(i.length===0){n(t)}m.promise_array(i).callback((function(e,r){if(e){n(e);return}var s=o(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.length!==0){n(null);return}}}catch(e){s.e(e)}finally{s.f()}n(t)}))};N.DoInterval={display:function e(t){var r;return"Do every "+((r=t==null?void 0:t.get_static_property("interval"))!=null?r:"X")+" seconds"},field_names:{interval:{default:5}},fields:function e(){return[{name:"interval",caption:"Interval (seconds)",editor:"StaticNumber",optional:false}]},register:function e(t,r){var n=t.get_static_property("interval");var o=true;function s(){if(o){setTimeout((function(){var e={element:r};y().workflow.run_workflows(e,[t]).callback((function(e){return N.handle_uncaught_error({original_error:e,caught_from:j.ERROR_SOURCES.GENERAL_WORKFLOW,cb:function e(){}})}));m.WaitFor(y().workflow.everything_done_key(),s)}),n*1e3)}}s();var i=function e(){o=false};return i}};z("ButtonClicked",{display:function e(){return" is clicked"}});z("InputChanged",{display:function e(){return"'s value is changed"},element_name:"An input"});z("PopupClosed",{display:function e(){return" is closed"},element_name:"A popup "});z("PopupOpened",{display:function e(){return" is opened"},element_name:"A popup "});z("MapMarkerClicked",{display:function e(){return"'s marker is clicked"},element_name:"A map"});z("OnError",{display:function e(){return" has an error running a workflow"}});N.CustomEvent={display:function e(t){var r=t==null?void 0:t.get_static_property("event_name");if(r){return r}else{return"Create a custom event..."}},field_names:{event_name:{},parameters:{}},register:function e(){}};function U(e){var t=/[$#[\]/]/;return t.test(e)}N.APIEvent={display:function e(t,r){var n;var o=t==null?void 0:(n=t.wf_name)==null?void 0:n.call(t);if(o){return o}else if(r){return"API Workflow"}else{return"New API workflow..."}},field_names:m.extend({wf_name:{},expose:{default:true},auth_unecessary:{default:false},ignore_privacy_rules:{default:false},trigger_option:{default:"post"},return_200_if_not_run:{default:false},parameters:{},detect_request:{},include_headers:{},parameter_def:{default:"manual"},modify_types:{},response_type:{default:"json"},redirect_page_success:{},redirect_page_error:{}},S.custom_tz_field_names),register:function e(){},check_for_errors:function e(t,r){if(t.wf_name()){if(t.wf_name().indexOf(" ")!==-1&&t.get_static_property("expose")){r(this.display(t)+" - the API workflow name should not have any spaces, since it can be used via the Workflow API")}else if(m.firebase_illegal(t.wf_name())){r(this.display(t)+" - the API workflow should not contain illegal characters, since it can be used via the Workflow API")}}else{r(this.display(t)+" - the API workflow name should not be empty")}var n=o(t.get_custom_parameters()),s;try{for(n.s();!(s=n.n()).done;){var i=s.value.param_id;if(i){if(i.trim()!==i){r(this.display(t)+" - the parameter "+i.trim()+" has some spaces around it")}}}}catch(e){n.e(e)}finally{n.f()}}};N.RecurringEvent={display:function e(t,r){var n=t==null?void 0:t.get_static_property("event_name");if(n){return n}else if(r){return"Recurring event"}else{return"New recurring event..."}},field_names:m.extend({event_name:{},custom_event_data_type:{},ignore_privacy_rules:{default:false}},S.custom_tz_field_names),register:function e(){}};N.DatabaseTriggerEvent={display:function e(t,r){var n=t==null?void 0:t.get_static_property("event_name");if(n){return n}else if(r){return"Database trigger event"}else{return"New database trigger event..."}},field_names:m.extend({event_name:{},data_trigger_type:{}},S.custom_tz_field_names),register:function e(){}};N.get_event_object=function(e){if(N[e]){return N[e]}else{var t;var r=x.get_plugin_and_type(e),n=s(r,1),o=n[0];return(t=G.get_plugin(o))==null?void 0:t.get_event(e)}};var W=e("../../services/is_installed");var F=e("../../services/shared/plugin_registry");var G=e("../../services/shared/plugin_getter");F.on_plugin_registration((function(e,t){if(t.plugin_general_events!==null){var r;(r=N.plugin_general_events)!=null?r:N.plugin_general_events={};b.extend(N.plugin_general_events,t.plugin_general_events)}}));var X=e("../../db/values/StaticObject");var $=e("../status_bar");var V=e("../../lang/lang");var H=e("../../lang/evaluation/node_eval")},{"../../constants/core":66,"../../constants/workflow":101,"../../db/values/StaticObject":466,"../../lang/appquery":535,"../../lang/evaluation/FrozenState":564,"../../lang/evaluation/node_eval":574,"../../lang/evaluation/page_state":575,"../../lang/lang":590,"../../lib":614,"../../logger":617,"../../safe_require":643,"../../services/is_installed":647,"../../services/shared/plugin_getter":649,"../../services/shared/plugin_registry":650,"../../services/shared/service_type_parser":651,"../../u":687,"../../u/shared/b_object":702,"../../u/shared/decaf":706,"../../u/shared/mode_check":713,"../core_datasources/utilities/core_ds_workflow_utilities":236,"../custom_tz_utilities":374,"../status_bar":407,"./event_element_mapping":371,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],373:[function(e,t,r){"use strict";var n=e("../u");var o=e("../u/shared/async/b_fiber");var s=e("../logger");var i=e("../constants/core");var a=e("../lang/btype_ids");var l=r;l.list_of_formulas={};l.all={};function u(e,t){l[e]=t;l.list_of_formulas[e]=t.display;l.all[e]=t}u("PMT",{display:"Loan Payment",fields:{rate:{content_format:"percentage"},nper:{},pv:{}},evaluate:function e(t){var r=t.rate,o=t.nper,s=t.pv;var i=0;var a=0;if(r===0){return n.to_num(-(s+i)/o)}var l=Math.pow(1+r,o);var u=r/(l-1)*-(s*l+i);if(a===1){u/=1+r}return n.to_num(u)},testing:{properties:{rate:.1,nper:10,pv:1e3},result:-162.74539488251153}});u("CoordToAddress",{display:"Coordinates to Address",fields:{latitude:{},longitude:{}},ret_btype:"geographic_address",evaluate:function e(t){return{lat:t.latitude,lng:t.longitude}},testing:{ignore:true}});u("RandomString",{display:"Generate random string",fields:{length:{default:6,caption:"Length of characters"},letters:{default:true,editor:"Checkbox",caption:"Use letters"},non_cap:{default:true,editor:"Checkbox",caption:"Use non capitalized letters"},numbers:{default:false,editor:"Checkbox",caption:"Use numbers"},special_chars:{default:false,editor:"Checkbox",caption:"Use special characters"}},ret_btype:"text",evaluate:function e(t,r){if(!t){return""}if(r.is_in_partial){return"not available in debugger"}var n=t.length,a=t.letters,l=t.non_cap,u=t.numbers,c=t.special_chars;var f="";if(a){f+="ASDFGHJKLZXCVBNMQWERTYUIOP"}if(l){f+="qwertyuiopasdfghjklzxcvbnm"}if(u){f+="1234567890"}if(c){f+="{}[];:/<>?_+~!@#"}var d;if(r!=null&&r.random_generator){d=function e(t){return r.random_generator.random(0,t)}}else{d=function e(t){return Math.random()*t}}var p="";if(n>i.SLOW_RANDOM_LENGTH){s.owner_warn("Probably slow random generation",{display:"Generating a random string > 100,000 characters can slow down workflows and time out, consider using a smaller random string"})}for(var _=0;_<Math.abs(n);_++){if(_%1e3===0){o.optional_pause()}p+=f.charAt(Math.floor(d(f.length)))}return p},testing:{ignore:true}});u("SumProduct",{display:"Calculate sumproduct",fields:{list_1:{value:a.list_type("number"),caption:"List 1"},list_2:{value:a.list_type("number"),caption:"List 2"}},evaluate:function e(t,r){if(!t){return 0}var n=function e(t){var r,n;return(r=t==null?void 0:(n=t.all)==null?void 0:n.call(t))!=null?r:t};var o=n(t.list_1);var s=n(t.list_2);if(!(o!=null&&o.length)||!(s!=null&&s.length)){return 0}var i=Math.min(o.length,s.length);var a=0;for(var l=0;l<i;l++){a+=o[l]*s[l]}return a},testing:{ignore:true}})},{"../constants/core":66,"../lang/btype_ids":536,"../logger":617,"../u":687,"../u/shared/async/b_fiber":696}],374:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("../lang/timezone_override_settings"),f=c.has_adv_timezone_overridden;var d=e("../lib");var p=e("../u/shared/b_date");var _=p.require_moment();u.custom_tz_field_names={tz_type:{default:"browser",no_states:true},tz_static:{},tz_dynamic:{},tz_type_overridden:{default:"browser",no_states:true},tz_static_overridden:{},tz_dynamic_overridden:{}};u.get_custom_tz=function(e){var t;var r=e.static_eval,n=e.dynamic_eval,o=e.invalid_tz_fallback,s=e.not_overridden,i=s===void 0?false:s;(t=n)!=null?t:n=r;if(o===undefined){var a;(a=o)!=null?a:o=d().current_timezone()}var l=f()&&!i?"_overridden":"";switch(r("tz_type".concat(l))){case"browser":return d().current_timezone();case"static":return n("tz_static".concat(l));case"dynamic":{var u=n("tz_dynamic".concat(l));if(_.tz.zone(u)){return u}else{return o}}}return d().current_timezone()};u.get_tz_display=function(e){if(e){var t;var r=(t=e.replace(/_/g," "))!=null?t:"";return" ("+r+")"}else{return""}}},{"../lang/timezone_override_settings":604,"../lib":614,"../u/shared/b_date":699,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],375:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=r;var o=e("../u");var s=e("../u/shared/async/b_fiber");var i=e("../logger");var a=e("../shared/investigations");n.update_modified_date=function(e){return e.child("Modified Date").set(o.timestamp())};n.update_thing=function(e,t,r){var u,c;var f=o.Promise(null,"updating "+(e==null?void 0:(u=e._id)==null?void 0:u.call(e)));if(!e){console.log("trying to update something that does not exist.  this is likely an application error...");f.resolve();return f}if(typeof e.child!=="function"){console.log("trying to update something that doesn't look like a DB object.  This can legitimately happen in preview mode, if the to_change expression isn't valid.");f.resolve();return f}var d={thing_id:e==null?void 0:(c=e._id)==null?void 0:c.call(e),new_values:t,expected_value_id:r,inner_value_check:{}};f.resolve(o.run_once(30,(function(){return e._type()})).then((function(u){d.thing_type=u;if(r!=null&&r!==u){return null}var c=l.get(u).custom_type();if(c!=null){s.optional_pause();return o.run_once(30,(function(){var e={};var r=t!=null?t:{};for(var n in r){var s=r[n];if(s!=null&&s.key){var i;if(!c.field(s.key).exists()){continue}e[n]=o.extend({},s);var a=l.get(c.field(s.key).value());var u=a.inner();d.inner_value_check[s.key]=u!=null;(i=u)!=null?i:u={cast:function e(){return null}};if(!s.action&&a.is_list()){s.action="set_list"}if(!s.action){e[n].value=a.cast(s.value)}else if(["add","remove"].includes(s.action)){e[n].value=u.cast(s.value)}else{var f;e[n].value=[];var p=(f=s.value)!=null?f:[];for(var _=0;_<p.length;_++){var m=p[_];e[n].value.push(u.cast(m));o.optional_pause_tick()}}}}d.new_values2=e;return e})).then((function(t){if(a.action_update_thing.active()){i.debug("update_thing processed values",d)}var r=t!=null?t:{};var l=function t(n){var i=r[n];if(!i.action){e.child(i.key).set(i.value)}else{var a=function t(r){return e.child(i.key).push(r)};var l=function t(r){return e.child(i.key).remove(r)};if(i.action==="add"){a(i.value)}else if(i.action==="remove"){l(i.value)}else if(i.action==="set_list"){e.child(i.key).set(i.value)}else if(i.action==="add_list"){for(var u=0;u<i.value.length;u++){var c=i.value[u];a(c);o.optional_pause_tick()}}else if(i.action==="remove_list"){for(var f=0;f<i.value.length;f++){var d=i.value[f];l(d);o.optional_pause_tick()}}else if(i.action==="clear_list"){e.child(i.key).set([])}else{throw new o.UnexpectedError("unrecognized action: "+i.action)}}s.optional_pause()};for(var u in r){l(u)}n.update_modified_date(e);return null}))}})));return f};var l=e("../lang/btypes")},{"../lang/btypes":537,"../logger":617,"../shared/investigations":663,"../u":687,"../u/shared/async/b_fiber":696,"core-js/modules/es.array.includes.js":933}],376:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function n(){if(typeof Reflect!=="undefined"&&Reflect.get){n=Reflect.get.bind()}else{n=function e(t,r,n){var s=o(t,r);if(!s)return;var i=Object.getOwnPropertyDescriptor(s,r);if(i.get){return i.get.call(arguments.length<3?t:n)}return i.value}}return n.apply(this,arguments)}function o(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=f(e);if(e===null)break}return e}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}function a(e){var t=c();return function r(){var n=f(e),o;if(t){var s=f(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return l(this,o)}}function l(e,t){if(t&&(d(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}function d(e){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,y(n.key),n)}}function m(e,t,r){if(t)_(e.prototype,t);if(r)_(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function y(e){var t=v(e,"string");return d(t)==="symbol"?t:String(t)}function v(e,t){if(d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var b=e("./../u");var h=e("../u/shared/b_date");var j=e("../lib");var g=h.require_moment();var w=r;w.file="jquery_plugins/jquery.inputmask";var O=function(){function e(t,r){p(this,e);this.caption=t;this.mask=r;this.btype="text"}m(e,[{key:"format_val",value:function e(t,r){return this.format_text(t)}},{key:"get_val",value:function e(t,r){var n,o;return this.parse_val((n=(o=t.inputmask)==null?void 0:o.call(t,"unmaskedvalue"))!=null?n:t.val(),r)}},{key:"parse_val",value:function e(t,r){return t}},{key:"is_valid_text",value:function e(t){var r=this.format_text(t);return window.Inputmask.isValid(r,this.get_mask())}},{key:"get_mask",value:function e(t){var r;(r=t)!=null?r:t={};return b.extend({greedy:false},this.mask,t)}},{key:"format_text",value:function e(t,r){return window.Inputmask.format(t!=null?t:"",this.get_mask(r))}}]);return e}();var S=function(e){s(r,e);var t=a(r);function r(e,n,o){var s;p(this,r);s=t.call(this,e,o);s.type=n;s.btype="number";return s}m(r,[{key:"get_mask",value:function e(t){var r;(r=t)!=null?r:t={};var n=j().locale().get_regional_separators(),o=n.decimal_separator,s=n.group_separator;return b.extend({greedy:false,radixPoint:o,groupSeparator:s},this.mask,t)}},{key:"format_val",value:function e(t,r){if(t!=null){var n=j().locale().format_number(t,r.digits);return this.format_text(n,r)}else{return""}}},{key:"parse_val",value:function e(t){var r=j().locale().parse_float(t);if(isNaN(r)){return null}if(this.type==="integer"){var n=parseInt(r);if(isNaN(n)){return null}return n}else{return r}}},{key:"is_valid_text",value:function e(t){if(this.type==="integer"){var r=this.parse_val(t);if(r==null||!!isNaN(r)){return false}return r===0||String(r)===t}else{return true}}}]);return r}(O);var k=function(e){s(r,e);var t=a(r);function r(){p(this,r);return t.apply(this,arguments)}m(r,[{key:"format_val",value:function e(t,r){if(t==null){return""}var n=j().locale().parse_float(t);if(!isNaN(n)){t=t*100;t=parseFloat(t.toPrecision(12))}if(t!=null){var o=j().locale().format_number(t,r.digits);return this.format_text(o,r)}else{return""}}},{key:"parse_val",value:function e(t){var o=n(f(r.prototype),"parse_val",this).call(this,t);if(o==null){return o}return o/100}}]);return r}(S);var A=function(e){s(r,e);var t=a(r);function r(e,n){var o;var s=n.separator,i=n.order;p(this,r);var a=i.join(s);var l={alias:"datetime",inputFormat:a,placeholder:a};o=t.call(this,e,l);o.btype="date";o.date_format=a;o.separator=s;o.order=i;return o}m(r,[{key:"format_val",value:function e(t,r){return h.format_date(h.mk_date(t),this.date_format,null,r.timezone)}},{key:"parse_val",value:function e(t,r){if(t){var n;var o,s,i;var a=t.split(this.separator);for(var l=0;l<this.order.length;l++){var u=this.order[l];if(u[0]==="m"){s=a[l]}else if(u[0]==="d"){o=a[l]}else{i=a[l]}}var c=(n=r==null?void 0:r.timezone)!=null?n:j().current_timezone();return g.tz([i,s-1,o],c).toDate()}else{return null}}},{key:"is_valid_text",value:function e(t){return Boolean(h.mk_date(t))}}]);return r}(O);var E=function(e){s(r,e);var t=a(r);function r(){p(this,r);return t.apply(this,arguments)}m(r,[{key:"format_val",value:function e(t){if(t===""||t==null){return""}return this.format_text(t)}}]);return r}(O);w.masks={us_phone:new E("US Phone",{mask:"(999) 999-9999",placeholder:"_",inputmode:"tel"}),us_ssn:new O("US SSN",{alias:"ssn"}),percentage:new k("Percentage","float",{alias:"decimal",suffix:"%",placeholder:"0",inputmode:"text"}),currency:new S("Currency","float",{alias:"currency",digits:2,inputmode:"decimal"}),date:new A("Date",{separator:"/",order:["mm","dd","yyyy"]}),date_2:new A("Euro date",{separator:".",order:["dd","mm","yyyy"]}),time:new O("Time",{alias:"datetime",inputFormat:"HH:MM:ss",placeholder:"hh:mm:ss"}),date_time:new O("Date/Time",{alias:"datetime",inputFormat:"mm/dd/yyyy HH:MM:ss",placeholder:"mm/dd/yyyy hh:mm:ss"}),date_time_no_seconds:new O("Date/Time (no seconds)",{alias:"datetime",inputFormat:"mm/dd/yyyy hh:MM tt",placeholder:"mm/dd/yyyy hh:mm xm"}),numerical_ref:new O("Text (numbers only)",{placeholder:"",mask:"9{1,30}",inputmode:"numeric"}),credit_card_number:new O("Credit card number",{placeholder:"",mask:"9999 9999 9999 [9][9][9][9]"}),credit_card_cvc:new O("Credit card CVC",{placeholder:"",mask:"9{3,4}"}),credit_card_exp_month:new O("Credit card exp month",{placeholder:"",mask:"9[9]"}),credit_card_exp_year:new O("Credit card exp year",{placeholder:"",mask:"9999"}),bank_routing_number:new O("Routing number",{placeholder:"",mask:"999999999"}),int_number:new S("Integer","integer",{alias:"numeric",digits:0,placeholder:"",autoGroup:true,_radixDance:false}),float_number:new S("Decimal","float",{alias:"numeric",placeholder:"",autoGroup:true,_radixDance:false,inputmode:"text"})}},{"../lib":614,"../u/shared/b_date":699,"./../u":687,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],377:[function(e,t,r){"use strict";var n=e("../safe_require");var o=e("./plugin_loader");var s=r;var i=["algolia_search_engine"];s.initialize=function(){var t=e("./core_elements/core_elements_utilities/element_registry");var r=e("./core_events");var s=e("./core_actions");var a=e("./core_btypes");var l=e("./core_datasources");if(typeof window==="undefined"||window===null){for(var u=0,c=i;u<c.length;u++){var f=c[u];n.safe_require("./optional/services/".concat(f))}}var d={element:t.registered_elements,event:r,action:s,btype:a.all,datasource:l};o.inject_dependencies(d)}},{"../safe_require":643,"./core_actions":165,"./core_btypes":179,"./core_datasources":221,"./core_elements/core_elements_utilities/element_registry":280,"./core_events":372,"./plugin_loader":378}],378:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.concat.js");function n(e){return c(e)||o(e)||a(e)||i()}function o(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s(e,t){return c(e)||u(e,t)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function c(e){if(Array.isArray(e))return e}var f=e("../u");var d=e("../safe_require");var p=e("../strings/plugin");var _=e("../services/shared/service_type_parser");var m=e("../services/shared/plugin_getter");var y=e("../u/shared/errors"),v=y.UnexpectedError;var b=r;var h=null;var j={element:{},event:{},action:{},btype:{},datasource:{}};b.type_to_prefix={element:"Element",event:"Event",action:"Action",btype:"Btype",datasource:"Datasource",module:"Module"};var g={};for(var w=0,O=Object.entries(b.type_to_prefix);w<O.length;w++){var S=s(O[w],2),k=S[0],A=S[1];g[A]=k}b.load_plugin=function(e,t,r){var o;(o=t)!=null?o:t=false;if(!h){throw new v("Loading a plugin before the loader was initialized")}if(e.slice(0,7)===b.type_to_prefix.module+":"){return E(e.slice(7))}var i=h[e];if(!i){var a=e.split(":"),l=n(a),u=l[0],c=l.slice(1);var d=c.join(":");var y=g[u];if(y){var w;i=(w=j[y])==null?void 0:w[d];if(i){h[e]=i}}}if(!i){var O=b.type_to_prefix.element+":";var S=b.type_to_prefix.action+":";var k=b.type_to_prefix.event+":";if(e.startsWith(O)){var A=e.split(O)[1];var x=_.get_plugin_and_type(A),M=s(x,2),P=M[0],T=M[1];if(T){var I;i=(I=m.get_plugin(P))==null?void 0:I.get_element(A,r)}}else if(e.startsWith(S)){var C=e.split(S)[1];var R=_.get_plugin_and_type(C),N=s(R,2),L=N[0],z=N[1];if(z){var D;i=(D=m.get_plugin(L))==null?void 0:D.get_action(C)}}else if(e.startsWith(k)){var q=e.split(k)[1];var B=_.get_plugin_and_type(q),U=s(B,1),W=U[0];if(q){var F;i=(F=m.get_plugin(W))==null?void 0:F.get_event(q)}}}if(!i){if(t){return null}throw new f.UnexpectedError(p.MISSING_PLUGIN+" "+e)}i.plugin_retrieved_name=e;return i};b.inject_dependencies=function(e){if(h){return}j=e;h={};for(var t=0,r=Object.entries(j);t<r.length;t++){var n=s(r[t],2),o=n[0],i=n[1];var a=b.type_to_prefix[o];for(var l=0,u=Object.entries(i);l<u.length;l++){var c=s(u[l],2),f=c[0],d=c[1];h["".concat(a,":").concat(f)]=d}}};function E(e){return d.safe_require("./optional/"+e)}},{"../safe_require":643,"../services/shared/plugin_getter":649,"../services/shared/service_type_parser":651,"../strings/plugin":675,"../u":687,"../u/shared/errors":708,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],379:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("../../u/shared/decaf");t.exports=function(){function e(t,r,n){var o,s=this;a(this,e);this.sel_fn=t;this.to_remove=r!=null?r:[];this.to_not_apply=n!=null?n:[];this.uses_properties=((o=this._uses_properties)!=null?o:[]).filter((function(e){return!s.to_remove.includes(e)}))}u(e,[{key:"get_target",value:function e(t){if(this.sel_fn){if(typeof this.sel_fn==="string"){t=t.find(this.sel_fn)}else{t=this.sel_fn(t)}}return t}},{key:"apply",value:function e(t,r,n){var s=o(this.to_remove),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;delete t[a]}}catch(e){s.e(e)}finally{s.f()}var l=o(this.to_not_apply),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;delete t[c]}}catch(e){l.e(e)}finally{l.f()}if(!this.sel_fn){this._apply(t,r,n)}else{var f=o(d.array_from(this.get_target(r))),p;try{for(f.s();!(p=f.n()).done;){var _=p.value;this._apply(t,$(_),n)}}catch(e){f.e(e)}finally{f.f()}}}},{key:"apply_directly",value:function e(t,r,n){var s=o(this.to_remove),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;delete t[a]}}catch(e){s.e(e)}finally{s.f()}var l=o(this.to_not_apply),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;delete t[c]}}catch(e){l.e(e)}finally{l.f()}this._apply(t,r,n)}},{key:"get_transition_css",value:function e(t,r,n){var s="";var i=o(this.uses_properties),a;try{for(i.s();!(a=i.n()).done;){var l;var u=a.value;if((l=this.transition_properties)!=null&&l[u]){var c=this._transition_property_to_css_string(t,u);if(c){s+=c+", "}}}}catch(e){i.e(e)}finally{i.f()}if(s){var f,d,p,_,m;var y;var v=this.get_target(r);if(typeof this.sel_fn==="string"){y=this.sel_fn}else{y=v.prop("outerHTML")}(d=n[f=y])!=null?d:n[f]={};(_=(p=n[y]).target)!=null?_:p.target=v;n[y].css_prop=((m=n[y].css_prop)!=null?m:"")+s}}},{key:"_transition_property_to_css_string",value:function e(t,r){var n=this;var o="";var s=t.transition(r);if(!this._transition_should_be_applied(t,r)){return o}if(s!=null&&s.exists()){if(Array.isArray(this.transition_properties[s.prop_name()])){o+=this.transition_properties[s.prop_name()].map((function(e){return n._combine_transformation_info_into_css(e,s)})).join(", ")}else{var i=this.transition_properties[s.prop_name()];o+=this._combine_transformation_info_into_css(i,s)}}return o}},{key:"_transition_should_be_applied",value:function e(t,r){var n;if(((n=this.transition_conditions)==null?void 0:n[r])!=null){return this.transition_conditions[r](t)}else{return true}}},{key:"_combine_transformation_info_into_css",value:function e(t,r){return"".concat(t," ").concat(r.duration(),"ms ").concat(r.fn())}},{key:"get_transition_styling",value:function e(t){var r=[];var n=o(this.uses_properties),s;try{for(n.s();!(s=n.n()).done;){var i;var a=s.value;if((i=this.transition_properties)!=null&&i[a]){var l=this._transition_property_to_css_string(t,a);if(l){r.push(l)}}}}catch(e){n.e(e)}finally{n.f()}return r.join(", ")}},{key:"get_properties",value:function e(t){var r=this;var n=this._get_properties().filter((function(e){return!r.to_remove.includes(e.name)}));if(t){var s=o(n),i;try{for(s.s();!(i=s.n()).done;){var a;var l=i.value;var u=(a=this.field_names[l.name])==null?void 0:a.default;if(u){l.default=u}}}catch(e){s.e(e)}finally{s.f()}var c=o(n),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;if(t[d.name]!=null){d.default=t[d.name]}}}catch(e){c.e(e)}finally{c.f()}}return n}}]);return e}()},{"../../u/shared/decaf":706,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],380:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../constants/runmode");var a=e("../../lang/evaluation/element_eval");var l=e("../../lang/elements/ElementInstance");var u=e("../../u/shared/decaf");var c=r;c.apply_css_style=function(e,t){var r=n(u.array_from(e!=null?e:[])),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;for(var i in t){var a=t[i];s.style[i]=a}}}catch(e){r.e(e)}finally{r.f()}};c.patch_user_agent_styles=function(e){c.apply_css_style(e,{padding:"0px","text-align":"center",background:"none",border:"none"});if(!e.hasClass(i.CLICKABLE_ELEMENT)){return c.apply_css_style(e,{cursor:"inherit"})}};c.calculate_border_height=function(e){return f(e,["_top","_bottom"])};c.calculate_border_width=function(e){return f(e,["_left","_right"])};function f(e,t){var r;var o=function t(r){var n;if(e instanceof l){var o,s;n=(o=(s=e.element).get_style_if_exists)==null?void 0:o.call(s);if(n){return n.get_static_property(r)}return a.evaluate_property(e,r)}else{var i,u;n=(i=e.get_style_if_exists)==null?void 0:i.call(e);if(n){return n.get_static_property(r)}return(u=e.get_static_property)==null?void 0:u.call(e,r,true)}};if(e.get_static_property("four_border_style")){var s=0;var i=n(t),u;try{for(i.s();!(u=i.n()).done;){var c=u.value;r=o("border_style"+c);if(![undefined,"none"].includes(r)){s+=o("border_width"+c)}}}catch(e){i.e(e)}finally{i.f()}return s}else{r=o("border_style");if(![undefined,"none"].includes(r)){return 2*o("border_width")}else{return 0}}}},{"../../constants/runmode":91,"../../lang/elements/ElementInstance":546,"../../lang/evaluation/element_eval":567,"../../u/shared/decaf":706,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],381:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../../../u");var b=e("../PropertyApplication");var h=e("../application_utilities");var j=e("../../core_elements/shared/image_utils");var g=e("../../../lang/appquery");var w=e("./SimpleGradient");var O=e("../../../lang/evaluation/element_eval");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t){var o={};if(!t._first_time&&(g.get_public_setting("bubble_version")<16||(n==null?void 0:n.element.type())!=="Dropdown"||t.background_style==="image")){o.background="none"}if(t.background_style==="bgcolor"){o["background-color"]=v.RGBA_to_RGB(t.bgcolor);o["background-color"]=t.bgcolor}else if(t.background_style==="none"&&!t._first_time){o["background-color"]="transparent"}else if(t.background_style==="gradient"){h.apply_css_style(r,o);(new w)._apply({style:t.background_gradient_style,direction:t.background_gradient_direction,angle:t.background_gradient_custom_angle,from:t.background_gradient_from,to:t.background_gradient_to,mid:t.background_gradient_mid,shape:t.background_radial_gradient_shape,pos:t.background_radial_gradient_size,xpos:t.background_radial_gradient_xpos,ypos:t.background_radial_gradient_ypos},r);return}else if(t.background_style==="image"){if(!t.backdrop_image_paralax){o["background-color"]=t.background_color_if_empty_image}if(t.background_image){var s,i;var a=t.repeat_background_vertical&&t.repeat_background_horizontal?"repeat":t.repeat_background_vertical?"repeat-y":t.repeat_background_horizontal?"repeat-x":"no-repeat";o["background-repeat"]=a;if(t.center_background){if(t.is_backdrop){o["background-position"]="center top"}else{o["background-position"]="center"}}else{o["background-position"]=""}if(t.background_size_cover||n!=null&&(s=n.element.root())!=null&&s.use_responsive_algorithm()&&t.crop_responsive){o["background-size"]="cover";o["-webkit-background-size"]="cover";o["-moz-background-size"]="cover";o["-o-background-size"]="cover"}else{o["background-size"]=""}var l=n==null?void 0:n.element.property("background_image");var u=l&&(!l.is_empty()&&l.is_static()||l.is_empty());if(t.background_size_cover){if(!n||n!=null&&n.run_mode()||u){if(!t.backdrop_image_paralax){S(r,j.optimize_image(t.background_image,r.width()),n,o);return}}}else if(t.crop_responsive&&n!=null&&(i=n.element.root())!=null&&i.use_responsive_algorithm()){if(n.run_mode()){var c=null;var f=null;n.autorun((function(){var e=O.evaluate_property(n,"width");var t=O.evaluate_property(n,"height");var s=O.evaluate_property(n,"background_image");var i=n.responsive_mode()&&e===n.element.get_width();function a(){S(r,j.optimize_image(s,e,t,{fit:"crop"}),n,o)}f=j.optimize_image(s,e,t);if(s===c&&!j.downloaded_images[f]||i){setTimeout((function(){if(f===j.optimize_image(s,e,t)){a()}}),300)}else{if(e!==0||f===s){c=s;a()}}}));return}else if(u){S(r,t.background_image,n,o);return}}else if(!t.backdrop_image_paralax){S(r,j.optimize_image(t.background_image),n,o);return}if(t.backdrop_image_paralax){if(!v.is_on_mobile_or_tablet()){o["background-image"]="none";var d=j.optimize_image(t.background_image,r.width());r.parallax({imageSrc:d,speed:t.backdrop_paralax_speed});$(".parallax-slider").attr({src:d})}else{S(r,j.optimize_image(t.background_image),n,o);return}}}}h.apply_css_style(r,o)}}}]);return r}(b),function(){o.prototype._uses_properties=["background_style","bgcolor","background_gradient_direction","background_gradient_custom_angle","background_gradient_from","background_gradient_to","background_gradient_mid","background_image","repeat_background_vertical","center_background","repeat_background_horizontal","background_size_cover","background_color_if_empty_image","crop_responsive","background_gradient_style","background_radial_gradient_shape","background_radial_gradient_size","background_radial_gradient_xpos","background_radial_gradient_ypos"];o.prototype.transition_properties={background_style:"background"};o.prototype.no_solid_support=true;o.prototype.field_names={background_style:{default:"none"},bgcolor:{default:"#FFFFFF"},background_gradient_direction:{default:"top"},background_gradient_custom_angle:{default:45},background_gradient_from:{default:"#FFFFFF"},background_gradient_to:{default:"#AAAAAA"},background_gradient_mid:{optional:true},background_gradient_style:{default:"linear"},background_radial_gradient_shape:{default:"ellipse"},background_radial_gradient_size:{default:"farthest-corner"},background_radial_gradient_xpos:{default:10},background_radial_gradient_ypos:{default:10},background_image:{},center_background:{},background_size_cover:{},repeat_background_vertical:{},repeat_background_horizontal:{},background_color_if_empty_image:{default:"rgba(255, 255, 255, 0.0)"},crop_responsive:{no_states:true,default:true,prop_not_in_style:true}};o.prototype.class_name="Background"}(),o);function S(e,t,r,n){e.data("_last_downloaded_image",t);j.download_image(t,r,(function(){if(t===e.data("_last_downloaded_image")){n["background-image"]='url("'.concat(t,'")');h.apply_css_style(e,n)}}))}},{"../../../lang/appquery":535,"../../../lang/evaluation/element_eval":567,"../../../u":687,"../../core_elements/shared/image_utils":359,"../PropertyApplication":379,"../application_utilities":380,"./SimpleGradient":402,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],382:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.keys.js");var o,s;function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function u(e){var t=c(e,"string");return n(t)==="symbol"?t:String(t)}function c(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return d(e,t)}function p(e){var t=y();return function r(){var n=v(e),o;if(t){var s=v(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return _(this,o)}}function _(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var b=e("../../../u");var h=e("../PropertyApplication");var j=e("../application_utilities");var g=e("../../../constants/style");var w={four_border_style:{default:(o=window)!=null&&o.is_maison?"connected":false,no_states:true}};var O={};for(var S=0,k=["","_top","_right","_bottom","_left"];S<k.length;S++){var A=k[S];w["border_style"+A]={default:"none"};w["border_roundness"+A]={default:0};w["border_width"+A]={default:1};w["border_color"+A]={default:"#6B6B6B"}}for(var E=0,x=["","top","right","bottom","left"];E<x.length;E++){var M=x[E];if(M===""){O.border_roundness="border-radius";O.border_width="border-width";O.border_color="border-color"}else{var P=g.BORDER_TO_CORNER_MAPPING[M];var T="_"+M;O["border_roundness"+T]="border-"+P+"-radius";O["border_width"+T]="border-"+M+"-width";O["border_color"+T]="border-"+M+"-color"}}t.exports=(s=function(e){f(r,e);var t=p(r);function r(e,n,o){var s;var a;i(this,r);(s=n)!=null?s:n=[];a=t.call(this,e,n);a.data=o;return a}l(r,[{key:"_apply",value:function e(t,r){if(t){var n;if(!((n=this.data)!=null&&n.only_main_border)&&t.four_border_style){for(var o=0,s=["top","right","bottom","left"];o<s.length;o++){var i=s[o];var a={};if(t["border_style_"+i]!=="none"||!t._first_time){a["border-"+i+"-style"]=t["border_style_"+i];a["border-"+i+"-width"]=t["border_width_"+i]+"px";a["border-"+i+"-color"]=b.RGBA_to_RGB(t["border_color_"+i]);a["border-"+i+"-color"]=t["border_color_"+i]}var l=g.BORDER_TO_CORNER_MAPPING[i];a["border-"+l+"-radius"]=t["border_roundness_"+i]+"px";j.apply_css_style(r,a)}}else{var u={};if(t.border_style!=="none"||!t._first_time){u["border-style"]=t.border_style;u["border-width"]=t.border_width+"px";u["border-color"]=b.RGBA_to_RGB(t.border_color);u["border-color"]=t.border_color}u["border-radius"]=t.border_roundness+"px";u["-moz-border-radius"]=t.border_roundness+"px";j.apply_css_style(r,u)}}}}]);return r}(h),function(){s.prototype._uses_properties=Object.keys(w);s.prototype.transition_properties=O;s.prototype.field_names=w;s.prototype.class_name="Border"}(),s)},{"../../../constants/style":97,"../../../u":687,"../PropertyApplication":379,"../application_utilities":380,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],383:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../../../u");var b=e("../../../outlining");var h=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r){if(t&&t.boxshadow_style!=="none"){var n,o,s,i,a,l,u,c,f,d,p;t=v.extend({},t);t.blur=(n=(o=t.boxshadow_blur)!=null?o:t.blur)!=null?n:0;t.horizontal=(s=(i=t.boxshadow_horizontal)!=null?i:t.horizontal)!=null?s:0;t.vertical=(a=(l=t.boxshadow_vertical)!=null?l:t.vertical)!=null?a:0;t.spread=(u=(c=t.boxshadow_spread)!=null?c:t.spread)!=null?u:0;t.color=(f=(d=t.boxshadow_color)!=null?d:t.color)!=null?f:0;var _=t.boxshadow_style==="inset"?"inset":"";t.inset=t.boxshadow_style!==undefined?_:(p=t.inset)!=null?p:"";b.add_outline(r,"default",5,t)}else if(t.boxshadow_style==="none"&&!t._first_time){b.remove_outline(r,"default")}}}]);return r}(h),function(){o.prototype.transition_properties={boxshadow_style:"box-shadow"};o.prototype._uses_properties=["boxshadow_style","boxshadow_horizontal","boxshadow_vertical","boxshadow_blur","boxshadow_color","boxshadow_spread"];o.prototype.field_names={boxshadow_style:{default:"none"},boxshadow_horizontal:{default:2},boxshadow_vertical:{default:2},boxshadow_blur:{default:4},boxshadow_color:{default:"#AAAAAA"},boxshadow_spread:{default:0}};o.prototype.class_name="BoxShadow"}(),o)},{"../../../outlining":622,"../../../u":687,"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],384:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r){}}]);return r}(v),function(){o.prototype.field_names={width:{default:100,no_states:true},height:{default:100,no_states:true},left:{no_states:true},top:{no_states:true}};o.prototype.not_in_style=true;o.prototype.apply_once=true;o.prototype.class_name="Dimensions"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],385:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.string.bold.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.italics.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../../../lib");var b=e("../../../webfonts");var h=e("../PropertyApplication");var j=e("../application_utilities");var g=e("../../../constants/fonts");var w=e("../../../constants/elements"),O=w.FONT_FAMILY_VERSION;var S=["normal","bold","lighter","bolder","initial","inherit","unset","100","200","300","400","500","600","700","800","900"];t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t){var o;if(n&&n.element.element_version(true)>=O){o=b.to_font_face(t.font_family,t.font_weight)}else{o=t.font_face}if(v().is_edit_mode()){b.load_font(o)}var s=b.get_quoted_face_and_variant(o);j.apply_css_style(r,{"font-family":s.font_family,"font-size":t.font_size+"px"});var i=null;if(t.bold){i="bold"}else if(s.variant&&S.includes(s.variant)){i=s.variant}else if(!(t._first_time&&(!s.variant||!S.includes(s.variant)))){i="normal"}if(i){r[0].style["font-weight"]=i}var a=null;if(t.underline){a="underline"}else if(!t.underline&&!t._first_time){a="none"}if(a){r[0].style["text-decoration"]=a}var l=null;if(t.italic){l="italic"}else if(!t.italic&&!t._first_time){l="normal"}if(l){r[0].style["font-style"]=l}r[0].style.color=t.font_color;if(!(t.font_alignment==="left"&&t._first_time&&n.element.type()!=="PictureInput")){r[0].style["text-align"]=t.font_alignment}}}}]);return r}(h),function(){o.prototype._uses_properties=["font_face","font_family","font_weight","font_size","bold","underline","italic","font_color","font_alignment"];o.prototype.transition_properties={font_size:"font-size",font_color:"color"};o.prototype.field_names={font_face:{default:g.DEFAULT_FONT},font_family:{default:g.DEFAULT_CSS_TOKEN},font_weight:{default:g.DEFAULT_WEIGHT},font_size:{default:14},bold:{},italic:{},underline:{},font_alignment:{default:"left"},font_color:{default:"#252525"}};o.prototype.class_name="Font"}(),o)},{"../../../constants/elements":72,"../../../constants/fonts":77,"../../../lib":614,"../../../webfonts":719,"../PropertyApplication":379,"../application_utilities":380,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.bold.js":969,"core-js/modules/es.string.italics.js":973,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],386:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r){if(t){if(t.textshadow){var n="".concat(t.textshadow_horizontal,"px ").concat(t.textshadow_vertical,"px ").concat(t.textshadow_blur,"px ").concat(t.textshadow_color);r[0].style.textShadow=n}if(!t.textshadow&&!t._first_time){r[0].style.textShadow="none"}}}}]);return r}(v),function(){o.prototype._uses_properties=["textshadow","textshadow_horizontal","textshadow_vertical","textshadow_blur","textshadow_color"];o.prototype.transition_properties={textshadow:"text-shadow"};o.prototype.field_names={textshadow:{},textshadow_horizontal:{default:1},textshadow_vertical:{default:1},textshadow_blur:{default:0},textshadow_color:{default:"#Ffffff"}};o.prototype.class_name="FontShadow"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],387:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r){if(t){if(!(t.letter_spacing===0&&t._first_time)){r[0].style["letter-spacing"]=t.letter_spacing+"px"}if(!(t.word_spacing===0&&t._first_time)){r[0].style["word-spacing"]=t.word_spacing+"px"}r[0].style["line-height"]=t.line_height}}}]);return r}(v),function(){o.prototype._uses_properties=["letter_spacing","word_spacing","line_height"];o.prototype.transition_properties={letter_spacing:"letter-spacing",word_spacing:"word-spacing",line_height:"line-height"};o.prototype.field_names={word_spacing:{default:0},line_height:{default:1},letter_spacing:{default:0}};o.prototype.class_name="FontSpacing"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],388:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");var b=e("../../../constants/elements"),h=b.PADDING_VERSION;t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t&&(n.element.element_version(true)<h||n.element.context_element().E.is_plugin)){var o;(o=t.padding_horizontal)!=null?o:t.padding_horizontal=0;r[0].style.padding="0px "+t.padding_horizontal+"px"}}}]);return r}(v),function(){o.prototype._uses_properties=["padding_horizontal"];o.prototype.transition_properties={padding_horizontal:"padding"};o.prototype.field_names={padding_horizontal:{default:4}};o.prototype.class_name="InputPadding"}(),o)},{"../../../constants/elements":72,"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],389:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(){}}]);return r}(v),function(){o.prototype.field_names={min_width:{default:20,no_states:true},fixed_width:{no_states:true,default:false},use_max_width:{no_states:true,default:false},max_width:{default:100,optional:true,no_states:true},collapse_margin:{default:0,optional:true,no_states:true},responsive_alignment:{default:"center",no_states:true}};o.prototype.not_in_style=true;o.prototype.apply_once=true;o.prototype.class_name="MinWidth"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],390:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");var b=e("../application_utilities");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r){if(t){b.apply_css_style(r,{"-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","user-select":"none"})}}}]);return r}(v),o.prototype.apply_once=true,o)},{"../PropertyApplication":379,"../application_utilities":380,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],391:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");var b=e("../application_utilities");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){var o=t.opacity/100;if(n.state("opacity_override")!=null){o=n.state("opacity_override")}b.apply_css_style(r,{opacity:o})}}]);return r}(v),function(){o.prototype._uses_properties=["opacity"];o.prototype.transition_properties={opacity:"opacity"};o.prototype.field_names={opacity:{default:100}};o.prototype.class_name="Opacity"}(),o)},{"../PropertyApplication":379,"../application_utilities":380,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],392:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");var b=e("../../../constants/elements"),h=b.PADDING_VERSION;t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t&&(n.element.element_version(true)<h||n.element.context_element().E.is_plugin)){var o,s;(o=t.padding_vertical)!=null?o:t.padding_vertical=0;(s=t.padding_horizontal)!=null?s:t.padding_horizontal=0;if(!(t.padding_vertical===0&&t.padding_horizontal===0&&t._first_time)){r[0].style.padding=t.padding_vertical+"px "+t.padding_horizontal+"px"}}}}]);return r}(v),function(){o.prototype._uses_properties=["padding_vertical","padding_horizontal"];o.prototype.transition_properties={padding_vertical:"padding-top",padding_horizontal:"padding-left"};o.prototype.field_names={padding_vertical:{default:0},padding_horizontal:{default:0}};o.prototype.class_name="Padding"}(),o)},{"../../../constants/elements":72,"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],393:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(e){var n,o,i;var a;s(this,r);a=t.call(this,e==null?void 0:e.selector);a.minimum_element_version=(n=e==null?void 0:e.minimum_element_version)!=null?n:0;a.no_vertical_if_legacy_center=(o=e==null?void 0:e.no_vertical_if_legacy_center)!=null?o:false;a.allow_legacy=(i=e==null?void 0:e.allow_legacy)!=null?i:false;return a}a(r,[{key:"_apply",value:function e(t,r,n){var o;if((n==null?void 0:(o=n.element.root())==null?void 0:o.get_responsive_version())<1&&!((n==null?void 0:n.element.type())==="CustomElement"&&n.element.E.custom_definition().get_responsive_version()>0)&&!this.allow_legacy){return}if(t){var s,i,a,l,u;if((n==null?void 0:n.element.element_version(true))<this.minimum_element_version){return}if(t.container_layout==="fixed"){r[0].style.padding="0px";return}(s=t.padding_top)!=null?s:t.padding_top=0;(i=t.padding_right)!=null?i:t.padding_right=0;(a=t.padding_bottom)!=null?a:t.padding_bottom=0;(l=t.padding_left)!=null?l:t.padding_left=0;if(this.no_vertical_if_legacy_center&&(n==null?void 0:(u=n.element.root())==null?void 0:u.get_responsive_version())<1&&t.vertical_centering){r[0].style["padding-left"]=t.padding_left+"px";r[0].style["padding-right"]=t.padding_right+"px"}else if(!(t.padding_top===0&&t.padding_right===0&&t.padding_bottom===0&&t.padding_left===0&&t._first_time)){r[0].style.padding="".concat(t.padding_top,"px ").concat(t.padding_right,"px ").concat(t.padding_bottom,"px ").concat(t.padding_left,"px")}}}}]);return r}(v),function(){o.prototype._uses_properties=["padding_top","padding_right","padding_bottom","padding_left","vertical_centering","container_layout"];o.prototype.transition_properties={padding_top:"padding-top",padding_right:"padding-right",padding_bottom:"padding-bottom",padding_left:"padding-left"};o.prototype.field_names={padding_top:{default:0,allow_overrides:true},padding_right:{default:0,allow_overrides:true},padding_bottom:{default:0,allow_overrides:true},padding_left:{default:0,allow_overrides:true},vertical_centering:{default:false}};o.prototype.class_name="PaddingFields";o.prototype.style_allows_overrides=true}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],394:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../../../constants/elements"),b=v.PADDING_VERSION;var h=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t){var o;var s=n.element.element_version(true)<b||n.element.context_element().E_object().is_plugin;if(((o=n.element.root())==null?void 0:o.get_responsive_version())>0){if(t.vertical_centering){r.addClass("bubble-r-vertical-center")}else{r.removeClass("bubble-r-vertical-center")}if(s){var i;var a=(i=t.padding_vertical)!=null?i:0;if(!(a===0&&t._first_time)){r.css({"padding-top":a,"padding-bottom":a})}}}else{var l;var u;if(t.vertical_centering){u=(t.height-t.font_size)/2-2}else{if(!s){return}u=t.padding_vertical}(l=u)!=null?l:u=0;if(!(u===0&&t._first_time)){r[0].style["padding-top"]=u+"px ";if(t.stretch_to_fit){r[0].style["padding-bottom"]=u+"px "}}}if(s){var c;(c=t.padding_horizontal)!=null?c:t.padding_horizontal=0;if(!(t.padding_horizontal===0&&t._first_time)){r[0].style["padding-left"]=t.padding_horizontal+"px ";r[0].style["padding-right"]=t.padding_horizontal+"px "}}}}}]);return r}(h),function(){o.prototype._uses_properties=["vertical_centering","padding_vertical","padding_horizontal","font_size","height","stretch_to_fit"];o.prototype.transition_properties={padding_vertical:"padding-top",padding_horizontal:"padding-left"};o.prototype.field_names={padding_vertical:{default:0},padding_horizontal:{default:0},vertical_centering:{default:false}};o.prototype.class_name="PaddingText"}(),o)},{"../../../constants/elements":72,"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],395:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.includes.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");var b=e("../../../u");var h=e("../../../constants/elements"),j=h.PLACEHOLDER_COLOR_VERSION;var g={};var w=new WeakMap;t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t){if(n&&n.element.element_version(true)>=j){var o=w.get(r[0]);if(o){var s=g[o];r.removeClass(s.class_name);s.count--;if(s.count<=0){s.style_tag.remove();delete g[o]}}if(!(t.placeholder_color in g)){var i="a"+b.LUID();var a=document.createElement("style");a.textContent="\n.".concat(i,".").concat(i,"::-webkit-input-placeholder {\n  color: ").concat(t.placeholder_color,";\n}\n.").concat(i,".").concat(i,"::-moz-placeholder {\n  color:    ").concat(t.placeholder_color,";\n  opacity:  1;\n}\n.").concat(i,".").concat(i,":-ms-input-placeholder {\n  color: ").concat(t.placeholder_color," !important;\n}\n.").concat(i,".").concat(i,":-moz-placeholder {\n  color: ").concat(t.placeholder_color,";\n  opacity:  1;\n}");document.head.appendChild(a);g[t.placeholder_color]={class_name:i,style_tag:a,count:0}}r.addClass(g[t.placeholder_color].class_name);g[t.placeholder_color].count++;w.set(r[0],t.placeholder_color)}else{r.removeClass(["grey","black","white","blue","green","red"].join(" "));if(t.placeholder_color!=="grey"&&["grey","black","white","blue","green","red"].includes(t.placeholder_color)){r.addClass(t.placeholder_color)}}}}}]);return r}(v),function(){o.prototype._uses_properties=["placeholder_color"];o.prototype.transition_properties={};o.prototype.no_solid_support=true;o.prototype.field_names={placeholder_color:{default:"rgba(181, 181, 181, 1)"}};o.prototype.class_name="PlaceholderColor"}(),o)},{"../../../constants/elements":72,"../../../u":687,"../PropertyApplication":379,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],396:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(){}}]);return r}(v),function(){o.prototype.field_names={left:{no_states:true},top:{no_states:true}};o.prototype.not_in_style=true;o.prototype.apply_once=true;o.prototype.class_name="PositionOnly"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],397:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(e,n,o){var i;var a;s(this,r);(i=o)!=null?i:o=[];a=t.call(this,n,o);a.element=e;return a}a(r,[{key:"_apply",value:function e(){}}]);return r}(v),function(){o.prototype.field_names={container_layout:{no_states:true,default:"fixed"},container_horiz_alignment:{no_states:false,default:"flex-start"},container_vert_alignment:{no_states:false,default:"flex-start"},use_gap:{no_states:true,default:false},row_gap:{no_states:false,default:0},column_gap:{no_states:false,default:0}};o.prototype.not_in_style=true;o.prototype.apply_once=true;o.prototype.class_name="ResponsiveContainer"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],398:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");var b=e("../../../u");function h(){var e={};for(var t=0,r=["left","right","top","bottom"];t<r.length;t++){var n=r[t];e["margin_".concat(n)]={default:0}}return e}t.exports=(o=function(e){c(r,e);var t=d(r);function r(e,n,o){var i;var a;s(this,r);(i=o)!=null?i:o=[];a=t.call(this,n,o);a.element=e;a.transition_properties=w(a.element);return a}a(r,[{key:"_apply",value:function e(){}}]);return r}(v),function(){o.prototype._uses_properties=["margin_top","margin_right","margin_bottom","margin_left","min_width_css","max_width_css","min_height_css","max_height_css","width_css","height_css"];o.prototype.transition_conditions={min_width_css:function e(t){return!t.get_static_property("single_width")},max_width_css:function e(t){return!t.get_static_property("single_width")},width_css:function e(t){return t.get_static_property("single_width")},min_height_css:function e(t){return!t.get_static_property("single_height")},max_height_css:function e(t){return!t.get_static_property("single_height")},height_css:function e(t){return t.get_static_property("single_height")}};o.prototype.field_names=b.extend(h(),{parent_container_type_label:{no_states:true,only_edit_mode:true},margin_label:{no_states:true,only_edit_mode:true},padding_label:{no_states:true,only_edit_mode:true},nonant_alignment:{no_states:false,default:"aa",no_plugin:true},vert_alignment:{no_states:false,default:"flex-start",no_plugin:true},horiz_alignment:{no_states:false,default:"flex-start",no_plugin:true},flex_move_first:{no_states:true,only_edit_mode:true},flex_move_prev:{no_states:true,only_edit_mode:true},flex_move_next:{no_states:true,only_edit_mode:true},flex_move_last:{no_states:true,only_edit_mode:true},single_width:{no_states:true,default:false,no_plugin:true},fit_width:{no_states:true,default:false},forced_fit_width_label:{no_states:true,only_edit_mode:true},min_width_css:{no_states:false,default:"0px"},max_width_css:{no_states:false,default:null,allow_empty_condition:true},width_css:{no_states:true,no_plugin:true},single_height:{no_states:true,default:false,no_plugin:true},fit_height:{no_states:true,default:false},forced_fit_height_label:{no_states:true,only_edit_mode:true},min_height_css:{no_states:false,default:"0px"},max_height_css:{no_states:false,default:null,allow_empty_condition:true},height_css:{no_states:true,no_plugin:true},use_aspect_ratio:{no_states:true,default:false,no_plugin:true},aspect_ratio_width:{no_states:true,default:1,no_plugin:true},aspect_ratio_height:{no_states:true,default:1,no_plugin:true},aspect_ratio_warning:{no_states:true,only_edit_mode:true},width_preview:{no_states:true,only_edit_mode:true},height_preview:{no_states:true,only_edit_mode:true},collapse_when_hidden:{no_states:true,default:false},order:{default:0,no_states:true,no_plugin:true}});o.prototype.not_in_style=true;o.prototype.apply_once=true;o.prototype.class_name="ResponsiveElement"}(),o);function j(e,t){var r;return(e==null?void 0:(r=e.parent())==null?void 0:r.get_static_property("container_layout"))==="relative"&&!e.get_static_property("single_".concat(t))&&!e.get_static_property("fit_".concat(t))}function g(e,t,r){if(j(e,r))return[t,r];return t}function w(e){return{get margin_top(){var t;if(e!=null&&(t=e.E)!=null&&t.uses_inset_instead_of_margin){return"top"}return g(e,"margin-top","height")},get margin_right(){var t;if(e!=null&&(t=e.E)!=null&&t.uses_inset_instead_of_margin){return"right"}return g(e,"margin-right","width")},get margin_bottom(){var t;if(e!=null&&(t=e.E)!=null&&t.uses_inset_instead_of_margin){return"bottom"}return g(e,"margin-bottom","height")},get margin_left(){var t;if(e!=null&&(t=e.E)!=null&&t.uses_inset_instead_of_margin){return"left"}return g(e,"margin-left","width")},min_width_css:"min-width",max_width_css:"max-width",width_css:["min-width","max-width"],min_height_css:"min-height",max_height_css:"max-height",height_css:["min-height","max-height"]}}},{"../../../u":687,"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],399:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(){}}]);return r}(v),function(){o.prototype.field_names={default_width:{no_states:true,default:1200},min_width_px:{no_states:true,default:0},max_width_px:{no_states:true,default:null},min_height_px:{no_states:true,default:0},max_height_px:{no_states:true,default:null}};o.prototype.not_in_style=true;o.prototype.apply_once=true;o.prototype.class_name="RootSizing"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],400:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");var b=e("../application_utilities");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r){var n;var o=(n=t.rotation_angle)!=null?n:0;if(o===0&&t._first_time){return}var s="rotate("+o+"deg)";b.apply_css_style(r,{"-ms-transform":s,"-webkit-transform":s,transform:s})}}]);return r}(v),function(){o.prototype.not_in_style=true;o.prototype.field_names={rotation_angle:{default:0}};o.prototype._uses_properties=["rotation_angle"];o.prototype.class_name="Rotation"}(),o)},{"../PropertyApplication":379,"../application_utilities":380,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],401:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(){}}]);return r}(v),function(){o.prototype.field_names={width:{default:960,no_states:true},height:{default:600,no_states:true}};o.prototype.not_in_style=true;o.prototype.apply_once=true;o.prototype.class_name="ShortDimensions"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],402:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../../../u");var b=e("../PropertyApplication");var h=e("../../../constants/colors");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r){if(t){var n=[null,undefined,"linear"].includes(t.style);var o="rgba(0,0,0,1)";var s=t.from;var i=t.to;var a,l;var u=t.mid;if(n){if(t.direction==="custom"){var c;a=((c=t.angle)!=null?c:45)+"deg"}else{var f;a=(f=t.direction)!=null?f:"top";if(a==="top"||a==="bottom"){l=0;if(a==="bottom"){var d=s;s=i;i=d;a="top"}}else if(a==="left"||a==="right"){l=1;if(a==="right"){var p=s;s=i;i=p;a="left"}}}}var _=v.RGBA_to_ARGB(s);var m=v.RGBA_to_ARGB(i);var y;if(u){y="".concat(s," 0%, ").concat(u," 50%, ").concat(i," 100%")}else{y="".concat(s," 0%, ").concat(i," 100%")}var b;if(n){b="linear-gradient(".concat(a,", ").concat(y,")")}else{var j,g,w,O;(j=t.shape)!=null?j:t.shape="ellipse";(g=t.pos)!=null?g:t.pos="farthest-corner";(w=t.xpos)!=null?w:t.xpos=10;(O=t.ypos)!=null?O:t.ypos=10;b="radial-gradient(".concat(t.shape," ").concat(t.pos," at ").concat(t.xpos,"% ").concat(t.ypos,"%, ").concat(y,")")}r[0].style.background=s;for(var S=0,k=["-moz-","-webkit-","-o-","-ms-",""];S<k.length;S++){var A=k[S];if(b.includes("var")){var E=b.replace(h.RGB_TOKEN_ALPHA,o);E=E.replace(h.RGBA_TOKEN,o);if(!CSS.supports("background",A+E)){continue}}r[0].style.background=A+b}r.css("filter","progid:DXImageTransform.Microsoft.gradient( startColorstr='".concat(_,"', endColorstr='").concat(m,"',GradientType=").concat(l,")"))}}},{key:"_get_properties",value:function e(){return[]}}]);return r}(b),o.prototype.class_name="SimpleGradient",o)},{"../../../constants/colors":64,"../../../u":687,"../PropertyApplication":379,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],403:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t&&n.run_mode()){r.attr("title",t.title_attribute)}}}]);return r}(v),function(){o.prototype._uses_properties=["title_attribute"];o.prototype.transition_properties={};o.prototype.not_in_style=true;o.prototype.field_names={title_attribute:{optional:true}};o.prototype.no_solid_support=true;o.prototype.class_name="ToolTip"}(),o)},{"../PropertyApplication":379,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],404:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../../../client_config");var b=e("../../../lang/appquery");var h=e("../PropertyApplication");t.exports=(o=function(e){c(r,e);var t=d(r);function r(){s(this,r);return t.apply(this,arguments)}a(r,[{key:"_apply",value:function e(t,r,n){if(t&&n.run_mode()){if(b.has_advanced_feature_enabled("expose_id_option")){if(t.unique_id!=null||!["",null,undefined].includes(r[0].id)){if(t.unique_id==null){if(!v.run_mode_ids){r.removeAttr("id")}}else{r[0].id=t.unique_id}}}}}}]);return r}(h),function(){o.prototype._uses_properties=["unique_id"];o.prototype.transition_properties={};o.prototype.not_in_style=true;o.prototype.field_names={title_attribute:{optional:true,no_states:true}};o.prototype.class_name="UniqueID"}(),o)},{"../../../client_config":55,"../../../lang/appquery":535,"../PropertyApplication":379,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],405:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.entries.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=e("../../safe_require");var c=e("./../../lang/elements/style_properties");var f=e("./application_utilities");var d=r;d.NoSelect=e("./applications/NoSelect");d.Dimensions=e("./applications/Dimensions");d.Opacity=e("./applications/Opacity");d.MinWidth=e("./applications/MinWidth");d.RootSizing=e("./applications/RootSizing");d.ResponsiveElement=e("./applications/ResponsiveElement");d.ResponsiveContainer=e("./applications/ResponsiveContainer");d.ShortDimensions=e("./applications/ShortDimensions");d.PositionOnly=e("./applications/PositionOnly");d.Rotation=e("./applications/Rotation");d.BoxShadow=e("./applications/BoxShadow");d.PaddingFields=e("./applications/PaddingFields");d.Font=e("./applications/Font");d.FontShadow=e("./applications/FontShadow");d.FontSpacing=e("./applications/FontSpacing");d.Border=e("./applications/Border");d.PaddingText=e("./applications/PaddingText");d.Padding=e("./applications/Padding");d.InputPadding=e("./applications/InputPadding");d.PlaceholderColor=e("./applications/PlaceholderColor");d.ToolTip=e("./applications/ToolTip");d.UniqueID=e("./applications/UniqueID");d.Background=e("./applications/Background");d.SimpleGradient=e("./applications/SimpleGradient");d.apply_css_style=f.apply_css_style;d.calculate_border_height=f.calculate_border_height;d.calculate_border_width=f.calculate_border_width;d.patch_user_agent_styles=f.patch_user_agent_styles;for(var p=0,_=Object.values(d);p<_.length;p++){var m;var y=_[p];if(((m=y.prototype)==null?void 0:m.field_names)!=null&&!y.prototype.not_in_style){for(var v=0,b=Object.entries(y.prototype.field_names);v<b.length;v++){var h=n(b[v],2),j=h[0],g=h[1];if(!g.prop_not_in_style){c.register_style_property(j)}}}}u.safe_register("./core/property_applications",d)},{"../../safe_require":643,"./../../lang/elements/style_properties":561,"./application_utilities":380,"./applications/Background":381,"./applications/Border":382,"./applications/BoxShadow":383,"./applications/Dimensions":384,"./applications/Font":385,"./applications/FontShadow":386,"./applications/FontSpacing":387,"./applications/InputPadding":388,"./applications/MinWidth":389,"./applications/NoSelect":390,"./applications/Opacity":391,"./applications/Padding":392,"./applications/PaddingFields":393,"./applications/PaddingText":394,"./applications/PlaceholderColor":395,"./applications/PositionOnly":396,"./applications/ResponsiveContainer":397,"./applications/ResponsiveElement":398,"./applications/RootSizing":399,"./applications/Rotation":400,"./applications/ShortDimensions":401,"./applications/SimpleGradient":402,"./applications/ToolTip":403,"./applications/UniqueID":404,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],406:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../lang/btypes");var l=e("../lib");var u=e("../lang/btype_ids");var c=e("../safe_require");c.safe_register("./core/shared_fields",i);var f=e("../lang/appquery");var d=e("../editor/composer/utilities/dropdown_contents"),p=d.DropdownContents},{"../editor/composer/utilities/dropdown_contents":480,"../lang/appquery":535,"../lang/btype_ids":536,"../lang/btypes":537,"../lib":614,"../safe_require":643,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],407:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");var n=e("./../u");var o=e("./../safe_require");var s=e("./../lang/appquery");var i=r;o.safe_register("./core/status_bar",i);var a=0;var l=e("../../vendor/jquery_plugins/nprogress.js");l.configure({showSpinner:false});var u=null;i.no_status_bar=n.MakeSwitch(null,"no_status_bar");i.no_status_bar.turn_on();i.show_progress_line=function(e){if(e==null){throw new n.UnexpectedError("must pass in what we are waiting on (a key or promise preferably)")}if(u==null){var t;u=(t=s.app().get_public_setting("status_bar_color"))!=null?t:"#29d";l.configure({showSpinner:false,template:'<div class="bar" role="bar" style="background:'.concat(u,';">\n    <div class="peg" style="box-shadow:0 0 10px ').concat(u,", 0 0 5px ").concat(u,';">\n    </div>\n</div>')})}if(a===0){i.no_status_bar.turn_off();setTimeout((function(){if(a>0){l.start()}}),200)}a++;var r=setTimeout((function(){return console.log("warning: status bar still waiting on "+e)}),10*1e3);var o=false;var c=false;return function(e){if(o){return}if(e==null){o=true;a--;clearTimeout(r);if(a===0){l.done();return setTimeout((function(){return i.no_status_bar.turn_on()}),400)}else if(c){l.set(.5)}}else{c=true;l.set(e)}}};var c="#nprogress";i.hide_run_mode=function(){return $(c).hide()};i.show_run_mode=function(){return $(c).show()};i.bar_visible=function(){return $(c).is(":visible")};var f=[];i.spinner_key=n.MakeKeyList();var d=null;var p=null;i.spinner=function(t){var r,o,a;var l=t.get_canvas();if(!l[0]){return function(){}}var u=i.spinner_key.make(null,"spinner_key");var c=t.element.id();if(f.includes(c)){return function(){}}f.push(c);(r=d)!=null?r:d=e("../../vendor/jquery_plugins/spin.min.js");(o=p)!=null?o:p=(a=s.app().get_public_setting("spinner_color"))!=null?a:"black";var _=null;var m=true;var y=setTimeout((function(){if(m){var e;var r={lines:13,length:10,width:2,radius:10,corners:1,rotate:0,direction:1,color:p,speed:1,trail:70,shadow:false,hwaccel:false,className:"spinner",zIndex:2e9,top:Math.min(Math.max(t.element.get_height(),l.height())/2-10,100),left:l.width()/2-25};if(((e=t.element.root())==null?void 0:e.get_responsive_version())>0){r.top=Math.min(Math.max(t.element.get_height(),l.height())/2-10,50)}_=new d(r).spin(l[0])}}),700);return function(){var e;clearTimeout(y);m=false;(e=_)==null?void 0:e.stop();n.array_remove(f,c);u.turn()}}},{"../../vendor/jquery_plugins/nprogress.js":1306,"../../vendor/jquery_plugins/spin.min.js":1307,"./../lang/appquery":535,"./../safe_require":643,"./../u":687,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933}],408:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.replace.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../db/values/db_values");i.get_data_to_send=function(e,t){if(!e){return e}if(a.registry.is(e,a.STATIC_NODE)){return null}if(e._id){var r=e.child("Slug").get();if(r!=null&&r!==""){return r}var n,o;if(typeof e._id==="function"){n=e._id()}else{n=e.id}if(t&&typeof e.child==="function"){o=e.child(t).get()}if(o){var s=i.make_URL_friendly_string(o);return s+"-"+n}else{return n}}else{return e}};var l=/ /g;var u=/[.,/#!$%^&*;':\\{}=_`~()<>?"@]/g;var c=/\n/g;var f=/\./g;var d=75;i.make_URL_friendly_string=function(e,t){var r;(r=t)!=null?r:t=d;var o=e.split(" ");var s=o[0];if(s.length>t){s=s.slice(0,+t+1||undefined)}else{var i=n(o.slice(1)),a;try{for(i.s();!(a=i.n()).done;){var p=a.value;if(s.length+p.length>t){break}s+=" "+p}}catch(e){i.e(e)}finally{i.f()}}s=s.toLowerCase().replace(l,"-").replace(u,"").replace(c,"-").replace(f,"-");return s}},{"../db/values/db_values":469,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],409:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("events");var v=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"get_canvas",value:function e(){return this.canvas}}]);return r}(y.EventEmitter);t.exports=v},{"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,events:745}],410:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");var n=r;var o=e("./../../lib");var s=e("./../status_bar");var i=e("./../../lang/appquery");var a=e("./../../lang/context_serialization/context_serializer");var l=e("../../lang/evaluation/page_state");var u=e("./../../u");var c=e("./../../logger");var f=e("../../constants/byte"),d=f.GIBIBYTE;n.upload_file=function(e,t,r,n,s,f,d){s==null?void 0:s();var p=false;var _=null;function m(t,r){if(p){return}if(t!=null){f==null?void 0:f(t)}else{if(r==null){n==null?void 0:n(null);return}var s=new FormData;for(var i in r.fields){var a=r.fields[i];s.append(i,a)}s.append("file",e);_=new XMLHttpRequest;_.onload=function(){if(_.status===204){n==null?void 0:n(r.file_url)}else{var e;if(_.status>=400&&_.status<=499){if(_.responseText.indexOf("EntityTooLarge")!==-1){t=new u.UserError("FILE_TOO_LARGE")}}(e=t)!=null?e:t=o().location.response_to_error(_);f==null?void 0:f(t)}};_.onerror=function(){t=o().location.response_to_error(_);f==null?void 0:f(t)};_.upload.onprogress=function(t){if(t.lengthComputable){var r=Math.min(t.loaded/e.size,1);d==null?void 0:d(r)}};_.open("POST",r.url,true);_.send(s)}}r((function(r,n){if(r){window.alert(c.human_friendly(r));m(null,null)}else{if(o().is_edit_mode()){u.extend(n,{appname:i.appname(),app_version:i.app_version()})}var s={element:t,inputs_must_be_valid:false,datasources:l.get_basic_datasources(t.element.root())};return a.serialize_context(s,t.element).then((function(t){u.extend(n,{timezone_string:t.timezone_string,serialized_context:t,name:e.name,size:e.size,content_type:e.type});return o().location.post("server://fileupload/geturl",n,m)}))}}));return function(){var e;p=true;return(e=_)==null?void 0:e.abort()}};n.make_presigned_uploader=function(e){var t=e.instance,r=e.input,o=e.get_additional_data,i=e.cb_success,a=e.cb_start,l=e.cb_fail,f=e.cb_progress,p=e.max_file_size_fn;var _=null;var m=null;r.change((function(){var e=r[0].files;if(e.length<1)return;var y=e[0];if(y.size>2*d){c.warn("very large file upload could crash browser from new memory overhead",{size:y.size})}y.arrayBuffer().then((function(e){var r=new File([e],y.name,{type:y.type});u.run_once(30,(function(){return p==null?void 0:p()}),(function(e,c){if(c&&r.size>c){var d=new u.UserError("FILE_TOO_LARGE");l==null?void 0:l(d)}else{m=s.show_progress_line("image uploader");_=n.upload_file(r,t,o,(function(e){m();i==null?void 0:i(e)}),a,(function(e){m();l==null?void 0:l(e)}),(function(e){m(e);f==null?void 0:f(e)}))}}))}))}));return function(){var e,t;(e=_)==null?void 0:e();(t=m)==null?void 0:t();m=null;_=null}}},{"../../constants/byte":63,"../../lang/evaluation/page_state":575,"./../../lang/appquery":535,"./../../lang/context_serialization/context_serializer":542,"./../../lib":614,"./../../logger":617,"./../../u":687,"./../status_bar":407,"core-js/modules/es.function.name.js":942}],411:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=r;var v=e("./../../u");var b=e("../../logger");var h=e("./../../safe_require");var j=e("../../shared/image_processor");var g=e("../../constants/editor");var w=e("./Widget");var O=e("../../u/shared/b_file_shared");h.safe_register("./core/widgets",y);y.Widget=w;y.get_uploaded_file_id=function(e,t){var r="f"+(t!=null?t:v.UUID())+"/"+e;if(E.is_dedicated){r=E.environment_name+"/"+r}return r};y.get_uploaded_file_endpoint=function(e){var t=e.key,r=e.with_protocol,n=e.appname;var o="//".concat(O.get_file_cdn_url(n)).concat(t);return r?"https:".concat(o):o};function S(e){return e(null,{})}y.upload_file=function(e,t,r,n,o,s,i,a){var l;(l=r)!=null?l:r=S;var u=k().location.get_server_base()+"fileupload";function c(l,c){var f,d;var p;o==null?void 0:o();if(k().is_edit_mode()){A.show_general_message(t)}else{p=A.show_progress_line("image uploader")}function _(){if(k().is_edit_mode()){A.hide_general_message()}else{p()}}function m(){var t={success:function e(t){_();n(t)},error:function e(t){var r;var n;_();if(t.status>=400&&t.status<=499){if(t.responseText.indexOf("Error parsing request body: request entity too large")!==-1){n=new v.UserError("FILE_TOO_LARGE")}}(r=n)!=null?r:n=k().location.response_to_error(t);s==null?void 0:s(n)},processData:false,type:"post"};r((function(r,n){if(r){window.alert(b.human_friendly(r));t.success(null)}else{var o;if(k().is_edit_mode()){v.extend(n,{appname:x.appname(),app_version:x.app_version()})}var s=v.extend(n,e);(o=s.name)!=null?o:s.name=a;t.data=JSON.stringify(s);t.contentType="application/json";$.ajax(u,t)}}))}var y=(f=a||((d=e)==null?void 0:d.name))==null?void 0:f.toLowerCase().split(".").pop();if(i&&y!=="svg"){j({file:e,image_url:l.result,extension:y,success_callback:function e(){return m()},fail_callback:function e(){return s==null?void 0:s()},progress_bar_hide_fn:function e(){return _()}})}else{if(c){e={contents:c,name:a}}else{var h;e.contents=(h=l.result.split(",")[1])!=null?h:""}m()}}if(e.contents){c(undefined,e.contents)}else{var f=new FileReader;f.onload=function(){return c(f)};f.readAsDataURL(e)}};y.MakeImageUploader=function(e){var t,r;var n=e.input,o=e.text,s=e.get_additional_data,i=e.cb_success,a=e.cb_start,l=e.cb_fail,u=e.limit_size,c=e.max_file_size_fn;(t=o)!=null?t:o="We're uploading your image...";(r=s)!=null?r:s=S;n.change((function(){var e=n[0].files;if(e.length<1){return}var t=e[0];v.run_once(30,(function(){return c==null?void 0:c()}),(function(e,r){if(r&&t.size>r){var n=new v.UserError("FILE_TOO_LARGE");l==null?void 0:l(n)}else{y.upload_file(t,o,s,i,a,l,u)}}))}))};y.ImageUploader=function(e){u(r,e);var t=f(r);function r(e){var n;o(this,r);n=t.call(this);n.file_cb=e;n.canvas=v.input(undefined,undefined,"file");y.MakeImageUploader({input:n.canvas,get_additional_data:null,cb_success:n.file_cb,max_file_size_fn:function e(){return g.MAX_FILE_COMPOSER_SIZE}});return n}i(r,[{key:"get_class",get:function e(){return"image-uploader"}}]);return r}(y.Widget);var k=e("./../../lib");var A=e("./../status_bar");var E=e("./../../client_config");var x=e("./../../lang/appquery")},{"../../constants/editor":71,"../../logger":617,"../../shared/image_processor":660,"../../u/shared/b_file_shared":700,"./../../client_config":55,"./../../lang/appquery":535,"./../../lib":614,"./../../safe_require":643,"./../../u":687,"./../status_bar":407,"./Widget":409,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],412:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.AppLib=void 0;var n=o(e("./LibContext"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new n.default("app_lib");r.AppLib=s},{"./LibContext":414}],413:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.DefaultLib=void 0;var n=o(e("./LibContext"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new n.default("default");r.DefaultLib=s},{"./LibContext":414}],414:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n=s(e("../lib"));var o=e("../lib/lib_factory");function s(e){return e&&e.__esModule?e:{default:e}}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return i(t)==="symbol"?t:String(t)}function f(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=function(){function e(t){a(this,e);this._libName=t}u(e,[{key:"get",value:function e(){return(0,o.getLibFactory)().getLib(this._libName)}},{key:"with",value:function e(t,r){return(0,o.getLibFactory)().libCaller({libName:this._libName,libParams:r?t:undefined,fn:r!=null?r:t,wither:n.default.with_lib})}},{key:"extend",value:function e(t,r){return(0,o.getLibFactory)().libCaller({libName:this._libName,libParams:r?t:undefined,fn:r!=null?r:t,extender:n.default.extend})}},{key:"ensure",value:function e(t,r){if((0,n.default)()){return(0,o.getLibFactory)().libCaller({libName:this._libName,libParams:r?t:undefined,fn:r!=null?r:t,extender:n.default.extend})}return(0,o.getLibFactory)().libCaller({libName:this._libName,libParams:r?t:undefined,fn:r!=null?r:t,wither:n.default.with_lib})}}]);return e}();r.default=d},{"../lib":614,"../lib/lib_factory":615,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],415:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ServerLib=void 0;var n=o(e("./LibContext"));function o(e){return e&&e.__esModule?e:{default:e}}var s=new n.default("server");r.ServerLib=s},{"./LibContext":414}],416:[function(e,t,r){"use strict";e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");Object.defineProperty(r,"__esModule",{value:true});var n=e("./AppLib");Object.keys(n).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in r&&r[e]===n[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return n[e]}})}));var o=e("./DefaultLib");Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in r&&r[e]===o[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return o[e]}})}));var s=e("./ServerLib");Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in r&&r[e]===s[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return s[e]}})}))},{"./AppLib":412,"./DefaultLib":413,"./ServerLib":415,"core-js/modules/es.object.keys.js":957,"core-js/modules/web.dom-collections.for-each.js":990}],417:[function(e,t,r){(function(t){(function(){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.slice.js");function o(e,t){return a(e)||i(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function u(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)v(e,t)}function v(e,t){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return v(e,t)}function b(e){var t=g();return function r(){var n=w(e),o;if(t){var s=w(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return h(this,o)}}function h(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return j(e)}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}var O=e("./../u");var S=e("../u/shared/async/async_state");var k=e("../u/shared/errors");var A=e("./../safe_require");var E=e("./db");var x=e("./plans");var M=e("./db_utils");var P=e("./obfuscate");var T=e("../constants/db");var I=e("../constants/time");var C=e("./../logger");var R=e("./../lib");var N=e("./client_firebase");var L=e("../shared/cookies");var z=r;A.safe_register("./db/client_db",z);var D=e("../client/epoch");var q=e("../constants/epoch");var B=e("./values/ClientDBNode");var U=e("./values/ClientDBObject");if(typeof window!=="undefined"&&window!==null){window.client_db=z}function W(){if(!O.cookies_enabled()){return null}return M.get_temp_db(O.readCookie("temp_db"),R().appname())}z.instance=function(e,t,r){var n,o,s,i;(n=e)!=null?n:e=R().appname();(o=t)!=null?o:t=R().app_version();(s=r)!=null?s:r=W();var a=O.smush(e,t,r);(i=F[a])!=null?i:F[a]=new J(r,e,t,true);return F[a]};z.new_instance=function(e,t,r){var n,o,s;(n=e)!=null?n:e=R().appname();(o=t)!=null?o:t=R().app_version();(s=r)!=null?s:r=W();return new J(r,e,t)};var F={};var G=O.Box();z.recheck_uid=function(e,t){var r;(r=e)!=null?r:e=function e(){};R.wait_for_lib((function(){var r,n;var o=O.readCookie(L.uid_cookie_name(R().appname(),R().app_version(),W()));if(o!=null&&o!==window.bubble_session_uid){C.info("bubble_session_uid not updated",{last_request_uri:t,new_uid:o,bubble_session_uid:window.bubble_session_uid})}(r=o)!=null?r:o=(n=window.bubble_session_uid)!=null?n:T.NO_USER;if(o!==G()){G(o);z.reauth();O.run_once(30,(function(){var e=R().current_user();var t=Z.get_user_language_field();if(t!=null){e.child(t).get()}return e.get_email()}))}e()}))};z.current_user=function(e,t,r){z.recheck_uid();return z.instance(e,t,r).get(G())};z.server_time_offset_key=O.MakeKey(null,"server_time_offset");if(typeof window!=="undefined"&&window!==null){window.server_time_offset=0;t((function(){return Q.get_server_time_offset((function(e){window.server_time_offset=e;z.server_time_offset_key.turn()}))}))}var X=10;var $=["get","search","aggregate"];var V=["mget","msearch","maggregate"];function H(){setTimeout((function(){X=X*5;if(X>120*1e3){X=120*1e3}var e=R().location.post("server://user/hi",{});e.then((function(){return z.reauth(true)}),H)}),X)}var Y=0;z.reauth=function(e){return R.wait_for_lib((function(){O.rebuild_cookies()}))};function K(e){if(!O.cookies_enabled()){return}var t=function e(){return N.get_token_expiration().then((function(e){var t=e.valueOf()-O.timestamp();var r=Math.max(30*I.MINUTE_MS,t-5*I.MINUTE_MS);setTimeout((function(){console.log("firebase token about to expire, refreshing");H()}),r)}))};N.reauth().then((function(){Y=0;setTimeout((function(){return X=10}),10*1e3);t()}),(function(t){if(e){Y+=1;if(t instanceof O.UnexpectedError){C.error(t)}else{var r=typeof t==="string"?t:"failed to reauth to firebase";if(Y===5){C.error(r)}else{C.warn(r)}}}}))}var J=function(e){y(n,e);var r=b(n);function n(e,t,o,s){var i;f(this,n);i=r.call(this);i.temp_db=e;i.appname=t;i.app_version=o;i.can_watch=s;i._gets=[];i._searches=[];i._searches_current_count=0;i._aggregates=[];i.result_cache={};i.result_dependency_cache={};i.watch_search_status={};i.perc_ids_to_calls={};i.perc_id_update_versions={};i._notifier_client=Q;i._last_run={};i._next_scheduled={};i._to_percolate=[];i._all_time_queued_fetches=0;i._prefetched_request_counts={mget:0,msearch:0,maggregate:0};return i}p(n,[{key:"local_item_updated",value:function e(t,r,n,o){var s;var i="db_latest_version_"+t;if((s=O.session_storage)!=null&&s.getItem(i)){return O.session_storage.setItem(i,String(o))}}},{key:"initialize_data",value:function e(t,r,n,o){this.has_session_storage=O.session_storage!=null;if(!this.has_session_storage){return}try{var s;var i="db_latest_version_"+t;var a=O.session_storage.getItem(i);if(a==="local"||parseInt(a)>o){return}O.session_storage.setItem(i,String(o));(s=this._tracking_on_page_load)!=null?s:this._tracking_on_page_load={};this._tracking_on_page_load[t]=true;this._set_data(t,r,n,o)}catch(e){console.log("error in client_db.initialize_data: "+e.stack)}}},{key:"schedule_discard_errors",value:function e(t){var r=this;setTimeout((function(){var e=r.init_result_cache(t);e.ranges=e.ranges.filter((function(e){return e.state!==T.range_states.ERROR}))}),3e4)}},{key:"execute_with_dependency",value:function e(t,r,n){var o,s,i=this;var a=JSON.stringify(t)+"_"+r+"_"+n;(s=(o=this.result_dependency_cache)[a])!=null?s:o[a]={};if(!this.result_dependency_cache[a].current_result){var l;if(((l=S.CurrentNotReadyCatcher)==null?void 0:l.length)>0){return[]}var u=te.get_current_eval_node();var c={id:a,invalidate:function e(){var o;c.invalidated=true;if(c!==((o=i.result_dependency_cache[a])==null?void 0:o.current_result)){return}if(!c.dependency.needed()){delete i.result_dependency_cache[a];return}i.result_dependency_cache[a].old_result=i.result_dependency_cache[a].current_result;i.result_dependency_cache[a].current_result=null;i._set_immediate((function(){O.run_once(120,(function(){var e;try{e=te.get_current_eval_node();te.set_current_eval_node(u);i.execute_with_dependency(t,r,n)}finally{te.set_current_eval_node(e)}}))}))}};var f;var d=S.CurrentNotReadyCatcher;var p=S.CurrentAutoRun;try{S.CurrentAutoRun=c;S.CurrentNotReadyCatcher=null;f=this.execute_query(t,r,n)}catch(e){var _=e instanceof k.NotReadyError&&e.not_ready_key;if(_&&p){_.turned_dependency().register(p)}throw e}finally{S.CurrentNotReadyCatcher=d;S.CurrentAutoRun=p}if(c.invalidated){throw new O.UnexpectedError("assertion error: current_result invalidated too soon",{query:t,from:r,n:n})}var m;if(this.result_dependency_cache[a].old_result){m=this.result_dependency_cache[a].old_result.dependency;if(JSON.stringify(this.result_dependency_cache[a].old_result.results)!==JSON.stringify(f)){m.invalidate()}this.result_dependency_cache[a].old_result=null}else{m=O.Dependency()}c.dependency=m;c.results=f;this.result_dependency_cache[a].current_result=c}this.result_dependency_cache[a].current_result.dependency.register();return this.result_dependency_cache[a].current_result.results}},{key:"register_call_dependency",value:function e(t){var r,n;if(!this.can_watch){return}var o=this.get_cache_key(t);(n=(r=this.result_cache[o]).dependency)!=null?n:r.dependency=O.Dependency();this.result_cache[o].dependency.register();this.ensure_watching_plan(t)}},{key:"invalidate_call_dependency",value:function e(t){var r,n;(r=this.result_cache[t])==null?void 0:(n=r.dependency)==null?void 0:n.invalidate()}},{key:"add_plan_to_watch_search",value:function e(t){var r,n;var o=x[t.t].watch_search_call(t);if(!o){return}var s=JSON.stringify(o);var i=this.get_cache_key(t);(n=(r=this.watch_search_status)[s])!=null?n:r[s]={plans:{},search_path:this.build_search_path(t,"watch")};this.watch_search_status[s].plans[i]=true}},{key:"ensure_watching_plan",value:function e(t){if(!this.can_watch){return}this.add_plan_to_watch_search(t);var r=x[t.t].watch_search_call(t);if(!r){return}var n=JSON.stringify(r);if(!this.watch_search_status[n].scheduled){this.watch_search_status[n].scheduled=true;this.do_percolate(r)}}},{key:"schedule_percolator",value:function e(t,r){var n=this;var o=JSON.stringify(t);this.watch_search_status[o].scheduled=true;var s=r-Date.now()+20+Math.round(2e4*Math.random());s=Math.min(s,7*24*60*60*1e3);this._set_timeout((function(){if(n.percolate_still_needed(t)){n.do_percolate(t)}else{n.watch_search_status[o].scheduled=false}}),s)}},{key:"percolate_still_needed",value:function e(t){var r=JSON.stringify(t);var n=false;var o={};for(var s in this.watch_search_status[r].plans){var i,a;if((i=this.result_cache[s])!=null&&(a=i.dependency)!=null&&a.needed()){n=true;o[s]=true}else{this.invalidate_plan(s)}}this.watch_search_status[r].plans=o;return n}},{key:"set_perc_ids",value:function e(t,r){var n=r.search_ids,o=r.expires;var s=n;if(s==null){return}if(!this.can_watch){return}var i=JSON.stringify(t);this.schedule_percolator(t,o);var a=l(s),u;try{for(a.s();!(u=a.n()).done;){var c;var f=u.value;var d=this.watch_search_status[i];(c=d.perc_ids)!=null?c:d.perc_ids=[];if(d.perc_ids.includes(f)){continue}d.perc_ids.push(f);if(!this.perc_ids_to_calls[f]){this.perc_ids_to_calls[f]=[];this._notifier_client.watch([ee.SearchNotificationTopic,f],this.get_perc_id_version.bind(this,f),this.handle_perc_updates.bind(this,f))}this.perc_ids_to_calls[f].push(t)}}catch(e){a.e(e)}finally{a.f()}}},{key:"get_perc_id_version",value:function e(t){var r;if(this.perc_id_update_versions[t]){return this.perc_id_update_versions[t]}var n;var o=l(this.perc_ids_to_calls[t]),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;var a=JSON.stringify(i);for(var u in this.watch_search_status[a].plans){var c=this.get_plan_version(u);if(c!=null&&(n==null||c<n)){n=c}}}}catch(e){o.e(e)}finally{o.f()}return(r=n)!=null?r:0}},{key:"handle_perc_updates",value:function e(t,r){var n=r.version,o=r.message;if(n!=null){this.perc_id_update_versions[t]=n}if(o&&this.is_watching(o)){return}var s=l(this.perc_ids_to_calls[t]),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;this.notify_maybe_invalid(a)}}catch(e){s.e(e)}finally{s.f()}}},{key:"notify_maybe_invalid",value:function e(t,r){var n=this;R().workflow.wait_for_server((function(){var e=JSON.stringify(t);if(n._next_scheduled[e]){return}var o=n.query_planner().get_stats(t.type,t.constraints);var s;if(r){if((o==null?void 0:o.length)!=null){if(o.length<50){s=500}else if(o.length<1e3){s=2e3}else{s=1e4}}else if(t.is_group_by){s=1e4}else{s=2e3}}else if((o==null?void 0:o.length)!=null){if(o.length<10){s=2e3}else if(o.length<50){s=5e3}else if(o.length<1e3){s=1e4}else{s=3e4}}else if(t.is_group_by){s=3e4}else{s=1e4}var i=function t(){return n._last_run[e]&&n._last_run[e]>Date.now()-s&&!n.percolator_rate_limit_disabled};if(i()){n._next_scheduled[e]=true;n._set_timeout((function(){R().workflow.wait_for_server((function(){n._next_scheduled[e]=false;n._last_run[e]=Date.now();n.invalidate_plans(e)}))}),n._last_run[e]+s-Date.now())}else{n._last_run[e]=Date.now();n.invalidate_plans(e)}}))}},{key:"_set_timeout",value:function e(t,r){return setTimeout(t,r)}},{key:"_set_immediate",value:function e(r){return t(r)}},{key:"wait_for_plan_loading",value:function e(t,r){var n=this,o;var s=this.result_cache[t];var i=[];var a=l((o=s==null?void 0:s.ranges)!=null?o:[]),u;try{for(a.s();!(u=a.n()).done;){var c=u.value;if(c.state===T.range_states.LOADING){i.push(c.loading_key)}}}catch(e){a.e(e)}finally{a.f()}if(i.length>0){O.WaitFor(i,(function(){n._set_timeout((function(){O.wait_for_updates(n.wait_for_plan_loading.bind(n,t,r))}),5)}))}else{return r()}}},{key:"invalidate_plans",value:function e(t){var r=this;if(!this.watch_search_status[t]){return}var n=function e(t){r.wait_for_plan_loading(t,(function(){r.invalidate_plan(t)}))};for(var o in this.watch_search_status[t].plans){n(o)}}},{key:"do_percolate",value:function e(t){this._to_percolate.push(t);if(!this._watch_percolate_scheduled){this._watch_percolate_scheduled=true;this._set_timeout(this.bulk_watch.bind(this),200)}}},{key:"bulk_watch",value:function e(){var t=this;this._watch_percolate_scheduled=false;var r=this._to_percolate;this._to_percolate=[];var n=function e(r){var n,o;var s=JSON.stringify(r);var i=r.type,a=r.constraints;var l=t.watch_search_status[s].search_path;(o=(n=t.watch_search_status[s]).ttl_start)!=null?o:n.ttl_start=Date.now();var u=Date.now()-t.watch_search_status[s].ttl_start;u=Math.min(7*24*60*60*1e3,Math.max(u,10*60*1e3));return{type:i,constraints:a,search_path:l,ttl:u}};var s=r.map(n);this.elasticsearch("bulk_watch",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),searches:s},(function(e,n){if(e){C.log(e)}else{var s=l(r.entries()),i;try{for(s.s();!(i=s.n()).done;){var a=o(i.value,2),u=a[0],c=a[1];t.set_perc_ids(c,n[u])}}catch(e){s.e(e)}finally{s.f()}}}))}},{key:"get_appname",value:function e(){return this.appname}},{key:"get_app_version",value:function e(){return this.app_version}},{key:"get_temp_db",value:function e(){return M.get_temp_db(this.temp_db,this.appname)}},{key:"elasticsearch",value:function e(t,r,n){if($.includes(t)){this._all_time_queued_fetches++}if(t==="get"&&!r.clear_cache){this._schedule_multi_get();this._gets.push({id:r.id,cb:n});return}if(t==="search"&&r.n<40){this._searches.push({data:r,cb:n});this._searches_current_count+=r.n;this._schedule_multi_search();return}if(t==="aggregate"){this._aggregates.push({data:r,cb:n});this._schedule_multi_aggregate();return}var o=P.encode_data(r,R().appname());var s=O.extend({},q.SPANS.data_retrieval);s.name="".concat(s.name," - ").concat(t);var i=D.startSpan(s.name,s.type,s.sync);function a(e,s){if((e==null?void 0:e.message)==="bad request from client"){C.info("report invalid params",{data:r,encoded:o,cmd:t,err:e})}D.endSpan(i);return n(e,s)}if(this._is_prefetching&&V.includes(t)){this._prefetched_request_counts[t]++}R().location.post("server://elasticsearch/"+t,o,a)}},{key:"_schedule_multi_get",value:function e(){var t=this;if(this._multi_get_scheduled){return}this._multi_get_scheduled=true;if(!this._multi_get_switch){this._multi_get_switch=O.MakeSwitch(null,"multi get switch");this._multi_get_switch.turn_on()}O.WaitFor(this._multi_get_switch,(function(){setTimeout((function(){return t._do_multi_get(10)}))}))}},{key:"_do_multi_get",value:function e(){var t=this;this._multi_get_scheduled=false;if(this._gets.length===0){return}var r=this.GET_BATCH_SIZE;var n=this._gets.slice(0,r);this._gets=this._gets.slice(r);this._multi_get_switch.turn_off();if(this._gets.length>0){this._schedule_multi_get()}var s=n.map((function(e){var t=e.id;return t}));var i={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),ids:s};return this.elasticsearch("mget",i,(function(e,r){var s;if(!e&&((s=r.docs)==null?void 0:s.length)!==n.length){e=new O.UnexpectedError("bad response from mget",{params:i,res:r})}if(e){var a=l(n),u;try{for(a.s();!(u=a.n()).done;){var c=u.value.cb;c(e)}}catch(e){a.e(e)}finally{a.f()}}else{var f=[];var d=l(r.docs.entries()),p;try{for(d.s();!(p=d.n()).done;){var _=o(p.value,2),m=_[0],y=_[1];if(y!=null){n[m].cb(null,y)}else{f.push(n[m])}}}catch(e){d.e(e)}finally{d.f()}t._gets=f.concat(t._gets);t._schedule_multi_get()}t._multi_get_switch.turn_on()}))}},{key:"_schedule_multi_search",value:function e(){if(this._multi_search_scheduled){if(this._searches.length>30||this._searches_current_count>200){clearTimeout(this._multi_search_timeout);this._do_multi_search()}return}this._multi_search_scheduled=true;this._multi_search_timeout=setTimeout(this._do_multi_search.bind(this),10)}},{key:"_schedule_multi_aggregate",value:function e(){if(this._multi_aggregate_scheduled){if(this._aggregates.length>20){clearTimeout(this._multi_aggregate_timeout);this._do_multi_aggregate()}return}this._multi_aggregate_scheduled=true;this._multi_aggregate_timeout=setTimeout(this._do_multi_aggregate.bind(this),10)}},{key:"get_prefetched_request_counts",value:function e(){return this._prefetched_request_counts}},{key:"get_all_time_queued_fetches",value:function e(){return this._all_time_queued_fetches}},{key:"prefetch_queued_fetches",value:function e(){this._is_prefetching=true;if(this._multi_get_scheduled){this._do_multi_get()}if(this._multi_search_scheduled){clearTimeout(this._multi_search_timeout);this._do_multi_search()}if(this._multi_aggregate_scheduled){clearTimeout(this._multi_aggregate_timeout);this._do_multi_aggregate()}this._is_prefetching=false}},{key:"_do_multi_search",value:function e(){this._multi_search_scheduled=false;var t=this._searches;this._searches=[];this._searches_current_count=0;var r=t.map((function(e){var t=e.data;return t}));var n={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),searches:r};this.elasticsearch("msearch",n,(function(e,r){var s;if(!e&&((s=r.responses)==null?void 0:s.length)!==t.length){e=new O.UnexpectedError("bad response from msearch",{res:r,params:n})}if(e){var i=l(t),a;try{for(i.s();!(a=i.n()).done;){var u=a.value.cb;u(e)}}catch(e){i.e(e)}finally{i.f()}}else{var c=l(r.responses.entries()),f;try{for(c.s();!(f=c.n()).done;){var d=o(f.value,2),p=d[0],_=d[1];t[p].cb(null,_)}}catch(e){c.e(e)}finally{c.f()}}}))}},{key:"_do_multi_aggregate",value:function e(){this._multi_aggregate_scheduled=false;var t=this._aggregates;this._aggregates=[];var r=t.map((function(e){var t=e.data;return t}));var n={appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),aggregates:r};this.elasticsearch("maggregate",n,(function(e,r){if(!e&&r.responses.length!==t.length){e=new O.UnexpectedError("bad response from maggregate",{res:r,params:n})}if(e){var s=l(t),i;try{for(s.s();!(i=s.n()).done;){var a=i.value.cb;a(e)}}catch(e){s.e(e)}finally{s.f()}}else{var u=l(r.responses.entries()),c;try{for(u.s();!(c=u.n()).done;){var f=o(c.value,2),d=f[0],p=f[1];t[d].cb(null,p)}}catch(e){u.e(e)}finally{u.f()}}}))}}]);return n}(E.DB);(function(){J.prototype.DBNODE=B;J.prototype.DBOBJECT=U;J.prototype.GET_BATCH_SIZE=200})();var Z=e("./../languages");var Q=e("../notifier/client");var ee=e("../constants/notifier_topics");var te=e("../lang/evaluation/eval_node_state")}).call(this)}).call(this,e("timers").setImmediate)},{"../client/epoch":41,"../constants/db":69,"../constants/epoch":74,"../constants/notifier_topics":84,"../constants/time":99,"../lang/evaluation/eval_node_state":571,"../notifier/client":620,"../shared/cookies":656,"../u/shared/async/async_state":692,"../u/shared/errors":708,"./../languages":612,"./../lib":614,"./../logger":617,"./../safe_require":643,"./../u":687,"./client_firebase":418,"./db":420,"./db_utils":421,"./obfuscate":423,"./plans":450,"./values/ClientDBNode":455,"./values/ClientDBObject":456,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,timers:1289}],418:[function(e,t,r){"use strict";var n=r;var o=e("../u");var s=e("./../lib");var i=e("../client_config");var a=e("../shared/cookies");var l="firebase_workflow";if(typeof window!=="undefined"&&window.firebase!=null){window.firebase.initializeApp(i.firebase_app_config)}var u={};u.firebase_workflow=o.MakeSwitch(null,"firebase_workflow ready key");n.get_firebase=function(){var e=o.Promise(null,"get workflow firebase");o.WaitFor(u.firebase_workflow,(function(){e.resolve(window.firebase.database().ref())}));return e};n.get_token_expiration=function(){return window.firebase.auth().currentUser.getIdTokenResult().then((function(e){return Date.parse(e.expirationTime)}))};var c={};n.reauth=function(){var e=o.Promise(null,"reauthing to firebase");if(!o.cookies_enabled()){e.reject("cookies disabled");return e}var t=a.firebase_cookie_name(s().appname(),l);var r=o.readCookie(t);if(typeof r!=="string"){var n=new o.ExpectedError("Reauthed to firebase but cookie did not contain a valid token",{cookie_name:t,token:r,cookieEnabled:navigator.cookieEnabled,dck:document.cookie});e.reject(n)}else if(r!==c[l]){c[l]=r;window.firebase.auth().signInWithCustomToken(r).then((function(){console.log("authorized successfully for "+l);u[l].turn_on();e.resolve()})).catch((function(t){e.reject(t)}))}else{e.resolve()}return e}},{"../client_config":55,"../shared/cookies":656,"../u":687,"./../lib":614}],419:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.keys.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return i(t)==="symbol"?t:String(t)}function f(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("lodash/keyBy");var p=e("lodash/mapValues");var _=e("memoizee");var m=e("../u/shared/errors");var y=e("../u/shared/b_object");var v=e("../geolocation/shared/b_location_utils");var b=e("../geolocation/b_location");var h=r;var j=function(){function e(t){var r=t.name,n=t.fn,o=t.value_type;a(this,e);this.name=r;this.fn=n;this.value_type=o;if(!["none","simple","array","geographic_address"].includes(this.value_type)){throw new Error}}u(e,[{key:"takes_no_value",value:function e(){return this.value_type==="none"}},{key:"takes_array_value",value:function e(){return this.value_type==="array"}},{key:"process_array_value",value:function e(t){if(Array.isArray(t)){return t}else{var r,n;return(r=t==null?void 0:(n=t.all)==null?void 0:n.call(t))!=null?r:[]}}},{key:"resolve_constraint",value:function e(t){var r=t.entry,n=t.null_not_dropped;if(n){r=this.heed_empty_constraint(r);if(!r){return}}if(r.constraint_type==="return_empty_set"){return r}var o=h.get(r.constraint_type);return o.ignore_empty_constraint(r)}},{key:"heed_empty_constraint",value:function e(t){var r=y.extend({},t);if(this.takes_array_value()){var n=this.process_array_value(t.value);if(!n.length){if(this.name==="not in"){return}r.constraint_type="return_empty_set"}}else if([null,""].includes(r.value)){if(this.name==="equals"){r.constraint_type="is_empty"}if(!this.takes_no_value()){r.constraint_type="return_empty_set"}}if(this.name==="geographic_search"&&!r.value.origin_address){r.constraint_type="return_empty_set"}return r}},{key:"ignore_empty_constraint",value:function e(t){if(this.takes_array_value()){var r=this.process_array_value(t.value);if(r.length){return y.extend({},t,{value:r})}}else if(this.takes_no_value()){return{key:t.key,constraint_type:t.constraint_type,self:t.self}}else if(this.name!=="geographic_search"&&t.value!=null&&t.value!==""){return t}else if(this.name==="geographic_search"&&t.value.origin_address!=null&&t.value.origin_address!==""){t.value.origin_address=b.from_address(t.value.origin_address);return t}return null}}]);return e}();h.numberify=function(e){if(String(parseFloat(e))===e){return parseFloat(e)}else{return e}};function g(e,t){if(e===false&&t==null){return true}return h.numberify(e)===h.numberify(t)}function w(e,t){var r=t!=null?t:"";var n=e!=null?e:null;return r.indexOf(n)!==-1}function O(e,t){var r,o;var s=(r=e==null?void 0:e.toLowerCase().split(/\s+/))!=null?r:["WILL_NEVER_FIND_THIS"];var i=((o=t==null?void 0:t.toLowerCase())!=null?o:"").split(/\s+/);var a=n(s),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(!i.includes(u)){return false}}}catch(e){a.e(e)}finally{a.f()}return true}function S(e){if(e[0]>e[1]){return[e[1],e[0]]}else{return e}}h.all=_((function(){var e={email_equals:{value_type:"simple"},email_contains_string:{value_type:"simple"},equals:{value_type:"simple",fn:g},"not equal":{value_type:"simple",fn:function e(t,r){return!g(t,r)}},is_empty:{value_type:"none",fn:function e(t,r){return r==null||r===""}},is_not_empty:{value_type:"none",fn:function e(t,r){return r!=null&&r!==""}},in:{value_type:"array",fn:function e(t,r){return(t!=null?t:[]).some((function(e){return g(e,r)}))}},"not in":{value_type:"array",fn:function e(t,r){return!(t!=null?t:[]).some((function(e){return g(e,r)}))}},contains:{value_type:"simple",fn:function e(t,r){var n;return((n=r==null?void 0:r.indexOf(t))!=null?n:-1)!==-1}},"not contains":{value_type:"simple",fn:function e(t,r){var n;return((n=r==null?void 0:r.indexOf(t))!=null?n:-1)===-1}},empty:{value_type:"none",fn:function e(t,r){return!r||r.length===0}},"not empty":{value_type:"none",fn:function e(t,r){return(r==null?void 0:r.length)>0}},"greater than":{value_type:"simple",fn:function e(t,r){return r!=null&&h.numberify(r)>h.numberify(t)}},gte:{value_type:"simple",fn:function e(t,r){return r!=null&&h.numberify(r)>=h.numberify(t)}},"less than":{value_type:"simple",fn:function e(t,r){return r!=null&&h.numberify(r)<h.numberify(t)}},lte:{value_type:"simple",fn:function e(t,r){return r!=null&&h.numberify(r)<=h.numberify(t)}},"not true":{value_type:"none",fn:function e(t,r){return[false,null,undefined].includes(r)}},"text contains string":{value_type:"simple",fn:w},"not text contains string":{value_type:"simple",fn:function e(t,r){return!w(t,r)}},"text contains":{value_type:"simple",fn:O},"not text contains":{value_type:"simple",fn:function e(t,r){return!O(t,r)}},geographic_search:{value_type:"geographic_address",fn:function e(t,r){var n=t.range,o=t.unit,s=t.origin_address;if(!r||!s){return false}var i={lat:s.lat,lng:s.lng};var a={lat:r.lat,lng:r.lng};var l=v.geographic_distance(a,i,o);return l<=n}},contains_all_fields:{value_type:"simple",fn:function e(t,r){var o,s,i;var a=(o=r==null?void 0:r.toLowerCase().split(" "))!=null?o:[];var l=(s=(i=t)==null?void 0:i.toLowerCase().split(" "))!=null?s:["WILL_NEVER_FIND_THIS"];var u=n(l),c;try{for(u.s();!(c=u.n()).done;){t=c.value;var f=false;var d=n(a),p;try{for(d.s();!(p=d.n()).done;){var _=p.value;if(_.indexOf(t)!==-1){f=true;break}}}catch(e){d.e(e)}finally{d.f()}if(!f){return false}}}catch(e){u.e(e)}finally{u.f()}return true}},prefix_search:{value_type:"simple",fn:function e(t,r){var o;var s=(o=r==null?void 0:r.toLowerCase().split(" "))!=null?o:[];var i=n(s),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.indexOf(t)===0){return true}}}catch(e){i.e(e)}finally{i.f()}return false}},match_phrase_prefix:{value_type:"simple",fn:function e(t,r){var o;var s=(o=r==null?void 0:r.toLowerCase().split(" "))!=null?o:[];var i=n(s),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l.indexOf(t)===0){return true}}}catch(e){i.e(e)}finally{i.f()}return false}},range_contains:{value_type:"array",fn:function e(t,r){var n,o;if(((n=r)==null?void 0:n[0])==null||((o=t)==null?void 0:o[0])==null){return false}t=S(t);r=S(r);return r[0]<=t[0]&&r[1]>=t[1]}},range_contains_point:{value_type:"simple",fn:function e(t,r){var n;if(((n=r)==null?void 0:n[0])==null||t==null){return false}r=S(r);return r[0]<=t&&r[1]>=t}},range_contained_by:{value_type:"array",fn:function e(t,r){var n,o;if(((n=r)==null?void 0:n[0])==null||((o=t)==null?void 0:o[0])==null){return false}t=S(t);r=S(r);return t[0]<=r[0]&&t[1]>=r[1]}},range_overlaps:{value_type:"array",fn:function e(t,r){var n,o;if(((n=r)==null?void 0:n[0])==null||((o=t)==null?void 0:o[0])==null){return false}t=S(t);r=S(r);return r[0]<=t[1]&&r[1]>=t[0]}},range_greater_than:{value_type:"array",fn:function e(t,r){var n,o;if(((n=r)==null?void 0:n[0])==null||((o=t)==null?void 0:o[0])==null){return false}t=S(t);r=S(r);return r[0]>t[1]}},range_less_than:{value_type:"array",fn:function e(t,r){var n,o;if(((n=r)==null?void 0:n[0])==null||((o=t)==null?void 0:o[0])==null){return false}t=S(t);r=S(r);return r[1]<t[0]}},range_greater_than_point:{value_type:"simple",fn:function e(t,r){var n;if(((n=r)==null?void 0:n[0])==null||t==null){return false}r=S(r);return r[0]>t}},range_less_than_point:{value_type:"simple",fn:function e(t,r){var n;if(((n=r)==null?void 0:n[0])==null||t==null){return false}r=S(r);return r[1]<t}}};return Object.keys(e).map((function(t){return new j(y.extend({name:t},e[t]))}))}));h.by_name=_((function(){return d(h.all(),(function(e){return e.name}))}));h.get=function(e){var t=h.by_name()[e];if(!t)throw new m.UnexpectedError("missing constraint_def",{name:e});return t};h.all_search_constraints=p(h.by_name(),(function(e){return e.fn}))},{"../geolocation/b_location":505,"../geolocation/shared/b_location_utils":510,"../u/shared/b_object":702,"../u/shared/errors":708,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/keyBy":1191,"lodash/mapValues":1194,memoizee:1211}],420:[function(e,t,r){"use strict";e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.splice.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.string.replace.js");function n(e){return a(e)||c(e)||_(e)||s()}function o(e,t){return a(e)||i(e,t)||_(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e){return f(e)||c(e)||_(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f(e){if(Array.isArray(e))return m(e)}function d(e){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function _(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,h(n.key),n)}}function b(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function h(e){var t=j(e,"string");return d(t)==="symbol"?t:String(t)}function j(e,t){if(d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g=r;var w=e("../u");var O=e("../u/shared/async/b_fiber");var S=e("../u/shared/async/async_state");var k=e("../u/shared/mode_check");var A=e("../safe_require");var E=e("../logger");A.safe_register("./db/db",g);var x=e("../constants/db");var M=e("../constants/locations");var P=e("../constants/eval");var T=e("../lang/evaluation/eval_node_state");var I=e("../constants/special_keys");var C=e("./db_utils");var R=e("../constants/notifier_topics");g.Dynamic=e("./values/Dynamic");g.StaticNode=e("./values/StaticNode");g.StaticObject=e("./values/StaticObject");g.ListWrapper=e("./values/ListWrapper");g.NodeBase=e("./values/NodeBase");g.StaticList=e("./values/StaticList");g.TransformList=e("./values/TransformList");g.ConcatList=e("./values/ConcatList");g.IntersectList=e("./values/IntersectList");g.UniqueList=e("./values/UniqueList");g.SortedList=e("./values/SortedList");g.NodeList=e("./values/NodeList");g.OuterStringified={rehydrate:function e(t,r){return Q.rehydrate_tree(t,w.incremental_json_parse(r))}};function N(e,t){if(k.on_server()&&O.Fiber.current==null){O.SyncRun(e,t,true)}else{t()}}var L={NOTIFIER:"NOTIFIER",EXTERNAL:"EXTERNAL"};var z=function(){function e(t,r){y(this,e);this.db=undefined;this.id=undefined;this.raw=undefined;this.type=undefined;this.version=undefined;this.latest_version=undefined;this.latest_version_source=undefined;this.db=t;this.id=r;this.ready_key=w.MakeKey(null,"initial data for "+this.id);this.dependency=w.Dependency();this._old_keys=[]}b(e,[{key:"is_watching",value:function e(){return this._watching}},{key:"flush",value:function e(t){if(this.ready_key){this._old_keys.push(this.ready_key)}this.ready_key=w.MakeKey(null,"reloading item after stale");this.flushed_raw=this.raw;delete this.raw;delete this.version;if(!t){return this.dependency.invalidate()}}},{key:"mark_ready",value:function e(){this.ready_key.turn();var t=p(this._old_keys),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.turn()}}catch(e){t.e(e)}finally{t.f()}this._old_keys=[]}},{key:"watch",value:function e(){var t=this;if(k.on_server()){return}if(!this.db.can_watch){return}if(this._watching){return}this._watching=true;var r="".concat(this.db.appname,"_").concat(Z.get_db_version(this.db.app_version)).concat(this.db.temp_db?"_"+this.db.temp_db:"");K.watch([R.NotificationTopic,r,this.id],(function(){var e,r;return(e=(r=t.latest_version)!=null?r:t.version)!=null?e:0}),(function(e){var r=e.stale,n=e.version,o=e.message;if(r){t.flush()}else if(n!=null){t.set_latest_version(n,L.NOTIFIER)}}))}},{key:"poll",value:function e(t,r){var n=this;if(r>0){setTimeout((function(){n.db._reload(n.id);n.poll(t,r-1)}),t)}}},{key:"set_latest_version",value:function e(t,r){var n,o,s=this;(n=t)!=null?n:t=0;(o=this.latest_version)!=null?o:this.latest_version=0;if(t>this.latest_version){var i;this.latest_version=t;this.latest_version_source=r;if(this.latest_version>((i=this.version)!=null?i:0)){this.db._wait_for_process_updates(this.id,this.latest_version,(function(){s.db._reload(s.id)}))}}}},{key:"dump",value:function e(){var t=this.raw,r=this.type,n=this.version;var o=this.ready_key.is_turned();return JSON.stringify({raw:t,type:r,version:n,ready:o},null,4)}}]);return e}();g.global_data_items_loaded=0;var D=false;var q={t:"Static",value_id:"sys.bool",data:[false]};var B={t:"Static",value_id:"sys.bool",data:[true]};g.get_admin_user_id=function(e){if(e==null){var t=V();e={appname:t.appname(),app_version:t.app_version(),temp_db:t.temp_db()}}var r=Z.get_db_version(e.app_version);var n;if(e.temp_db){n="".concat(e.temp_db,"_").concat(e.appname,"_").concat(r)}else{n="".concat(e.appname,"_").concat(r)}return"".concat(x.ADMIN_USER_ID,"_").concat(n)};g.transform_constraint_for_db=function(e,t){if(e==="user"&&t.key==="email"&&t.constraint_type==="equals"){return w.extend({},t,{constraint_type:"email_equals"})}if(e==="user"&&t.key==="logged_in"){return w.extend({},t,{key:"user_signed_up"})}return t};g.DB=function(){function e(){y(this,e);this._locals={};this.result_cache={}}b(e,[{key:"inspect",value:function e(){return this.constructor.name}},{key:"query_planner",value:function e(){var t;(t=this._query_planner)!=null?t:this._query_planner=new ee.QueryPlanner;return this._query_planner}},{key:"iterate",value:function e(t,r){var n,o,s=this;(n=r)!=null?n:r=0;if(typeof((o=G[t.t])==null?void 0:o.load)==="function"){return function(e){var n;if(e!=null){n=r+e}else{var o=s.get_ranges(t,r,r+1);if(o===x.range_states.PAST_END){return null}if(o[0].state===x.range_states.AVAILABLE&&o[0].to>r){n=o[0].to}else{n=Math.min(r+x.MAX_SEARCH_CHUNK,Math.max(r+10,r*2))}}var i=s.execute_call_get_children(t,r,n-r);if(i.length===0){return null}r=n;return i}}else{var i=G[t.t].fn.call(this,t,r);return function(e){var t=i(e);if(t.length===0){return null}else{return t}}}}},{key:"all",value:function e(t){var r=this.iterate(t)(x.ALL_MAX);return r!=null?r:[]}},{key:"build_search_path",value:function e(t,r){var n,o,s,i,a;(n=this._search_path_cache)!=null?n:this._search_path_cache={};var l=JSON.stringify({plan:t,to:r});(s=(o=this._search_path_cache)[l])!=null?s:o[l]=(i=T.get_current_eval_node())==null?void 0:i.serialize();if(!this._search_path_cache[l]&&w.on_client()&&!D){D=true;E.warn("No search path found",{key:l})}return JSON.stringify((a=this._search_path_cache[l])!=null?a:null)}},{key:"get_plan_for_node",value:function e(t,r){var n=this;switch(t.t){case"All":{var o;var s={t:"CallSearch",type:t.type,constraints:[],sorts_list:(o=r.sorts_list)!=null?o:[]};if(r.lookup){s.extra={lookup:r.lookup}}return s}case"Filter":{var i,a;var u=this.get_plan_for_node(t.prev,{});if(u.t!=="CallSearch"){return w.extend({},t,{prev:u})}if(((i=u.constraints)==null?void 0:i.length)>0){throw new w.UnexpectedError("should not have constraints",{query:t,prev:u})}var c=[];var f=[];var d=p(t.constraints),_;try{for(d.s();!(_=d.n()).done;){var m=_.value;var y=g.transform_constraint_for_db(u.type,m);if(X.can_execute_in_db(u.type,y)){c.push(y)}else{f.push(m)}}}catch(e){d.e(e)}finally{d.f()}var v=this.query_planner().pick_search(u.type,c,(a=r.sorts_list)!=null?a:[],r.n),b=v.search,h=v.leftover;f.push.apply(f,l(h||[]));if(f.length===0){if(r.lookup){b.extra={lookup:r.lookup}}return b}return{t:"Filter",constraints:f,prev:b}}case"Sort":{var j=this.get_plan_for_node(t.prev,{sorts_list:t.sorts_list,n:r.n,lookup:r.lookup});var O;if(j.t==="CallSearch"){O=j}else if(j.t==="Filter"&&j.prev.t==="CallSearch"){O=j.prev}if(!O){return w.extend({},t,{prev:j})}if(JSON.stringify(O.sorts_list)===JSON.stringify(t.sorts_list)){return j}else{return w.extend({},t,{prev:j})}}case"Contains":{var S,k;var A=this.get_plan_for_node(t.prev,{});if(!["CallSearch","Filter"].includes(A.t)){return w.extend({},t,{prev:A})}if(H.get(this.get_plan_ret_btype(A)).custom_type()==null){return w.extend({},t,{prev:A})}var E=Q.rehydrate_tree(this,t.item);if(A.t==="CallSearch"&&A.type!==(E==null?void 0:(S=E._type)==null?void 0:S.call(E))){return q}if(!(E!=null&&E.exists())){return q}var M=[];var P=A.t==="Filter";var T=p((k=A.constraints)!=null?k:[]),C;try{for(T.s();!(C=T.n()).done;){var R=C.value;if(P||ee.can_execute_in_memory(R)){if(!X.local_constrain(E,R,A.type)){return q}}else{M.push(R)}}}catch(e){T.e(e)}finally{T.f()}if(M.length===0){if(A.t==="CallSearch"){return B}else{return w.extend({},t,{prev:A})}}M.push({key:I.UNIQUE_ID,constraint_type:"equals",value:E._id()});var N={t:"Compare",op:">",n:0,prev:{t:"Length",prev:{t:"Filter",constraints:M,prev:{t:"All",type:A.type}}}};return this.get_plan_for_node(N,{})}case"Compare":{var L;if(t.prev.t==="Length"&&t.n===0){var z=this.get_plan_for_node(t.prev.prev,{});L={t:"Length",bound:t.n+1,prev:z,options:t.prev.options};return{t:"Compare",prev:L,op:t.op,n:t.n}}L=this.get_plan_for_node(t.prev,{});if(L.t==="Length"){L={t:"Length",bound:t.n+1,prev:L.prev,options:t.prev.options}}return{t:"Compare",prev:L,op:t.op,n:t.n}}case"GroupBy":{var D=this.get_plan_for_node(t.prev,{n:x.ALL_MAX});var U=function e(r){return w.extend({},t,{prev:r})};if(D.t!=="CallSearch"){return U(D)}var W=this.query_planner().get_stats(D.type,D.constraints);if(W!=null&&W.searches){if(W.length!=null){for(var F=0,G=Object.values(W.searches);F<G.length;F++){var $=G[F];if($.loaded>=W.length){return U(this.query_planner().node_to_search($))}}}}return{t:"CallGroupBy",aggregations:t.aggregations,groupings:t.groupings,constraints:D.constraints,type:D.type}}case"Length":case"Numeric":{var V;var Y,K,J,Z,te,re,ne;if(t.t==="Length"){re=this.get_plan_for_node(t.prev,{n:x.ALL_MAX});K=re.t==="CallSearch";Y=re;J=function e(t){return{t:"Length",prev:n.query_planner().node_to_search(t)}};Z="count";te=undefined;ne=t.options}else{var oe=t.prev;K=oe.t==="Transform";if(K){var se=H.get(oe.value_id).get_message(oe.message);K=se.ret_btype_id()!=="null"&&se.is_lookup()}if(K){re=this.get_plan_for_node(oe.prev,{n:x.ALL_MAX});K=re.t==="CallSearch"}J=function e(r){var o=w.extend({},oe,{prev:n.query_planner().node_to_search(r)});return w.extend({},t,{prev:o})};Z=t.op;te=oe.message;ne=t.options}if(K){var ie=this.query_planner().get_stats(re.type,re.constraints);if(ie!=null&&ie.searches){if(ie.length!=null){for(var ae=0,le=Object.values(ie.searches);ae<le.length;ae++){var ue=le[ae];if(!ue.from>0&&!ue.has_gaps&&ue.loaded>=ie.length){return J(ue)}}}if(!ie[X.aggregate_started_key(Z,te,ne)]){for(var ce=0,fe=Object.values(ie.searches);ce<fe.length;ce++){var de;var pe=fe[ce];var _e=pe.loading_to-((de=pe.loaded)!=null?de:0);if(!pe.from>0&&!pe.has_gaps&&_e>0&&_e<x.MAX_SEARCH_CHUNK){return J(pe)}}}}return{t:"CallAggregate",type:re.type,constraints:re.constraints,agg_fn:Z,field:te,options:ne}}(V=Y)!=null?V:Y=this.get_plan_for_node(t.prev,{n:x.ALL_MAX});return w.extend({},t,{prev:Y})}case"Transform":{var me;var ye=H.get(t.value_id).get_message(t.message);if(ye.is_lookup()&&ye.ret_btype().custom_type()!=null){me=[t.message];if(r.lookup){me=me.concat(r.lookup)}}else{me=null}var ve=this.get_plan_for_node(t.prev,{lookup:me});return w.extend({},t,{prev:ve})}case"ExtraFields":{var be;var he=this.get_plan_for_node(t.prev,{});if(((be=t.extra_field_names)==null?void 0:be.length)>0){he.extra={lookup:t.extra_field_names}}return he}case"Columns":{var je=this.get_plan_for_node(t.prev,{});if(je!=null){var ge={};var we=p(t.columns),Oe;try{for(we.s();!(Oe=we.n()).done;){var Se=Oe.value;ge[Se]=true}}catch(e){we.e(e)}finally{we.f()}ge._id=true;ge._version=true;if(je.sorts_list!=null){var ke=p(je.sorts_list),Ae;try{for(ke.s();!(Ae=ke.n()).done;){var Ee=Ae.value;ge[Ee.sort_field]=true}}catch(e){ke.e(e)}finally{ke.f()}}je.columns=Object.keys(ge)}return je}default:{var xe={};if(t.prev){xe.prev=this.get_plan_for_node(t.prev,{})}if(t.prevs){xe.prevs=t.prevs.map((function(e){return n.get_plan_for_node(e,{})}))}return w.extend({},t,xe)}}}},{key:"validate_query",value:function e(t){var r;if(!G[t.t]){throw new w.UnexpectedError("Unrecognized query",{query:t})}(r=G[t.t].validate)==null?void 0:r.call(this,t);if(t.prev!=null){this.validate_query(t.prev)}if(t.prevs!=null){if(!Array.isArray(t.prevs)){throw new w.UnexpectedError("Prevs must be array",{query:t})}var n=p(t.prevs),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;this.validate_query(s)}}catch(e){n.e(e)}finally{n.f()}}}},{key:"build_query_plan",value:function e(t,r,n){t=w.json_deep_copy(t);this.validate_query(t);t=this.simplify_query(t);this.canonicalize_query(t);var o=this.get_plan_for_node(t,{n:n});return o}},{key:"execute_query",value:function e(t,r,n){var o=this.build_query_plan(t,r,n);return this.execute_get_children(o,r,n)}},{key:"init_result_cache",value:function e(t){var r=this.get_cache_key(t);if(!this.result_cache[r]){this.result_cache[r]={plan:t,ranges:[]}}return this.result_cache[r]}},{key:"get_ranges",value:function e(t,r,n){if(n<=r){throw new w.UnexpectedError("assertion error: to must be strictly greater than from",{plan:t,from:r,to:n})}if(r<0){throw new w.UnexpectedError("assertion error: from must be at least 0",{plan:t,from:r,to:n})}var o=this.init_result_cache(t);var s=o.ranges;var i=[];var a=r;var l=false;var u=p(s),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;if(a>=n){break}if(f.to<=a){if(f.state===x.range_states.AVAILABLE&&f.at_end){return x.range_states.PAST_END}continue}if(a<f.from){var d=Math.min(f.from,n);i.push({state:x.range_states.NOT_STARTED,from:a,to:d});a=d}if(f.from>=n){break}i.push(f);a=f.to;if(f.state===x.range_states.AVAILABLE&&f.at_end){l=true;break}}}catch(e){u.e(e)}finally{u.f()}if(a<n){if(!l){i.push({state:x.range_states.NOT_STARTED,from:a,to:n})}}var _=false;for(var m=0,y=i;m<y.length;m++){var v=y[m];if(v.state===x.range_states.AVAILABLE){if(_){throw new w.UnexpectedError("assertion error: adjacent available ranges")}else{_=true}}else{_=false}}return i}},{key:"get_plan_ret_btype",value:function e(t){var r=G[t.t].get_ret_btype.call(this,t);return r}},{key:"array_to_objects",value:function e(t,r,n){var o=this;var s=this.get_plan_ret_btype(t);if((!s||s==="null")&&(r==null?void 0:r.length)>0){E.error("null value_id in array_to_objects",{plan:t,value_id:s,array_length:r.length})}if(d(s)==="object"){if(s.get_message){E.error("Got value instead of value id",{plan:t})}else{throw new w.UnexpectedError("Got object value_id",{plan:t})}}var i=function e(t,r){if(t==null){return null}if(r%10===0){O.optional_pause("in wrapped_get")}var s=o.get(t);if(n){s.precache()}return s};var a=function e(t,r){if(r%10===0){O.optional_pause("in wrapped_static_get")}return C._static_get(t,o,s)};O.optional_pause("array_to_objects: pre");var l;if(H.get(s).custom_type()!=null){l=r.map((function(e,t){return i(e,t)}))}else{l=r.map((function(e,t){return a(e,t)}))}O.optional_pause("array_to_objects: post");return l}},{key:"array_to_ids",value:function e(t,r){var n=this.get_plan_ret_btype(t);if((!n||n==="null")&&(r==null?void 0:r.length)>0){E.error("null value_id in array_to_ids",{plan:t,value_id:n,array_length:r.length})}return C.array_to_ids(n,r)}},{key:"get_cache_key",value:function e(t){if(t.extra!=null){t=w.json_deep_copy(t);delete t.extra;return JSON.stringify(t)}return JSON.stringify(t)}},{key:"execute_get_children",value:function e(t,r,n){var o;var s={plan:t,from:r,n:n};if(n<=0){throw new w.UnexpectedError("must request at least 1 result",s)}if(r<0){throw new w.UnexpectedError("cannot call negative from",s)}var i=this.iterate(t,r);return(o=i(n))!=null?o:[]}},{key:"execute_call_get_children",value:function e(t,r,n){var o=r+n;var s=this.get_ranges(t,r,o);if(s===x.range_states.PAST_END){this.register_call_dependency(t);return[]}if(s.length===1&&s[0].state===x.range_states.AVAILABLE){var i=r-s[0].from;var a=i+n;this.register_call_dependency(t);return s[0].results.slice(i,a)}var l=[];var u=[];var c=p(s),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;switch(d.state){case x.range_states.LOADING:l.push(d.loading_key);break;case x.range_states.AVAILABLE:break;case x.range_states.ERROR:throw d.err;case x.range_states.NOT_STARTED:u.push(d);break;default:throw new w.UnexpectedError("Unrecognized range state: "+JSON.stringify(d))}}}catch(e){c.e(e)}finally{c.f()}if(u.length>0){var _;if(((_=S.CurrentNotReadyCatcher)==null?void 0:_.length)>0){return[]}var m=p(u),y;try{for(m.s();!(y=m.n()).done;){var v=y.value;l.push(this.load_get_children(t,v.from,v.to-v.from))}}catch(e){m.e(e)}finally{m.f()}}var b=w.TransientKeyList(l);if(b.is_turned()){return this.execute_call_get_children(t,r,n)}w.ensure_ready(b);if(w.on_client()){return[]}else{throw new x.RetryError}}},{key:"add_loading_range",value:function e(t,r,n,o){var s=r+n;var i=this.init_result_cache(t);var a=i.ranges;var l,u;for(l=0;l<a.length;l++){var c=a[l];if(c.from>=s){break}if(c.from>r){throw new w.UnexpectedError("adding overlapping range",{plan:t,from:r,n:n,existing_ranges:a})}}if(a[l-1]&&a[l-1].state===x.range_states.AVAILABLE&&a[l-1].to===r){u=a[l-1].results.slice(-1)[0]}var f={state:x.range_states.LOADING,from_id:u,from:r,to:s,loading_key:o,result_cache:i};a.splice(l,0,f);return f}},{key:"invalidate_plan",value:function e(t){var r=this.result_cache[t];if(!r){return}r.ranges=[];this.invalidate_call_dependency(t)}},{key:"get_plan_version",value:function e(t){var r,n;var o=null;var s=p((r=(n=this.result_cache[t])==null?void 0:n.ranges)!=null?r:[]),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.search_version!=null&&(o==null||a.search_version<o)){o=a.search_version}}}catch(e){s.e(e)}finally{s.f()}return o}},{key:"handle_results",value:function e(t,r,n,o){var s=this.get_cache_key(t);this.init_result_cache(t);if(r.state!==x.range_states.LOADING&&n){E.error("Got an error for a non-loading range, throwing error",{plan:t,state:r.state});throw n}if(r.state!==x.range_states.LOADING){throw new w.UnexpectedError("assertion error: handle_results called on a non-loading range",{plan:t,range_state:r.state})}r.loading_key.turn();delete r.loading_key;if(n){r.state=x.range_states.ERROR;r.err=n;this.schedule_discard_errors(t)}else{G[t.t].initialize_range.call(this,t,r,o);r.state=x.range_states.AVAILABLE;for(var i in this.local_changes){var a=this._local(i);G[t.t].local_change.call(this,t,r,i,a.type,x.DONT_KNOW,a.raw,true)}var l=[];var u=null;var c=p([].concat(this.result_cache[s].ranges)),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;if(d.state===x.range_states.AVAILABLE){if(u&&u.to===d.from){G[t.t].merge_ranges.call(this,t,u,d)}else{u=d;l.push(d)}}else{u=null;l.push(d)}}}catch(n){c.e(n)}finally{c.f()}l=l.filter((function(e){return e.state!==x.range_states.DELETED}));this.result_cache[s].ranges=l}}},{key:"delete_range",value:function e(t,r){var n=this.get_cache_key(t);w.array_remove(this.result_cache[n].ranges,r);r.state=x.range_states.DELETED}},{key:"load_get_children",value:function e(t,r,n){var o;if(typeof((o=G[t.t])==null?void 0:o.load)!=="function"){throw new w.UnexpectedError("no load function for "+t.t)}var s=w.MakeKey(null,JSON.stringify({plan:t,from:r,n:n}));var i=this.add_loading_range(t,r,n,s);G[t.t].load.call(this,{plan:t,from:r,n:n,from_id:i.from_id},this.handle_results.bind(this,t,i));return s}},{key:"canonicalize_query",value:function e(t){if(G[t.t].canonicalize){G[t.t].canonicalize(t)}if(t.prev){this.canonicalize_query(t.prev)}if(t.prevs){var r=p(t.prevs),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;this.canonicalize_query(o)}}catch(e){r.e(e)}finally{r.f()}}return null}},{key:"simplify_query",value:function e(t,r){var n,s=this;(n=r)!=null?n:r={};var i={};for(var a=0,l=Object.entries(r);a<l.length;a++){var u;var c=o(l[a],2),f=c[0],d=c[1];if((u=G[t.t].preserves_context)!=null&&u[f]){i[f]=d}}if(G[t.t].adds_context){for(var p=0,_=Object.entries(G[t.t].adds_context);p<_.length;p++){var m=o(_[p],2),y=m[0],v=m[1];i[y]=v}}if(t.prev){t=w.extend({},t,{prev:this.simplify_query(t.prev,i)})}if(t.prevs){t=w.extend({},t,{prevs:t.prevs.map((function(e){return s.simplify_query(e,i)}))})}while(true){var b,h;if(!G[t.t]){throw new w.UnexpectedError("Unrecognized query type",{query:t})}var j=(b=G[t.t].simplify)==null?void 0:b.call(this,t,r);if(j){t=j;continue}if(((h=t.prev)==null?void 0:h.t)==="Sort"&&G[t.t].sort_neutral){var g;var O=t.prev.prev;var S=w.extend({},t,{prev:O});j=(g=G[S.t].simplify)==null?void 0:g.call(this,S,r);if(j){S=j}t=w.extend({},t.prev,{prev:S});continue}return t}}},{key:"get_node",value:function e(t){var r=t.split("."),o=n(r),s=o[0],i=o.slice(1);var a=this.get_object(s);return new this.DBNODE(a,i,this)}},{key:"get_object",value:function e(t){return new this.DBOBJECT(t,this)}},{key:"_local",value:function e(t){var r,n;(n=(r=this._locals)[t])!=null?n:r[t]=new z(this,t);return this._locals[t]}},{key:"is_watching",value:function e(t){return this._locals[t]!=null&&this._local(t).is_watching()}},{key:"flush",value:function e(t){this._local(t).flush();this._reload(t)}},{key:"_get_data",value:function e(t){if(t===x.NO_USER){var r=(new F).raw();return r}var n=this._local(t);if(n.error){throw n.error}else if(n.raw){return n.raw}else{return null}}},{key:"_get_ready_key",value:function e(t){if([x.NO_USER,"constructor"].includes(t)){return w.FakeKey()}return this._local(t).ready_key}},{key:"_ensure_loading",value:function e(t){if(t===x.NO_USER){return}if(this._local(t).raw===undefined){this._reload(t)}}},{key:"_wait_for_process_updates",value:function e(t,r,n){if(r==="local"||!this._get_ready_key(t).is_turned()){n()}else if(k.on_server()){n()}else{V().workflow.wait_for_server(n)}}},{key:"_reload",value:function e(t,r){var n,o=this;if(t===x.NO_USER){return}var s=this._local(t);if(s._is_loading){return}s._is_loading=true;var i=(n=this._local(t).latest_version)!=null?n:0;this.elasticsearch("get",{id:t,appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),clear_cache:r},(function(e,r){s._is_loading=false;o._handle_get_response(t,e,r);if((r==null?void 0:r._version)!=null&&r._version<i){if(J.offline&&r._type==="user"&&r._source.bubble_employee_boolean){return}E.error("Got an out of date version in _reload",{id:t,latest_version:i,version:r._version});return o._reload(t,true)}}))}},{key:"_handle_get_response",value:function e(t,r,n){if(r!=null){this._set_error(t,r);return}var o=n._version,s=n.found,i=n._source,a=n._type;if(!s){var l;this._set_data(t,null,null,(l=this._local(t).latest_version)!=null?l:0)}else{this._set_data(t,i,a,o)}}},{key:"_register_dependency",value:function e(t){if(t===x.NO_USER){(new F).register_dependency()}this._local(t).dependency.register()}},{key:"_set_local",value:function e(t,r,n){var s=this;this._ensure_loading(t);w.WaitFor(this._get_ready_key(t),(function(){var e;var i=w.json_deep_copy((e=s._get_data(t))!=null?e:{});if(r){var a=i;var l=p(r.entries()),u;try{for(l.s();!(u=l.n()).done;){var c=o(u.value,2),f=c[0],d=c[1];if(f===r.length-1){a[d]=n}else{var _,m;(m=(_=a)[d])!=null?m:_[d]={};a=a[d]}}}catch(e){l.e(e)}finally{l.f()}}else{w.extend(i,n)}s._set_data(t,i,null,"local")}))}},{key:"_delete_local",value:function e(t){return this._set_data(t,null,null,"local")}},{key:"_create_local",value:function e(t,r){return this._set_data(t,{},r,"local")}},{key:"_get_type",value:function e(t){if(t===x.NO_USER){return"user"}return this._local(t).type}},{key:"ensure_object_updates",value:function e(t){var r=0;for(var n in t){var o=t[n];r++;if(r%10===0){O.optional_pause()}var s=this._local(n);var i=void 0;if(s.ready_key.is_turned()&&(o>s.version||o==="clear")){s.ready_key=w.MakeKey(30,"data ensure_object_updates loaded for "+n);i=true}else{i=false}if(o==="clear"){if(i){delete s.raw;delete s.version;this._reload(n)}}else{s.set_latest_version(o,L.EXTERNAL)}}}},{key:"_set_error",value:function e(t,r){var n=this._local(t);n.error=r;n.mark_ready()}},{key:"_set_data",value:function e(t,r,n,o){var s=this;var i=w.Promise(null,"db._set_data "+t);if(t===x.NO_USER){(new F)._write(r);i.resolve();return i}if(o!=="local"){g.global_data_items_loaded++}this._wait_for_process_updates(t,o,(function(){N("db_set_data",(function(){var e;var a=s._local(t);if(!(o==="local"||o>((e=a.version)!=null?e:-1))){i.resolve()}else{var l,u,c;if(a.latest_version>o){var f;s._reload(t);(f=a._outstanding_set_data_promise)==null?void 0:f.resolve(i);a._outstanding_set_data_promise=i;return}if(o==="local"&&n!=null){a.just_created=true}if(a.just_created&&o!=="local"){if(r===null){i.resolve();return}else{a.just_created=false}}(l=s.local_changes)!=null?l:s.local_changes={};if(o==="local"){s.local_changes[t]=a.raw}else{a.version=o;delete s.local_changes[t]}var d=(u=a.raw)!=null?u:a.flushed_raw;delete a.flushed_raw;a.raw=r;if(n!=null){a.type=n}if(a.type||a.raw===null){a.error=null;a.mark_ready();s.local_item_updated(t,a.raw,a.type,o)}a.dependency.invalidate();a.watch();(c=a._outstanding_set_data_promise)==null?void 0:c.resolve();i.resolve();if(d!=null||o==="local"||a.latest_version_source===L.EXTERNAL){a.treat_as_changed=false;s.publish_change(t,n!=null?n:a.type,d,r,o==="local")}}}))}));return i}},{key:"publish_change",value:function e(t,r,n,o,s){for(var i in this.result_cache){var a=this.result_cache[i];var l=a.plan;var u=false;var c=p([].concat(a.ranges)),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;if(d.state===x.range_states.AVAILABLE){var _=G[l.t].local_change.call(this,l,d,t,r,n,o,s);if(_===x.DONT_KNOW){var m=G[l.t].watch_search_call.call(this,l);this.notify_maybe_invalid(m,true)}else if(_){u=true}}}}catch(e){c.e(e)}finally{c.f()}if(u){this.invalidate_call_dependency(i)}}}},{key:"cur_temp_db",value:function e(){if(this.temp_db){return C.get_temp_db(this.temp_db,this.get_appname())}return undefined}},{key:"lookup_user",value:function e(t,r){var n=[{key:t,constraint_type:"equals",value:r}];var o=this.find("user",n);return o.get_children(0,1)[0]}},{key:"find",value:function e(t,r,n,o){var s;r=Q.dehydrate_tree(r);if(t==="user"){r=r.concat([{key:"user_signed_up",constraint_type:"equals",value:true},{key:"_id",constraint_type:"not equal",value:this.get_admin_user_id()},{key:"_id",constraint_type:"not equal",value:g.get_admin_user_id({appname:this.appname,app_version:M.LIVE_VERSION})},{key:"_id",constraint_type:"not equal",value:g.get_admin_user_id({appname:this.appname,app_version:M.TEST_VERSION})},{key:"_id",constraint_type:"not equal",value:x.ADMIN_USER_ID}])}var i={t:"All",type:t};if(((s=r)==null?void 0:s.length)>0){i={t:"Filter",constraints:r,prev:i}}if((n==null?void 0:n.length)>0){i={t:"Sort",sorts_list:n,prev:i}}var a=new g.ListWrapper(this,i);if(o&&!T.get_current_eval_node()){a._creation_eval_node={serialize:function e(){return o}}}return a}},{key:"static_list",value:function e(t,r){var n;if(!t){throw new w.UnexpectedError("Value id is required",{value_id:t})}(n=r)!=null?n:r=[];if(!Array.isArray(r)){throw new w.UnexpectedError("Bad array",{array_type:d(r),array_str:String(r),value_id:t})}var o=C.array_to_ids(t,r);return this.static_list_from_ids(t,o)}},{key:"static_list_from_ids",value:function e(t,r){var n;if(!t){throw new w.UnexpectedError("Value id is required",{value_id:t})}(n=r)!=null?n:r=[];if(!Array.isArray(r)){throw new w.UnexpectedError("Bad array",{array_type:d(r),array_str:String(r),value_id:t})}var o={t:"Static",data:r,value_id:t};return new g.ListWrapper(this,o)}},{key:"retrieve",value:function e(t,r){var n=[];for(var o in r){var s=r[o];if(s==null){throw new w.UnexpectedError("retrieve: value cannot be null for key "+o)}n.push({key:o,value:s,constraint_type:"equals"})}var i=this.find(t,n);var a=5;while(i.get_children(0,1)[0]==null){a-=1;if(a===0){throw new w.UnexpectedError("Retrieve failed for "+t,r)}O.pause(1e3,"db retrieve attempt cooldown")}return i.get_children(0,1)[0]}},{key:"get_admin_user_id",value:function e(){var t=this.cur_temp_db();return g.get_admin_user_id({appname:this.appname,app_version:this.app_version,temp_db:t})}},{key:"id",value:function e(){return this.appname+"_"+this.app_version+(this.temp_db?"_"+this.temp_db:"")}},{key:"create",value:function e(t,r,n){var o,s;(o=r)!=null?o:r={};if(n&&k.on_server()){if(this.get(n).exists()){throw new w.UnexpectedError("cannot create object, id already exists",{id:n,type:t,initial_data:r})}}(s=n)!=null?s:n=w.UUID();var i=this.get_object(n);var a;if(t==="user"){a=n}else{a=V().current_user()._id()}var l={"Created By":P.HYDRATE_STRING+a,"Created Date":w.timestamp(),"Modified Date":w.timestamp()};w.extend(l,r);this._create_local(n,t);i.set(l,{is_insert:true});return i}},{key:"get",value:function e(t){if(!t||typeof t!=="string"){throw new w.UnexpectedError("bad id: must be a string",{id_type:d(t),id_as_string:String(t)})}if(t===x.NO_USER){return new F}if(t.indexOf("sample:")===0){return new $.SampleObject(t.replace("sample:",""))}return this.get_object(t)}}]);return e}();var U=null;var W=null;g.wipe_no_user=function(){if(k.on_server()){delete O.Fiber.current.NoUserObject}else{var e;U=null;(e=w.session_storage)==null?void 0:e.removeItem("NoUserObject")}};var F=function(){function e(){var t;y(this,e);this.ready_key=w.FakeKey();(t=W)!=null?t:W=w.Dependency();this.dependency=W}b(e,[{key:"child",value:function e(t){return new g.ClientDBNode(this,[t],V().db_instance())}},{key:"_child",value:function e(t){return new g.ClientDBNode(this,t,V().db_instance())}},{key:"dehydrate",value:function e(){return P.HYDRATE_STRING+x.NO_USER}},{key:"_id",value:function e(){return x.NO_USER}},{key:"_type",value:function e(){return"user"}},{key:"is_equal_to",value:function e(t){var r;return(t==null?void 0:(r=t.dehydrate)==null?void 0:r.call(t))===this.dehydrate()}},{key:"precache",value:function e(){}},{key:"exists",value:function e(){return false}},{key:"ignore_privacy",value:function e(){return this}},{key:"get_email",value:function e(){return null}},{key:"is_logged_in",value:function e(){return false}},{key:"raw",value:function e(){var t,r;function n(){var e={};if(!V().is_edit_mode()){var t;var r=Y.custom_type("user");var n=(t=r.fields())!=null?t:[];for(var o=0;o<n.length;o++){var s=n[o];if(!s.deleted()&&s.default_val()!=null){e[s.name()]=s.default_val()}}}e["Created Date"]=w.timestamp();e["Modified Date"]=w.timestamp();return e}if(k.on_server()){var o,s;return(o=(s=O.Fiber.current)==null?void 0:s.NoUserObject)!=null?o:n()}if(U!=null){return U}return w.json_parse((t=(r=w.session_storage)==null?void 0:r.getItem("NoUserObject"))!=null?t:w.json_stringify(n()))}},{key:"_write",value:function e(t){var r;if(k.on_server()&&O.Fiber.current!=null){O.Fiber.current.NoUserObject=t}try{w.session_storage.setItem("NoUserObject",JSON.stringify(t))}catch(e){var n;U=t;(n=w.session_storage)==null?void 0:n.removeItem("NoUserObject")}return(r=W)==null?void 0:r.invalidate()}},{key:"register_dependency",value:function e(){var t;(t=W)!=null?t:W=w.Dependency();W.register()}}]);return e}();g.NoUser=F;var G=e("./plans");var X=e("./plans/plan_utils");var $=e("./sample");var V=e("../lib");var H=e("../lang/btypes");C.set_lang_btypes(H);var Y=e("../lang/appquery");var K=e("../notifier/client");var J=e("../client_config");var Z=e("../locations");var Q=e("./hydrate");Q.register_db(g);var ee=e("./query_planner")},{"../client_config":55,"../constants/db":69,"../constants/eval":75,"../constants/locations":82,"../constants/notifier_topics":84,"../constants/special_keys":95,"../lang/appquery":535,"../lang/btypes":537,"../lang/evaluation/eval_node_state":571,"../lib":614,"../locations":616,"../logger":617,"../notifier/client":620,"../safe_require":643,"../u":687,"../u/shared/async/async_state":692,"../u/shared/async/b_fiber":696,"../u/shared/mode_check":713,"./db_utils":421,"./hydrate":422,"./plans":450,"./plans/plan_utils":451,"./query_planner":453,"./sample":454,"./values/ConcatList":457,"./values/Dynamic":458,"./values/IntersectList":459,"./values/ListWrapper":460,"./values/NodeBase":461,"./values/NodeList":462,"./values/SortedList":463,"./values/StaticList":464,"./values/StaticNode":465,"./values/StaticObject":466,"./values/TransformList":467,"./values/UniqueList":468,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.splice.js":939,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.search.js":978,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],421:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){t=i(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function i(e){var t=a(e,"string");return l(t)==="symbol"?t:String(t)}function a(e,t){if(l(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(l(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l(e){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var d=r;var p=e("../u");var _=e("../u/shared/async/b_fiber");var m=e("../u/shared/mode_check");var y=e("../constants/eval");var v=e("../constants/db");var b=e("./values/registry");var h=e("./values/value_types");var j=e("../constants/postgres_pool");var g=e("../logger");var w=e("../lang/btype_ids");var O=null;d.set_lang_btypes=function(e){return O=e};d.lang_btypes=function(){return O};d._is_geographic_object=function(e,t){if(t&&typeof t==="string"){return t==="geographic_address"}else{return e.lat&&e.lng&&!e._id}};d.resolve_sorts=function(e,t){var r=[];var n=u(e!=null?e:[]),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(s){if(s.self||s.sort_on_id){r.push(s)}else if(s.sort_field){if(t||l(s.sort_field)!=="object"){r.push(s)}}}}}catch(e){n.e(e)}finally{n.f()}return r};d.ObjectBase={exists:function e(){return this.raw()!=null},_id:function e(){return this.id},_type:function e(){var t=this.db._get_type(this.id);if(!t){this.raw();t=this.db._get_type(this.id)}return t},parent_id:function e(){return this.id},dehydrate:function e(){return y.HYDRATE_STRING+this.id},get:function e(){return this},key:function e(){return this.id},flush:function e(){this.db.flush(this.id)},child:function e(t){return this._child(t.split("."))},_child:function e(t){return new this.db.DBNODE(this,t,this.db)},get_email:function e(){return d.email_getter(this)},is_logged_in:function e(){var t;return(t=this.child("user_signed_up").get())!=null?t:false},maison_by_default:function e(){var t;return(t=this.child("maison_by_default_boolean").get())!=null?t:false},poll:function e(t,r){if(m.running_test()){console.log("Polling turned on, but disabling it because this is a test");return}return this.db._local(this._id()).poll(t,r)}};d.email_getter=function(e){var t=e.child("authentication").child("email").child("email").raw();if(t){return t}var r=e.child("authentication").raw();for(var n in r){var o=r[n];if(o.email!=null){return o.email}}return null};d.get_temp_db=function(e,t){if(e&&e.indexOf(":")!==-1){if(e.split(":")[0]===t){return e.split(":")[1]}}else{return e}};d._static_get=function(e,t,r){if(b.is(e,h.DYNAMIC)){return e}else if(e!=null&&e.is_db_proxy||e!=null&&e.getTime){return e}var n=O.get(r);if(n.is_range()){return n.cast(E.rehydrate(t,e))}if(Array.isArray(e)){if(typeof r==="string"){r=n.inner_including_ranges().id()}var o=b.get(h.STATIC_LIST);return new o(E.rehydrate_tree(t,e),t,r)}if(e&&l(e)==="object"){if(d._is_geographic_object(e,r)){return e}else if(E.is_json_class(e)){return E.from_json(t,e)}if(e._id){var s=b.get(h.STATIC_OBJECT);return new s(e,t,r)}else{var i=b.get(h.STATIC_NODE);return new i(e,t,r)}}var a=E.rehydrate(t,e);if(!r){return a}return O.get(r).cast(a)};d.can_group_with=function(e,t){var r=O.get(e).get_message(t).ret_btype_id();switch(r){case"number":return["exact","bucket"];case"date":return["exact"].concat(v.CALENDAR_GROUPINGS);default:return["exact"]}};var S=function e(t){return["text","number","date","user"].includes(t)||w.is_custom_type(t)||w.is_option_set(t)};d.can_group_on=function(e){var t=O.get(e).get_messages();t=t.filter((function(e){return e.is_lookup()}));t=t.filter((function(e){return S(e.ret_btype_id())}));return t.map((function(e){return e.name()}))};d.can_aggregate_on=function(e,t){if(e==="count"){return[]}var r=O.get(t).get_messages();var n=function t(r){return r.is_lookup()&&r.ret_btype_id()==="number"||r.ret_btype_id()==="date"&&["max","min","average","median"].includes(e)};r=r.filter(n);return r.map((function(e){return e.name()}))};function k(e,t,r){if(e==null){return null}if(t%10===0){_.optional_pause()}if(typeof e._id!=="function"){throw new p.UnexpectedError("_id isnt function",{value_id:r,object_type:l(e),obj_data:p.json_stringify(e,null,true)})}return e._id()}function A(e,t){if(t%10===0){_.optional_pause()}return E.dehydrate_tree(e)}d.array_to_ids=function(e,t){if(O.get(e).custom_type()!=null){return t.map((function(t,r){return k(t,r,e)}))}else{return t.map((function(e,t){return A(e,t)}))}};d.is_timeout_error=function(e){return(e.message===j.TIMEOUT_MSG||e.code===j.USER_REQUESTED_CANCEL_CODE)&&e instanceof x.UnexpectedError};d.enrich_timeout_error=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(d.is_timeout_error(e)){var r="Database query timeout";if(t.label&&t.label!=="[not found]"){r='Database query timeout on "'.concat(t.label,'"')}return new x.OwnerError(e.message,o(o(o({},e.args),t),{},{display:r}))}return e};d.coerce_to_integer=function(e,t){var r=Math.floor(e);if(e!==r)g.warn("consumer tried to pass non-integer value",{value:e,data_to_log:t});return r};var E=e("./hydrate");var x=e("../u/shared/errors")},{"../constants/db":69,"../constants/eval":75,"../constants/postgres_pool":88,"../lang/btype_ids":536,"../logger":617,"../u":687,"../u/shared/async/b_fiber":696,"../u/shared/errors":708,"../u/shared/mode_check":713,"./hydrate":422,"./values/registry":471,"./values/value_types":472,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],422:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.find-index.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r;var s=e("../lib");var i=e("../u/shared/async/b_fiber");var a=e("../u/shared/b_string");var l=e("../u/shared/incremental");var u=e("../logger");var c=e("../u/shared/errors");var f=e("../constants/eval");var d=e("./values/registry");var p=e("./values/value_types");var _=e("../safe_require");_.safe_register("./db/hydrate",o);var m={};o.register_db=function(e){return m=e};o.from_json=function(e,t){if(!m[t._class]){u.warn("Trying to from_json on a bad _class",{_class:String(t._class)})}return m[t._class].from_json(e,t)};o.is_json_class=function(e){return e&&e._class&&m[e._class]&&typeof m[e._class].from_json==="function"};o.dehydrate_tree=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;if(typeof e==="function"){throw new c.UnexpectedError("cannot dehydrate a function",{toString:e.toString()})}else if(e&&typeof e.to_json==="function"){return e.to_json()}else if(e&&typeof e.dehydrate==="function"){return e.dehydrate()}else if(e instanceof Date){return e.valueOf()}else if(e&&n(e)==="object"){if(e.constructor!=={}.constructor&&!Array.isArray(e)){throw new c.UnexpectedError("trying to dehydrate a class: ".concat(e.constructor.name))}i.optional_pause("dehydrate_tree pre iterate");var t=0;var r=Array.isArray(e)?[]:{};for(var s=0,a=Object.keys(e);s<a.length;s++){var l=a[s];t++;if(t%10===0){i.optional_pause("dehydrate_tree in iterate")}r[l]=o.dehydrate_tree(e[l])}i.optional_pause("dehydrate_tree finished");return r}else{return e}};o.rehydrate=function(e,t){if(o.is_json_class(t)){return o.from_json(e,t)}if(a.starts_with(t,f.HYDRATE_STRING)){t=t.replace(f.HYDRATE_STRING,"");var r=t.split("::");if(r.length>1){if(!m[r[0]]){return null}return m[r[0]].rehydrate(e,r.slice(1).join("::"))}else{return e.get(t)}}else{return t}};o.rehydrate_tree=function(e,t){if(e&&typeof e.get!=="function"){throw new c.UnexpectedError("called rehydrate tree with ".concat(e," for my_db, it should be (my_db, obj)"))}if(typeof t==="function"){throw new c.UnexpectedError("called rehydrate tree with function: ".concat(t))}if(typeof t==="string"&&a.starts_with(t,f.HYDRATE_STRING)){return o.rehydrate(e,t)}else if(t&&n(t)==="object"){if(o.is_json_class(t)){return o.from_json(e,t)}if(d.is(t,p.DYNAMIC)){return t}var r=Array.isArray(t)?[]:{};var s=0;for(var l=0,u=Object.keys(t);l<u.length;l++){var _=u[l];s++;if(s%10===0){i.optional_pause()}r[_]=o.rehydrate_tree(e,t[_])}return r}return t};o._dehydrate_value_id_data=function(e,t){var r=o.dehydrate_tree(e);r=l.incremental_json_stringify(r);r="".concat(t!=null?t:"",",").concat(r);return r};o._rehydrate_value_id_data=function(e,t){var r;var n=t.split(",");var s=n[0];if(s.indexOf("{")===0){s=null;r=t}else{if(!s){s=null}r=n.slice(1).join(",")}if(r==="undefined"){r=undefined}else{r=l.incremental_json_parse(r)}r=o.rehydrate_tree(e,r);return{value_id:s,data:r}};o.dehydrate_prefix=function(e){return f.HYDRATE_STRING+e+"::"};function y(e){return o.dehydrate_prefix("OuterStringified")+l.incremental_json_stringify(e)}o.dehydrate_tree_to_db_primitive=function(e){if(Array.isArray(e)){return e.map((function(e){return o.dehydrate_tree_to_db_primitive(e)}))}var t=o.dehydrate_tree(e);if(o.is_json_class(t)){return y(t)}else{return t}};o.dehydrate_tree_to_string_safe=function(e){if(Array.isArray(e)){return e.map((function(e){return o.dehydrate_tree_to_string_safe(e)}))}var t=o.dehydrate_tree(e);if(t&&n(t)==="object"){return y(t)}else{return t}};function v(e){return typeof e==="string"&&a.starts_with(e,f.HYDRATE_STRING)&&!a.starts_with(e,o.dehydrate_prefix("OuterStringified"))}o.dehydrated_array_index_of=function(e,t){var r=e.indexOf(t);if(r>-1){return r}return e.findIndex((function(e){return v(e)&&t===o.dehydrate_tree_to_string_safe(o.rehydrate_tree(s().db_instance(),e))}))}},{"../constants/eval":75,"../lib":614,"../logger":617,"../safe_require":643,"../u/shared/async/b_fiber":696,"../u/shared/b_string":703,"../u/shared/errors":708,"../u/shared/incremental":710,"./values/registry":471,"./values/value_types":472,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find-index.js":928,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],423:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");var n=r;var o=e("browserify-aes");var s=e("pbkdf2");var i=e("../u/shared/timestamp");n.encode_data=function(e,t){var r="1";var n=String(i.timestamp());var o="".concat(n,"_").concat(r);var s=t+n;var l=String(Math.random());return{z:a(s,l,JSON.stringify(e),t),y:a(t,"po9",o,t),x:a(t,"fl1",l,t)}};function a(e,t,r,n){e=s.pbkdf2Sync(e,n,7,32,"md5");t=s.pbkdf2Sync(t,n,7,16,"md5");var i=o.createCipheriv("aes-256-cbc",e,t);i.write(r);i.end();return i.read().toString("base64")}},{"../u/shared/timestamp":715,"browserify-aes":728,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.to-string.js":967,pbkdf2:1227}],424:[function(e,t,r){"use strict";var n=e("../../u");var o={get_ret_btype:function e(t){return t.type},fn:function e(){throw new n.UnexpectedError("All cannot be executed")}};t.exports=o},{"../../u":687}],425:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../u");var a=e("../../constants/db");var l=e("./plan_utils");var u=e("../values/StaticObject");var c={watch_search_call:function e(t){return{constraints:t.constraints,type:t.type}},load:function e(t,r){var n,o,s=this;var a=t.plan,u=t.from,c=t.n;if(u!==0||c!==1){throw new i.UnexpectedError("CallAggregate weird params",{plan:a,from:u,n:c})}var f=a.constraints,d=a.type,p=a.agg_fn,_=a.field,m=a.options;(n=_)!=null?n:_=undefined;(o=m)!=null?o:m=undefined;var y={};y[l.aggregate_started_key(p,_,m)]=true;this.query_planner().update(d,f,null,y);var v=[{n:p,field:_,options:m}];this.elasticsearch("aggregate",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),type:d,constraints:f,aggregate:{fns:v},search_path:this.build_search_path(a,p)},(function(e,t){var n,o;if(e){r(e);return}var i=t.fns[0];var a=t.search_version;if(p==="count"&&!((n=m)!=null&&n.should_approx)&&!((o=m)!=null&&o.cacheable)){s.query_planner().update(d,f,null,{length:i})}r(null,{value:i,search_version:a})}))},initialize_range:function e(t,r,n){r.search_version=n.search_version;r.at_end=true;r.results=[n.value]},local_change:function e(t,r,o,s,i,c,f){var d;var p,_;if(t.type!==s){return false}function m(e){if(e==null){return false}var r=new u(e,null,s);var o=n(t.constraints),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;if(!l.local_constrain(r,a,s)){return false}}}catch(e){o.e(e)}finally{o.f()}return true}if(i===a.DONT_KNOW){var y;(y=r._unknown_ids)!=null?y:r._unknown_ids={};r._unknown_ids[o]=true;return a.DONT_KNOW}if((d=r._unknown_ids)!=null&&d[o]){return a.DONT_KNOW}var v=m(i);var b=m(c);var h=v!==b;if(!h&&v&&t.field){h=i[t.field]!==c[t.field]}if(!h){return false}if(!l.AGGREGATE_LOCAL_CHANGE[t.agg_fn]){return a.DONT_KNOW}if(t.field){_=v?i==null?void 0:i[t.field]:null;p=b?c==null?void 0:c[t.field]:null}r.results[0]=l.AGGREGATE_LOCAL_CHANGE[t.agg_fn](v,b,_,p,r.results[0]);return true},merge_ranges:function e(t,r,n){throw new i.UnexpectedError("Merge CallAggregate",{plan:t,merge_into:r,merge_from:n})}};t.exports=c},{"../../constants/db":69,"../../u":687,"../values/StaticObject":466,"./plan_utils":451,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],426:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");function n(e){return i(e)||s(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return u(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../u");var f=e("../../constants/db");var d=e("./plan_utils");var p=e("../../u/shared/mode_check");var _=e("./GroupByBucketer");var m=e("../values/StaticObject");var y=e("../../lib");var v=e("../hydrate");var b=e("../query_planner");var h={watch_search_call:function e(t){var r=t.constraints,n=t.type,o=t.groupings,s=t.aggregations;var i=new _(n,o,s);r=[].concat(r,i.get_grouping_constraints());b.sort_constraints(r);return{constraints:r,type:n,is_group_by:true}},load:function e(t,r){var n=this;var o=t.plan,s=t.from,i=t.n;var l=o.constraints,u=o.type,_=o.groupings,b=o.aggregations;function h(e){e=c.extend({},e);if(e.timezone_string==="browser"){e.timezone_string=y().current_timezone()}return e}_=_.map(h);var j=function e(t){return _.map((function(e,r){return t["grouping".concat(String(r))]}))};return c.run_once(120,(function(){if(s>0){var e=n.execute_call_get_children(o,0,s);if(e.length<s){return"at_end"}var t=v.rehydrate_tree(n,e[e.length-1]).raw();return j(t)}else{return null}}),(function(e,t){if(e){r(e);return}if(t==="at_end"){return r(null,{at_end:true,results:[]})}var h=[];var g=true;var w=d.get_group_by_value_id(u,_,b);var O=null;var S=function e(){g=false;var d=i-h.length;return n.elasticsearch("group_by",{appname:n.appname,app_version:n.app_version,temp_db:n.cur_temp_db(),type:u,constraints:l,groupings:_,aggregations:b,last:t,n:Math.min(d,f.MAX_GROUPING_CALL),search_path:n.build_search_path(o,s+i)},(function(n,s){if(n){r(n);return}if(!O||s.search_version<O){O=s.search_version}var l=a(s.groups),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;h.push(v.dehydrate_tree(new m(f,y().db_instance(),w)))}}catch(n){l.e(n)}finally{l.f()}if(s.groups[s.groups.length-1]){t=j(s.groups[s.groups.length-1])}var d=s.at_end;if(d||h.length===i){r(null,{at_end:d,results:h,search_version:O})}else if(h.length>i){r(new c.UnexpectedError("should never go above n",{results_length:h.length,n:i,plan:o}))}else{if(p.on_server()){g=true}else{e()}}}))};while(g){S()}}))},get_ret_btype:function e(t){var r=t.type,n=t.groupings,o=t.aggregations;return d.get_group_by_value_id(r,n,o)},initialize_range:function e(t,r,n){r.at_end=n.at_end;r.results=n.results;r.search_version=n.search_version},local_change:function e(t,r,n,o,s,i,l){var u;if(t.type!==o){return false}function c(e){if(e==null){return false}var r=new m(e,null,o);var n=a(t.constraints),s;try{for(n.s();!(s=n.n()).done;){var i=s.value;if(!d.local_constrain(r,i,o)){return false}}}catch(e){n.e(e)}finally{n.f()}return true}if(s===f.DONT_KNOW){var p;(p=r._unknown_ids)!=null?p:r._unknown_ids={};r._unknown_ids[n]=true;return f.DONT_KNOW}if((u=r._unknown_ids)!=null&&u[n]){return f.DONT_KNOW}var _=c(s);var y=c(i);var v=_!==y;if(!v&&_){var b=a(t.aggregations),h;try{for(b.s();!(h=b.n()).done;){var j=h.value;if(j.message){if(s[j.message]!==i[j.message]){v=true;break}}}}catch(e){b.e(e)}finally{b.f()}if(!v){var g=a(t.groupings),w;try{for(g.s();!(w=g.n()).done;){var O=w.value;if(s[O.message]!==i[O.message]){v=true;break}}}catch(e){g.e(e)}finally{g.f()}}}if(!v){return false}else{return f.DONT_KNOW}},merge_ranges:function e(t,r,o){var s;(s=r.results).push.apply(s,n(o.results));r.to=o.to;if(o.search_version<r.search_version){r.search_version=o.search_version}}};t.exports=h},{"../../constants/db":69,"../../lib":614,"../../u":687,"../../u/shared/mode_check":713,"../hydrate":422,"../query_planner":453,"../values/StaticObject":466,"./GroupByBucketer":438,"./plan_utils":451,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],427:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.splice.js");function n(e,t){return i(e)||s(e,t)||c(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e){return d(e)||f(e)||c(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if(typeof e==="string")return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}function f(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d(e){if(Array.isArray(e))return p(e)}function p(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var _=e("../../u");var m=e("../../u/shared/async/b_fiber");var y=e("../../logger");var v=e("../../constants/db");var b=e("./plan_utils");var h=e("../values/StaticObject");var j=e("../query_planner");var g=["_id"];function w(e){return(e!=null?e:[]).every((function(e){return g.includes(e.sort_field)}))}var O={watch_search_call:function e(t){return{constraints:t.constraints,type:t.type}},load:function e(t,r){var o,s,i=this;var u=t.plan,c=t.from,f=t.n,d=t.from_id;var p=u.constraints,y=u.sorts_list,v=u.type,b=u.extra,h=u.columns;this.query_planner().update(v,p,y,{loading_to:c+f},true);var j=(o=this.query_planner().get_stats(v,p,y))!=null?o:{},g=j.local_change_buffer;f+=g!=null?g:0;var O,S;var k=w(y);var A=(s=(y!=null?y:[])[0])==null?void 0:s.descending;if(k&&d){O=[].concat(l(p),[{key:"_id",constraint_type:A?"less than":"greater than",value:d}]);S=0}else{O=l(p);S=c}this.elasticsearch("search",{appname:this.appname,app_version:this.app_version,temp_db:this.cur_temp_db(),type:v,constraints:O,sorts_list:y,from:S,n:f,search_path:this.build_search_path(u,c+f),extra:b,columns:h},(function(e,t){var o,s;if(e){r(e);return}var l=(o=(s=t.hits)==null?void 0:s.hits)!=null?o:[];var u=t.search_version;var f=t.at_end;var d=[];var b={};var j=a(l.entries()),g;try{for(j.s();!(g=j.n()).done;){var w=n(g.value,2),O=w[0],S=w[1];if(O%10===0){m.optional_pause()}var k=S._id;d.push(k);if(h!=null){var A;var E=i._locals[k];if(E!=null&&S._version>((A=E.version)!=null?A:-1)){_.extend(E.raw,S._source)}}else{i._set_data(k,S._source,S._type,S._version)}b[k]=S._source}}catch(e){j.e(e)}finally{j.f()}if(t.extras!=null&&h==null){var x=a(t.extras.entries()),M;try{for(x.s();!(M=x.n()).done;){var P=n(M.value,2),T=P[0],I=P[1];if(T%10===0){m.optional_pause()}if(I){i._handle_get_response(I._id,null,I)}}}catch(e){x.e(e)}finally{x.f()}}if(f){i.query_planner().update(v,p,null,{length:c+d.length})}i.query_planner().update(v,p,y,{from:c,loaded:c+d.length});r(null,{at_end:f,results:d,raw_data:b,search_version:u})}))},get_ret_btype:function e(t){return t.type},initialize_range:function e(t,r,o){r.at_end=o.at_end;r.results=o.results;r.before=[];r.after=[];r.search_version=o.search_version;var s=t.type,i=t.constraints,l=t.sorts_list;var u=j.can_sort_locally(s,l,i);r.sort_scores={};if(u){var c=a(r.results.entries()),f;try{for(c.s();!(f=c.n()).done;){var d=n(f.value,2),p=d[0],_=d[1];if(p%10===0){m.optional_pause()}r.sort_scores[_]=b.calculate_sort_score(o.raw_data[_],t.sorts_list)}}catch(e){c.e(e)}finally{c.f()}var h=r.results.slice(0,r.results.length-1);var g=a(h.entries()),w;try{for(g.s();!(w=g.n()).done;){var S=n(w.value,2),k=S[0],A=S[1];var E=r.results[k+1];if(!b.is_less_than(l,A,r.sort_scores[A],E,r.sort_scores[E])){y.warn("Client-server sort mismatch",{type:s,sorts_list:l,db_first:r.sort_scores[A],db_second:r.sort_scores[E],first_id:A,second_id:E});u=false;j.add_bad_in_memory_sort(JSON.stringify({type:s,sorts_list:l,constraints:i}));var x=this.get_cache_key(t);var M=a(this.result_cache[x].ranges),P;try{for(M.s();!(P=M.n()).done;){var T=P.value;if(T.state===v.range_states.AVAILABLE&&T!==r){T.state=v.range_states.DELETED}}}catch(e){M.e(e)}finally{M.f()}this.invalidate_call_dependency(x);break}}}catch(e){g.e(e)}finally{g.f()}}if(!u){var I=a(r.results.entries()),C;try{for(I.s();!(C=I.n()).done;){var R=n(C.value,2),N=R[0],L=R[1];if(N%10===0){m.optional_pause()}r.sort_scores[L]=[r.from+N]}}catch(e){I.e(e)}finally{I.f()}r.server_sorted=true}O._adjust_range_length.call(this,t,r,true)},local_change:function e(t,r,n,o,s,i,l){if(t.type!==o){return false}var u;if(i==null){u=false}else{u=true;var c=new h(i,null,o);var f=a(t.constraints),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;if(!b.local_constrain(c,p,o)){if(!j.can_execute_in_memory(p)){return v.DONT_KNOW}u=false;break}}}catch(e){f.e(e)}finally{f.f()}}if(!u){if(!r.sort_scores[n]){return false}delete r.sort_scores[n];_.array_remove(r.before,n);_.array_remove(r.after,n);if(r.results.indexOf(n)===-1){return false}_.array_remove(r.results,n);O._adjust_range_length.call(this,t,r);return true}if(!j.can_sort_locally(o,t.sorts_list,t.constraints)){return v.DONT_KNOW}var m=b.calculate_sort_score(i,t.sorts_list);var y=r.sort_scores[n]!=null;if(y&&JSON.stringify(r.sort_scores[n])===JSON.stringify(m)){return false}r.sort_scores[n]=m;if(y){_.array_remove(r.before,n);_.array_remove(r.after,n);_.array_remove(r.results,n)}function g(e){var o=0;var s=e.length;while(o!==s){var i=Math.floor(o+(s-o)/2);if(b.is_less_than(t.sorts_list,n,m,e[i],r.sort_scores[e[i]])){s=i}else{o=i+1;if(o>s){o=s}}}e.splice(o,0,n)}if(r.results.length===0){if(r.from===0&&r.at_end){r.results.push(n)}else{if(r.from!==0){g(r.before)}if(!r.at_end){g(r.after)}}}else if(b.is_less_than(t.sorts_list,n,m,r.results[0],r.sort_scores[r.results[0]])){if(r.from===0){r.results.unshift(n)}else{g(r.before)}}else if(b.is_less_than(t.sorts_list,r.results[r.results.length-1],r.sort_scores[r.results[r.results.length-1]],n,m)){if(r.at_end){r.results.push(n)}else{g(r.after)}}else{g(r.results)}O._adjust_range_length.call(this,t,r);return true},_adjust_range_length:function e(t,r,n){if(r.results.length>r.to-r.from){delete r.at_end;return}else if(r.results.length===r.to-r.from||r.at_end){return}if(!n){var o;var s=r.to-(r.from+r.results.length);var i=t.type,a=t.constraints,l=t.sorts_list;var u=(o=this.query_planner().get_stats(i,a,l))!=null?o:{},c=u.local_change_buffer;s+=c!=null?c:0;this.query_planner().update(i,a,l,{local_change_buffer:s})}r.to=r.from+r.results.length;if(r.results.length===0){return this.delete_range(t,r)}},merge_ranges:function e(t,r,n){var o=r.results[0];var s=r.sort_scores[o];var i=n.results[n.results.length-1];var a=n.sort_scores[i];var l=[];var u={};for(var c in n.sort_scores){var f,d;var p=n.sort_scores[c];(d=(f=r.sort_scores)[c])!=null?d:f[c]=p}var _=r.sort_scores;function m(e){var n=0;var c=0;while(n<e.length&&b.is_less_than(t.sorts_list,e[n],_[e[n]],o,s,r.server_sorted)){n++}while(n<e.length&&(i==null||e[n]===i||b.is_less_than(t.sorts_list,e[n],_[e[n]],i,a,r.server_sorted))){if(!u[e[n]]){u[e[n]]=true;while(c<l.length&&b.is_less_than(t.sorts_list,l[c],_[l[c]],e[n],_[e[n]],r.server_sorted)){c++}if(c===l.length){l.push(e[n])}else{l.splice(c,0,e[n])}c++}n++}}m(r.results);m(r.after);m(n.before);m(n.results);r.results=l;r.after=n.after;r.at_end=n.at_end;r.to=n.to;if(n.search_version<r.search_version){r.search_version=n.search_version}O._adjust_range_length.call(this,t,r)}};t.exports=O},{"../../constants/db":69,"../../logger":617,"../../u":687,"../../u/shared/async/b_fiber":696,"../query_planner":453,"../values/StaticObject":466,"./plan_utils":451,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.splice.js":939,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],428:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");var n={fn:function e(t,r){var n=t.prev,o=t.max;var s=this.iterate(n,r);o-=r;r=0;return function(e){var t;var n=o-r;if(n<1){return[]}if(e!=null){t=Math.min(e,n)}else{t=null}var i=s(t);if(!i){return[]}if(i.length>n){i=i.slice(0,n)}r+=i.length;return i}},get_ret_btype:function e(t){return this.get_plan_ret_btype(t.prev)}};t.exports=n},{"core-js/modules/es.array.slice.js":937}],429:[function(e,t,r){"use strict";var n=e("../db_utils");var o={fn:function e(t,r){var o=this;var s=t.prev,i=t.value_id;var a=this.iterate(s,r);return function(e){var r;return n.array_to_ids(i,o.array_to_objects(t,(r=a(e))!=null?r:[],true))}},get_ret_btype:function e(t){return t.value_id},preserves_length:true,preserves_context:{sorted_above:true}};t.exports=o},{"../db_utils":421}],430:[function(e,t,r){"use strict";var n=e("../../u");var o={get_ret_btype:function e(t){return t.type},fn:function e(){throw new n.UnexpectedError("Columns cannot be executed")}};t.exports=o},{"../../u":687}],431:[function(e,t,r){"use strict";var n=e("../../u");var o=e("./plan_utils");var s={is_single:true,fn:function e(t,r){var s=this;return o.ensure_single(t,r,(function(){var e;var r=t.op,o=t.n,i=t.prev;var a=(e=s.execute_get_children(i,0,1))==null?void 0:e[0];switch(r){case">":return[a>o];case"<":return[a<o];case">=":return[a>=o];case"<=":return[a<=o];case"===":return[a===o];case"!==":return[a!==o];default:throw new n.UnexpectedError("unrecognized op",{plan:t})}}))},get_ret_btype:function e(){return"sys.bool"}};t.exports=s},{"../../u":687,"./plan_utils":451}],432:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.slice.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e){return l(e)||a(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return u(e)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../u");var f=e("../db_utils");var d={fn:function e(t,r){var n=this;var s=t.prevs;var i=-1;var a=[];var l=null;return function(e){var u,c;if(e!=null){c=r+e}else{c=r+1}c=f.coerce_to_integer(c,{n:e,to:c,from:r,plan:t});while(a.length<c){if(l==null){i++;if(i===s.length){break}l=n.iterate(s[i])}u=l();if(u==null){l=null}else{a.push.apply(a,o(u))}}if(e!=null){u=a.slice(r,c)}else{u=a.slice(r)}r+=u.length;return u}},validate:function e(t){if(!Array.isArray(t.prevs)){throw new c.UnexpectedError("Concat must have prevs array",{query:t})}},get_ret_btype:function e(t){var r=n(t.prevs),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;var i=this.get_plan_ret_btype(s);if(i!=null&&i!=="null"){return i}}}catch(e){r.e(e)}finally{r.f()}return"null"},preserves_context:{sorted_above:true},simplify:function e(t){var r=false;var o=[];var s=n(t.prevs),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.t==="Concat"){r=true;var l=n(a.prevs),u;try{for(l.s();!(u=l.n()).done;){var f=u.value;o.push(f)}}catch(e){l.e(e)}finally{l.f()}}else{o.push(a)}}}catch(e){s.e(e)}finally{s.f()}if(r===false){return null}return c.extend({},t,{prevs:o})}};t.exports=d},{"../../u":687,"../db_utils":421,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],433:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");var n=e("../../u");var o=e("./plan_utils");var s=e("../db_utils");var i=e("../../u/shared/async/b_fiber");var a=e("../hydrate");var l=e("../plans");var u={is_single:true,fn:function e(t,r){var n=this;return o.ensure_single(t,r,(function(){var e;var r=t.value_id,o=t.item,l=t.prev;var u=s.lang_btypes().get(r);o=a.rehydrate_tree(n,o);var c=n.iterate(l);while(e=c()){var f=n.array_to_objects(l,e);for(var d=0;d<f.length;d++){var p=f[d];if(d%10===0){i.optional_pause()}if(u.equals(p,o)){return[true]}}}return[false]}))},get_ret_btype:function e(){return"sys.bool"},adds_context:{sorted_above:true},simplify:function e(t){if(l[t.prev.t].preserves_items){return{t:"Contains",value_id:t.value_id,item:t.item,prev:t.prev.prev}}else if(t.prev.t==="Concat"){return{t:"Reduce",op:"or",prev:{t:"Concat",prevs:t.prev.prevs.map((function(e){return n.extend({},t,{prev:e})}))}}}else if(t.prev.t==="Intersect"){return{t:"Reduce",op:"and",prev:{t:"Concat",prevs:t.prev.prevs.map((function(e){return n.extend({},t,{prev:e})}))}}}else{return null}}};t.exports=u},{"../../u":687,"../../u/shared/async/b_fiber":696,"../db_utils":421,"../hydrate":422,"../plans":450,"./plan_utils":451,"core-js/modules/es.array.map.js":936}],434:[function(e,t,r){"use strict";var n=e("../../u");var o={get_ret_btype:function e(t){return this.get_plan_ret_btype(t.prev)},fn:function e(){throw new n.UnexpectedError("ExtraFields cannot be executed")}};t.exports=o},{"../../u":687}],435:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.map.js");var n=e("../../u");var o=e("../../u/shared/async/b_fiber");var s=e("./plan_utils");var i=e("../query_planner");var a=e("../db_utils");var l={fn:function e(t,r){var n=this;var i=t.prev,l=t.constraints;var u=[];var c=this.iterate(i);var f=this.get_plan_ret_btype(t.prev);return function(e){var d,p;if(e!=null){p=r+e}else{p=r+1}p=a.coerce_to_integer(p,{n:e,to:p,from:r,plan:t});var _;while(u.length<p&&(_=c())){var m=n.array_to_objects(i,_,true);for(var y=0;y<m.length;y++){var v=m[y];if(y%10===0){o.optional_pause()}if(s.pass_filter(v,l,f)){u.push(_[y])}}}if(e!=null){d=u.slice(r,p)}else{d=u.slice(r)}r+=d.length;return d}},validate:function e(t){if(!Array.isArray(t.constraints)){throw new n.UnexpectedError("Filter must have constraints array",{query:t})}},canonicalize:function e(t){return i.sort_constraints(t.constraints)},get_ret_btype:function e(t){return this.get_plan_ret_btype(t.prev)},simplify:function e(t){var r=this;if(t.prev.t==="Filter"){return{t:"Filter",constraints:t.constraints.concat(t.prev.constraints),prev:t.prev.prev}}else if(["Concat","Intersect"].includes(t.prev.t)){return{t:t.prev.t,prevs:t.prev.prevs.map((function(e){return r.simplify_query(n.extend({},t,{prev:e}))}))}}else{return null}},sort_neutral:true,preserves_context:{sorted_above:true}};t.exports=l},{"../../u":687,"../../u/shared/async/b_fiber":696,"../db_utils":421,"../query_planner":453,"./plan_utils":451,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937}],436:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.slice.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var u=e("../../u");var c=e("../hydrate");var f=e("../db_utils");var d=e("../../lang/btype_ids");var p={fn:function e(t,r){var o=this;var s=t.prev;var i=this.iterate(s);var a=null;var l=[];var u=[];return function(e){var s,d;if(e!=null){d=r+e}else{d=r+1}d=f.coerce_to_integer(d,{n:e,to:d,from:r,plan:t});while(u.length<d){if(a==null){var p,_,m;if(l.length===0){l=i();if(l==null){break}}var y=(p=c.rehydrate_tree(o,l.shift()))==null?void 0:(_=(m=p).get_plan)==null?void 0:_.call(m);if(y==null){continue}a=o.iterate(y)}while(u.length<d){s=a();if(s==null){a=null;break}u.push.apply(u,n(s))}}if(e!=null){s=u.slice(r,d)}else{s=u.slice(r)}r+=s.length;return s}},validate:function e(t){var r=this.get_plan_ret_btype(t.prev);if(!d.is_list(r)){throw new u.UnexpectedError("Flatten must be called on a plan that returns lists",{query:t})}},get_ret_btype:function e(t){var r=this.get_plan_ret_btype(t.prev);return r.slice(5)},preserves_context:{sorted_above:true},simplify:function e(t){return null}};t.exports=p},{"../../lang/btype_ids":536,"../../u":687,"../db_utils":421,"../hydrate":422,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],437:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.slice.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("./GroupByBucketer");var f=e("../../logger");var d=e("./plan_utils");var p=e("../values/TransformList");var _=e("../hydrate");var m={fn:function e(t,r){var o=this;var s=t.aggregations,i=t.prev;var l=this.get_plan_ret_btype(i);var u=new c(l,t.groupings,s);var d=[];var m=this.array_to_objects(i,this.all(i)).filter((function(e){return e!==null&&u.is_in_range(e)}));m.sort(u.build_grouping_sorter());var y=null;var v=null;var b=function e(t){var r=a(u.groupings.entries()),o;try{for(r.s();!(o=r.n()).done;){var s=n(o.value,2),i=s[0],l=s[1];if(_.dehydrate_tree(u.get_bucket(l,t))!==_.dehydrate_tree(y[i])){return false}}}catch(e){r.e(e)}finally{r.f()}if(u.continuous_group!=null&&u.get_bucket(u.continuous_group,t)!==v){return false}return true};var h=function e(){if(u.continuous_group!=null){if(v==null){v=u.get_continuous_start()}else{v=u.next_bucket(u.continuous_group,v);if(v>u.get_continuous_end()){y=null;if(u.groupings.length===0){return}v=u.get_continuous_start()}}}else{y=null}if(y==null){if(m[0]==null&&u.groupings.length>0){return}y=u.groupings.map((function(e){return u.get_bucket(e,m[0])}))}};var j=function e(){h();if(y==null){return}var t=[];while(m[0]!=null&&b(m[0])){t.push(m.shift())}var r={};var i=a(y.entries()),c;try{for(i.s();!(c=i.n()).done;){var d=n(c.value,2),_=d[0],j=d[1];r["grouping"+String(_)]=j}}catch(e){i.e(e)}finally{i.f()}if(u.continuous_group!=null){r["grouping"+String(y.length)]=v}var g=null;var w=a(s.entries()),O;try{for(w.s();!(O=w.n()).done;){var S=n(O.value,2),k=S[0],A=S[1],E=A.fn,x=A.message;var M=void 0;if(E==="count"){M=t.length}else{var P;(P=g)!=null?P:g=o.static_list(l,t);var T=new p(g,{value_id:l,message:x});if(E in T){M=T[E]()}else{f.info("Unexpectedly missing transform call!",{fn_name:E});M=T._numeric_op(E)}}r["agg"+String(k)]=M}}catch(e){w.e(e)}finally{w.f()}return r};return function(e){var t,n;if(e!=null){n=r+e}else{n=r+1}var o;while(d.length<n&&(o=j())){d.push(_.dehydrate_tree(o))}if(e!=null){t=d.slice(r,n)}else{t=d.slice(r)}r+=t.length;return t}},get_ret_btype:function e(t){var r=t.aggregations,n=t.groupings,o=t.prev;return d.get_group_by_value_id(this.get_plan_ret_btype(o),n,r)},adds_context:{sorted_above:true}};t.exports=m},{"../../logger":617,"../hydrate":422,"../values/TransformList":467,"./GroupByBucketer":438,"./plan_utils":451,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],438:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.math.log10.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.number.to-fixed.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.slice.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("../../u");var p=e("../db_utils");var _=e("./plan_utils");var m=e("../../constants/db");var y=e("../../u/shared/mode_check");var v;if(!y.on_server()){v=e("../../../vendor/jquery_plugins/moment.timezone.min.js")}else{var b=e;v=b("moment-timezone")}function h(e,t){if(e==="browser"){return v(t)}else{return v(t).tz(e)}}var j=5;function g(e,t){var r=Math.log10(t);var n=Math.max(0,j-r);return Number(e.toFixed(n))}var w=function(){function e(t,r,n){a(this,e);this.prev_value_id=t;this.aggregations=n;this.prev_value=p.lang_btypes().get(this.prev_value_id);this.bucket_starts=r.map(this.get_start,this);this.all_groupings=r;this.last_grouping=r[r.length-1];if(this.last_grouping.end!=null&&m.BUCKET_GROUPINGS.includes(this.last_grouping.fn)){this.continuous_group=this.last_grouping;this.groupings=r.slice(0,r.length-1);this.bucket_end=this.get_bucket_from_data(this.last_grouping,this.continuous_group.end)}else{this.continuous_group=null;this.bucket_end=null;this.groupings=this.all_groupings}}u(e,[{key:"get_bucket_data",value:function e(t,r){return this.prev_value.get_message(t.message).evaluate_without_cast(r)}},{key:"get_bucket",value:function e(t,r){var n=this.get_bucket_data(t,r);return this.get_bucket_from_data(t,n)}},{key:"get_bucket_from_data",value:function e(t,r){var n;switch((n=t.fn)!=null?n:"exact"){case"exact":return r;case"bucket":{if(r==null){return null}var o=t.start,s=t.interval;var i=Math.floor((r-o)/s);var a=o+i*s;return g(a,s)}case"day":case"month":{if(r==null){return null}var l=t.start;var u=t.interval,c=t.timezone_string;l=h(c,t.start).startOf(t.fn);if(r<l.valueOf()){throw new d.UnexpectedError("assertion error: got data < start",{data:r,start:l,grouping:t})}var f=t.fn==="day"?"days":t.fn;var p=l;while(true){var _=p.clone().add(u,f);if(_.valueOf()>r){return p.valueOf()}else{p=_}}}default:throw new d.UnexpectedError("unrecognized fn "+t.fn)}}},{key:"next_bucket",value:function e(t,r){var n;switch((n=t.fn)!=null?n:"exact"){case"exact":throw new d.UnexpectedError("cannot call next_bucket on an exact match",{grouping:t,data:r});case"bucket":{var o=t.interval;var s=r+o;return g(s,o)}case"day":case"month":{var i=t.interval,a=t.timezone_string;var l=t.fn==="day"?"days":t.fn;return h(a,r).add(i,l).valueOf()}}}},{key:"get_start",value:function e(t){if(!m.BUCKET_GROUPINGS.includes(t.fn)){return null}return this.get_bucket_from_data(t,t.start)}},{key:"is_in_range",value:function e(t){var r;for(var n=0;n<this.groupings.length;n++){var o=this.groupings[n];if(this.bucket_starts[n]!=null){r=this.get_bucket_data(o,t);if(r==null){return false}if(r<this.bucket_starts[n]){return false}}}if(this.continuous_group!=null){r=this.get_bucket_data(this.continuous_group,t);if(r==null){return null}if(r<this.bucket_starts[this.groupings.length]){return false}if(this.get_bucket_from_data(this.continuous_group,r)>this.bucket_end){return false}}return true}},{key:"build_grouping_sorter",value:function e(t){var r,n=this;var o;(r=t)!=null?r:t=0;var s=function e(r){var o=n.get_bucket(n.all_groupings[t],r);if(typeof(o==null?void 0:o._id)==="function"){return o._id()}return o};if(t+1<this.all_groupings.length){o=this.build_grouping_sorter(t+1)}else{o=function e(){return 0}}return _.make_sort_comparer(s,false,o)}},{key:"get_continuous_start",value:function e(){return this.get_start(this.continuous_group)}},{key:"get_continuous_end",value:function e(){return this.get_bucket_from_data(this.continuous_group,this.continuous_group.end)}},{key:"get_grouping_constraints",value:function e(){var t;var r=[];var n=o(this.groupings),s;try{for(n.s();!(s=n.n()).done;){var i=s.value;t=this.get_start(i);if(t!=null){r.push({constraint_type:"or",opts:[{constraint_type:"greater than",key:i.message,value:t},{constraint_type:"equals",key:i.message,value:t}]})}}}catch(e){n.e(e)}finally{n.f()}if(this.continuous_group){t=this.get_continuous_start();r.push({constraint_type:"or",opts:[{constraint_type:"greater than",key:this.continuous_group.message,value:t},{constraint_type:"equals",key:this.continuous_group.message,value:t}]});var a=this.next_bucket(this.continuous_group,this.get_continuous_end());r.push({constraint_type:"less than",key:this.continuous_group.message,value:a})}return r}}]);return e}();t.exports=w},{"../../../vendor/jquery_plugins/moment.timezone.min.js":1305,"../../constants/db":69,"../../u":687,"../../u/shared/mode_check":713,"../db_utils":421,"./plan_utils":451,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.math.log10.js":944,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.number.to-fixed.js":948,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],439:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.slice.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../u");var a=e("../../u/shared/async/b_fiber");var l=e("../query_planner");var u=e("../db_utils");var c={fn:function e(t,r){var n=this;var o;var s=t.prevs;var i=[];var l=s.map((function(e){return{}}));var c={};function f(e,t,r){if(r%10===0){a.optional_pause()}var n=JSON.stringify(e);if(c[n]){return}l[t][n]=true;for(var o=0;o<s.length;o++){if(!l[o][n]){return}}c[n]=true;return i.push(e)}var d=s.map((function(e){return n.iterate(e)}));o=0;var p=0;return function(e){var n,a;if(e!=null){a=r+e}else{a=r+1}a=u.coerce_to_integer(a,{n:e,to:a,from:r,plan:t});while(i.length<a&&p<s.length){if(d[o]){var l=d[o]();if(!l){d[o]=null;p++}else{for(var c=0;c<l.length;c++){var _=l[c];f(_,o,c)}}}o++;if(o===s.length){o=0}}if(e!=null){n=i.slice(r,a)}else{n=i.slice(r)}r+=n.length;return n}},get_ret_btype:function e(t){var r=n(t.prevs),o;try{for(r.s();!(o=r.n()).done;){var s=o.value;var i=this.get_plan_ret_btype(s);if(i!=null&&i!=="null"){return i}}}catch(e){r.e(e)}finally{r.f()}return"null"},validate:function e(t){if(!Array.isArray(t.prevs)){throw new i.UnexpectedError("Intersect must have prevs array",{query:t})}},preserves_context:{sorted_above:true},simplify:function e(t,r){var o;var s=false;var a=[];var u=n(t.prevs),c;try{for(u.s();!(c=u.n()).done;){o=c.value;if(o.t==="Intersect"){s=true;var f=n(o.prevs),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;a.push(p)}}catch(e){f.e(e)}finally{f.f()}}else{a.push(o)}}}catch(e){u.e(e)}finally{u.f()}if(s){return i.extend({},t,{prevs:a})}if(!r.sorted_above){return null}var _=null;var m=null;var y=n(t.prevs),v;try{for(y.s();!(v=y.n()).done;){o=v.value;if(o.t==="Filter"){_=o.prev}else if(o.t==="All"){_=o}else{return null}if(m==null){m=JSON.stringify(_)}else if(m!==JSON.stringify(_)){return null}}}catch(e){y.e(e)}finally{y.f()}var b={};var h=[];var j=n(t.prevs),g;try{for(j.s();!(g=j.n()).done;){o=g.value;if(o.t==="Filter"){var w=n(o.constraints),O;try{for(w.s();!(O=w.n()).done;){var S=O.value;if(!b[JSON.stringify(S)]){b[JSON.stringify(S)]=true;h.push(S)}}}catch(e){w.e(e)}finally{w.f()}}}}catch(e){j.e(e)}finally{j.f()}if(h.length===0){return _}return{t:"Filter",constraints:l.sort_constraints(h),prev:_}}};t.exports=c},{"../../u":687,"../../u/shared/async/b_fiber":696,"../db_utils":421,"../query_planner":453,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],440:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");var n=e("../../constants/db");var o=e("./plan_utils");var s={is_single:true,fn:function e(t,r){var s=this;return o.ensure_single(t,r,(function(){var e;var r=t.prev,o=t.bound;if(!o){o=n.ALL_MAX}var i=0;var a=s.iterate(r);while(i<o&&(e=a())){i+=e.length}return[i]}))},get_ret_btype:function e(){return"number"},simplify:function e(t){if(i[t.prev.t].preserves_length){return{t:"Length",bound:t.bound,prev:t.prev.prev,options:t.options}}else if(t.prev.t==="Concat"){return{t:"Reduce",op:"+",prev:{t:"Concat",prevs:t.prev.prevs.map((function(e){return{t:"Length",prev:e,options:t.options}}))}}}else{return null}},adds_context:{sorted_above:true}};var i=e("../plans");t.exports=s},{"../../constants/db":69,"../plans":450,"./plan_utils":451,"core-js/modules/es.array.map.js":936}],441:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");var n=e("../../u");var o=e("../../u/shared/async/b_fiber");var s=e("./../db_utils");var i=e("../../constants/eval");var a=e("../../lang/btype_ids");var l={fn:function e(t,r){var a,l=this;var u=t.id,c=t.field;if(!u){throw new n.UnexpectedError("NodeList missing id",{plan:t})}var f=this.get(u);var d=(a=f.child(c)._extract(f.raw()))!=null?a:[];if(!Array.isArray(d)){throw new n.UnexpectedError("NodeList called on bad field",{plan:t})}var p=function e(t,r,s){if(s%10===0){o.optional_pause()}if(typeof t!=="string"){return t}if(!n.starts_with(t,i.HYDRATE_STRING)||t.length>200||t.indexOf("StaticNode")!==-1||t.indexOf("StaticObject")!==-1){return t}var a=t.replace(i.HYDRATE_STRING,"");var u=l._local(a);u.dependency.register();if(u.raw==null&&u.ready_key.is_turned()){return null}else{return a}};var _=[];return function(e){var n,i;var a,u;if(e!=null){i=r+e}else{i=r+l.GET_BATCH_SIZE}i=s.coerce_to_integer(i,{n:e,to:i,from:r,plan:t});while(_.length<i&&d.length>0){var c=(i-_.length)*1.2;var f=d.slice(0,c);d=d.slice(c);for(a=0;a<f.length;a++){u=f[a];p(u,true,a)}f=f.map((function(e,t){return p(e,false,t)}));f=f.filter((function(e){return e!=null}));for(a=0;a<f.length;a++){u=f[a];if(a%10===0){o.optional_pause()}_.push(u)}}if(e!=null){n=_.slice(r,i)}else{n=_.slice(r)}r+=n.length;return n}},get_ret_btype:function e(t){var r;if(t.type){return t.type}if(t.id==null){throw new n.UnexpectedError("NodeList missing id",{plan:t})}var o=this.get(t.id);var i=o._type();if(!i){return"null"}var l=(r=s.lang_btypes().get(i).get_message(t.field).ret_btype())==null?void 0:r.id();if(l==null||l==="null"){return"null"}if(l==="date_range"){return"date"}if(l==="number_range"){return"number"}if(!a.is_list(l)){throw new n.UnexpectedError("NodeList has non-list value for field: "+l)}return a.list_element_type(l)}};t.exports=l},{"../../constants/eval":75,"../../lang/btype_ids":536,"../../u":687,"../../u/shared/async/b_fiber":696,"./../db_utils":421,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977}],442:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.slice.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("./plan_utils");var a=e("../../u");var l={is_single:true,fn:function e(t,r){var o=this;return i.ensure_single(t,r,(function(){var e;var r;var s=t.prev,i=t.op;var l=o.all(s);if(l.length===0){return[null]}switch(i){case"sum":{var u=0;var c=n(l),f;try{for(c.s();!(f=c.n()).done;){r=f.value;if(r!=null){u+=r}}}catch(e){c.e(e)}finally{c.f()}return[u]}case"product":{var d=1;var p=n(l),_;try{for(p.s();!(_=p.n()).done;){r=_.value;if(r!=null){d*=r}}}catch(e){p.e(e)}finally{p.f()}return[d]}case"average":{var m=0;var y=0;var v=n(l),b;try{for(v.s();!(b=v.n()).done;){r=b.value;if(r!=null){y++;m+=r}}}catch(e){v.e(e)}finally{v.f()}if(y===0){return[null]}return[m/y]}case"median":l=[].concat(l);l.sort((function(e,t){return e-t}));l=l.filter((function(e){return e!==null}));if(l.length===0){return[null]}if(l.length%2===0){return[(l[l.length/2-1]+l[l.length/2])/2]}else{return[l[Math.floor(l.length/2)]]}case"min":{var h=l[0];var j=n(l.slice(1)),g;try{for(j.s();!(g=j.n()).done;){e=g.value;if(e!=null){if(e<h){h=e}}}}catch(e){j.e(e)}finally{j.f()}return[h]}case"max":{var w=l[0];var O=n(l.slice(1)),S;try{for(O.s();!(S=O.n()).done;){e=S.value;if(e!=null){if(e>w){var k;w=(k=e)!=null?k:0}}}}catch(e){O.e(e)}finally{O.f()}return[w]}default:throw new a.UnexpectedError("unrecognized op: "+i)}}))},get_ret_btype:function e(){return"number"},simplify:function e(t){},adds_context:{sorted_above:true}};t.exports=l},{"../../u":687,"./plan_utils":451,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],443:[function(e,t,r){"use strict";var n={fn:function e(t,r){var n=t.prev,o=t.offset;o=Math.floor(o);if(o<0){o=0}var s=this.iterate(n,r+o);return function(e){var t;return(t=s(e))!=null?t:[]}},get_ret_btype:function e(t){return this.get_plan_ret_btype(t.prev)}};t.exports=n},{}],444:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("./plan_utils");var f=e("../db_utils");var d=e("../../u/shared/async/b_fiber");var p=e("../hydrate");var _={is_single:true,fn:function e(t,r,o){var s=this;return c.ensure_single(t,r,(function(){var e;var r=t.value_id,o=t.item,i=t.prev;var l=f.lang_btypes().get(r);o=p.rehydrate_tree(s,o);var u=-1;var c=s.iterate(i);while(e=c()){var _=s.array_to_objects(i,e,true);var m=a(_.entries()),y;try{for(m.s();!(y=m.n()).done;){var v=n(y.value,2),b=v[0],h=v[1];if(b%10===0){d.optional_pause()}u++;if(l.equals(h,o)){return[u]}}}catch(e){m.e(e)}finally{m.f()}}return[-1]}))},get_ret_btype:function e(){return"number"}};t.exports=_},{"../../u/shared/async/b_fiber":696,"../db_utils":421,"../hydrate":422,"./plan_utils":451,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],445:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../u");var f=e("../../u/shared/async/b_fiber");var d=e("./plan_utils");var p={is_single:true,fn:function e(t,r){var o=this;return d.ensure_single(t,r,(function(){var e,r;var s=t.op,i=t.prev;switch(s){case"+":e=0;r=function e(t,r){return[t+r]};break;case"or":e=false;r=function e(t,r){return[t||r,t||r]};break;case"and":e=true;r=function e(t,r){return[t&&r]};break;default:throw new c.UnexpectedError("unrecognized op "+s)}var l=o.iterate(i);var u;while(u=l()){var d=a(u.entries()),p;try{for(d.s();!(p=d.n()).done;){var _=n(p.value,2),m=_[0],y=_[1];var v=void 0;if(m%10===0){f.optional_pause()}var b=r(e,y);var h=n(b,2);e=h[0];v=h[1];if(v){return[e]}}}catch(e){d.e(e)}finally{d.f()}}return[e]}))},get_ret_btype:function e(t){switch(t.op){case"+":return"number";case"or":return"boolean";default:throw new c.UnexpectedError("unrecognized op "+t.op)}},adds_context:{sorted_above:true}};t.exports=p},{"../../u":687,"../../u/shared/async/b_fiber":696,"./plan_utils":451,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],446:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");var n=e("../../constants/db");var o=e("./../db_utils");var s=e("./plan_utils");var i={fn:function e(t,r){var o=t.prev,i=t.sorts_list;var a=this.all(o);a=this.array_to_objects(o,a,true);s.sort_in_memory(a,i,this.get_plan_ret_btype(t.prev));a=this.array_to_ids(o,a);return function(e){var t;(t=e)!=null?t:e=n.ALL_MAX;var o=r+e;var s=a.slice(r,o);r=o;return s}},get_ret_btype:function e(t){return this.get_plan_ret_btype(t.prev)},preserves_items:true,preserves_length:true,canonicalize:function e(t){t.sorts_list=o.resolve_sorts(t.sorts_list,true)},adds_context:{sorted_above:true},simplify:function e(t,r){if(r.sorted_above){return t.prev}else{return null}}};t.exports=i},{"../../constants/db":69,"./../db_utils":421,"./plan_utils":451,"core-js/modules/es.array.slice.js":937}],447:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../logger");var f=e("../../constants/db");var d={fn:function e(t,r){var o;var s=t.data,i=t.value_id;(o=s)!=null?o:s=[];if(!Array.isArray(s)){c.error("Bad array rehydrated",{data:s,value_id:i});var l=[];var u=a(s.entries()),d;try{for(u.s();!(d=u.n()).done;){var p=n(d.value,2),_=p[0],m=p[1];var y=parseInt(_);if(!isNaN(y)){l[y]=m}}}catch(e){u.e(e)}finally{u.f()}s=l}return function(e){var t;(t=e)!=null?t:e=f.ALL_MAX;var n=r+e;var o=s.slice(r,n);r=n;return o}},get_ret_btype:function e(t){return t.value_id}};t.exports=d},{"../../constants/db":69,"../../logger":617,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],448:[function(e,t,r){"use strict";e("core-js/modules/es.array.map.js");var n=e("../../u/shared/async/b_fiber");var o=e("../db_utils");var s=e("../hydrate");var i={fn:function e(t,r){var i=this;var a=t.prev,l=t.value_id,u=t.message,c=t.properties,f=t._raw,d=t.arg;var p=this.iterate(a,r);c=s.rehydrate_tree(this,c);u=o.lang_btypes().get(l).get_message(u);function _(e,t){if(t%10===0){n.optional_pause("transform")}return u.evaluate_without_cast(e,d,c,f)}return function(e){var t=p(e);if(t==null){return[]}t=i.array_to_objects(a,t,true);n.optional_pause("pre-transform");var r=t.map((function(e,t){return _(e,t)}));n.optional_pause("post-transform");return o.array_to_ids(u.ret_btype_id(),r)}},get_ret_btype:function e(t){var r=t.value_id,n=t.message;n=o.lang_btypes().get(r).get_message(n);return n.ret_btype().id()},preserves_length:true,preserves_context:{sorted_above:true}};t.exports=i},{"../../u/shared/async/b_fiber":696,"../db_utils":421,"../hydrate":422,"core-js/modules/es.array.map.js":936}],449:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("../../u");var f=e("../../u/shared/async/b_fiber");var d=e("./plan_utils");var p=e("../query_planner");var _={simplify:function e(t,r){var n,o;if(t.prev.t!=="Concat"){return null}var s=false;var i=function e(t){if(t.t==="Unique"){s=true;return t.prev}else{return t}};var l=t.prev.prevs.map(i);if(s){return{t:"Unique",prev:this.simplify_query(c.extend({},t.prev,{prevs:l}))}}if(!r.sorted_above){return null}var u=t.prev.prevs;var f=null;var _=null;var m=a(u),y;try{for(m.s();!(y=m.n()).done;){var v=y.value;if(v.t==="All"){return v}else if(v.t==="Filter"){_=v.prev}else{return null}if(f==null){f=JSON.stringify(_)}else if(f!==JSON.stringify(_)){return null}}}catch(e){m.e(e)}finally{m.f()}var b=[];var h=a(u),j;try{for(h.s();!(j=h.n()).done;){var g=j.value;var w={};var O=[];var S=a(g.constraints),k;try{for(S.s();!(k=S.n()).done;){n=k.value;if(!w[JSON.stringify(n)]){O.push(n);w[JSON.stringify(n)]=true}}}catch(e){S.e(e)}finally{S.f()}b.push(O)}}catch(e){h.e(e)}finally{h.f()}var A={};for(var E=0,x=b;E<x.length;E++){o=x[E];var M=a(o),P;try{for(M.s();!(P=M.n()).done;){var T,I;n=P.value;(I=A[T=JSON.stringify(n)])!=null?I:A[T]=0;A[JSON.stringify(n)]++}}catch(e){M.e(e)}finally{M.f()}}var C=this.get_plan_ret_btype(_);var R=[];var N=[];var L=false;for(var z=0,D=b;z<D.length;z++){var q;o=D[z];var B=[];var U=a((q=o)!=null?q:[]),W;try{for(U.s();!(W=U.n()).done;){n=W.value;if(A[JSON.stringify(n)]===b.length){N.push(n);A[JSON.stringify(n)]="added"}else if(A[JSON.stringify(n)]!=="added"){if(!d.can_execute_in_db(C,n)){return null}B.push(n)}}}catch(e){U.e(e)}finally{U.f()}if(B.length===0){L=true}else if(B.length===1){if(B[0].constraint_type==="or"){var F=a(B[0].opts),G;try{for(F.s();!(G=F.n()).done;){var X=G.value;R.push(X)}}catch(e){F.e(e)}finally{F.f()}}else{R.push(B[0])}}else{R.push({constraint_type:"and",opts:p.sort_constraints(B)})}}if(!L){N.push({constraint_type:"or",opts:p.sort_constraints(R)})}return{t:"Filter",constraints:p.sort_constraints(N),prev:_}},fn:function e(t,r){var o=t.prev;var s=[];var i={};var l=this.iterate(o);return function(e){var t,o;if(e!=null){o=r+e}else{o=r+1}var u;while(s.length<o&&(u=l())){var c=a(u.entries()),d;try{for(c.s();!(d=c.n()).done;){var p=n(d.value,2),_=p[0],m=p[1];if(_%10===0){f.optional_pause()}if(!i[JSON.stringify(m)]){i[JSON.stringify(m)]=true;s.push(m)}}}catch(e){c.e(e)}finally{c.f()}}if(e!=null){t=s.slice(r,o)}else{t=s.slice(r)}r+=t.length;return t}},get_ret_btype:function e(t){return this.get_plan_ret_btype(t.prev)},preserves_items:true,sort_neutral:true,preserves_context:{sorted_above:true}};t.exports=_},{"../../u":687,"../../u/shared/async/b_fiber":696,"../query_planner":453,"./plan_utils":451,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],450:[function(e,t,r){"use strict";var n=r;n.All=e("./All");n.Static=e("./Static");n.Transform=e("./Transform");n.Cast=e("./Cast");n.Numeric=e("./Numeric");n.Contains=e("./Contains");n.Position=e("./Position");n.Compare=e("./Compare");n.NodeList=e("./NodeList");n.Length=e("./Length");n.Cap=e("./Cap");n.Offset=e("./Offset");n.Flatten=e("./Flatten");n.Concat=e("./Concat");n.Intersect=e("./Intersect");n.Unique=e("./Unique");n.Reduce=e("./Reduce");n.Filter=e("./Filter");n.Sort=e("./Sort");n.GroupBy=e("./GroupBy");n.Columns=e("./Columns");n.ExtraFields=e("./ExtraFields");n.CallSearch=e("./CallSearch");n.CallAggregate=e("./CallAggregate");n.CallGroupBy=e("./CallGroupBy")},{"./All":424,"./CallAggregate":425,"./CallGroupBy":426,"./CallSearch":427,"./Cap":428,"./Cast":429,"./Columns":430,"./Compare":431,"./Concat":432,"./Contains":433,"./ExtraFields":434,"./Filter":435,"./Flatten":436,"./GroupBy":437,"./Intersect":439,"./Length":440,"./NodeList":441,"./Numeric":442,"./Offset":443,"./Position":444,"./Reduce":445,"./Sort":446,"./Static":447,"./Transform":448,"./Unique":449}],451:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");var n;function o(e,t){return a(e)||i(e,t)||c(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e){"@babel/helpers - typeof";return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var d;var p=r;var _=e("../../u");var m=e("../db_utils");var y=e("../../constants/db");var v=e("../../constants/special_keys");var b=e("../constraint_defs");var h=e("../../lang/appquery");var j=e("../../lang/evaluation/evaluate");var g=e("../../logger");var w=e("../values/ListWrapper");var O=e("../hydrate");var S=e("../../lang/btype_ids");p.ensure_single=function(e,t,r){if(t>0){return function(e){return[]}}var n=false;return function(e){var t;(t=e)!=null?t:e=1;if(e!==1){return[]}if(n){return[]}n=true;return r()}};p.can_execute_in_db=function(e,t){var r;if(t.key==="_id"&&["lower than","greater than"].includes(t.constraint_type)){return true}if(e==="user"&&["email","StripeCustomerID","user_signed_up"].includes(t.key)){if(t.key==="email"&&t.constraint_type!=="email_equals"&&t.constraint_type!=="email_contains_string"){return false}return true}if(["and","or"].includes(t.constraint_type)){return true}if(t.key===v.UNIQUE_ID){return["equals","not equal","in","not in"].includes(t.constraint_type)}if(t.key===v.ALL_DB_FIELDS){return true}if(t.key===v.ADVANCED_SEARCH_CONSTRAINT){return false}var n=m.lang_btypes().get(e).get_message(t.key);return n.is_lookup()&&(r=n.ret_btype_id(),!y.NO_DB_CONSTRAINTS.includes(r))};p.pass_filter=function(e,t,r){var n=u(t),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(!p.local_constrain(e,s,r)){return false}}}catch(e){n.e(e)}finally{n.f()}return true};function k(e,t){if(e==null||!e._id()){return 1}if(t==null||!t._id()){return-1}return e._id().localeCompare(t._id(),"en-US")}p.sort_in_memory=function(e,t,r){if(t.length===0){if(m.lang_btypes().get(r).custom_type()!=null){return e.sort(k)}else{return e}}else if(t[0].sort_field===v.RANDOM_SORTING){return _.shuffle_array(e)}else{var n=function t(r){if(!r[0]){return function(t,r){return e.indexOf(t)-e.indexOf(r)}}else{return p.make_sort_comparer(o(r[0]),r[0].descending,t(r.slice(1)))}};var o=function e(t){return function(e){if(t.sort_on_id){return e._id()}else if(t.self){return e}else if(t.sort_field&&e!=null){if(m.lang_btypes().get(r).option_set()!=null){var n;return(n=m.lang_btypes().get(r).option_set().value(e))==null?void 0:n.attr(t.sort_field)}if(typeof e.child!=="function"){if(S.is_api_type(r)){var o=m.lang_btypes().get(r).get_message(t.sort_field);if(o.is_not_found()){throw new _.OwnerError("Sorting on this type of thing is currently not supported")}return o.evaluate_without_cast(e)}else{throw new _.UnexpectedError("Trying to sort on a bad object",{value_id:r,sort_item:t,string_entry:String(e)})}}return e.child(t.sort_field).get()}else{return null}}};return e.sort(n(t))}};if(typeof Intl!=="undefined"&&((n=Intl)==null?void 0:n.Collator)!=null){d=new Intl.Collator("en-US")}else{d={compare:function e(t,r){return String(t).localeCompare(r,"en-US")}}}var A=/[ &'.]/g;p.locale_compare=function(e,t){var r=d.compare(e.replace(A,""),t.replace(A,""));if(r!==0){return r}return d.compare(e,t)};p.make_sort_comparer=function(e,t,r){var n;if(t){n=-1}else{n=1}return function(t,o){var s=e(t);var i=e(o);var a=b.numberify(s);var u=b.numberify(i);if(l(s)===l(i)&&l(a)!==l(u)){a=s;u=i}if(l(a)!==l(u)){if(["undefined","object","function"].includes(l(a))){return 1}if(["undefined","object","function"].includes(l(u))){return-1}if(typeof a==="string"){return 1*n}if(typeof u==="string"){return-1*n}if(typeof a==="number"){return 1*n}if(typeof u==="number"){return-1*n}}else{if(a===u&&r){return r(t,o)}if(typeof a==="string"){return p.locale_compare(a,u)*n}if(typeof a==="number"){return(a-u)*n}if(typeof a==="boolean"){if(a){return n}else{return-n}}if(a instanceof Date&&u instanceof Date){if(a<u){return-1*n}else{return 1*n}}return 0}}};p.get_group_by_value_id=function(e,t,r){var n=m.lang_btypes().get(e);var s={};var i=u(t.entries()),a;try{for(i.s();!(a=i.n()).done;){var l=o(a.value,2),c=l[0],f=l[1].message;var d=n.get_message(f);s["grouping"+String(c)]=[d.description(undefined,true),d.ret_btype_id()]}}catch(e){i.e(e)}finally{i.f()}var p=u(r.entries()),y;try{for(p.s();!(y=p.n()).done;){var v=o(y.value,2),b=v[0],h=v[1],j=h.fn,g=h.message;var w=void 0,O=void 0;if(g){var S=n.get_message(g);O=j+" of "+S.description(undefined,true);w=S.ret_btype_id()}else{O=j;w="number"}s["agg"+String(b)]=[O,w]}}catch(e){p.e(e)}finally{p.f()}return"struct."+_.base64(JSON.stringify({caption:"Grouping",definition:s}))};p.calculate_sort_score=function(e,t){var r=[];var n=u(t!=null?t:[]),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(typeof s.sort_field==="string"){r.push(e==null?void 0:e[s.sort_field])}else{r.push(0)}}}catch(e){n.e(e)}finally{n.f()}return r};p.is_less_than=function(e,t,r,n,s,i){var a;(a=i)!=null?a:i=false;if(i){return r[0]<s[0]}var l=u((e!=null?e:[]).entries()),c;try{for(l.s();!(c=l.n()).done;){var f=o(c.value,2),d=f[0],_=f[1].descending;if(r[d]===s[d]){continue}if(r[d]==null){return false}if(s[d]==null){return true}if(typeof r[d]==="string"){var m=p.locale_compare(r[d],s[d]);if(!_){return m<0}else{return m>0}}else{if(!_){return r[d]<s[d]}else{return r[d]>s[d]}}}}catch(e){l.e(e)}finally{l.f()}return t<n};p.AGGREGATE_LOCAL_CHANGE={count:function e(t,r,n,o,s){return s+(t?-1:1)},sum:function e(t,r,n,o,s){var i,a;(i=n)!=null?i:n=0;(a=o)!=null?a:o=0;return s+o-n},product:function e(t,r,n,o,s){var i,a;(i=n)!=null?i:n=1;(a=o)!=null?a:o=1;return s*o/n}};p.aggregate_started_key=function(e,t,r){return"CallAggregate_started_"+e+(t?"_"+t:"")+(r!=null&&r.should_approx?"_approximate":"")+(r!=null&&r.cacheable?"_cached":"")};var E={email_equals:function e(t,r){return t===r},email_contains_string:function e(t,r){return t==null?void 0:t.includes(r)}};p.local_constrain=function(e,t,r){if(e==null){return false}if(t.key===v.ADVANCED_SEARCH_CONSTRAINT){var n={datasources:{injected_value:function t(){return e},injected_value_btype:function n(){var o,s,i,a,l,u;var c=(o=t.self)!=null?o:e==null?void 0:(s=e._type)==null?void 0:s.call(e);if(c!=null&&c!==r){var f;g.debug("different value_id in injected datasource constraint",{self:t.self,obj_type:e==null?void 0:(f=e._type)==null?void 0:f.call(e),value_id:r})}return(i=(a=(l=t.self)!=null?l:e==null?void 0:(u=e._type)==null?void 0:u.call(e))!=null?a:r)!=null?i:"null"}},advanced_search:true};var s=j.evaluate(t.value,n,null,null),i=o(s,1),a=i[0];return a}else{var l;if(t.constraint_type in E){var c=e.child("authentication");var f=c.child("email").child("email").get();if(E[t.constraint_type](f,t.value))return true;var d=u(h.get_oauth_providers()),y;try{for(d.s();!(y=d.n()).done;){var k=y.value;var A=c.child(k).child("email").get();if(E[t.constraint_type](A,t.value))return true}}catch(e){d.e(e)}finally{d.f()}return false}else if(t.constraint_type==="or"){var x;if(!((x=t.opts)!=null&&x.length)){throw new _.UnexpectedError("assertion: or must have at least one sub",{c:t})}var M=u(t.opts),P;try{for(M.s();!(P=M.n()).done;){l=P.value;if(p.local_constrain(e,l,r)){return true}}}catch(e){M.e(e)}finally{M.f()}return false}else if(t.constraint_type==="and"){var T;if(!((T=t.opts)!=null&&T.length)){throw new _.UnexpectedError("assertion: and must have at least one sub",{c:t})}var I=u(t.opts),C;try{for(I.s();!(C=I.n()).done;){l=C.value;if(!p.local_constrain(e,l,r)){return false}}}catch(e){I.e(e)}finally{I.f()}return true}else{var R,N;if(t.key==="_id"&&typeof e._id==="function"){N=e._id()}else if(t.key===v.ALL_DB_FIELDS){N=_.json_stringify(e.raw())}else if(typeof e.child!=="function"){if(S.is_api_type(r)){R=m.lang_btypes().get(r).get_message(t.key);if(R.is_not_found()){throw new _.OwnerError("Filtering on this type of thing is currently not supported")}N=R.evaluate_without_cast(e);if(N instanceof w){N=N.all()}}else{return false}}else{var L;if(r){R=m.lang_btypes().get(r).get_message(t.key);L=R.is_lookup()}var z=null;if(typeof L==="string"){z=L}else if(L||!R){z=t.key}if(z&&R){var D,q;var B=(D=e.child(t.key).raw())!=null?D:null;var U=(q=R.evaluate_without_cast(e))!=null?q:null;if(B!==U&&R.ret_btype().option_set()){g.info("Local constrain value mismatch",{raw_val:B,msg_val:U,c:t,lookup_key:z})}}if(z){N=e.child(t.key).raw();if(O.is_json_class(N)){var W=O.from_json(e.db,N);if(W instanceof w){N=W.all()}else{g.error("JSON class value is not handled",N)}}}else{N=R.evaluate_without_cast(e,null,null,null,{constraint_messsage:t.key})}}var F=b.all_search_constraints[t.constraint_type];if(!F){throw new _.UnexpectedError("bad constraint type "+t.constraint_type)}return F(t.value,N)}}}},{"../../constants/db":69,"../../constants/special_keys":95,"../../lang/appquery":535,"../../lang/btype_ids":536,"../../lang/evaluation/evaluate":572,"../../logger":617,"../../u":687,"../constraint_defs":419,"../db_utils":421,"../hydrate":422,"../values/ListWrapper":460,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],452:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.values.js");function n(e){return i(e)||s(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return u(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=r;var f=e("./hydrate");function d(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(r+1%10===0){O.optional_pause()}if(e==="_id"){if(typeof(t==null?void 0:t._id)==="function"){return t._id()}else if(Array.isArray(t)){return t.map((function(t,r){return d(e,t,r)}))}else{return t}}else{return f.dehydrate_tree(t)}}function p(e){var t;(t=e)!=null?t:e=[];if(typeof e.all==="function"){e=e.all()}return e.filter((function(e){return e!=null}))}function _(e){return c[e.constraint_type](e.key,e.value,e.opts)}c.and=function(e,t,r){if(!Array.isArray(r)){return false}return{t:"A",a:r.map((function(e){return _(e)}))}};c.and.no_field_required=true;c.or=function(e,t,r){if(!Array.isArray(r)){return false}return{t:"O",a:r.map((function(e){return _(e)}))}};c.or.no_field_required=true;c.equals=function(e,t){if(t==null){return{t:"C",c:e,n:"is_empty"}}return{t:"C",c:e,n:"equals",v:d(e,t)}};c.equals_both=function(e,t){return{t:"F",n:"equals_both",a:{col1:e,col2:t}}};c.not_equals=function(e,t){if(t==null){return{t:"C",c:e,n:"is_not_empty"}}return{t:"C",c:e,n:"not_equals",v:d(e,t)}};c["not true"]=function(e){return c.not_equals(e,true)};c["not equal"]=c.not_equals;c.not_equals_both=function(e,t){return{t:"F",n:"not_equals_both",a:{col1:e,col2:t}}};c.is_empty=function(e){return{t:"C",c:e,n:"is_empty"}};c.is_not_empty=function(e){return{t:"C",c:e,n:"is_not_empty"}};c.empty=c.is_empty;c["not empty"]=c.is_not_empty;c.is_true=function(e){return{t:"C",c:e,n:"equals",v:true}};c.is_false=function(e){return{t:"C",c:e,n:"equals",v:false}};c.contains=function(e,t){if(t==null){return false}return{t:"C",c:e,n:"contains",v:d(e,t)}};c.contains_both=function(e,t){return{t:"F",n:"contains_both",a:{col1:e,col2:t}}};c.in=function(e,t){t=p(t);if(t.length===0){return false}return{t:"C",c:e,n:"in",v:d(e,t)}};c.not_contains=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"not_contains",v:d(e,t)}};c["not contains"]=c.not_contains;c.not_contains_both=function(e,t){return{t:"F",n:"not_contains_both",a:{col1:e,col2:t}}};c.not_in=function(e,t){t=p(t);if(t.length===0){return null}return{t:"C",c:e,n:"not_in",v:d(e,t)}};c["not in"]=c.not_in;c["greater than"]=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"greater_than",v:t}};c.gte=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"gte",v:t}};c["less than"]=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"less_than",v:t}};c.lte=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"lte",v:t}};c["text contains string"]=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"contains_string",v:t}};c["not text contains string"]=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"not_contains_string",v:t}};c["text contains"]=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"contains",v:{language:y(),query:t}}};c["not text contains"]=function(e,t){if(t==null){return null}return{t:"C",c:e,n:"not_contains",v:{language:y(),query:t}}};c.contains_all_fields=function(e,t,r){var n;if(t==null){return null}if(r!=null&&r.no_language){n="simple"}else{n=y()}return{t:"C",c:"_all",n:"contains",v:{language:n,query:t}}};c.contains_all_fields.no_field_required=true;c.prefix_search=function(e,t,r){var n;if(t==null){return null}if(r!=null&&r.no_language){n="simple"}else{n=y()}return{t:"C",c:e,n:"prefix",v:{language:n,query:t}}};c.match_phrase_prefix=c.prefix_search;var m={miles:1609.344,kms:1e3,km:1e3};c.geographic_search=function(e,t){if(t==null){return null}var r=t!=null?t:{},n=r.range,o=r.unit,s=r.origin_address;if(s==null||!g.ensure_valid_location(s)){return null}var i=s.lng;var a=s.lat;var l=m[o!=null?o:"miles"]*(n!=null?n:1);return{t:"C",c:e,n:"within",v:{lon:i,lat:a,meters:l}}};c.email_prefix_search=function(e,t){if(t==null||typeof t!=="string"){return false}var r={t:"O",a:[]};r.a.push(c.prefix_search("authentication.email.email",t.toLowerCase()));var n=a(w.get_oauth_providers()),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;r.a.push(c.prefix_search("authentication."+s+".email",t.toLowerCase()))}}catch(e){n.e(e)}finally{n.f()}return r};c.email_prefix_search.no_field_required=true;c.email_equals=function(e,t){if(t==null||typeof t!=="string"){return false}var r={t:"O",a:[]};r.a.push(c.equals("authentication.email.email",t.toLowerCase()));var n=a(w.get_oauth_providers()),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;r.a.push(c.equals("authentication."+s+".email",t.toLowerCase()))}}catch(e){n.e(e)}finally{n.f()}return r};c.email_equals.no_field_required=true;c.email_contains_string=function(e,t){if(t==null||typeof t!=="string")return false;var r="authentication.email.email";var o=w.get_oauth_providers().map((function(e){return"authentication.".concat(e,".email")}));return{t:"O",a:[r].concat(n(o)).map((function(e){return c["text contains string"](e,t.toLowerCase())}))}};c.email_contains_string.no_field_required=true;function y(){var e=S().app_language();if(v[e]){return v[e]}if(b.includes(e)){return e}return"simple"}var v={da_dk:"danish",nl_nl:"dutch",en_us:"english",fi_fi:"finnish",fr_fr:"french",de_de:"german",hu_hu:"hungarian",it_it:"italian",no_no:"norwegian",pt_br:"portuguese",ro_ro:"romanian",ru_ru:"russian",es_es:"spanish",sv_se:"swedish",tr_tr:"turkish"};var b=Object.values(v);var h=["range_contains","range_greater_than","range_less_than"];var j=["range_contains","range_contained_by","range_overlaps","range_greater_than","range_less_than"];j.forEach((function(e){function t(e){c[e]=function(t,r){if(r==null){return false}return{t:"C",c:t,n:e,v:r}};if(h.includes(e)){c[e+"_point"]=c[e]}}t(e)}));var g=e("./../geolocation/b_location");var w=e("./../lang/appquery");var O=e("../u/shared/async/b_fiber");var S=e("./../lib")},{"../u/shared/async/b_fiber":696,"./../geolocation/b_location":505,"./../lang/appquery":535,"./../lib":614,"./hydrate":422,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],453:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");function n(e,t){return i(e)||s(e,t)||_(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return d(t)==="symbol"?t:String(t)}function f(e,t){if(d(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(d(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e){"@babel/helpers - typeof";return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function p(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function _(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var y=r;var v=e("../u/shared/mode_check");var b=e("./hydrate");var h=e("../constants/db");var j=e("../constants/special_keys");var g=e("./../lang/btypes");var w=e("./../geolocation/b_location");var O=100;var S=3;y.sort_constraints=function(e){e.sort((function(e,t){var r,n;var o=y.can_execute_in_memory(e);var s=y.can_execute_in_memory(t);if(o!==s){if(o){return 1}else{return-1}}var i=String(e.key)+e.constraint_type+JSON.stringify(b.dehydrate_tree((r=e.value)!=null?r:null));var a=String(t.key)+t.constraint_type+JSON.stringify(b.dehydrate_tree((n=t.value)!=null?n:null));if(i<a){return-1}else if(a<i){return 1}else{return 0}}));return e};var k={equals:true,"not equal":true,is_empty:true,is_not_empty:true,in:true,"not in":true,contains:true,"not contains":true,empty:true,"not empty":true,"greater than":true,gte:true,"less than":true,lte:true,"not true":true};y.can_execute_in_memory=function(e){if(e.key===j.ADVANCED_SEARCH_CONSTRAINT){return true}if(["or","and"].includes(e.constraint_type)){var t=p(e.opts),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(!y.can_execute_in_memory(n)){return false}}}catch(e){t.e(e)}finally{t.f()}return true}return k[e.constraint_type]};y.use_geographic_sorting=function(e,t){var r=p(t!=null?t:[]),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o.sort_field==null||d(o.sort_field)!=="object"){continue}var s=g.get(e).get_message(o.sort_field.location_field);if(!s||s.ret_btype().id()!=="geographic_address"){continue}if(w.ensure_valid_location(o.sort_field.geo_reference,true)){return true}}}catch(e){r.e(e)}finally{r.f()}return false};var A=[];y.add_bad_in_memory_sort=function(e){return A.push(e)};y.can_sort_locally=function(e,t,r){if(y.use_geographic_sorting(e,t)){return false}var n=p(t!=null?t:[]),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(s.sort_field===j.RANDOM_SORTING){return false}}}catch(e){n.e(e)}finally{n.f()}if(A.length>0){var i=JSON.stringify({type:e,sorts_list:t,constraints:r});for(var a=0,l=A;a<l.length;a++){var u=l[a];if(u===i){return false}}}return true};y.QueryPlanner=function(){function e(){a(this,e);this.root={}}u(e,[{key:"update",value:function e(t,r,n,o,s){var i,a;y.sort_constraints(r);var l=(a=(i=this.root)[t])!=null?a:i[t]={type:t,constraints:[]};for(var u=0;u<r.length;u++){var c,f,d,p,_;var m=r[u];(f=(c=l).children)!=null?f:c.children={};l=(_=(d=l.children)[p=JSON.stringify(m)])!=null?_:d[p]={type:t,constraints:r.slice(0,+u+1||undefined)}}if(n!=null){var v,b,h,j,g;(b=(v=l).searches)!=null?b:v.searches={};l=(g=(h=l.searches)[j=JSON.stringify(n)])!=null?g:h[j]={type:t,constraints:r,sorts_list:n}}if(o.from!=null){var w,O,S,k,A;(O=(w=l).from)!=null?O:w.from=l.loaded;(k=(S=l).has_gaps)!=null?k:S.has_gaps=l.loaded!=null&&(o.from>l.loaded+1||l.from>o.loaded+1);l.from=Math.min((A=l.from)!=null?A:Infinity,o.from)}for(var E in o){var x=o[E];if(E!=="from"){if(!s||l[E]==null||x>l[E]){l[E]=x}}}}},{key:"get_stats",value:function e(t,r,n){y.sort_constraints(r);var o=this.root[t];if(o==null){return null}for(var s=0;s<r.length;s++){var i;var a=r[s];if(!((i=o.children)!=null&&i[JSON.stringify(a)])){return null}o=o.children[JSON.stringify(a)]}if(n!=null){var l,u;if(!((l=o.searches)!=null&&l[JSON.stringify(n)])){return null}return(u=o.searches)==null?void 0:u[JSON.stringify(n)]}else{return o}}},{key:"node_to_search",value:function e(t,r){var n;return{t:"CallSearch",type:t.type,constraints:t.constraints,sorts_list:(n=t.sorts_list)!=null?n:r}}},{key:"pick_search",value:function e(t,r,o,s){y.sort_constraints(r);var i=!y.can_sort_locally(t,o,r);var a=JSON.stringify(o);var l=function e(t,n,o){var l,u;var c=function e(){return o.concat(r.slice(n))};if(r[n]&&!y.can_execute_in_memory(r[n])){l=false}else{l=true}if(t.length!=null&&t.length<O&&l){if(!t.searches){return[t,c(),true]}if(t.searches[a]){return[t.searches[a],c(),true]}if(!i){for(var f in t.searches){return[t.searches[f],c(),true]}}}if(t.children&&r.length>n){var d=null;for(var _=n;_<r.length;++_){if(t.children[JSON.stringify(r[_])]){var m=t.children[JSON.stringify(r[_])];var b=_+1;var j=o.concat(r.slice(n,_));var g=false;var w=p(j),k;try{for(w.s();!(k=w.n()).done;){var A=k.value;if(!y.can_execute_in_memory(A)){g=true;break}}}catch(e){w.e(e)}finally{w.f()}if(g){break}var E=e(m,b,j);if(E!=null){if(E[2]){return E}if(d==null||E[1].length<d[1].length){d=E}}}}if(d!=null){return d}}if(t.searches&&l){for(var x in t.searches){var M,P;u=t.searches[x];if(i&&x!==a){continue}var T=u,I=T.loading_to;if(t.length!=null&&t.length<u.loading_to){I=t.length}var C=I-((M=u.loaded)!=null?M:0);if(C/h.MAX_SEARCH_CHUNK>S){continue}if(t.length==null&&v.on_client()){if(s!=null&&s<O){continue}if(u.loaded<O){return[u,c(),false]}else{continue}}var R=t.length-((P=u.loaded)!=null?P:0);if(s!=null&&R>1.5*s){continue}if(u.loading_to>t.length*.5&&R<S*h.MAX_SEARCH_CHUNK){return[u,c(),false]}if(R<2*O){return[u,c(),false]}}}return null};var u=this.root[t]?l(this.root[t],0,[]):null;var c,f;if(u!=null){var d;var _=n(u,2);d=_[0];c=_[1];f=this.node_to_search(d,o)}else{c=[];f={t:"CallSearch",type:t,constraints:r,sorts_list:o}}return{search:f,leftover:c}}}]);return e}()},{"../constants/db":69,"../constants/special_keys":95,"../u/shared/mode_check":713,"./../geolocation/b_location":505,"./../lang/btypes":537,"./hydrate":422,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],454:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("./hydrate");e("../lang/appquery");var f=e("./../lang/btypes");u.SampleNode=function(){function e(t,r,n){var s,i;o(this,e);this.object=t;this.name=r;this.value=n;(s=this.value)!=null?s:this.value=(i=this.object.value.get_message(this.name))==null?void 0:i.ret_btype()}i(e,[{key:"get",value:function e(){var t;return(t=this.value)==null?void 0:t.get_sample()}},{key:"raw",value:function e(){var t;return(t=this.value)==null?void 0:t.get_sample()}},{key:"set",value:function e(){}},{key:"push",value:function e(){}},{key:"remove",value:function e(){}},{key:"dehydrate",value:function e(){return c.dehydrate_prefix("SampleNode")+this.value.id()}}],[{key:"rehydrate",value:function t(r,n){return new e(null,null,f.get(n))}}]);return e}();u.SampleList=function(){function e(t){o(this,e);var r=f.get(t);return new d([r==null?void 0:r.get_sample(),r==null?void 0:r.get_sample()],null,t)}i(e,null,[{key:"rehydrate",value:function t(r,n){return new e(n)}}]);return e}();u.SampleObject=function(){function e(t){o(this,e);try{this.value=f.get(t)}catch(e){this.value=f.get("null")}this.id=t}i(e,[{key:"child",value:function e(t){return new u.SampleNode(this,t)}},{key:"dehydrate",value:function e(){return c.dehydrate_prefix("SampleObject")+this.value.id()}},{key:"_id",value:function e(){return"sample:"+this.id}},{key:"_type",value:function e(){return this.value.id()}},{key:"is_equal_to",value:function e(t){var r;return(t==null?void 0:(r=t.dehydrate)==null?void 0:r.call(t))===this.dehydrate()}},{key:"precache",value:function e(){}},{key:"exists",value:function e(){return false}},{key:"ignore_privacy",value:function e(){return this}}],[{key:"rehydrate",value:function t(r,n){return new e(n)}}]);return e}();var d=e("./values/StaticList")},{"../lang/appquery":535,"./../lang/btypes":537,"./hydrate":422,"./values/StaticList":464,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],455:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.splice.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("../../client_config");var j=e("../../logger");var g=e("../../u");var w=e("../../geolocation/b_location");var O=e("../../geolocation/shared/b_location_utils");var S=e("../hydrate");var k=e("./NodeBase");var A=function(e){d(r,e);var t=_(r);function r(){a(this,r);return t.apply(this,arguments)}u(r,[{key:"_operate",value:function e(t,r){var n=this.parent_id();this.db._ensure_loading(n);t=S.dehydrate_tree_to_db_primitive(t);return r(n,t,this._extract(this.db._get_data(n)))}},{key:"set",value:function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};return this._operate(t,(function(e,t,n){return r.db._set_local(e,r._path,t)}))}},{key:"push",value:function e(t){var r=this;return this._operate(t,(function(e,t,n){var s=(n!=null?n:[]).slice();function i(){if(Array.isArray(t)||O.is_b_location(t)){var e=o(s),r;try{for(e.s();!(r=e.n()).done;){var n=r.value;if(g.json_stringify(n)===g.json_stringify(t)){return true}}}catch(t){e.e(t)}finally{e.f()}}return false}if(!Array.isArray(s)){j.error("path is not array",{firebase:r.firebase,new_value:s})}else if(S.dehydrated_array_index_of(s,t)===-1&&!i()){s.push(t);if(h.MAX_LIST_LENGTH&&s.length>h.MAX_LIST_LENGTH){throw new g.OwnerError("List at maximum length ("+h.MAX_LIST_LENGTH+")")}r.set(s)}}))}},{key:"remove",value:function e(t){var r=this;return this._operate(t,(function(e,t,n){var s;var i,a;(s=n)!=null?s:n=[];if(!Array.isArray(n)){j.error("path is not array",{firebase:r.firebase,cur_value:n})}else if((i=S.dehydrated_array_index_of(n,t))>-1){a=n.slice();a.splice(i,1);return r.set(a)}else if(Array.isArray(t)||O.is_b_location(t)){a=[];if(O.is_b_location(t)){var l=o(n),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;if(!w.is_equal(c,t)){a.push(c)}}}catch(e){l.e(e)}finally{l.f()}}else if(n.map(g.json_stringify).includes(g.json_stringify(t))){var f=o(n),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;if(g.json_stringify(p)!==g.json_stringify(t)){a.push(p)}}}catch(e){f.e(e)}finally{f.f()}}r.set(a)}}))}},{key:"raw",value:function e(){var t=this.parent_id();this.db._ensure_loading(t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}g.ensure_ready.apply(g,[this.db._get_ready_key(t)].concat(n));this.db._register_dependency(t);return this._extract(this.db._get_data(t))}},{key:"dehydrate",value:function e(){return S.dehydrate_prefix("ClientDBNode")+this.key()}},{key:"precache",value:function e(){var t=this.parent_id();return this.db._ensure_loading(t)}}]);return r}(k);A.rehydrate=function(e,t){return e.get_node(t)};t.exports=A},{"../../client_config":55,"../../geolocation/b_location":505,"../../geolocation/shared/b_location_utils":510,"../../logger":617,"../../u":687,"../hydrate":422,"./NodeBase":461,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.splice.js":939,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],456:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../db");var v=e("../db_utils");var b=e("./ClientDBNode");var h=function(e){u(r,e);var t=f(r);function r(e,n){var s;o(this,r);s=t.call(this,undefined,undefined,n);s.id=e;return s}i(r,[{key:"ignore_privacy",value:function e(){return this}},{key:"delete",value:function e(){this.db._delete_local(this.id)}},{key:"is_equal_to",value:function e(t){if(!(t instanceof r)){return false}if(this.db!==t.db){return false}return this.id===t.id}}]);return r}(b);(function(){for(var e in v.ObjectBase){var t=v.ObjectBase[e];h.prototype[e]=t}})();t.exports=y.ClientDBObject=h},{"../db":420,"../db_utils":421,"./ClientDBNode":455,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],457:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}function a(e){var t=c();return function r(){var n=f(e),o;if(t){var s=f(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return l(this,o)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}var d=e("../hydrate");var p=e("../db_utils");var _=e("./ListWrapper");var m=function(e){s(r,e);var t=a(r);function r(e){var n,s;o(this,r);var i=e.all().filter((function(e){return e!==null}));var a=(n=(s=i[0])==null?void 0:s.db)!=null?n:y().db_instance();if(i.length===0){i.push(a.static_list(p.lang_btypes().get(e.get_item_btype_id()).inner().id()))}var l=i.map((function(e){return e.query}));return t.call(this,a,{t:"Concat",prevs:l})}return r}(_);m.rehydrate=function(e,t){return new m(d.rehydrate(e,t))};t.exports=m;var y=e("../../lib")},{"../../lib":614,"../db_utils":421,"../hydrate":422,"./ListWrapper":460,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],458:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=function e(){n(this,e)};t.exports=o},{}],459:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}function a(e){var t=c();return function r(){var n=f(e),o;if(t){var s=f(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return l(this,o)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}var d=e("../hydrate");var p=e("../db_utils");var _=e("./ListWrapper");var m=function(e){s(r,e);var t=a(r);function r(e){var n,s;o(this,r);var i=e.all().filter((function(e){return e!==null}));var a=(n=(s=i[0])==null?void 0:s.db)!=null?n:y().db_instance();if(i.length===0){i.push(a.static_list(p.lang_btypes().get(e.get_item_btype_id()).inner().id()))}var l=i.map((function(e){return e.query}));return t.call(this,a,{t:"Intersect",prevs:l})}return r}(_);m.rehydrate=function(e,t){return new m(d.rehydrate(e,t))};t.exports=m;var y=e("../../lib")},{"../../lib":614,"../db_utils":421,"../hydrate":422,"./ListWrapper":460,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],460:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("fast-deep-equal");var j=e("../../u");var g=e("./Dynamic");var w=e("../db_utils");var O=e("../../lang/btype_ids");var S=e("../../constants/db");var k=e("../../constants/special_keys");var A=e("./value_types");var E=e("./registry");var x=e("../../lang/evaluation/eval_node_state");var M=function(e){d(r,e);var t=_(r);function r(e,n){var o;a(this,r);o=t.call(this);o.db=e;o.query=n;if(!o.db){throw new j.UnexpectedError("missing db")}if(!o.query){throw new j.UnexpectedError("missing query")}var s=x.get_current_eval_node();if(s){o._creation_eval_node=s}return m(o,y(o))}u(r,[{key:"_with_eval_node",value:function e(t){if(x.get_current_eval_node()||!j.on_client()||!this._creation_eval_node){return t()}try{x.set_current_eval_node(this._creation_eval_node);return t()}finally{x.set_current_eval_node(null)}}},{key:"get_children",value:function e(t,r){var n=this;if(r<1){return[]}if(t+r>S.ALL_MAX){r=S.ALL_MAX-t}var o=this._with_eval_node((function(){return n.db.execute_with_dependency(n.query,t,r)}));return this.db.array_to_objects(this.query,o)}},{key:"all_ids",value:function e(){var t=this;var r=0;var n=S.ALL_MAX;var o={t:"Columns",columns:["_id"],prev:this.query};return this._with_eval_node((function(){return t.db.execute_with_dependency(o,r,n)}))}},{key:"get_plan",value:function e(t,r){return this.db.build_query_plan(this.query,t,r)}},{key:"length",value:function e(t){var r=this;var n={t:"Length",prev:this.query,options:t};return this._with_eval_node((function(){return r.db.execute_with_dependency(n,0,1)[0]}))}},{key:"length_or_zero",value:function e(){var t;return(t=this.length())!=null?t:0}},{key:"get_item_btype_id",value:function e(){return this.db.get_plan_ret_btype(this.query)}},{key:"filter",value:function e(t,n){t=P().bv().resolve_constraints(t,n);t=I.dehydrate_tree(t);if(t.length===0){return this}var s=o(t),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(a.constraint_type==="return_empty_set"){return P().db_instance().static_list(this.get_item_btype_id(),[])}}}catch(e){s.e(e)}finally{s.f()}var l={t:"Filter",constraints:t,prev:this.query};return new r(this.db,l)}},{key:"minus_list",value:function e(t){var r;var n=w.lang_btypes().get(this.get_item_btype_id());if(n.custom_type()){var s=[];var i=o(t.all()),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l!=null){s.push(l._id())}}}catch(e){i.e(e)}finally{i.f()}r={key:k.UNIQUE_ID,constraint_type:"not in",value:s}}else{var u="is_not_contained_by_list";if(n.get_message(u).is_not_found()){throw new j.UnexpectedError("minus_list called on a value that doesn't have ".concat(u,": ").concat(n.id()))}r={key:k.ADVANCED_SEARCH_CONSTRAINT,self:this.get_item_btype_id(),value:{"%x":"InjectedValue","%n":{"%x":"Message","%nm":u,"%a":T.create_reduced(t,O.list_type(n.id()))}}}}return this.filter([r])}},{key:"with_extra_fields",value:function e(t){var n=this;if(!t||t.length===0){return this}var o={t:"ExtraFields",extra_field_names:t,prev:this.query};return this._with_eval_node((function(){return new r(n.db,o)}))}},{key:"sort",value:function e(t){t=w.resolve_sorts(t,false);if(t.length===0){return this}var n={t:"Sort",sorts_list:t,prev:this.query};return new r(this.db,n)}},{key:"sort_on_id",value:function e(){return this.sort([{sort_field:"_id"}])}},{key:"capped",value:function e(t){var n={t:"Cap",max:t,prev:this.query};return new r(this.db,n)}},{key:"offset",value:function e(t){var n={t:"Offset",offset:t,prev:this.query};return new r(this.db,n)}},{key:"to_json",value:function e(){return{_class:"ListWrapper",query:this.query}}},{key:"dehydrate",value:function e(){return I.dehydrate_prefix("ListWrapper")+j.incremental_json_stringify(this.query)}},{key:"get",value:function e(){return this}},{key:"all",value:function e(){return this.get_children(0,S.ALL_MAX)}},{key:"make_static",value:function e(){return this.db.static_list(this.get_item_btype_id(),this.all())}},{key:"contains",value:function e(t,r){var n=this;var o={t:"Contains",prev:this.query,value_id:r.id(),item:I.dehydrate_tree(t)};return this._with_eval_node((function(){return n.db.execute_with_dependency(o,0,1)[0]}))}},{key:"position",value:function e(t,r){var n=this;var o={t:"Position",prev:this.query,value_id:r.id(),item:I.dehydrate_tree(t)};return this._with_eval_node((function(){return n.db.execute_with_dependency(o,0,1)[0]}))}},{key:"_length_compare",value:function e(t,r,n){var o=this;var s={t:"Length",prev:this.query,options:n};var i={t:"Compare",op:t,prev:s,n:r};return this._with_eval_node((function(){return o.db.execute_with_dependency(i,0,1)[0]}))}},{key:"length_greater_than",value:function e(t,r){return this._length_compare(">",t,r)}},{key:"length_greater_or_equal_than",value:function e(t,r){return this._length_compare(">=",t,r)}},{key:"length_less_than",value:function e(t,r){return this._length_compare("<",t,r)}},{key:"length_less_or_equal_than",value:function e(t,r){return this._length_compare("<=",t,r)}},{key:"length_equals",value:function e(t,r){return this._length_compare("===",t,r)}},{key:"length_not_equals",value:function e(t,r){return this._length_compare("!==",t,r)}},{key:"_numeric_op",value:function e(t,r){var n=this;var o=this.get_item_btype_id();if(o!=="number"){return null}var s={t:"Numeric",prev:this.query,op:t,options:r};return this._with_eval_node((function(){return n.db.execute_with_dependency(s,0,1)[0]}))}},{key:"_date_op",value:function e(t,r){var n=this;var o=this.get_item_btype_id();if(o!=="date"){return null}var s={t:"Numeric",prev:this.query,op:t,options:r};return this._with_eval_node((function(){return new Date(n.db.execute_with_dependency(s,0,1)[0])}))}},{key:"sum",value:function e(t){return this._numeric_op("sum",t)}},{key:"product",value:function e(t){return this._numeric_op("product",t)}},{key:"average",value:function e(t){var r;return(r=this._numeric_op("average",t))!=null?r:this._date_op("average",t)}},{key:"median",value:function e(t){var r;return(r=this._numeric_op("median",t))!=null?r:this._date_op("median",t)}},{key:"min",value:function e(t){var r;return(r=this._numeric_op("min",t))!=null?r:this._date_op("min",t)}},{key:"max",value:function e(t){var r;return(r=this._numeric_op("max",t))!=null?r:this._date_op("max",t)}},{key:"flatten",value:function e(){var t={t:"Flatten",prev:this.query};return new r(this.db,t)}},{key:"list_cast",value:function e(t){if(t===this.get_item_btype_id()){return this}return new r(this.db,{t:"Cast",prev:this.query,value_id:t})}},{key:"group_by",value:function e(t){var n=this;var s=t.groupings,i=t.aggregations;var a=this.get_item_btype_id();function l(e){e=j.extend({},e);if(e.start!=null){e.start=e.start.valueOf()}if(e.end!=null){e.end=e.end.valueOf()}return e}s=s.map((function(e){return l(e)}));var u=o(s),c;try{for(u.s();!(c=u.n()).done;){var f=c.value,d=f.message,p=f.fn,_=f.timezone_string;if(!w.can_group_on(a).includes(d)){throw new j.UnexpectedError("bad grouping message",{fn:p,value_id:a,message:d})}if(p!=null&&!w.can_group_with(a,d).includes(p)){throw new j.UnexpectedError("bad grouping function",{fn:p,value_id:a,message:d})}if(S.CALENDAR_GROUPINGS.includes(p)&&_==null){throw new j.UnexpectedError("grouping fn "+p+" requires a timezone string")}}}catch(e){u.e(e)}finally{u.f()}var m=o(i),y;try{for(m.s();!(y=m.n()).done;){var v=y.value,b=v.fn,h=v.message;if(!S.SUPPORTED_AGGREGATIONS.includes(b)){throw new j.UnexpectedError("bad aggregation function: "+b)}if(h!=null&&!w.can_aggregate_on(b,a).includes(h)){throw new j.UnexpectedError("bad aggregation message",{fn:b,value_id:a,message:h})}}}catch(e){m.e(e)}finally{m.f()}var g={t:"GroupBy",groupings:s,aggregations:i,prev:this.query};return this._with_eval_node((function(){return new r(n.db,g)}))}},{key:"is_equal_to",value:function e(t){if(!E.is(t,A.LIST_WRAPPER)){return false}if(this.db!==t.db||this._creation_eval_node!==t._creation_eval_node){return false}return h(this.query,t.query)}}]);return r}(g);M.from_json=function(e,t){var r=t.query;return new M(e,r)};M.rehydrate=function(e,t){var r=j.incremental_json_parse(t);return new M(e,r)};t.exports=M;var P=e("../../lib");var T=e("../../lang/expressions/expression_utils");var I=e("../hydrate")},{"../../constants/db":69,"../../constants/special_keys":95,"../../lang/btype_ids":536,"../../lang/evaluation/eval_node_state":571,"../../lang/expressions/expression_utils":587,"../../lib":614,"../../u":687,"../db_utils":421,"../hydrate":422,"./Dynamic":458,"./registry":471,"./value_types":472,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,"fast-deep-equal":1056}],461:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return i(t)==="symbol"?t:String(t)}function f(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(i(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("./Dynamic");var j=e("./StaticNode");var g=e("./ListWrapper");var w=function(e){d(r,e);var t=_(r);function r(e,n,o){var s;a(this,r);s=t.call(this);s.parent=e;s._path=n;s.db=o;return s}u(r,[{key:"path",value:function e(){return this._path.join(".")}},{key:"toString",value:function e(){return"DBNode<"+this.key()+">"}},{key:"key",value:function e(){return this.parent_id()+"."+this._path.join(".")}},{key:"child",value:function e(t){var r;if(!this.parent){return new j(undefined)}if(this._path){r=this._path.concat(t.split("."))}return this.parent._child(r)}},{key:"parent_id",value:function e(){return this.parent._id()}},{key:"get",value:function e(t){var r=this.raw();if(!t){var n,o,s,a;var l=(n=(o=this.parent)._type)==null?void 0:n.call(o);var u=this._path.join(".");t=(s=O.lang_btypes().get(l))==null?void 0:(a=s.get_message(u))==null?void 0:a.ret_btype_id()}if(Array.isArray(r)){if(typeof t==="string"){t=O.lang_btypes().get(t).inner_including_ranges().id()}return new g(this.db,{t:"NodeList",type:t,id:this.parent_id(),field:this._path.join(".")})}if(r&&i(r)==="object"){if(O._is_geographic_object(r,t)){return r}return this}var c=S.rehydrate(this.db,r,t);return c}},{key:"_extract",value:function e(t){var r;var o=n((r=this._path)!=null?r:[]),s;try{for(o.s();!(s=o.n()).done;){var i,a;var l=s.value;t=(i=(a=t)==null?void 0:a[l])!=null?i:null}}catch(e){o.e(e)}finally{o.f()}return t}}]);return r}(h);t.exports=w;var O=e("../db_utils");var S=e("../hydrate")},{"../db_utils":421,"../hydrate":422,"./Dynamic":458,"./ListWrapper":460,"./StaticNode":465,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],462:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}function a(e){var t=c();return function r(){var n=f(e),o;if(t){var s=f(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return l(this,o)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}var d=e("./ListWrapper");var p=function(e){s(r,e);var t=a(r);function r(e){o(this,r);var n=e.parent_id();var s=e._path.join(".");return t.call(this,e.db,{t:"NodeList",id:n,field:s})}return r}(d);p.rehydrate=function(e,t){return new p(e.get_node(t))};t.exports=p},{"./ListWrapper":460,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],463:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}function a(e){var t=c();return function r(){var n=f(e),o;if(t){var s=f(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return l(this,o)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}var d=e("../../u");var p=e("../hydrate");var _=e("./ListWrapper");var m=function(e){s(r,e);var t=a(r);function r(e,n){o(this,r);var s=n.sorts_list;var i=e.query;var a=e.db;return t.call(this,a,{t:"Sort",sorts_list:s,prev:i})}return r}(_);m.rehydrate=function(e,t){var r=d.incremental_json_parse(t),n=r.source_list,o=r.properties;return new m(p.rehydrate(e,n),o)};t.exports=m},{"../../u":687,"../hydrate":422,"./ListWrapper":460,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],464:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return u(e,t)}function c(e){var t=p();return function r(){var n=_(e),o;if(t){var s=_(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return f(this,o)}}function f(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return d(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}var m=e("../../u");var y=e("../../u/shared/async/b_fiber");var v=e("../../logger");var b=e("../../lang/btype_ids");var h=e("./ListWrapper");var j=false;var g=function(e){l(r,e);var t=c(r);function r(e,n,s){var i;a(this,r);(i=n)!=null?i:n=w().db_instance();if(s==null){var l;if(!j){v.error("StaticList created without value_id")}var u=o(e),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;if(f==null){y.optional_pause();continue}s=r.guess_value_id(f);if(!s){throw new m.UnexpectedError("could not guess value_id",{dehydrated:O.dehydrate_tree(e)})}break}}catch(e){u.e(e)}finally{u.f()}(l=s)!=null?l:s="null"}return t.call(this,n,{t:"Static",data:S.array_to_ids(s,e),value_id:s})}return r}(h);g.rehydrate=function(e,t){var r=O._rehydrate_value_id_data(e,t),n=r.value_id,o=r.data;return new g(o,e,n)};g.guess_value_id=function(e){if(e==null){return null}else if(typeof e==="string"){return"text"}else if(typeof e==="number"){return"number"}else if(typeof e._type==="function"){return e._type()}else if(typeof e==="boolean"){return"sys.bool"}else if(e instanceof h){return b.list_type(e.get_item_btype_id())}else{return null}};t.exports=g;var w=e("../../lib");var O=e("../hydrate");var S=e("../db_utils")},{"../../lang/btype_ids":536,"../../lib":614,"../../logger":617,"../../u":687,"../../u/shared/async/b_fiber":696,"../db_utils":421,"../hydrate":422,"./ListWrapper":460,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],465:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return i(t)==="symbol"?t:String(t)}function f(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(i(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("../../u");var j=e("./Dynamic");var g=e("../db_utils");var w=e("./value_types");var O=e("./registry");var S=e("../../logger");var k=function(e){d(r,e);var t=_(r);function r(e,n,o){var s,i;var l;a(this,r);l=t.call(this);l.data=e;l.db=n;l.value_id=o;(i=(s=l).db)!=null?i:s.db=E().db_instance();return l}u(r,[{key:"get_data",value:function e(){return this.data}},{key:"set",value:function e(){return S.debug("SETTING TO A STATIC NODE... IGNORING THIS")}},{key:"push",value:function e(){return S.debug("PUSHING TO A STATIC NODE.... IGNORING THIS")}},{key:"raw",value:function e(){if(O.is(this.data,w.LIST_WRAPPER)){return this.data.get_children()}return this.data}},{key:"_type",value:function e(){return this.value_id}},{key:"child",value:function e(t){var o,s;var a=this.get_data();var l=String(t).split(".");if(l.length>1&&i(a[l[0]])==="object"){o=a;var u=n(l),c;try{for(u.s();!(c=u.n()).done;){var f;var d=c.value;o=(f=o)==null?void 0:f[d]}}catch(e){u.e(e)}finally{u.f()}}else{o=a==null?void 0:a[t]}if(this.value_id!=null){if(this.value_id==="user"&&t==="authentication"||t.indexOf("authentication.")===0){s="sys.json"}else if(this.value_id==="user"&&t==="user_signed_up"){s="boolean"}else if(this.value_id==="user"&&t==="StripeCustomerID"){s="text"}else if(this.value_id==="sys.json"){s="sys.json"}else{var p,_;s=(p=g.lang_btypes().get(this.value_id))==null?void 0:(_=p.get_message(t))==null?void 0:_.ret_btype_id();if(s==="null"){s=null}if(!s){S.owner_error("Could not find StaticNode child value id",{display:"Cannot evaluate the child ".concat(t," on type ").concat(this.value_id," because it does not exist"),ours:this.value_id,name:t})}}}else{s=null}return new r(o,this.db,s)}},{key:"get",value:function e(){return g._static_get(this.get_data(),this.db,this.value_id)}},{key:"to_json",value:function e(){var t;(t=this._json_cache)!=null?t:this._json_cache=this.compute_to_json();return this._json_cache}},{key:"compute_to_json",value:function e(){return{_class:"StaticNode",data:x.dehydrate_tree(this.data),value_id:this.value_id}}},{key:"dehydrate",value:function e(){var t,r,n,o;var s=x._dehydrate_value_id_data(this.data,this.value_id);var i=h.incremental_json_stringify({data:x.dehydrate_tree(this.data),value_id:this.value_id});(r=(t=this.db).__StaticNode_rehydrate_cache)!=null?r:t.__StaticNode_rehydrate_cache={};(o=(n=this.db.__StaticNode_rehydrate_cache)[i])!=null?o:n[i]=this;return x.dehydrate_prefix("StaticNode")+s}}]);return r}(j);function A(e,t){var r,n,o;var s=t.data,i=t.value_id;var a=h.incremental_json_stringify({data:x.dehydrate_tree(s),value_id:i});(r=e.__StaticNode_rehydrate_cache)!=null?r:e.__StaticNode_rehydrate_cache={};(o=(n=e.__StaticNode_rehydrate_cache)[a])!=null?o:n[a]=new k(s,e,i);return e.__StaticNode_rehydrate_cache[a]}k.from_json=function(e,t){var r=t.data,n=t.value_id;return new k(r,e,n)};k.rehydrate=function(e,t){var r=x._rehydrate_value_id_data(e,t),n=r.value_id,o=r.data;return A(e,{data:o,value_id:n})};t.exports=k;var E=e("../../lib");var x=e("../hydrate")},{"../../lib":614,"../../logger":617,"../../u":687,"../db_utils":421,"../hydrate":422,"./Dynamic":458,"./registry":471,"./value_types":472,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],466:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u");var v=e("../db_utils");var b=e("./StaticNode");var h=e("../../safe_require");h.safe_register("./db/values/StaticObject",t.exports);var j=function(e){u(r,e);var t=f(r);function r(e,n,s,i,a,l){var u;var c;o(this,r);(u=l)!=null?u:l={};c=t.call(this,e,n,s);c._exists=i;c._bubble_id=a;c.allow_email=l.allow_email;return c}i(r,[{key:"_id",value:function e(){var t;if(this._bubble_id!=null){return this._bubble_id}var r=this.get_data();if(r!=null&&r._id){if(typeof r._id==="function"){return r._id()}else{return r._id}}(t=this.__id)!=null?t:this.__id=y.incremental_digest(this.to_json());return this.__id}},{key:"get",value:function e(){return this}},{key:"ignore_privacy",value:function e(){var t=this;if(this.db.ignore_privacy_rules){return this}else{return w.extend({ignore_privacy_rules:true},(function(){return new r(t.data,w().db_instance(),t.value_id)}))}}},{key:"exists",value:function e(){var t;return(t=this._exists)!=null?t:false}},{key:"delete",value:function e(){}},{key:"poll",value:function e(){}},{key:"is_equal_to",value:function e(t){if(typeof(t==null?void 0:t._id)!=="function"){return false}return t._id()===this._id()}},{key:"get_email",value:function e(){if(this.allow_email){return v.email_getter(this)}return undefined}},{key:"is_logged_in",value:function e(){return undefined}},{key:"to_json",value:function e(){var t;(t=this._json_cache)!=null?t:this._json_cache=this.compute_to_json();return this._json_cache}},{key:"compute_to_json",value:function e(){return{_class:"StaticObject",data:O.dehydrate_tree(this.data),value_id:this.value_id}}},{key:"dehydrate",value:function e(){var t,r,n,o;var s=O._dehydrate_value_id_data(this.data,this.value_id);var i=y.incremental_json_stringify({data:O.dehydrate_tree(this.data),value_id:this.value_id});(r=(t=this.db).__StaticObject_rehydrate_cache)!=null?r:t.__StaticObject_rehydrate_cache={};(o=(n=this.db.__StaticObject_rehydrate_cache)[i])!=null?o:n[i]=this;return O.dehydrate_prefix("StaticObject")+s}}]);return r}(b);function g(e,t){var r,n,o;var s=t.data,i=t.value_id;var a=y.incremental_json_stringify({data:O.dehydrate_tree(s),value_id:i});(r=e.__StaticObject_rehydrate_cache)!=null?r:e.__StaticObject_rehydrate_cache={};(o=(n=e.__StaticObject_rehydrate_cache)[a])!=null?o:n[a]=new j(s,e,i);return e.__StaticObject_rehydrate_cache[a]}j.from_json=function(e,t){var r=t.data,n=t.value_id;return new j(r,e,n)};j.rehydrate=function(e,t){var r=O._rehydrate_value_id_data(e,t),n=r.value_id,o=r.data;return g(e,{data:o,value_id:n})};t.exports=j;var w=e("../../lib");var O=e("../hydrate")},{"../../lib":614,"../../safe_require":643,"../../u":687,"../db_utils":421,"../hydrate":422,"./StaticNode":465,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],467:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}function a(e){var t=c();return function r(){var n=f(e),o;if(t){var s=f(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return l(this,o)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}var d=e("../../u");var p=e("../hydrate");var _=e("./ListWrapper");var m=function(e){s(r,e);var t=a(r);function r(e,n){o(this,r);var s=n.value_id,i=n.message,a=n.properties,l=n._raw,u=n.arg;var c=e.query;var f=e.db;a=p.dehydrate_tree(a);return t.call(this,f,{t:"Transform",prev:c,value_id:s,message:i,properties:a,_raw:l,arg:u})}return r}(_);m.rehydrate=function(e,t){var r=d.incremental_json_parse(t),n=r.source_list,o=r.transform_data;return new m(p.rehydrate(e,n),o)};t.exports=m},{"../../u":687,"../hydrate":422,"./ListWrapper":460,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],468:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)i(e,t)}function i(e,t){i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return i(e,t)}function a(e){var t=c();return function r(){var n=f(e),o;if(t){var s=f(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return l(this,o)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function c(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function f(e){f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return f(e)}var d=e("../hydrate");var p=e("./ListWrapper");var _=function(e){s(r,e);var t=a(r);function r(e){o(this,r);var n=e.query;var s=e.db;return t.call(this,s,{t:"Unique",prev:n})}return r}(p);_.rehydrate=function(e,t){return new _(d.rehydrate(e,t))};t.exports=_},{"../hydrate":422,"./ListWrapper":460,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],469:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=r;var c=e("../../safe_require");c.safe_register("./db/values/db_values",u);u.registry=e("./registry");var f=e("./value_types");Object.entries(f).forEach((function(e){var t=n(e,2),r=t[0],o=t[1];return u[r]=o}))},{"../../safe_require":643,"./registry":471,"./value_types":472,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],470:[function(e,t,r){"use strict";var n=r;var o=e("./registry");var s=e("./value_types");var i=e("../db");var a=e("./Dynamic");var l=e("./StaticNode");var u=e("./StaticObject");var c=e("./ListWrapper");var f=e("./NodeBase");var d=e("./StaticList");var p=e("./TransformList");var _=e("./ConcatList");var m=e("./IntersectList");var y=e("./UniqueList");var v=e("./SortedList");var b=e("./NodeList");var h=e("./ClientDBNode");i.ClientDBNode=h;var j=e("./ClientDBObject");n.register_values=function(){o.add(s.DYNAMIC,a);o.add(s.LIST_WRAPPER,c);o.add(s.NODE_BASE,f);o.add(s.STATIC_NODE,l);o.add(s.STATIC_OBJECT,u);o.add(s.STATIC_LIST,d);o.add(s.TRANSFORM_LIST,p);o.add(s.CONCAT_LIST,_);o.add(s.INTERSECT_LIST,m);o.add(s.UNIQUE_LIST,y);o.add(s.SORTED_LIST,v);o.add(s.NODE_LIST,b);o.add(s.CLIENT_DB_NODE,h);o.add(s.CLIENT_DB_OBJECT,j)}},{"../db":420,"./ClientDBNode":455,"./ClientDBObject":456,"./ConcatList":457,"./Dynamic":458,"./IntersectList":459,"./ListWrapper":460,"./NodeBase":461,"./NodeList":462,"./SortedList":463,"./StaticList":464,"./StaticNode":465,"./StaticObject":466,"./TransformList":467,"./UniqueList":468,"./registry":471,"./value_types":472}],471:[function(e,t,r){"use strict";e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.object.keys.js");function n(e,t,r){if(o()){n=Reflect.construct.bind()}else{n=function e(t,r,n){var o=[null];o.push.apply(o,r);var i=Function.bind.apply(t,o);var a=new i;if(n)s(a,n.prototype);return a}}return n.apply(null,arguments)}function o(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function s(e,t){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return s(e,t)}var i=r;var a=e("../../u/shared/errors");var l={};i.add=function(e,t){l[e]=t};i.has=function(e){return e in l};i.get=function(e){if(!l[e]){throw new a.UnexpectedError("Unknown db value type",{name:e})}return l[e]};i.is=function(e,t){return e instanceof l[t]};i.list=function(){return Object.keys(l)};i.create=function(e){var t=i.get(e);for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++){o[s-1]=arguments[s]}return n(t,o)}},{"../../u/shared/errors":708,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.reflect.construct.js":963}],472:[function(e,t,r){"use strict";t.exports={DYNAMIC:"Dynamic",LIST_WRAPPER:"ListWrapper",NODE_BASE:"NodeBase",STATIC_NODE:"StaticNode",STATIC_OBJECT:"StaticObject",STATIC_LIST:"StaticList",TRANSFORM_LIST:"TransformList",CONCAT_LIST:"ConcatList",INTERSECT_LIST:"IntersectList",UNIQUE_LIST:"UniqueList",SORTED_LIST:"SortedList",NODE_LIST:"NodeList",CLIENT_DB_NODE:"ClientDBNode",CLIENT_DB_OBJECT:"ClientDBObject",SERVER_DB_NODE:"ServerDBNode",SERVER_DB_OBJECT:"ServerDBObject"}},{}],473:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.dom-collections.for-each.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var d=e("./graph.js");var p=e("./../lang/appquery");var _=e("../monitoring/apm");var m=e("./node_types");var y=e("../u/shared/errors");var v=100;var b="DDG construction timed out";var h=function e(t){return t.json.toUniqueString()};var j=function e(t){return g(t.owner.id(),t.node_name())};var g=function e(t,r){return"".concat(t,".").concat(r)};var w=function e(t){var r;return"".concat(t.type(),": ").concat((r=t.display)==null?void 0:r.call(t))};var O=function e(t){return"".concat(t.owner.type(),": ").concat(t.node_name())};var S={get_group_data:true,get_list_data:true};var k=function e(t){return t.name()in S};var A=function e(t){var r=t.prior().get_static_property("element_id");return g(r,"data_source")};var E={getElementParentDependencies:function e(t){var r,n;var o=(r=t.owner)==null?void 0:(n=r.parent())==null?void 0:n.id();if(!o){return[]}else{var s=g(o,"data_source");return[s]}},getInjectedValueDependencies:function e(t){var r=t.owner.property("data_source");var n=h(r);return[n]},getMessageNodeDependencies:function e(t){if(t.has_args()){return[h(t.args())]}else{return[]}}};var x=function e(t){var r=[];switch(t.type()){case"ElementParent":r=E.getElementParentDependencies(t);break;case"InjectedValue":r=E.getInjectedValueDependencies(t);break;case"Message":r=E.getMessageNodeDependencies(t);break}var n=u(t.properties()),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;r.push(h(s))}}catch(e){n.e(e)}finally{n.f()}return r};var M=function(){function e(t){var r=this;o(this,e);_.traceSpan("construct_ddg",{},(function(){var e=p.get_page_by_name(t);r.graph=new d;r.nodes=new Map;r.startedConstruction=Date.now();r.generateDependencyGraph(e)}))}i(e,[{key:"getEvaluationOrder",value:function e(){return this.graph.topologicalSort().reverse()}},{key:"getDependencies",value:function e(t){return this.graph.adjacent(t)}},{key:"getNode",value:function e(t){return this.nodes.get(t)}},{key:"getNodeIds",value:function e(){return this.graph.nodes()}},{key:"setLabel",value:function e(t,r,n){var o=this.getNode(t);if(!o)return;o.labels[r]=n}},{key:"getLabel",value:function e(t,r){var n;var o=this.getNode(t);if(!o)return null;return(n=o.labels)==null?void 0:n[r]}},{key:"addPropertyNode",value:function e(t){var r=j(t);var n=function e(){return O(t)||r};var o={id:r,topLevelExpressionId:h(t),display:n,expression:t,labels:{},type:m.Property};this.graph.addNode(r);this.nodes.set(r,o);return r}},{key:"addExpressionNode",value:function e(t,r){var n=h(t);var o=function e(){return w(t)||n};var s={id:n,display:o,expression:t,labels:{},type:m.Expression,containingPropertyNodeId:r};this.graph.addNode(n);this.nodes.set(n,s);return n}},{key:"addDependency",value:function e(t,r){this.graph.addEdge(t,r)}},{key:"addDependencies",value:function e(t,r){var n=this;r.forEach((function(e){return n.addDependency(t,e)}))}},{key:"analyzeElement",value:function e(t){if(Date.now()-this.startedConstruction>v)throw new y.ExpectedError(b);var r=u(t.properties()),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;this.analyzeProperty(o)}}catch(e){r.e(e)}finally{r.f()}var s=u(t.elements()),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;this.analyzeElement(a)}}catch(e){s.e(e)}finally{s.f()}}},{key:"analyzeMessageNode",value:function e(t,r,n){var o=this.analyzeExpression(t);this.addDependency(o,r);if(t.has_args()){this.analyzeExpression(t.args(),n)}if(k(t)){this.addDependency(o,A(t))}}},{key:"analyzeProperty",value:function e(t){var r=this.addPropertyNode(t);var n=this.analyzeExpression(t,r);this.addDependency(r,n);return r}},{key:"analyzeExpression",value:function e(t,r){var n=this.addExpressionNode(t,r);var o=x(t);this.addDependencies(n,o);if(t.has_next()&&!t.next().is_empty()){this.analyzeMessageNode(t.next(),n,r)}var s=u(t.properties()),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;this.analyzeExpression(a,r)}}catch(e){s.e(e)}finally{s.f()}return n}},{key:"generateDependencyGraph",value:function e(t){var r=u(t.elements()),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;this.analyzeElement(o)}}catch(e){r.e(e)}finally{r.f()}}},{key:"printDependencyGraph",value:function e(){var t=this.graph.serializeForVisualization(this.nodes);console.log("Paste the following into the visualization tool here: https://data-dag-viz.bubbleapps.io/display-graph");console.log(JSON.stringify(t))}}]);return e}();t.exports=M},{"../monitoring/apm":619,"../u/shared/errors":708,"./../lang/appquery":535,"./graph.js":476,"./node_types":478,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],474:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/web.dom-collections.for-each.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){return d(e)||f(e,t)||_(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function d(e){if(Array.isArray(e))return e}function p(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function _(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var y=e("../lang/evaluation/evaluate");var v=e("../lang/evaluation/eval_node_state");var b=e("../client/epoch");var h=e("../lib");var j=e("./ddg_utils");var g=e("../logger");var w=e("./node_types");var O=e("../db/values/ListWrapper");var S=e("../monitoring/apm");var k=e("../u/shared/errors");var A=e("../page_thing_utils");var E=r;var x=.01;var M=100;var P="Prefetch timed out";var T={prefetch_attempted_nodes:0,prefetch_definite_successes:0,prefetch_possible_successes:0,prefetch_definite_failures:0,prefetchable_lists:0,prefetched_lists:0};var I=function e(t){if(Date.now()-t>M)throw new k.ExpectedError(P)};var C=function e(t){if(t.type===w.Property){return true}if(j.isElementReferenceExpression(t.expression)){return false}return true};var R=function e(t){var r=t.getNodeIds();var n=p(r),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;var i=t.getNode(s);if(!i)continue;t.setLabel(s,"isEvaluable",C(i))}}catch(e){n.e(e)}finally{n.f()}};var N=function e(t){if(t.type===w.Property){return false}if(j.isDataFetchExpression(t.expression)){return true}return false};var L=function e(t){var r=t.getNodeIds();var n=p(r),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;var i=t.getNode(s);if(!i)continue;t.setLabel(s,"isDataFetch",N(i))}}catch(e){n.e(e)}finally{n.f()}};var z=function e(t){var r=t.getNodeIds();var n=p(r),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;var i=t.getNode(s);if(!i)continue;if(i.type===w.Property){if(i.expression.node_name()==="data_source"){var a=i.expression.owner;if(a.type()==="RepeatingGroup"&&a.get_static_property("layout_style")==="limit_items"){var l=a.get_static_property("rows",true)*a.get_static_property("columns",true);t.setLabel(s,"listLengthDemand",l);var u=i.topLevelExpressionId;t.setLabel(u,"listLengthDemand",l)}}}}}catch(e){n.e(e)}finally{n.f()}};var D=function e(t){var r=t.getEvaluationOrder();var n=p(r),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;var i=true;if(t.getLabel(s,"isEvaluable")===false){i=false}else{var a=t.getDependencies(s);i=a.every((function(e){return t.getLabel(e,"isPrefetchable")}))}t.setLabel(s,"isPrefetchable",i)}}catch(e){n.e(e)}finally{n.f()}};var q=function e(){var t=A.get_page_thing_id(h().location);return{datasources:{current_user:function e(){return h().current_user()},current_page_item:function e(){if(t){return h().db_instance().get(t)}}}}};var B=function e(t,r){var n=t.getNode(r.containingPropertyNodeId);return n==null?void 0:n.expression};var U=function e(t,r,n,o){var s=r.expression;T.prefetch_attempted_nodes++;var i;var a=h().db_instance().get_all_time_queued_fetches();var l=B(t,r);try{var c=v.with_eval_node(l,(function(){return y.evaluate_json(s.json,n)})),f=u(c,1),d=f[0];if(d instanceof O){T.prefetchable_lists++;var p=t.getLabel(r.id,"listLengthDemand");if(p){T.prefetched_lists++;d.get_children(0,p)}}}catch(e){i=e}var _=h().db_instance().get_all_time_queued_fetches();var m=_>a;if(m){T.prefetch_definite_successes++}else if(i&&!(i instanceof k.NotReadyError)){T.prefetch_definite_failures++;g.info("Prefetch evaluation threw unexpected error",{eval_error:i});if(o){g.info("Prefetch definite failure",{node:r})}}else{T.prefetch_possible_successes++;if(o){g.info("Prefetch possible success",{node:r})}}};var W=function e(t,r){return N(r)&&t.getLabel(r.id,"isPrefetchable")};var F=function e(t,r){return S.traceSpan("startPrefetching",{},(function(){var e=Date.now();var n=q();R(t);I(e);if(r){L(t)}z(t);I(e);D(t);I(e);var o=t.getEvaluationOrder().map((function(e){return t.getNode(e)})).filter((function(e){return e!==undefined}));var s=o.filter((function(e){return W(t,e)}));s.forEach((function(o){I(e);U(t,o,n,r)}));h().db_instance().prefetch_queued_fetches()}))};E.prefetchData=function(){return S.traceSpan("prefetchData",{},(function(){var e={};var t=null;try{var r=h().location.get_query().prefetch==="true";if(r||Math.random()<x){t="PREFETCHING_SUCCESS";var n=h().ddg();if(n){try{F(n,r)}catch(e){if(e.message===P){t="PREFETCHING_TIMED_OUT"}else{throw e}}}else{t="DDG_GENERATION_FAILED"}var o=h().db_instance().get_prefetched_request_counts();e=s(s({},T),{},{prefetch_msearch_request_count:o.msearch,prefetch_mget_request_count:o.mget,prefetch_maggregate_request_count:o.maggregate});if(r){g.info("Prefetch metrics",e)}}}catch(e){g.info("Unexpected error in DDG prefetch",{e:e});t="PREFETCHING_ERROR"}e.experiment_flag=t;b.addEpochLabels(e)}))}},{"../client/epoch":41,"../db/values/ListWrapper":460,"../lang/evaluation/eval_node_state":571,"../lang/evaluation/evaluate":572,"../lib":614,"../logger":617,"../monitoring/apm":619,"../page_thing_utils":623,"../u/shared/errors":708,"./ddg_utils":475,"./node_types":478,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],475:[function(e,t,r){"use strict";var n=r;var o={Search:true,GetDataFromAPI:true,CurrentPageItem:true,CurrentUser:true};n.isDataFetchExpression=function(e){return e.type()in o};var s={ElementParent:true,GetElement:true};n.isElementReferenceExpression=function(e){return e.type()in s}},{}],476:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function i(e){var t=f();return function r(){var n=_(e),o;if(t){var s=_(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return a(this,o)}}function a(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return l(e)}function l(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function u(e){var t=typeof Map==="function"?new Map:undefined;u=function e(r){if(r===null||!d(r))return r;if(typeof r!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return c(r,arguments,_(this).constructor)}n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return p(n,r)};return u(e)}function c(e,t,r){if(f()){c=Reflect.construct.bind()}else{c=function e(t,r,n){var o=[null];o.push.apply(o,r);var s=Function.bind.apply(t,o);var i=new s;if(n)p(i,n.prototype);return i}}return c.apply(null,arguments)}function f(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function d(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}var m=function(e){s(r,e);var t=i(r);function r(e){var n;o(this,r);n=t.call(this,e);Object.setPrototypeOf(l(n),r.prototype);return n}return r}(u(Error));function y(e){var t={addNode:s,removeNode:i,nodes:a,adjacent:l,addEdge:d,removeEdge:p,hasEdge:_,setEdgeWeight:c,getEdgeWeight:f,indegree:y,outdegree:v,depthFirstSearch:b,hasCycle:h,lowestCommonAncestors:j,topologicalSort:g,shortestPath:w,serializeForVisualization:O,serialize:S,deserialize:k};var r={};var o={};if(e){k(e)}function s(e){r[e]=l(e);return t}function i(e){Object.keys(r).forEach((function(t){r[t].forEach((function(r){if(r===e){p(t,r)}}))}));delete r[e];return t}function a(){var e={};Object.keys(r).forEach((function(t){e[t]=true;r[t].forEach((function(t){e[t]=true}))}));return Object.keys(e)}function l(e){return r[e]||[]}function u(e,t){return e+"|"+t}function c(e,r,n){o[u(e,r)]=n;return t}function f(e,t){var r=o[u(e,t)];return r===undefined?1:r}function d(e,r,n){s(e);s(r);l(e).push(r);if(n!==undefined){c(e,r,n)}return t}function p(e,n){if(r[e]){r[e]=l(e).filter((function(e){return e!==n}))}return t}function _(e,t){return l(e).includes(t)}function y(e){var t=0;function n(r){if(r===e){t++}}Object.keys(r).forEach((function(e){r[e].forEach(n)}));return t}function v(e){return e in r?r[e].length:0}function b(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!e){e=a()}if(typeof t!=="boolean"){t=true}var n={};var o={};var s=[];function i(e){if(o[e]&&r){throw new m("Cycle found")}if(!n[e]){n[e]=true;o[e]=true;l(e).forEach(i);o[e]=false;s.push(e)}}if(t){e.forEach(i)}else{e.forEach((function(e){n[e]=true}));e.forEach((function(e){l(e).forEach(i)}))}return s}function h(){try{b(undefined,true,true);return false}catch(e){if(e instanceof m){return true}else{throw e}}}function j(e,t){var r=[];var n=[];function o(e,s){if(!e[s]){e[s]=true;r.push(s);if(s===t){n.push(s);return false}return l(s).every((function(t){return o(e,t)}))}else{return true}}function s(e,t){if(!e[t]){e[t]=true;if(r.indexOf(t)>=0){n.push(t)}else if(n.length===0){l(t).forEach((function(t){s(e,t)}))}}}if(o({},e)){s({},t)}return n}function g(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;return b(e,t,true).reverse()}function w(e,t){var r={};var o={};var s={};function i(){a().forEach((function(e){r[e]=Infinity}));if(r[e]!==Infinity){throw new Error("Source node is not in the graph")}if(r[t]!==Infinity){throw new Error("Destination node is not in the graph")}r[e]=0}function u(){a().forEach((function(e){s[e]=true}))}function c(){return Object.keys(s).length===0}function d(){var e=Infinity;var t;Object.keys(s).forEach((function(n){if(r[n]<e){e=r[n];t=n}}));if(t===undefined){s={};return null}delete s[t];return t}function p(e,t){var n=f(e,t);if(r[t]>r[e]+n){r[t]=r[e]+n;o[t]=e}}function _(){i();u();var e=function e(){var t=d();if(t===null)return{v:void 0};l(t).forEach((function(e){p(t,e)}))};while(!c()){var t=e();if(n(t)==="object")return t.v}}function m(){var r=[];var n=0;var s=t;while(o[s]){r.push(s);n+=f(o[s],s);s=o[s]}if(s!==e){throw new Error("No path found")}r.push(s);r.reverse();r.weight=n;return r}_();return m()}function O(e){var t={nodes:a().map((function(t){var r=e.get(t);return{id:t,display:r?r.display():t,labels:r?r.labels:{},containingPropertyNodeId:r?r.containingPropertyNodeId:null}})),links:[]};var r=function e(r){for(var n=0;n<t.nodes.length;n++){if(t.nodes[n].id===r)return n}return null};t.nodes.forEach((function(e){var n=e.id;l(n).forEach((function(e){var o=r(n);var s=r(e);if(o===null||s===null)return;t.links.push({source:o,target:s,weight:f(n,e)})}))}));return t}function S(){var e={nodes:a().map((function(e){return{id:e}})),links:[]};e.nodes.forEach((function(t){var r=t.id;l(r).forEach((function(t){e.links.push({source:r,target:t,weight:f(r,t)})}))}));return e}function k(e){e.nodes.forEach((function(e){s(e.id)}));e.links.forEach((function(e){d(e.source,e.target,e.weight)}));return t}return t}t.exports=y},{"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.map.js":943,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],477:[function(e,t,r){"use strict";var n=r;var o=e("./data_dependency_graph");var s=e("./ddg_optimizations");var i=e("../logger");n.instance=function(e){var t;return function(){if(t===undefined){try{t=new o(e)}catch(e){t=null;if(e.message==="DDG construction timed out"){i.debug("DDG construction timed out")}else{i.info("Unexpected error while constructing DDG",{e:e})}}}return t}};n.DataDependencyGraph=o;n.optimizations=s},{"../logger":617,"./data_dependency_graph":473,"./ddg_optimizations":474}],478:[function(e,t,r){"use strict";var n={Expression:"Expression",Property:"Property"};t.exports=n},{}],479:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=r;var c=e("./u")},{"./u":687,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],480:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");Object.defineProperty(r,"__esModule",{value:true});r.SINGLE_SECTION=r.DropdownContents=void 0;r.sort_by_display=q;e("core-js/modules/es.array.flat.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.from-entries.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=e("../../../constants/composer");var s=i(e("lodash/isEqual"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=k(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)u(e,t)}function u(e,t){u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return u(e,t)}function c(e){var t=p();return function r(){var n=_(e),o;if(t){var s=_(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return f(this,o)}}function f(e,t){if(t&&(m(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return d(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function _(e){_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return _(e)}function m(e){"@babel/helpers - typeof";return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){t=I(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function h(e){return w(e)||g(e)||k(e)||j()}function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function g(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function w(e){if(Array.isArray(e))return A(e)}function O(e,t){return x(e)||E(e,t)||k(e,t)||S()}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function k(e,t){if(!e)return;if(typeof e==="string")return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return A(e,t)}function A(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function E(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function x(e){if(Array.isArray(e))return e}function M(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function P(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,I(n.key),n)}}function T(e,t,r){if(t)P(e.prototype,t);if(r)P(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function I(e){var t=C(e,"string");return m(t)==="symbol"?t:String(t)}function C(e,t){if(m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var R="main";r.SINGLE_SECTION=R;var N=function(){function e(t,r){var o=this;M(this,e);this._content=void 0;this.content=void 0;this.strategy=void 0;this.strategy=r!=null?r:"Eager";this.content=function(){var e;(e=o._content)!=null?e:o._content=(0,n.createMemo)(t,{},{equals:s.default});return o._content()};if(this.strategy==="Eager"){this.content()}}T(e,[{key:"all",value:function e(){return Object.values(this.content()).flat()}},{key:"section_names",value:function e(){return Object.keys(this.content())}},{key:"section",value:function e(t){return this.content()[t]}},{key:"find",value:function e(t,r){if(r){var n;return(n=this.content()[r])==null?void 0:n.find(t)}for(var o=0,s=Object.values(this.content());o<s.length;o++){var i=s[o];var a=i.find(t);if(a!=null){return a}}return undefined}},{key:"filter",value:function t(r){var n=this;return new e((function(){return Object.fromEntries(Object.entries(n.content()).map((function(e){var t=O(e,2),n=t[0],o=t[1];return[n,o.filter(r)]})).filter((function(e){var t=O(e,2),r=t[0],n=t[1];return n.length>0})))}))}},{key:"map",value:function t(r){var n=this;return new e((function(){return Object.fromEntries(Object.entries(n.content()).map((function(e){var t=O(e,2),n=t[0],o=t[1];return[n,o.map(r)]})))}),this.strategy)}},{key:"flatMap",value:function t(r){var n=this;return new e((function(){return Object.fromEntries(Object.entries(n.content()).map((function(e){var t=O(e,2),n=t[0],o=t[1];return[n,o.flatMap(r)]})))}),this.strategy)}},{key:"sort",value:function t(r){var n=this;return new e((function(){return Object.fromEntries(Object.entries(n.content()).map((function(e){var t=O(e,2),n=t[0],o=t[1];return[n,h(o).sort(r)]})))}),this.strategy)}},{key:"sort_section",value:function t(r,n){var o=this;return new e((function(){return Object.fromEntries(Object.entries(o.content()).map((function(e){var t=O(e,2),o=t[0],s=t[1];return[o,o===r?h(s).sort(n):h(s)]})))}),this.strategy)}},{key:"add_items",value:function t(){var r=this;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}return new e((function(){var e=v({},r.content());for(var t=0,n=o;t<n.length;t++){var s;var i=O(n[t],2),a=i[0],l=i[1];e[a]=[].concat(h((s=e[a])!=null?s:[]),h(l))}return e}),this.strategy)}}]);return e}();var L=function(e){l(r,e);var t=c(r);function r(e){M(this,r);return t.call(this,(function(){return b({},R,e)}))}return r}(N);var z=function(){function e(){M(this,e);this.names=void 0;this.contents=void 0;this.names=[];this.contents=[]}T(e,[{key:"section",value:function e(t,r){this.names.push(t);this.contents.push(r);return this}},{key:"build",value:function e(t){var r=this;return D.multi_section((function(){return Object.fromEntries(r.names.map((function(e){return typeof e==="function"?e():e})).map((function(e,t){return[e,r.contents[t]()]})))}),t)}}]);return e}();var D=function(){function e(t,r){M(this,e);this._sections=void 0;this._options=void 0;this._sections=t;this._options=r}T(e,[{key:"filter",value:function t(r){return new e(this._sections.filter(r),this._options)}},{key:"map",value:function t(r,n){return new e(this._sections.map(r),v(v({},this._options),{},{new_option_accelerator:n?undefined:this._options.new_option_accelerator}))}},{key:"flatMap",value:function t(r,n){return new e(this._sections.flatMap(r),v(v({},this._options),{},{new_option_accelerator:n?undefined:this._options.new_option_accelerator}))}},{key:"sort",value:function t(r){return new e(this._sections.sort(r),this._options)}},{key:"sort_section",value:function t(r,n){return new e(this._sections.sort_section(r,n),this._options)}},{key:"with_options",value:function t(r){return new e(this._sections,v(v({},this._options),r))}},{key:"add_items",value:function t(){var r;return new e((r=this._sections).add_items.apply(r,arguments),this._options)}},{key:"all",value:function e(){return this._sections.all()}},{key:"section_names",value:function e(){var t=this._sections.section_names();if(this._options.section_order){var r=Object.fromEntries(this._options.section_order.map((function(e,t){return[e,t]})));t.sort((function(e,t){var n,o;return((n=r[e])!=null?n:Infinity)-((o=r[t])!=null?o:Infinity)}))}return t}},{key:"section",value:function e(t){return this._sections.section(t)}},{key:"find",value:function e(t,r){return this._sections.find(t,r)}},{key:"get_input_type",value:function e(){var t;return(t=this._options.input_type)!=null?t:o.COMPOSER_INPUT_TYPES.REAL_TIME_SEARCH}},{key:"get_dropdown_width",value:function e(){var t;return(t=this._options.dropdown_width)!=null?t:"long"}},{key:"get_new_option_accelerator",value:function e(){return this._options.new_option_accelerator}},{key:"should_show_sections",value:function e(){var t;return(t=this._options.show_sections)!=null?t:false}},{key:"is_optional",value:function e(){var t;return(t=this._options.optional)!=null?t:false}},{key:"get_display_for_literal",value:function e(t){if(this._options.get_display_for_literal!=null){return this._options.get_display_for_literal(t)}else{return null}}},{key:"get_value_for_literal",value:function e(t){if(this._options.get_value_for_literal!=null){return this._options.get_value_for_literal(t)}else{return undefined}}},{key:"ignore_type_check",value:function e(){var t;return(t=this._options.ignore_type_check)!=null?t:false}}],[{key:"empty",value:function t(r){return e.no_sections((function(){return[]}),r)}},{key:"fromObject",value:function t(r,n){var o=Object.entries(r).map((function(e){var t=O(e,2),r=t[0],n=t[1];return{display:n,value:r}}));return new e(new L(o),n!=null?n:{})}},{key:"fromList",value:function t(r,n){return new e(new L(r.map((function(e){return{display:String(e),value:e}}))),n!=null?n:{})}},{key:"no_sections",value:function t(r,n){return new e(new N((function(){return b({},R,r())}),n==null?void 0:n.evaluation_strategy),n!=null?n:{})}},{key:"multi_section",value:function t(r,n,o){if(typeof n==="function"){return new e(new N((function(){var e=r();var t={};var o=a(e),s;try{for(o.s();!(s=o.n()).done;){var i;var l=s.value;var u=n(l);(i=t[u])!=null?i:t[u]=[];t[u].push(l)}}catch(e){o.e(e)}finally{o.f()}return t}),o==null?void 0:o.evaluation_strategy),o!=null?o:{})}else{return new e(new N(r,o==null?void 0:o.evaluation_strategy),n!=null?n:{})}}},{key:"builder",value:function e(){return new z}}]);return e}();r.DropdownContents=D;function q(e,t){return e.display.toLowerCase()<t.display.toLowerCase()?1:-1}},{"../../../constants/composer":65,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.flat.js":931,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.from-entries.js":952,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/isEqual":1184}],481:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.WORKFLOW_TAB=r.VISUAL_TAB=r.VISUAL_CANVAS=r.VERSIONS_TAB=r.VERSIONS_CANVAS=r.TRANSITIONS=r.TEMPLATE_CANVAS=r.TABBAR_WIDTH=r.STYLES_TAB=r.STYLES_CANVAS=r.STATS_TAB=r.STATS_CANVAS=r.SPOT=r.SLIDABLE_PALETTE=r.SHAREDTECH_TAB=r.SHAREDTECH_CANVAS=r.SETTINGS_TAB=r.SETTINGS_CANVAS=r.SEARCH_PALETTE=r.PROP_ROW=r.PROP_NAME_SELECTOR=r.PROP_NAME=r.PROPERTY_EDITOR=r.PRIVACY_SUBTAB=r.PLUGIN_TAB=r.PLUGIN_CANVAS=r.MAIN_TABS_TAB=r.MAIN_TABS=r.MAINWINDOW=r.LOGS_TAB=r.LOGS_CANVAS=r.IMAGE_EDITOR_PALETTE=r.HIGHLIGHT_BOX=r.GENERAL_TAB=r.GENERAL_CANVAS=r.FEEDBACK_WINDOW=r.ELEMENTS_TAB=r.ELEMENTS_CANVAS=r.DOCS_CANVAS=r.DEFAULT_TOOLBOX_WIDTH=r.DEDICATED_PALETTE=r.DATA_TAB=r.DATA_CANVAS=r.CONTEXTUAL_VIDEO_PALETTE=r.CONDITIONAL=r.APPEARANCE=r.API_TAB=r.API_CANVAS=r.ACTION_CANVAS=r.ACTIONS_TAB=r.ACTIONS_CANVAS=void 0;var n=o(e("./../safe_require"));function o(e){return e&&e.__esModule?e:{default:e}}var s,i,a,l,u,c,f,d,p,_,m,y,v,b,h,j,g,w,O,S,k,A,E,x,M,P,T,I,C,R,N,L,z,D,q,B,U,W,F,G,X,$,V,H,Y,K,J,Z,Q,ee,te},{"./../safe_require":643}],482:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.node16PluginsOn=l;r.popEnabled=a;r.returnDataCustomEvent=u;r.tableElementOn=i;var n=s(e("../lib"));var o=s(e("../safe_require"));function s(e){return e&&e.__esModule?e:{default:e}}o.default.safe_register("./editor/flag_check",r);function i(){return n.default.or_throw().location.get_query().table_element==="true"}function a(){return n.default.or_throw().location.get_query().bubble_pop==="true"}function l(){return n.default.or_throw().location.get_query().node16_plugins==="true"}function u(){return n.default.or_throw().location.get_query().customeventreturn==="true"}},{"../lib":614,"../safe_require":643}],483:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=S(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function o(e){"@babel/helpers - typeof";return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){t=f(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,f(n.key),n)}}function c(e,t,r){if(t)u(e.prototype,t);if(r)u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function f(e){var t=d(e,"string");return o(t)==="symbol"?t:String(t)}function d(e,t){if(o(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(o(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p(){if(typeof Reflect!=="undefined"&&Reflect.get){p=Reflect.get.bind()}else{p=function e(t,r,n){var o=_(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return p.apply(this,arguments)}function _(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=g(e);if(e===null)break}return e}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(o(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function w(e,t){return E(e)||A(e,t)||S(e,t)||O()}function O(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function S(e,t){if(!e)return;if(typeof e==="string")return k(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return k(e,t)}function k(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function A(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function E(e){if(Array.isArray(e))return e}var x=e("../lib");var M=e("../u/shared/mode_check");var P=e("../logger");var T=e("../u/shared/async/b_async");var I=e("../u/shared/async/dependency");var C=e("../lang/evaluation/eval_node_state");var R=e("./ExternalValue");var N=2*60*1e3;var L={};var z={};var D=false;var q={};var B={};function U(e,t){for(var r in t){var n=t[r];var o=e[r];if(o&&n&&typeof o==="function"&&typeof n==="function"){if(!U(o,n)){return false}}else{if(o!==n){return false}}}return true}function W(e){var t,r;return(r=(t=B)[e])!=null?r:t[e]=T.MakeSwitch(null,"api data loaded for "+e)}function F(e,t,r,n){var o;if(r.partial){var s=H(e,t);if(s&&!s.partial&&!s.err&&U(s.data,r.data)){return}}var i=e+"_"+t;z[i]=n;L[i]=r;(o=q[i])==null?void 0:o.invalidate();W(i);if(r.partial){B[i].turn_off()}else{B[i].turn_on()}if(M.on_server()){if(!D){D=true;setTimeout(V,N)}}}function G(e,t){H(e,t);var r=e+"_"+t;W(r);return T.ensure_ready(B[r])}function X(e,t){var r=e+"_"+t;W(r);return B[r]}function $(e,t){var r,n;var o=e+"_"+t;L[o]=null;(r=q[o])==null?void 0:r.invalidate();(n=B[o])==null?void 0:n.turn_off()}function V(){D=false;var e=Date.now();var t={};var r={};var n={};var o={};for(var s=0,i=Object.entries(z);s<i.length;s++){var a=w(i[s],2),l=a[0],u=a[1];if(e<u){r[l]=u;t[l]=L[l];n[l]=q[l];o[l]=B[l]}else{var c,f;(c=q[l])==null?void 0:c.invalidate();(f=B[l])==null?void 0:f.turn_on()}}L=t;z=r;q=n;B=o}function H(e,t){var r,n;var o=e+"_"+t;var s=L[o];if(s!=null&&Date.now()>z[o]){var i;(i=B[o])==null?void 0:i.turn_off();L[o]=null;return null}(n=(r=q)[o])!=null?n:r[o]=I.Dependency();q[o].register();if(s!=null&&s.err){throw s.err}return s}var Y=function(e){m(r,e);var t=v(r);function r(e){var n,o;var s;var i=e.human,a=e.uid_field,u=e.build_call_from_uid,c=e.data_container,f=e.fields,d=e.cache_time;l(this,r);s=t.call(this);s.storable=true;s.bindable=true;s.human=i;s.uid_field=a;s.build_call_from_uid=u;s.data_container=c;s.fields=f;s.cache_time=d;(o=(n=s).cache_time)!=null?o:n.cache_time=N;s._is_executing={};return s}c(r,[{key:"convert_to_bubble_instance",value:function e(t){var r=this;function n(e){if(e!=null){return String(e)}else{return e}}if(Array.isArray(t)){return x().db_instance().static_list(this.full_name,t.map((function(e){return n(e==null?void 0:e[r.uid_field])})))}else{return n(t==null?void 0:t[this.uid_field])}}},{key:"execute_my_call",value:function e(t,r,n){var o=this;if(this._is_executing[t]){return}this._is_executing[t]=true;var s=this.build_call_from_uid(t),i=s.name,a=s.prev,l=s.properties;var u=null;var c=setTimeout((function(){P.warn("APIValue took too long too load",{uid:t,_returned:u,call_name:i,human:o.human})}),29*1e3);T.WaitFor(X(this.full_name,t),(function(){return clearTimeout(c)}));var f=C.get_current_eval_node();var d=this._service.get_call(i);d.execute_async(a,l,null,{current_eval_node:f,_raw:r},n).callback((function(e,r){o._is_executing[t]=false;u={err:e,value:r};if(e){return F(o.full_name,t,{err:e},Date.now()+o.cache_time)}}));return null}},{key:"lookup_fn",value:function e(t){var r=this;return function(e,n,o,s,i){var a,l,u;if(!e){return this.ret_btype().cast(null)}var c=(a=(l=e._id)==null?void 0:l.call(e))!=null?a:e;if(r.uid_field===t){return this.ret_btype().cast(c)}var f=H(r.full_name,c);if(f){if(f.data[t]!=null||!f.partial){return this.ret_btype().cast(f.data[t])}}r.execute_my_call(c,s,i);G(r.full_name,c);f=H(r.full_name,c);return this.ret_btype().cast((u=f)==null?void 0:u.data[t])}}},{key:"get_basic_message",value:function e(t,n){var o;var s=(o=n.fn)!=null?o:this.lookup_fn(t);return i(i({},p(g(r.prototype),"get_basic_message",this).call(this,t,n)),{},{fn:s,is_lookup:false})}},{key:"display",value:function e(){return this.human}},{key:"editable",value:function e(){return false}},{key:"service",value:function e(){return this._service}},{key:"short_id",value:function e(){return this.name}},{key:"export_to_string",value:function e(t){return'(Data with ID "'.concat(t,'" from an API)')}},{key:"debugging_display",value:function e(t){return'(Data with ID "'.concat(t,'" from an API)')}},{key:"equals",value:function e(t,r){return String(t)===String(r)}},{key:"get_sample",value:function e(){return null}},{key:"cast",value:function e(t){if(typeof t==="number"){return String(t)}else{return t}}},{key:"extract",value:function e(t){return this.flatten_raw(t)}},{key:"notify",value:function e(t,r){var n=t==null?void 0:t[this.uid_field];if(n==null){return}if(r.invalidate){$(this.full_name,n)}else{var o;if(r.partial){o={data:t,partial:true}}else{o={data:t}}F(this.full_name,n,o,Date.now()+this.cache_time)}}},{key:"notify_server_action",value:function e(t,r){var s=this;var i=function e(t){if(["string","number"].includes(o(t))){var r={};r[s.uid_field]=t;var n={invalidate:true};return s.notify(r,n)}};if(typeof(t==null?void 0:t.all)==="function"){var a=n(t.all()),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;i(u)}}catch(e){a.e(e)}finally{a.f()}}else{i(t)}}},{key:"get_JS_object",value:function e(t){return t}},{key:"JS_to_bubble",value:function e(t){return t}}]);return r}(R);t.exports=Y},{"../lang/evaluation/eval_node_state":571,"../lib":614,"../logger":617,"../u/shared/async/b_async":695,"../u/shared/async/dependency":697,"../u/shared/mode_check":713,"./ExternalValue":486,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],484:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.includes.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.string.includes.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("querystring");var p=e("../u");var _=e("../u/shared/async/b_async");var m=e("../u/shared/async/b_fiber");var y=e("../u/shared/b_number");var v=e("../u/shared/b_object");var b=e("../u/shared/mode_check");var h=e("../logger");var j=e("../u/shared/errors");var g=e("../db/hydrate");var w=e("../u/shared/async/async_state");var O=e("../u/shared/incremental");var S=e("../u/shared/async/dependency");var k=e("../lang/btype_ids");var A=e("./not_critical_retry_failure");var E={};var x={};var M={};var P={};var T={};var I={};var C=Date.now();function R(e){var t;return!e.method||["get","delete"].includes((t=e.method)==null?void 0:t.toLowerCase())}function N(e){if(R(e)){if(e.data){if(e.url.indexOf("?")===-1){return e.url+"?"+d.stringify(e.data)}else{return e.url+"&"+d.stringify(e.data)}}}return e.url}var L={data_type_for_ajax_call:true,skip_property_security:true};var z=function(){function e(t){a(this,e);this._execute_built_request=this._execute_built_request.bind(this);this._service=t}u(e,[{key:"service",value:function e(){return this._service}},{key:"display",value:function e(){return this.human}},{key:"get_value_id",value:function e(){if(this.is_list){return k.list_type(this.value_id)}else{return this.value_id}}},{key:"get_value_bubble_null",value:function e(){return U.get(this.get_value_id()).get_bubble_null()}},{key:"get_authenticator",value:function e(){return this.service().get_authenticator()}},{key:"is_authenticated",value:function e(){return this.get_authenticator().is_authenticated()}},{key:"must_proxy",value:function e(){var t;return(t=this._must_proxy)!=null?t:this.get_authenticator().must_proxy()}},{key:"get_key",value:function e(t,r,n){var o,s;return(o=(s=this.override_key)==null?void 0:s[t])!=null?o:this.service().get_key(t,r,n)}},{key:"get_property",value:function e(t,r){var n,o;if(this[t]){o=this[t];n=this}else{var s=this.service();if(s[t]){o=s[t];n=s}}if(!o&&!L[t]){if(r){return null}throw new j.UnexpectedError("call "+this.human+" missing property "+t)}if(typeof o==="function"){o=o.call(n)}return o}},{key:"execute",value:function e(t,r,n,o,s){var i,a=this;var l=W.get_current_eval_node();if(l==null&&b.on_client()&&!b.is_edit_mode()&&this.service_name==="apiconnector2"){h.warn("oddly missing current_eval_node in call.execute",{_raw:o})}var u={current_eval_node:l,_raw:o};var c=this._execute_async.bind(this,t,r,n,u,s);if(((i=w.CurrentNotReadyCatcher)==null?void 0:i.length)>0){return null}if(b.on_server()){return c().block().ret}else{var f,d,p;var m=v.json_stringify(g.dehydrate_tree({full_name:this.full_name,prev:t,properties:r,authentication:n}));(f=x[m])!=null?f:x[m]=S.Dependency();x[m].register();(d=(p=this.service()).notify_call_was_hashed)==null?void 0:d.call(p,m,r);if(!E[m]){E[m]=_.MakeKey(null,"Call.execute key for "+m);var y=c();E[m].name=y.toString.bind(y);y.callback((function(e,r){var o,s;if(e){var i;T[m]=e;(i=E[m])==null?void 0:i.turn();return}var l=r.ret,u=r.properties;var c=v.json_stringify(g.dehydrate_tree({full_name:a.full_name,prev:t,properties:u,authentication:n}));M[m]=l;P[c]=l;(o=E[m])==null?void 0:o.turn();(s=E[c])!=null?s:E[c]=_.MakeKey(null,"Call.execute server_hash");E[c].turn();if(c!==m){var f;(f=I[m])!=null?f:I[m]=0;I[m]++;setTimeout((function(){delete M[m];if(!P[m]){delete E[m]}}),I[m]===1?1:Math.pow(2,I[m])*5e3)}}))}_.ensure_ready(E[m]);if(T[m]){throw T[m]}else{var j;return(j=P[m])!=null?j:M[m]}}}},{key:"execute_async",value:function e(t,r,n,o,s){return this._execute_async(t,r,n,o,s).then((function(e){var t=e.ret;return t}))}},{key:"_execute_async",value:function e(t,r,n,o,s){var i=this;if(!b.on_server()&&this.must_proxy()){return this.proxy_request(t,r,n,o,s).then((function(e){i.notify_value(e.ret);return e}))}var a={prev:t,properties:r};var l=this.build_request(t,r,n);var u=this._execute_built_request({req:l,test_info:a,prev:t,properties:r,authentication:n});var c;if(this.service().handle_request_failures){c=this.service().handle_request_failures}else{c=function e(o){if(o.statusCode){return o}else if(i.service().not_production_critical&&F.is_retryable(o)){return A(i.service().display(),o)}else{if(o.message===m.QUEUE_TIMEOUT){return o}var s=i.service();return new j.UnexpectedError("execute_async error",{err:o,prev:t,properties:r,authentication:n,service_display:s.display(),service_name:s.name})}}}return u.then((function(e){return{ret:e,properties:r}}),c)}},{key:"_execute_built_request",value:function e(t){var r=this;var n=t.req,o=t.test_info,s=t.prev,i=t.properties,a=t.authentication;if(n.dont_do_call){if(this.service().get_action_calls().includes(this.name)&&!n.no_error||n.force_error_message){var l;throw new j.UserError("MISSING_INFO",(l=n.message)!=null?l:q().get_text("CORE","MISSING_INFO")+this.human)}else{return _.Promise(null)}}if(n.override_output){this.notify_value(n.results);return _.Promise(n.results)}return p.Promise(n).block_promise(12e5).then((function(e){y.round_all(e);return e})).then((function(e){return q().http_request(e).block_promise(12e5).then((function(t){var n;var l=(n=r.modify_and_retry)==null?void 0:n.call(r,e,t);if(l){e=l;return r._execute_built_request({req:e,test_info:o,prev:s,properties:i,authentication:a})}var u=r.service().response_to_data(e,t,r.get_property("return_type",true),r);m.optional_pause("response to data finished");o.result_call=u;var c=r.extract_data(u,i,t,e);m.optional_pause("extract data finished");o.result_processed=c;r.notify_value(c);m.optional_pause("notify value finished");return c}))}))}},{key:"build_request",value:function e(t,r,n){var o,s;var i=this.build(t,r);if(i.dont_do_call||i.override_output){return i}var a=this.get_property("data_type_for_ajax_call");if(a){i.dataType=a}var l=this.get_property("custom_retry_handler",true);if(l){i.custom_retry_handler=l}if(this.get_property("return_type",true)==="raw"){i.encoding=null}(o=i.method)!=null?o:i.method="get";i.method=i.method.toLowerCase();if(i.url&&i.path){throw new j.UnexpectedError("call "+this.name+" @build() call returned an object with both a url and a path: do one or the other")}if(!i.url){var u;i.url=this.get_property("base_url")+((u=i.path)!=null?u:"");delete i.path}var c=this.get_authenticator();(s=c.add_shared_params_and_headers)==null?void 0:s.call(c,i);var f=_.Promise(c.add_authentication(i,n));return f.block_promise().then((function(e){if(R(e)){e.url=N(e);delete e.data}return e}))}},{key:"proxy_request",value:function e(t,r,n,o,s){var i,a=this;var l;var u=(i=o)!=null?i:{},c=u._raw,f=u.current_eval_node;t=g.dehydrate_tree(t);r=g.dehydrate_tree(r);if(this.get_property("skip_property_security")){l=_.Promise({skip_property_security:true})}else if(typeof this.generate_server_properties==="function"){l=_.Promise({skip_property_security:true})}else{if(c==null&&!(s!=null&&s.constraint_messsage)){throw new j.UnexpectedError("Missing _raw in proxy_request",{current_eval_node:f})}l=G.serialize_context(s,f)}return l.then((function(e){var s,i;(s=e)!=null?s:e={error_serializing_context:true};f=(i=f)==null?void 0:i.json._path();o={_raw:c,current_eval_node:f,page_name:q().location.get_underlying_page()};var l=q().location.post("server://apiservice/doapicallfromserver",{timezone_string:q().current_timezone(),service_name:a.service().name,version:a.service().version,call_name:a.name,prev:t,properties:r,authentication:n,call_location:o,serialized_context:e,page_load_time:C,app_last_change:b.is_edit_mode()||b.is_plugin_edit_mode()?"edit":B.last_change(),ret_properties:true});return l.then((function(s){var i,l;if((s==null?void 0:(i=s.ret)==null?void 0:i.__bubble_tz_string_in_body)===false){h.info("doapicall request made attempting to pass in tz string and failed!",{appname:B.appname(),attempted_request:{timezone_string:q().current_timezone(),service_name:a.service().name,version:a.service().version,call_name:a.name,prev:t,properties:r,authentication:n,call_location:o,serialized_context:e,page_load_time:C,app_last_change:b.is_edit_mode()||b.is_plugin_edit_mode()?"edit":B.last_change(),ret_properties:true}})}s==null?true:(l=s.ret)==null?true:delete l.__bubble_tz_string_in_body;return s}))}))}},{key:"extract_data",value:function e(t,r,n,o){m.optional_pause();if(this.post_processing){t=this.post_processing(t,r,n,o)}var s;if(this.data_container){s=v.extract_from_object(t,this.data_container)}else{s=t}m.optional_pause();var i=U.get(this.value_id);m.optional_pause();var a=function e(t){var r,n,o;var s=(r=(n=(o=i.plugin).extract)==null?void 0:n.call(o,t))!=null?r:t;return s};if(Array.isArray(s)){return O.incremental_map(5,s,a)}else{return a(s)}}},{key:"notify_value",value:function e(t){var r=this;if(!t){return}var n=U.get(this.value_id);if(typeof n.plugin.notify!=="function"){return}if(Array.isArray(t)){O.incremental_for_each(5,t,(function(e){n.plugin.notify(e,r)}))}else{n.plugin.notify(t,this)}}},{key:"get_doc_link",value:function e(){return this.doc_link}}],[{key:"invalidate_client_side_calls",value:function e(t){var r;(r=t)!=null?r:t=[];var n=o(t),s;try{for(n.s();!(s=n.n()).done;){var i,a;var l=s.value;(i=E[l])==null?void 0:i.turn();delete E[l];delete P[l];delete M[l];(a=x[l])==null?void 0:a.invalidate()}}catch(e){n.e(e)}finally{n.f()}}}]);return e}();t.exports=z;var D=e("../db/db");var q=e("../lib");var B=e("../lang/appquery");var U=e("../lang/btypes");var W=e("../lang/evaluation/eval_node_state");var F=e("../retryable");var G=e("../lang/context_serialization/context_serializer");var X=e("../client_config")},{"../client_config":55,"../db/db":420,"../db/hydrate":422,"../lang/appquery":535,"../lang/btype_ids":536,"../lang/btypes":537,"../lang/context_serialization/context_serializer":542,"../lang/evaluation/eval_node_state":571,"../lib":614,"../logger":617,"../retryable":642,"../u":687,"../u/shared/async/async_state":692,"../u/shared/async/b_async":695,"../u/shared/async/b_fiber":696,"../u/shared/async/dependency":697,"../u/shared/b_number":701,"../u/shared/b_object":702,"../u/shared/errors":708,"../u/shared/incremental":710,"../u/shared/mode_check":713,"./not_critical_retry_failure":504,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,querystring:1237}],485:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var n,o;function s(e){"@babel/helpers - typeof";return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function i(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function a(e,t){return d(e)||f(e,t)||u(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function d(e){if(Array.isArray(e))return e}function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){t=j(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function y(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,j(n.key),n)}}function h(e,t,r){if(t)b(e.prototype,t);if(r)b(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function j(e){var t=g(e,"string");return s(t)==="symbol"?t:String(t)}function g(e,t){if(s(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(s(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var w=e("lodash/isEqual");var O=e("querystring");var S=e("../logger");var k=e("../lib");var A=e("../lang/appquery");var E=e("../u");var x=e("../u/shared/async/b_fiber");var M=e("../u/shared/b_object");var P=e("../u/shared/decaf");var T=e("../u/shared/errors");var I=e("../u/server/server_errors");var C=e("../u/shared/incremental");var R=e("../constants/lang");var N=e("../constants/locations");var L=e("../constants/plugin");var z=e("../shared/environment_utilities");var D=e("../lang/elements/style_properties");var q=e("../lang/caching");var B=e("../lang/btype_ids");var U=e("../lang/btypes");var W=e("../retryable");var F=e("./ExternalCall");var G=e("./not_critical_retry_failure");var X=e;var $;if(E.on_server()){$=X("lru-cache")}var V;var H=function e(){if(V){return V}if(E.on_server()){V=new $({max:500,length:function e(){return 1}})}else{V=new Map}return V};function Y(e,t,r){var n;function o(t){var n;if(r.fields){n=r.fields(t)}else{n=Z.add_fields_from_parameters(r.parameters,[])}Z.add_key_button(e,n);return n}var s={display:function e(t){return r.human},category:(n=r.category)!=null?n:"plugins",fields:o,field_names:R.DETECT_FIELD_NAMES,data_to_refresh:null,return_value:function e(t){if(t!=null&&r.return_value!=null){r.value_id=r.return_value(t);return r.value_id}else{return r.get_value_id()}},get_doc_link:function e(){return r.get_doc_link()},call:r,check_for_errors:function e(t,n){if(r.can_be_used_as_action===false&&!r.must_proxy()){return n("".concat(t.display(),": You're using this API connector call as an action but it is currently set up as a Data source"))}}};if(r.must_proxy()){s.run=function(e,t,n,o){n.get_server_outcome(e,(function(t,n){if(t){o(t)}else{var s,i,a,l,u;var c=(s=(i=r.value_id)!=null?i:(a=r.return_value)==null?void 0:a.call(r,e))!=null?s:null;var f=r.service().get_calls_to_refresh(r,e);F.invalidate_client_side_calls(f);(l=(u=U.get(c).plugin).notify_server_action)==null?void 0:l.call(u,n,r);o(null,n)}}))};s.server_method="external_call_server_action"}else{s.run=function(){throw new T.OwnerError("Invalid action - this call cannot be set up as an action.")}}return s}var K=(n=q.cached({type:q.AUTORUN,compare_fn:function e(t,r){if(t!=null&&t.call_raw_data&&r!=null&&r.call_raw_data){return w(t.call_raw_data,r.call_raw_data)}return M.compare(t,r)}}),o=function(){function e(){v(this,e)}h(e,[{key:"display",value:function e(){return this.human}},{key:"toUniqueString",value:function e(){return"service_"+this.name+"_"+this.version}},{key:"get_authenticator",value:function e(t,r){if(typeof this.authenticator==="function"){return this.authenticator(t,r)}else{return this.authenticator}}},{key:"get_calls_to_refresh",value:function e(t,r){return[]}},{key:"error_wrapper",value:function e(t){if(!this.handle_request_failures){return t()}try{return t()}catch(e){var r=this.handle_request_failures(e);if(r==null){throw new T.UnexpectedError("handle_request_failures should return the original error or a transformed one",{original:e})}throw r}}},{key:"get_key",value:function e(t,r,n){var o=this.get_keys();if(!o[t]){if(t==="server_redirect"||n){return null}throw new I.ClientError("missing key for service",{key_name:t,service_name:this.name,human:this.human})}var s=r!=null?r:A.app_version();var i=s!==N.LIVE_VERSION||!z.is_production();var a=A.app();function l(e){if(o[t].type==="client_safe"){return a.get_public_setting(e)}return a.get_private_setting(e)}var u=l("".concat(this.name,"_").concat(t));if(!i){return u}var c=l("".concat(this.name,"_").concat(t,"_test"));return c!=null?c:u}},{key:"get_keys",value:function e(){var t,r,n;var o=(t=this._get_raw_list("keys"))!=null?t:{};(r=(n=this.get_authenticator()).add_generic_authenticator_keys)==null?void 0:r.call(n,o);return o}},{key:"has_keys",value:function e(){return Object.keys(this.get_keys()).length>0}},{key:"get_public_key",value:function e(){return this.get_key("appid")}},{key:"get_secret_key",value:function e(){return this.get_key("appsecret")}},{key:"_get_raw_list",value:function e(t){if(typeof this[t]==="function"){return this[t]()}else{return this[t]}}},{key:"get_values",value:function e(){var t;var r=(t=this._get_raw_list("values"))!=null?t:{};for(var n=0,o=Object.entries(r);n<o.length;n++){var s=a(o[n],2),i=s[0],l=s[1];l.name=i;l.full_name=B.api_type("".concat(this.name,".").concat(i));l._service=this}return r}},{key:"get_call_class",value:function e(t){return this._get_raw_list("calls")[t]}},{key:"get_calls",value:function e(){var t;return Object.keys((t=this._get_raw_list("calls"))!=null?t:{})}},{key:"get_call",value:function e(t){return this._instantiate_call(t,this.get_call_class(t))}},{key:"_instantiate_call",value:function e(t,r){if(typeof r!=="function"){if(this.dynamic_calls){return}else{if(k().is_edit_mode()){S.error("call is not a class",{call_name:t,name:this.name});return}else{var n;throw new T.OwnerError("The call "+t+" on "+((n=this.display())!=null?n:this.name)+" is not defined")}}}var o=new r(this);var s=this.name+L.PLUGIN_SEPARATOR+t;o.name=t;o.full_name=s;o.service_name=this.name;return o}},{key:"get_action",value:function e(t){var r=this,n,o;var s=J.get_plugin_and_type(t)[1];var i=this._get_raw_list("actions");var a;if(i!=null&&i[s]){var l,u;a=i[s];(u=(l=a).fields)!=null?u:l.fields=function(e){var t=a._fields(e);Z.add_key_button(r.name,t);return t}}else{if(this.get_calls().includes(s)){var c=this.get_call(s);a=Y(this.name,s,c)}}if(!a){return null}a.is_plugin=true;a.service=this.name;(o=(n=a).category)!=null?o:n.category="plugins";return a}},{key:"get_local_cache_key",value:function e(t){return"".concat(this.toUniqueString(),"-").concat(t)}},{key:"get_event",value:function e(t){var r=this.get_local_cache_key(t);if(!H().has(r)){var n;var o=J.get_plugin_and_type(t)[1];var s=(n=this._get_raw_list("events"))!=null?n:{};var i=s[o];if(!i){return null}if(i.element_name){ee.make_element_event(t,i,true)}else{ee.make_gen_event(t,i)}i.is_plugin=true;i.service=this.name;H().set(r,i)}return H().get(r)}},{key:"get_element",value:function e(t,r){var n;(n=r)!=null?n:r=false;var o=this.get_local_cache_key(t);if(!H().has(o)||r){var s=J.get_plugin_and_type(t)[1];var l=this._get_raw_list("elements");var u=l==null?void 0:l[s];if(!u){return null}u.is_plugin=true;u.service=this.name;Q.make_element(t,u,true);var c=!u.is_non_hardcoded_plugin;if(c){var f=i(P.object_entries(u.field_names)),d;try{for(f.s();!(d=f.n()).done;){var p=a(d.value,2),_=p[0],m=p[1];if(m.in_style){D.register_style_property(_)}}}catch(e){f.e(e)}finally{f.f()}}H().set(o,u)}return H().get(o)}},{key:"get_public_values",value:function e(){var t;var r=(t=this._get_raw_list("public_values"))!=null?t:[];var n=this.get_values();var o=i(r),s;try{for(o.s();!(s=o.n()).done;){var a=s.value;if(!n[a]){throw new T.UnexpectedError("Could not find value "+a+" in "+this.name)}}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"get_public_calls",value:function e(){var t=this._get_raw_list("public_calls");return t!=null?t:[]}},{key:"get_user_calls",value:function e(){var t=this._get_raw_list("user_calls");return t!=null?t:[]}},{key:"get_action_calls",value:function e(){var t=this._get_raw_list("action_calls");return t!=null?t:[]}},{key:"get_server_actions",value:function e(){var t;return(t=this.server_actions)!=null?t:[]}},{key:"get_oauth_providers",value:function e(){var t;return(t=this._get_raw_list("oauth_providers"))!=null?t:[]}},{key:"get_oauth_providers_simple",value:function e(){return this.get_oauth_providers().map((function(e){var t;return(t=e.id)!=null?t:e}))}},{key:"is_oauth_provider",value:function e(){return this.get_oauth_providers().length>0}},{key:"is_storage_provider",value:function e(){return this.file_upload!=null}},{key:"is_video_service",value:function e(){return this._is_video_service}},{key:"response_to_data",value:function e(t,r,n,o,i){var a;var l=t.path,u=t.url,c=t.uri,f=t.method,d=t.data,p=t.headers;(a=n)!=null?a:n="json";var _=false;var m={};if(r.statusCode<200||r.statusCode>299||this.errors_on_200){if(!i){var y;var v=(y=this.get_error_message)==null?void 0:y.call(this,r,o);if(v){var b=new T.OwnerError("Received error from api",{display:v});b.statusCode=r.statusCode;throw b}else if(!this.errors_on_200){var h;if(this.not_production_critical&&W.is_retryable(null,r)){throw G(this.display(),r.statusCode+": "+r.body)}var j="Error connecting to ".concat((h=this.display())!=null?h:this.name," (").concat(r.statusCode,")");d={body:r.body.slice(0,1e4),path:l,method:f,data:d,url:u,uri:c,headers:p};throw new T.UnexpectedError(j,d)}}else{_=true;m={status_code:r.statusCode,status_message:r.statusMessage,body:JSON.stringify(r.body)}}}if(!r.body){return null}if(!["json","querystring","raw"].includes(n.toLowerCase())){throw new T.UnexpectedError("unrecognized data_type:"+n)}if(r.body instanceof Error){throw new T.UnexpectedError("Error executing call",{inner_message:r.body.message,inner_stack:r.body.stack})}try{x.optional_pause("about to parse api response");var g;if(!_){switch(n.toLowerCase()){case"json":{var w,S,k;var A=(w=(S=r.body)==null?void 0:(k=S.trim)==null?void 0:k.call(S))!=null?w:r.body;g=C.incremental_json_parse(A);break}case"querystring":g=O.parse(r.body);break;case"raw":g=r.body;break}}else{g={body:r.body,statusCode:r.statusCode,statusMessage:r.statusMessage,error:m}}if(i&&s(g)==="object"){g.returned_an_error=Object.keys(m).length>0}x.optional_pause("finished parsing api response");return g}catch(e){var E,M,P;var I="Error parsing response data";var R=(E=(M=JSON.stringify(r.body)).slice)==null?void 0:E.call(M,0,1e4);var N="Error parsing data from ".concat((P=this.display())!=null?P:this.name,": ").concat(R);if(!i){throw new T.OwnerError(I,{display:N})}var L=500;m={status_code:L,status_message:I,body:N};return{body:R,statusCode:L,statusMessage:I,error:m,returned_an_error:true}}}}]);return e}(),y(o.prototype,"get_call",[n],Object.getOwnPropertyDescriptor(o.prototype,"get_call"),o.prototype),o);t.exports=K;var J=e("../services/shared/service_type_parser");var Z=e("../services/client/editor_utils");var Q=e("../core/core_elements/core_elements_utilities/element_transformer");var ee=e("../core/core_events")},{"../constants/lang":81,"../constants/locations":82,"../constants/plugin":86,"../core/core_elements/core_elements_utilities/element_transformer":281,"../core/core_events":372,"../lang/appquery":535,"../lang/btype_ids":536,"../lang/btypes":537,"../lang/caching":539,"../lang/elements/style_properties":561,"../lib":614,"../logger":617,"../retryable":642,"../services/client/editor_utils":644,"../services/shared/service_type_parser":651,"../shared/environment_utilities":658,"../u":687,"../u/server/server_errors":688,"../u/shared/async/b_fiber":696,"../u/shared/b_object":702,"../u/shared/decaf":706,"../u/shared/errors":708,"../u/shared/incremental":710,"./ExternalCall":484,"./not_critical_retry_failure":504,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/isEqual":1184,querystring:1237}],486:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.object.keys.js");function o(e){return a(e)||i(e)||m(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return y(e)}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,f(n.key),n)}}function c(e,t,r){if(t)u(e.prototype,t);if(r)u(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function f(e){var t=d(e,"string");return n(t)==="symbol"?t:String(t)}function d(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p(e,t){return b(e)||v(e,t)||m(e,t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(!e)return;if(typeof e==="string")return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}function y(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function v(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function b(e){if(Array.isArray(e))return e}var h=e("../u/shared/b_array");var j=e("../u/shared/async/b_fiber");var g=e("../u/shared/b_object");var w=e("../u/shared/b_string");var O=e("../u/shared/incremental");var S=e("../lang/btypes");var k=e("../services/shared/plugin_getter");var A=e("../db/postgres_constraints");var E=e("../core/core_btypes/utilities/list_utilities");var x=e("./make_call_fn");function M(e){var t;var r=e.call.split("."),n=p(r,2),o=n[0],s=n[1];var i=k.get_plugin(o).get_call(s);var a=(t=e.caption)!=null?t:w.toTitleCase(s);var l={ret_btype:i.get_value_id(),fn:x(i)};if(i.field_names){var u;l.field_names=i.field_names}l.section="Data Fields";return l}var P=function(){function e(){l(this,e)}c(e,[{key:"_fields",value:function e(){if(typeof this.fields==="function"){var t;return(t=this.fields())!=null?t:{}}else{var r;return(r=this.fields)!=null?r:{}}}},{key:"is_missing",value:function e(){return false}},{key:"flatten_raw",value:function e(t){if(!t){return{}}var r={};for(var n=0,o=Object.entries(this._fields());n<o.length;n++){var s=p(o[n],2),i=s[0],a=s[1];O.optional_pause_tick(20);var l=void 0;if(a.extract){l=a.extract(t)}else if(a.no_key){l=t}else{var u;var c=(u=a.path)!=null?u:[i];l=g.extract_from_object(t,c)}if(a.post_call_processing){l=a.post_call_processing(l,t)}if(a.cast_on_fetch&&l!=null){var f;l=S.get((f=a.ret_value)!=null?f:"text").cast(l)}if(l!=null){r[i]=l}}j.optional_pause("finished flatten raw");return r}},{key:"get_bubble_null",value:function e(){return null}},{key:"export_to_string",value:function e(){return"(Data from an API)"}},{key:"debugging_display",value:function e(){return"(Data from an API)"}},{key:"get_message_names",value:function e(t){var r;(r=t)!=null?r:t={};var n=Object.keys(this._fields());if(!t.exclude_special_messages){n.push.apply(n,o(Object.keys(this.get_special_messages())))}return h.unique(n)}},{key:"get_message_names_reorg",value:function e(t){return this.get_message_names()}},{key:"get_message",value:function e(t){var r=this._fields()[t];var n={};if(!r){n=this.get_special_messages();r=n[t];if(r==null){return}}if(r.call){return M(r)}else if(n[t]){return r}else{return this.get_basic_message(t,r)}}},{key:"get_basic_message",value:function e(t,r){var n,o,s;var i=(n=r.caption)!=null?n:w.toTitleCase(t);return{description:"'s "+i,ret_btype:(o=(s=r.ret_btype)!=null?s:r.ret_value)!=null?o:"text",fields:r.fields,field_names:r.field_names,spot_data:r.spot_data,section:"Data Fields",description_for_sliding_palette:r.description_for_sliding_palette}}},{key:"get_special_messages",value:function e(){if(this.no_special_messages){return{}}return{bubble_is_empty:{description:" is empty",section:"Operators",ret_btype:"sys.bool",fn:function e(t,r){return t===undefined||t===null||t===""},build_pg_constraint:A.is_empty},bubble_is_not_empty:{description:" is not empty",section:"Operators",ret_btype:"sys.bool",fn:function e(t,r){return t!==undefined&&t!==null&&t!==""},build_pg_constraint:A.is_not_empty},is_not_contained_by_list:E.build_is_not_contained_by_list(this.full_name)}}}]);return e}();t.exports=P},{"../core/core_btypes/utilities/list_utilities":204,"../db/postgres_constraints":452,"../lang/btypes":537,"../services/shared/plugin_getter":649,"../u/shared/async/b_fiber":696,"../u/shared/b_array":698,"../u/shared/b_object":702,"../u/shared/b_string":703,"../u/shared/incremental":710,"./make_call_fn":503,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],487:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function c(e){"@babel/helpers - typeof";return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e){var t=m(e,"string");return c(t)==="symbol"?t:String(t)}function m(e,t){if(c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(){if(typeof Reflect!=="undefined"&&Reflect.get){y=Reflect.get.bind()}else{y=function e(t,r,n){var o=v(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return y.apply(this,arguments)}function v(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=S(e);if(e===null)break}return e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return h(e,t)}function j(e){var t=O();return function r(){var n=S(e),o;if(t){var s=S(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return g(this,o)}}function g(e,t){if(t&&(c(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return w(e)}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}var k=e("../u/shared/hash");var A=e("../db/sample");var E=e("../lang/btypes");var x=e("../db/values/StaticObject");var M=e("../db/values/StaticList");var P=e("../db/values/Dynamic");var T=e("./ExternalValue");var I=function(e){b(r,e);var t=j(r);function r(e,n,o){var s;var i;f(this,r);i=t.call(this);(s=o)!=null?s:o={};i.human=e;i.fields=n;if(!i.fields){i.fields={};i.no_extract=true}Object.assign(w(i),{storable:true,bindable:true,is_lookup:true},o);return i}p(r,[{key:"display",value:function e(){return this.human}},{key:"editable",value:function e(){return false}},{key:"short_id",value:function e(){return this.name}},{key:"debugging_display",value:function e(t){return'(Data with ID "'.concat(t==null?void 0:t._id(),'" from an API)')}},{key:"equals",value:function e(t,r){return(t==null?void 0:t._id())===(r==null?void 0:r._id())}},{key:"get_sample",value:function e(){return new A.SampleObject(this.full_name)}},{key:"cast",value:function e(t){if(t instanceof P){return t}else if(c(t)==="object"&&t!=null){return new x(t,null,this.full_name)}else{return null}}},{key:"get_basic_message",value:function e(){var t;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}return Object.assign((t=y(S(r.prototype),"get_basic_message",this)).call.apply(t,[this].concat(o)),{is_lookup:true})}},{key:"extract",value:function e(t){if(this.no_extract){return t}var r=c(t);if(r==="string"){return t}var n=this.flatten_raw(t);if(!n._id){n._id=k.incremental_digest(n)}return n}},{key:"convert_to_bubble_instance",value:function e(t){if(Array.isArray(t)){var n=E.get(this.full_name);if(n.plugin.convert_to_bubble_instance){var s=t.map((function(e){return n.plugin.convert_to_bubble_instance(e)}));return new M(s,undefined,this.full_name)}else{return new M(t,undefined,this.full_name)}}else if(t!=null&&c(t)==="object"){var i={};for(var a=0,l=Object.entries(this._fields());a<l.length;a++){var u=o(l[a],2),f=u[0],d=u[1];var p=E.get(d.ret_value);if(p.is_list()){var _=p.inner();if(_.plugin instanceof r){i[f]=_.plugin.convert_to_bubble_instance(t[f])}else{i[f]=p.cast(t[f])}}else{var m,y,v;i[f]=(m=(y=(v=p.plugin).convert_to_bubble_instance)==null?void 0:y.call(v,t[f]))!=null?m:t[f]}}i._id=t._id;return new x(i,undefined,this.full_name)}else{return this.cast(t)}}},{key:"get_JS_object",value:function e(t){if(t==null){return null}if(t.raw!=null){t=t.raw()}var r={};var o=n(this.get_message_names({exclude_special_messages:true})),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;var a=this.get_message(i);r[i]=E.get(a.ret_btype).get_JS_object(t[i])}}catch(e){o.e(e)}finally{o.f()}return r}},{key:"JS_to_bubble",value:function e(t){var r={};var o=n(this.get_message_names({exclude_special_messages:true})),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;var a=this.get_message(i);r[i]=E.get(a.ret_btype).JS_to_bubble(t[i])}}catch(e){o.e(e)}finally{o.f()}return new x(r,undefined,this.full_name)}}]);return r}(T);t.exports=I},{"../db/sample":454,"../db/values/Dynamic":458,"../db/values/StaticList":464,"../db/values/StaticObject":466,"../lang/btypes":537,"../u/shared/hash":709,"./ExternalValue":486,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],488:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){return a(e)||i(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function u(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y=e("../../u/shared/decaf");var v=e("../../u/shared/errors");var b={access_type:true,scope:true,user_scope:true,data_type:true,prompt:true,additional_query_url_to_delete:true,add_to_url:true,add_to_header:true,header_key:true,expires_in:true,add_basic_authentication:true,key_prefix:true,grant_type:true,use_cliend_id_secret:true,use_username_password:true,server_redirect:true};var h=function(){function e(t){f(this,e);this.params=t}p(e,[{key:"id",value:function e(){return this.service_name()}},{key:"get_property",value:function e(t,r){var n,o;var s=(n=(o=this.params)==null?void 0:o[t])!=null?n:this.service()[t];if(!s&&!b[t]){if(r){return null}throw new v.UnexpectedError("could not find property "+t+" for authenticator of service "+this.id()+", and property "+t+" is not set as optional")}if(typeof s==="function"){s=s(this)}return s}},{key:"display",value:function e(){var t;return(t=this._display)!=null?t:g.get_plugin(this.service_name()).display()}},{key:"service",value:function e(){if(!this._service){throw new v.UnexpectedError("this authenticator doesnt have @_service set.  should set it in add_service in services.coffee")}return this._service}},{key:"is_user_credentials",value:function e(){return false}},{key:"service_name",value:function e(){return this.service().name}},{key:"edit_mode_login",value:function e(){return false}},{key:"get_key",value:function e(t,r,n){return this.service().get_key(t,r,n)}},{key:"get_public_key",value:function e(){return this.service().get_public_key()}},{key:"get_secret_key",value:function e(){return this.service().get_secret_key()}},{key:"get_user_authentication_node",value:function e(t){return t.child("authentication").child(this.id())}},{key:"get_service_id",value:function e(t){return this.get_user_authentication_node(t).child("id").get()}},{key:"are_keys_missing",value:function e(){var t=l(y.object_entries(this.service().get_keys())),r;try{for(t.s();!(r=t.n()).done;){var n=o(r.value,2),s=n[0],i=n[1];if(i.editor!=="Checkbox"){var a=void 0;if(i.type==="secure"){a=j.get_private_setting(this.service().name+"_"+s)}else{a=j.get_public_setting(this.service().name+"_"+s)}if(!a&&!i.optional){return true}}}}catch(e){t.e(e)}finally{t.f()}return false}}]);return e}();t.exports=h;var j=e("../../lang/appquery");var g=e("../../lang/plugins")},{"../../lang/appquery":535,"../../lang/plugins":602,"../../u/shared/decaf":706,"../../u/shared/errors":708,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],489:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("./Authenticator");var v=e("./authenticator_utils");var b=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"must_proxy",value:function e(){return true}},{key:"add_authentication",value:function e(t,r){v.add_basic_authentication(t,r,this);return t}},{key:"is_authenticated",value:function e(){return true}}]);return r}(y);t.exports=b},{"./Authenticator":488,"./authenticator_utils":500,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],490:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u/shared/mode_check");var v=e("../../constants/known_plugins");var b=e("../../u/shared/errors");var h=e("../../u/shared/uuid");var j=e("./Authenticator");var g=e("./authenticator_utils");var w={};var O=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"must_proxy",value:function e(){return true}},{key:"build_token",value:function e(t){var r=g.kv_hash(t);var n=!t.user_id;if(!w[r]||y.running_test()){var o={typ:"JWT",alg:"RS256",kid:t.public_key_id};var s={iss:t.apikey,sub:n?t.enterprise_id:t.user_id,box_sub_type:n?"enterprise":"user",aud:this.get_property("claims_aud"),jti:h.UUID(),exp:Math.floor(Date.now()/1e3+55)};var i=token_utilities.generate_jws(o,s);var a={client_id:t.appid,client_secret:t.appsecret,grant_type:"urn:ietf:params:oauth:grant-type:jwt-bearer",assertion:i};var l={method:"POST",url:this.get_property("generate_token_from_code_uri"),form:a};var u=this.service().error_wrapper((function(){return S().http_request(l).block()}));var c=this.service().response_to_data(l,u);w[r]=c.access_token;setTimeout((function(){return w[r]=null}),c.expires_in*1e3)}return w[r]}},{key:"get_token",value:function e(){var t={};for(var r in this.service().keys){t[r]=this.get_key(r);if(!t[r]&&r!=="user_id"){throw new b.OwnerError("App missing credential",{display:"Sorry, it looks like this is app is missing a "+this.service().display()+" credential: "+this.service().keys[r].caption})}}if(!t.user_id){var n=this.build_token(t);var o=k.get_hardcoded_plugin(v.BOX).get_call("create_user").execute(null,null,n).id;S().app().get_private_setting_node(this.service().name+"_user_id").json.set(o,{name:"CreateBoxAuthToken"});t.user_id=o}return this.build_token(t)}},{key:"add_authentication",value:function e(t,r){var n;var o=r!=null?r:this.get_token();(n=t.headers)!=null?n:t.headers={};t.headers.Authorization="Bearer "+o;return t}}]);return r}(j);t.exports=O;var S=e("../../lib");var k=e("../../services/shared/plugin_registry")},{"../../constants/known_plugins":80,"../../lib":614,"../../services/shared/plugin_registry":650,"../../u/shared/errors":708,"../../u/shared/mode_check":713,"../../u/shared/uuid":716,"./Authenticator":488,"./authenticator_utils":500,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],491:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u/shared/mode_check");var v=e("../../u/shared/errors");var b=e("./authenticator_utils");var h=e("./Oauth2PWFlow");var j=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"anti_babel_function",value:function e(){}}]);return r}(h);t.exports=j},{"../../u/shared/errors":708,"../../u/shared/mode_check":713,"./Oauth2PWFlow":496,"./authenticator_utils":500,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],492:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("./Authenticator");var v=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"must_proxy",value:function e(){return false}},{key:"add_authentication",value:function e(t){return t}},{key:"is_authenticated",value:function e(){return true}},{key:"is_user_credentials",value:function e(){return true}}]);return r}(y);t.exports=v},{"./Authenticator":488,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],493:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=c(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("../../u/shared/mode_check");var j=e("../../logger");var g=e("../../u/shared/b_object");var w=e("../../u/shared/async/autorun");var O=e("./OauthBase");var S=function(e){d(r,e);var t=_(r);function r(){a(this,r);return t.apply(this,arguments)}u(r,[{key:"oauth_version",value:function e(){return"1"}},{key:"must_proxy",value:function e(){return true}},{key:"get_oauth_user_data",value:function e(t){var r=this.get_token_data(t);var n=this.get_oauth_user_data_call().execute(null,r,r);n.id=String(r.user_id);return s(s({},n!=null?n:{}),r!=null?r:{})}},{key:"is_user_credentials",value:function e(){return true}},{key:"login",value:function e(t,r,n){var o=this.get_property("authorize_url");var s={};s[this.get_property("token_param_name")]=n;k().workflow.make_resume_key(t,r);return k().workflow.wait_for_safe(t,(function(){document.location.href=o+"?"+x.stringify(s)}))}},{key:"add_authentication",value:function e(t,r){var n=this;if(t.headers){return t}var o=r==null?void 0:r.oauth_token_secret;var s=r==null?void 0:r.oauth_token;if(o!=null&&s!=null){this.add_auth_header(t,s,o);return t}o=w.run_once(30,(function(){return{oauth_token_secret:n._get_oauth_token_secret(),oauth_token:n._get_oauth_token()}}));return o.then((function(e){var r=e.oauth_token_secret,o=e.oauth_token;if(!r||!o){return t}n.add_auth_header(t,o,r);return t}))}},{key:"get_data_for_login",value:function e(t){var r=t.oauth_token,n=t.oauth_verifier;if(typeof r!=="string"||typeof n!=="string"){j.warn("odd OAuth1 params after redirection, clearing",{oauth_token:r,oauth_verifier:n});return{oauth_provider:this.id(),oauth_token:"",oauth_verifier:""}}return{oauth_provider:this.id(),oauth_token:r!=null?r:"",oauth_verifier:n!=null?n:""}}},{key:"get_token_data",value:function e(t){var r=this.get_property("access_token_url");var n=this.get_property("data_type");var o={url:r,method:"POST",data:t};this.add_auth_header(o,t.oauth_token,k().KeyValueDB().get("small",t.oauth_token));var s=this.service().error_wrapper((function(){return k().http_request(o).block()}));var i=this.service().response_to_data(o,s,n);return i}},{key:"_get_oauth_token_secret",value:function e(){return this.get_user_authentication_node(k().current_user()).child("oauth_token_secret").get()}},{key:"_get_oauth_token",value:function e(){return this.get_user_authentication_node(k().current_user()).child("oauth_token").get()}},{key:"is_authenticated",value:function e(){return this._get_oauth_token()!=null&&this._get_oauth_token_secret()!=null&&this._get_user_id()!=null}},{key:"generate_validity_object",value:function e(t){return{oauth_token:t.oauth_token,oauth_token_secret:t.oauth_token_secret,provider_user_id:t.user_id}}},{key:"build_validity_request",value:function e(t){return this.get_oauth_user_data_call().build_request(null,{user_id:t.provider_user_id},t)}}]);return r}(O);t.exports=S;var k=e("../../lib");var A=e("url");var E=e("../../lang/appquery");var x=e("querystring")},{"../../lang/appquery":535,"../../lib":614,"../../logger":617,"../../u/shared/async/autorun":693,"../../u/shared/b_object":702,"../../u/shared/mode_check":713,"./OauthBase":497,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.search.js":978,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,querystring:1237,url:748}],494:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.string.ends-with.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}var w=e("../../u/shared/b_object");var O=e("../../u/shared/b_string");var S=e("../../u/shared/errors");var k=e("../../u/shared/uuid");var A=e("../../u/shared/async/autorun");var E=e("./OauthBase");var x=e("./authenticator_utils");var M=function(e){m(r,e);var t=v(r);function r(){c(this,r);return t.apply(this,arguments)}d(r,[{key:"oauth_version",value:function e(){return"2"}},{key:"must_proxy",value:function e(){return false}},{key:"_get_access_token",value:function e(){return this.get_user_authentication_node(P().current_user()).child("access_token").get()}},{key:"is_authenticated",value:function e(){return this._get_access_token()!=null&&this._get_user_id()!=null}},{key:"is_user_credentials",value:function e(){return true}},{key:"add_authentication",value:function e(t,r){var n,s,i=this;var a=this.get_property("token_param_name");var l=(n=r==null?void 0:r.access_token)!=null?n:(s=t.data)==null?void 0:s[a];var u=function e(r){if(i.get_property("add_to_url")){if(t.url.includes("?")){t.url+="&"}else if(!t.url.endsWith("?")){t.url+="?"}t.url+=a+"="+r}else if(i.get_property("add_to_header")){var n;(n=t.headers)!=null?n:t.headers={};var s=i.get_property("header_key");if(s){var l=s.split(":"),u=o(l,2),c=u[0],f=u[1];if(f!=null){t.headers[c.trim()]=f.trim()+" "+r}else{t.headers[c.trim()]=r}}else{t.headers.Authorization="Bearer "+r}}else{var d;(d=t.data)!=null?d:t.data={};t.data[a]=r}return t};if(l!=null){return u(l)}l=A.run_once(30,(function(){return i._get_access_token()}));return l.then((function(e){return u(e)}))}},{key:"add_generic_authenticator_keys",value:function e(t){t.server_redirect={type:"client_safe",editor:"Checkbox"};if(P().is_edit_mode()){t.server_redirect.caption="Use a generic redirect URL ("+x.get_redirect_url()+")"}}},{key:"use_server_side_redirect",value:function e(){return this.get_key("server_redirect")}},{key:"login",value:function e(t,r,n){var o=document.location.href;if(o[o.length-1]==="?"){o=o.slice(0,o.length-1)}var s,i;if(n){i=T.parse(o);delete i.search;delete i.hash;delete i.query;o=T.format(i)}var a=T.parse(document.location.href,true).query;a.oauth_provider=this.id();if(t&&r){a.resume_key=P().workflow.make_resume_key(t,r)}a.used_redirect_url=o;if(this.use_server_side_redirect()){o=x.get_redirect_url();if(P().location.get_page()==="index"){if(O.starts_with(P().location.get_server_base(),a.used_redirect_url)){i=T.parse(a.used_redirect_url);if(i.path==="/"&&a.used_redirect_url.slice(-1)!=="/"){a.used_redirect_url=a.used_redirect_url+"/"}}}a.redirect_unique_id=k.UUID()}var l=O.fixedEncodeURIComponent(w.json_stringify(a));var u={client_id:this.get_public_key(),redirect_uri:o,response_type:"code",state:l};var c=this.get_property("expires_in");if(c){u.expires_in=c}var f=this.get_property("access_type");if(f){u.access_type=f}var d=this.get_property("prompt");if(d){u.prompt=d}var p=this.get_property("scope");if(p){u.scope=p}var _=this.get_property("authentication_url");if(!_.includes("?")){s=_+"?"+I.stringify(u)}else{s=_+"&"+I.stringify(u)}return P().workflow.wait_for_safe(t,(function(){return document.location.href=s}))}},{key:"get_data_for_login",value:function e(t){var r;var n;if(this.use_server_side_redirect()){n=x.get_redirect_url()}else{var o;n=(o=t.used_redirect_url)!=null?o:""}return{oauth_provider:this.id(),code:(r=t.code)!=null?r:"",redirect_uri:n}}}]);return r}(E);t.exports=M;var P=e("../../lib");var T=e("url");var I=e("querystring")},{"../../lib":614,"../../u/shared/async/autorun":693,"../../u/shared/b_object":702,"../../u/shared/b_string":703,"../../u/shared/errors":708,"../../u/shared/uuid":716,"./OauthBase":497,"./authenticator_utils":500,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.ends-with.js":970,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.search.js":978,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,querystring:1237,url:748}],495:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u/shared/b_object");var v=e("./Oauth2PWFlow");var b=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"_get_token_request",value:function e(){return this.service().get_call("token_call").build()}}]);return r}(v);t.exports=b},{"../../u/shared/b_object":702,"./Oauth2PWFlow":496,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],496:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u/shared/errors");var v=e("./Authenticator");var b=e("./authenticator_utils");var h=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"must_proxy",value:function e(){return true}},{key:"add_authentication",value:function e(t,r){var n;var o=r!=null?r:this.get_token();(n=t.headers)!=null?n:t.headers={};t.headers.Authorization="Bearer "+o;return t}},{key:"is_authenticated",value:function e(){return true}}]);return r}(v);t.exports=h;var j=e("../../lib")},{"../../lib":614,"../../u/shared/errors":708,"./Authenticator":488,"./authenticator_utils":500,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],497:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=c(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("../../logger");var j=e("./Authenticator");var g=function(e){d(r,e);var t=_(r);function r(){a(this,r);return t.apply(this,arguments)}u(r,[{key:"get_oauth_user_data_call",value:function e(){return this.service().get_call("oauth_user_data_call")}},{key:"get_oauth_user_data",value:function e(t){var r=this.get_token_data(t);var n=this.get_oauth_user_data_call(t).execute(null,null,r);if(n.id!=null){n.id=String(n.id)}return s(s({},n!=null?n:{}),r!=null?r:{})}},{key:"build_validity_request",value:function e(t){return this.get_oauth_user_data_call().build_request(null,null,t)}},{key:"is_still_valid",value:function e(t){var r=this.build_validity_request(t);var n,o;try{o=w().http_request(r).block();n=null}catch(e){n=e;o=null}if(o&&o.statusCode>=200&&o.statusCode<300){return true}if(O.is_retryable(n,o)){var s;if(n){s=n}else{s=o.statusCode+": "+o.body}h.warn("Temporarily unable to validate Oauth connection",{service:this.service().display(),reason:s});return true}return false}},{key:"_get_user_id",value:function e(){return this.get_service_id(w().current_user())}},{key:"tested",value:function e(){return true}}]);return r}(j);t.exports=g;var w=e("../../lib");var O=e("../../retryable")},{"../../lib":614,"../../logger":617,"../../retryable":642,"./Authenticator":488,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],498:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u/shared/errors");var v=e("./Authenticator");var b=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"must_proxy",value:function e(){return true}},{key:"add_authentication",value:function e(t,r){var n;(n=r)!=null?n:r=this.get_secret_key();if(this.params.key_prefix){r=this.params.key_prefix+r}if(!this.params.token_param_name){throw new y.UnexpectedError("PrivateKey authenticator missing token_param_name")}if(this.params.add_to_url){if(!t.url.includes("?")){t.url+="?"}if(t.url[t.url.length-1]!=="?"){t.url+="&"}t.url+=this.params.token_param_name+"="+r}else if(this.params.add_to_header){var o;(o=t.headers)!=null?o:t.headers={};t.headers[this.params.token_param_name]=r}else{var s;(s=t.data)!=null?s:t.data={};t.data[this.params.token_param_name]=r}return t}},{key:"is_authenticated",value:function e(){return true}}]);return r}(v);t.exports=b},{"../../u/shared/errors":708,"./Authenticator":488,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],499:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("./BasicAuth");var v=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"add_authentication",value:function e(t,r){Object.assign(t,{cert:this.get_key("cert_file"),key:this.get_key("key_file")});return t}}]);return r}(y);t.exports=v},{"./BasicAuth":489,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],500:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=r;var c=e("../../u");var f=e("../../u/shared/mode_check");var d=e("../../lib");var p=e("../../u/shared/decaf");u.MISSING_ACCESS_TOKEN="missing access_token getting data";u.PLUGIN_OAUTH_REDIRECT="sys/pluginoauth";u.SERVER_OAUTH_REDIRECT="oauth_redirect";u.get_redirect_url=_;u.add_basic_authentication=m;u.kv_hash=y;function _(){var e;if(b.is_local_editable(v.appname())){e="live"}else{e=v.app_version()}var t;if(h.env!=="local"||v.appname()==="meta"){t=v.domain()}return d().location.format_pieces({domain:t,appname:v.appname(),path:["api","1.1",u.SERVER_OAUTH_REDIRECT],app_version:e},{protocol:"https:"})}function m(e,t,r){var n;var o,s;if(!t){s=r.get_public_key();o=r.get_secret_key()}else{s=t.user;o=t.pw}var i=c.base64(s+":"+o);(n=e.headers)!=null?n:e.headers={};e.headers.Authorization="Basic "+i}function y(e){return p.object_entries(e).map((function(e){var t=n(e,2),r=t[0],o=t[1];return"".concat(r,":").concat(o)})).join(",")}var v=e("../../lang/appquery");var b=e("../../shared/apps_utilities");var h=e("../../client_config")},{"../../client_config":55,"../../lang/appquery":535,"../../lib":614,"../../shared/apps_utilities":654,"../../u":687,"../../u/shared/decaf":706,"../../u/shared/mode_check":713,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],501:[function(e,t,r){"use strict";var n=r;var o=e("./authenticator_utils");var s=e("./Authenticator");var i=e("./BasicAuth");var a=e("./BoxAuthentication");var l=e("./JWT");var u=e("./NoAuth");var c=e("./Oauth1");var f=e("./Oauth2");var d=e("./Oauth2Custom");var p=e("./Oauth2PWFlow");var _=e("./PrivateKey");var m=e("./SSLProtocol");n.MISSING_ACCESS_TOKEN=o.MISSING_ACCESS_TOKEN;n.PLUGIN_OAUTH_REDIRECT=o.PLUGIN_OAUTH_REDIRECT;n.SERVER_OAUTH_REDIRECT=o.SERVER_OAUTH_REDIRECT;n.get_redirect_url=o.get_redirect_url;n.Authenticator=s;n.BasicAuth=i;n.BoxAuthentication=a;n.JWT=l;n.NoAuth=u;n.Oauth1=c;n.Oauth2=f;n.Oauth2Custom=d;n.Oauth2PWFlow=p;n.PrivateKey=_;n.SSLProtocol=m},{"./Authenticator":488,"./BasicAuth":489,"./BoxAuthentication":490,"./JWT":491,"./NoAuth":492,"./Oauth1":493,"./Oauth2":494,"./Oauth2Custom":495,"./Oauth2PWFlow":496,"./PrivateKey":498,"./SSLProtocol":499,"./authenticator_utils":500}],502:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("./ExternalValue");var f=e("./StructValue");var d=e("./APIValue");var p=e("./ExternalCall");var _=e("./ExternalService");var m=e("./make_call_fn");var y=e("./authenticators");var v=e("../safe_require");v.safe_register("./external",u);var b=function(){function e(){o(this,e)}i(e,[{key:"display",value:function e(){return"Pass Through"}},{key:"extract",value:function e(t){return t}}]);return e}();u.Authenticator=y.Authenticator;u.BasicAuth=y.BasicAuth;u.BoxAuthentication=y.BoxAuthentication;u.JWT=y.JWT;u.NoAuth=y.NoAuth;u.Oauth1=y.Oauth1;u.Oauth2=y.Oauth2;u.Oauth2Custom=y.Oauth2Custom;u.Oauth2PWFlow=y.Oauth2PWFlow;u.PrivateKey=y.PrivateKey;u.SSLProtocol=y.SSLProtocol;u.MISSING_ACCESS_TOKEN=y.MISSING_ACCESS_TOKEN;u.PLUGIN_OAUTH_REDIRECT=y.PLUGIN_OAUTH_REDIRECT;u.SERVER_OAUTH_REDIRECT=y.SERVER_OAUTH_REDIRECT;u.get_redirect_url=y.get_redirect_url;u.APIValue=d;u.Call=p;u.ExternalValue=c;u.PassThroughValue=b;u.Service=_;u.StructValue=f;u.make_call_fn=m},{"../safe_require":643,"./APIValue":483,"./ExternalCall":484,"./ExternalService":485,"./ExternalValue":486,"./StructValue":487,"./authenticators":501,"./make_call_fn":503,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],503:[function(e,t,r){"use strict";var n=e("../u/shared/errors");t.exports=function e(t){return function(e,r,s,i,a){if(r){throw new n.UnexpectedError("external.js make_call_fn - This line should be unreachable")}if(!e){return this.ret_btype_null()}if(t.is_authenticated()){var l=t.execute(e,s,null,i,a);return o.convert_api_call_to_db_object(l,t)}}};var o=e("../core/core_datasources/utilities/core_ds_db_ops_utilities")},{"../core/core_datasources/utilities/core_ds_db_ops_utilities":232,"../u/shared/errors":708}],504:[function(e,t,r){"use strict";var n=e("../u/shared/errors");t.exports=function e(t,r){return new n.OwnerError("service unavailable",{display:"Sorry, "+t+" is temporarily unavailable",reason:r})}},{"../u/shared/errors":708}],505:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../lib");var c=e("ngeohash");var f=e("./core");var d=e("./shared/b_location_utils");var p=e("../constants/geolocation");var _=r;var m=e("../safe_require");m.safe_register("./geolocation/b_location",_);for(var y in d){_[y]=d[y]}_.ensure_valid_location=function(e,t){if(d.is_hashed(e)){return _.convert_to_new_format(e,t)}if(d.is_b_location(e)){return e}return null};_.convert_to_old_format=function(e){var t;var r=function e(t,r){return Math.round(t*Math.pow(10,r))/Math.pow(10,r)};var n;if(e.components){n="/"+JSON.stringify(e.components)}else{if(e.address!=null){n="/"+JSON.stringify(_.get_components(e))}else{n=""}}return c.encode(r(e.lat,5),r(e.lng,5),p.GEOHASH_PRECISION)+"/"+((t=e.address)!=null?t:"")+n};_.convert_to_new_format=function(e,t){var r=e.split("/")[0];var n=c.decode(r),o=n.latitude,s=n.longitude;var i=e.split("/")[1];var a;if(!t){a=_.get_components({lat:o,lng:s,address:i})}return{lat:o,lng:s,address:i,components:a}};_.is_equal=function(e,t){if(_.ensure_valid_location(e)){e=_.ensure_valid_location(e).address}if(_.ensure_valid_location(t)){t=_.ensure_valid_location(t).address}return e===t};function v(e,t,r){if(!e){return t(null)}if(d.is_hashed(e)){e=_.convert_to_new_format(e)}if(t(e)){return t(e)}if(typeof e==="string"){return t(b("geocode",{address:e},{throw_not_ready:r}))}return t(b("geocode_latlong",e,{throw_not_ready:r}))}_.get_address=function(e){return v(e,(function(e){var t;return(t=e==null?void 0:e.address)!=null?t:""}))};_.get_components=function(e,t){return v(e,(function(e){return e==null?void 0:e.components}),t)};_.from_address=function(e,t){var r;(r=t)!=null?r:t=false;if(_.ensure_valid_location(e)){return _.ensure_valid_location(e)}if(!e||typeof e!=="string"){return e}return b("geocode",{address:e},{alert_on_failure:t})};_.from_place_id=function(e,t){var r;(r=t)!=null?r:t=false;if(!e||typeof e!=="string"){return e}return b("geocode",{place_id:e},{alert_on_failure:t})};function b(e,t,r){var n;(n=r)!=null?n:r={};if(t.place_id==null&&t.address==null&&t.lat==null&&t.lng==null){return null}var o=s({request_type:e,language:u().app_language()},t);d.round_lat_lng(o);function i(e,t){var r=e.formatted_address;var n=d.to_json_components(e);function o(e){if(typeof e==="function"){return e()}else{return e}}return{lat:o(e.geometry.location.lat),lng:o(e.geometry.location.lng),address:r,placeId:e.place_id,components:n}}return f.request_geocode(o,i,r)}},{"../constants/geolocation":78,"../lib":614,"../safe_require":643,"./core":508,"./shared/b_location_utils":510,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,ngeohash:1225}],506:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../../u/shared/async/b_async");var c=e("../../u/shared/b_object");var f=e("./google_maps");var d=e("../shared/b_location_utils");var p=e("../../logger");var _=e("../core");var m=e("../../u/shared/b_date").require_moment();var y=r;var v={};var b={};function h(e){e=s({},e);e.timestamp=m(e.timestamp*1e3).utc().startOf("day").valueOf();return JSON.stringify(e)}function j(e){var t=h(e);if(!v[t]){v[t]=u.MakeKey(null,"address_timezone_key");f.proxy_geolocation_request(e,t,(function(e,t){if((e==null?void 0:e.status)==="OK"){b[t]=e}else{p.error("Timezone fetching issue",{res:e})}v[t].turn()}))}u.ensure_ready(v[t]);return b[t]}var g={};function w(e,t){var r;var n=e.input,o=e.types,s=e.location,i=e.radius;if(d.is_b_location(s)&&i){r=s.lat+","+s.lng}else{r=null}var a=n+i+r;if(g[a]){t(g[a]);return}if(f.using_bubble_key()){f.proxy_geolocation_request({input:n,types:o,radius:i,location:r,request_type:"autocomplete"},a,(function(e,r){if(!e||e.status!=="OK"){t([])}else{g[r]=e.predictions;t(e.predictions)}}))}else{var l,p,_;if(typeof google==="undefined"||((l=google)==null?void 0:(p=l.maps)==null?void 0:(_=p.places)==null?void 0:_.AutocompleteService)==null){f.load_google_map_api()}u.WaitFor(f.load_google_map_api(),(function(){var e=new window.google.maps.places.AutocompleteService;var l={input:n,types:o};if(r){c.extend(l,{location:new google.maps.LatLng(s),radius:i})}e.getQueryPredictions(l,(function(e,r){if(r===google.maps.places.PlacesServiceStatus.OK){g[a]=e;t(e)}else{t([])}}))}))}}var O={};function S(e,t,r,n){var o=c.json_stringify(e);var s=n.alert_on_failure,i=n.throw_not_ready;if(!O[o]){var a=function e(t,n,o){r(null);O[n].turn();if(o){alert("There was an error converting the address "+n+" into a geographic location. Error message: "+t)}};var l=function e(n,o){r(t(n));O[o].turn()};O[o]=u.MakeKey(null,"address_localization_keys");if(f.using_bubble_key()){f.proxy_geolocation_request(e,o,(function(e,t){if(!e||e.status!=="OK"){a(e==null?void 0:e.status,t,s)}else{l(e.results[0],t)}}))}else{var d,_;if(typeof google==="undefined"||((d=google)==null?void 0:(_=d.maps)==null?void 0:_.Geocoder)==null){f.load_google_map_api()}u.WaitFor(f.load_google_map_api(),(function(){var t=new window.google.maps.Geocoder;var r=5;var n=r;function i(n,u){var c;if(e.place_id!=null){c={placeId:e.place_id}}else if(e.address!=null){c={address:e.address}}else if(e.lat!=null&&e.lng!=null){c={latLng:new window.google.maps.LatLng(e.lat,e.lng)}}var f=5e3;var d=false;var _=setTimeout((function(){p.owner_error("Probably invalid Geocoding API key",{display:"Geocoding Service: cannot connect to the service, please check the Geocode API key"});d=true;a(google.maps.GeocoderStatus.REQUEST_DENIED,o,s)}),f);t.geocode(c,(function(e,t){clearTimeout(_);if(d){return}if(t===google.maps.GeocoderStatus.OK){l(e[0],n)}else if(t===google.maps.GeocoderStatus.OVER_QUERY_LIMIT&&u>0){var o=u-1;setTimeout((function(){i(n,o)}),(r-o)*(r-o)*1e3)}else{if(t===google.maps.GeocoderStatus.REQUEST_DENIED){p.owner_error("Unauthorized Geocoding API key",{display:"Geocoding Service: This API project is not authorized to use this API.  For more information on authentication and Google Maps JavaScript API services check https://developers.google.com/maps/documentation/javascript/get-api-key"})}a(t,n,s)}}))}i(o,n)}))}}u.ensure_ready(O[o],!i)}y.init=function(){_.init("client",{request_timezone:j,request_geocode:S,request_autocomplete:w,localization_hasher:c.json_stringify})}},{"../../logger":617,"../../u/shared/async/b_async":695,"../../u/shared/b_date":699,"../../u/shared/b_object":702,"../core":508,"../shared/b_location_utils":510,"./google_maps":507,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],507:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.trim.js");var n=e("../../lib");var o=e("../../languages");var s=e("querystring");var i=e("../../lang/appquery");var a=e("../../logger");var l=e("../../shared/apps_utilities");var u=e("../../u/shared/errors");var c=e("../../u/shared/async/b_async");var f=e("../../u/shared/async/autorun");var d=r;var p=null;var _=null;function m(){if(!_){_=window.gm_key;delete window.gm_key}return _}d.load_google_map_api=function(){if(!p){p=c.MakeKey(null,"google_map_api_loaded");window.initialize_google_map_api=function(){p.turn()};var e=document.createElement("script");e.type="text/javascript";var t={v:3,callback:"initialize_google_map_api"};if(!d.using_bubble_key()){t.libraries="places"}f.run_once(30,(function(){return{map_key:m(),app_language:n().app_language(true)}}),(function(r,n){var i=n.map_key,a=n.app_language;if(r){throw u.ensure_bubble_error(r)}if(a){a=o.get_iso_code(a).split("_")[0];t.language=a}if(i){t.key=i}e.src="https://maps.googleapis.com/maps/api/js?"+s.stringify(t);document.getElementsByTagName("head")[0].appendChild(e)}))}return p};d.using_bubble_key=function(){var e;var t=i.appname();if(l.is_hardcoded(t)||t==="meta"){return false}return[null,undefined,""].includes((e=i.get_public_setting("general_keys.google_map_key"))==null?void 0:e.trim())};d.proxy_geolocation_request=function(e,t,r){e.language=n().app_language();e.appname=i.appname();var o=!d.using_bubble_key()&&e.request_type==="timezone"?"server://api/1.1/geolocation/google_proxy":"server://api/1.1/places";n().location.post(o,e,(function(e,n){if(e){a.log(e);r({status:e.message},t)}r(n,t)}))}},{"../../lang/appquery":535,"../../languages":612,"../../lib":614,"../../logger":617,"../../shared/apps_utilities":654,"../../u/shared/async/autorun":693,"../../u/shared/async/b_async":695,"../../u/shared/errors":708,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,querystring:1237}],508:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.weak-map.js");Object.defineProperty(r,"__esModule",{value:true});r.init=b;r.request_autocomplete=m;r.request_from_cache=y;r.request_geocode=v;r.request_timezone=_;e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n=e("../u/shared/errors");var o=i(e("./shared/shared_core"));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(s=function e(n){return n?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||a(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=s(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=o?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(n,i,l)}else{n[i]=e[i]}}}n.default=e;if(r){r.set(e,n)}return n}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){t=f(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function f(e){var t=d(e,"string");return a(t)==="symbol"?t:String(t)}function d(e,t){if(a(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(a(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p;function _(e){if(p===undefined){throw new n.UnexpectedError("Request Timezone Called before init")}return p.request_timezone(e)}function m(e,t){if(p===undefined){throw new n.UnexpectedError("Request Autocomplete called before init!")}return p.request_autocomplete(e,t)}function y(e){if(p===undefined){throw new n.UnexpectedError("Request from cache called before init!")}return o.get_from_cache(e,p.localization_hasher)}function v(e,t,r){if(p===undefined){throw new n.UnexpectedError("Request Geocode Called Before Init!")}return o.request_geocode(e,t,r,p.localization_hasher,p.request_geocode)}function b(e,t){if(p!==undefined&&p.prev_category!==e){throw new n.UnexpectedError("Conflicting initializes called!",{category:e,prev_category:p.prev_category})}p=u(u({},t),{},{prev_category:e})}},{"../u/shared/errors":708,"./shared/shared_core":511,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],509:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../lib");var c=e("../logger");var f=e("../u/shared/async/b_async");var d=e("../u/shared/async/autorun");var p=r;var _=e("./shared/b_location_utils");var m=e("./core");var y=e("../u/shared/b_object");var v=null;var b=d.Box(null);p.get_current_geographic_position=function(){if(navigator.geolocation){var e;if(!v){var t=function e(t){var r=b();var n={lat:r==null?void 0:r.lat,lng:r==null?void 0:r.lng};if(!b()||_.geographic_distance(n,{lat:t.coords.latitude,lng:t.coords.longitude})>.01){return b({lat:t.coords.latitude,lng:t.coords.longitude})}};v=f.MakeKey(Infinity,"waiting_for_current_location_watcher");var r=function e(){navigator.geolocation.watchPosition(t,(function(e){return console.log(e)}),{enableHighAccuracy:true})};navigator.geolocation.getCurrentPosition((function(e){t(e);v.turn();r()}),(function(e){c.owner_error(e.message);if(e.message.includes("User denied Geolocation")){v.turn();return}v.turn();r()}),{enableHighAccuracy:false,maximumAge:30*60*1e3})}f.ensure_ready(v);var n=b();_.round_lat_lng(n);var o=s({request_type:"geocode_latlong",language:u().app_language()},n);return(e=m.request_from_cache(o))!=null?e:n}else{return null}};p.get_timezone_for_location=function(e){if(!e||!_.is_b_location(e)){return""}var t=e.lat;var r=e.lng;var n=parseInt(Date.now()/1e3);var o={latitude:t,longitude:r,timestamp:n,request_type:"timezone"};return m.request_timezone(o)};p.get_address_place_autocomplete=function(e,t){return m.request_autocomplete(y.extend({request_type:"autocomplete"},e),t)}},{"../lib":614,"../logger":617,"../u/shared/async/autorun":693,"../u/shared/async/b_async":695,"../u/shared/b_object":702,"./core":508,"./shared/b_location_utils":510,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],510:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("../../db/hydrate");var a=e("../../lib");var l=e("../../constants/eval");var u=e("../../constants/geolocation");var c=e("../../lang/appquery");var f=r;f.is_hashed=function(e){if(typeof e!=="string"){return false}if(e.length<=u.GEOHASH_PRECISION){return false}var t=e.indexOf("/");if(t===-1||t!==u.GEOHASH_PRECISION){return false}var r=e.substring(0,u.GEOHASH_PRECISION);if(/[^0-9b-hjkmnp-z]/.test(r)){return false}return true};f.is_b_location=function(e){return e!=null&&e.lat!=null&&e.lng!=null};f.google_fields={"room number":{google_field:"room"},floor:{},"street number":{google_field:"street_number"},street:{google_field:"route"},neighborhood:{},premise:{},subpremise:{},city:{google_field:["locality","sublocality","postal_town"]},"state code":{google_field:"administrative_area_level_1",short:true},state:{google_field:"administrative_area_level_1"},county:{google_field:"administrative_area_level_2"},"zip code":{google_field:"postal_code"},country:{},"country code":{google_field:"country",short:true}};f.to_json_components=function(e){var t={};var r=function r(o){var s;var i=f.google_fields[o];var a=(s=i.google_field)!=null?s:o;if(!Array.isArray(a)){a=[a]}function l(){var t=n(a),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;var s=n(e.address_components),l;try{for(s.s();!(l=s.n()).done;){var u=l.value;if(u.types.includes(o)){if(i.short){return u.short_name}else{return u.long_name}}}}catch(e){s.e(e)}finally{s.f()}}}catch(e){t.e(e)}finally{t.f()}}var u=l();if(u!=null){t[o]=u}};for(var o in f.google_fields){r(o)}return t};f.rehydrate_b_location=function(e){if(typeof e!=="string"||e.indexOf(l.HYDRATE_STRING)===-1){return e}return i.rehydrate_tree(a().db_instance(c.appname(),c.app_version()),e)};f.round_lat_lng=function(e){if(e!=null&&e.lat&&e!=null&&e.lng){e.lat=Math.floor(e.lat*1e4)/1e4;e.lng=Math.floor(e.lng*1e4)/1e4}};f.geographic_distance=function(e,t,r){var n;if(r==="miles"){n=3958}else{n=6371}var o=function e(t){return t*Math.PI/180};var s=o(t.lat-e.lat);var i=o(t.lng-e.lng);var a=o(e.lat);var l=o(t.lat);var u=Math.sin(s/2)*Math.sin(s/2)+Math.sin(i/2)*Math.sin(i/2)*Math.cos(a)*Math.cos(l);var c=2*Math.atan2(Math.sqrt(u),Math.sqrt(1-u));var f=n*c;return f}},{"../../constants/eval":75,"../../constants/geolocation":78,"../../db/hydrate":422,"../../lang/appquery":535,"../../lib":614,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],511:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.get_from_cache=o;r.request_geocode=s;var n={};function o(e,t){var r=t(e);return n[r]}function s(e,t,r,o,s){var i=o(e);if(!n[i]){var a=function e(t){n[i]=t;if(t!=null){n[t.address]=t}};s(e,t,a,r)}return n[i]}},{}],512:[function(e,t,r){"use strict";e("core-js/modules/es.math.log2.js");e("core-js/modules/es.number.is-nan.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.includes.js");var n=e("./u");var o=e("./logger");var s=e("./u/shared/b_file_shared");var i=r;i.ignore_imgix_fn=function(e,t,r){if(r){return false}if(!c.image_optimization_service||e.indexOf("ignore_imgix")!==-1||t||e.indexOf(".svg")!==-1){return true}if(!s.is_file_cdn_url(e)&&!c.always_proxy_user_files){return true}return false};function a(e,t){if(e.indexOf("//")===0){e=u().location.parsed_url().protocol+e}else if(e.indexOf("https://")!==0&&e.indexOf("http://")!==0){e=u().location.parsed_url().protocol+"//"+e}if(c.always_proxy_user_files){return u().location.parsed_url().host+"/user/iop/"+n.fixedEncodeURIComponent(e)+"?"+f.stringify(t)}else{return c.image_optimization_service+"/"+n.fixedEncodeURIComponent(e)+"?"+f.stringify(t)}}function l(e){e=e*1.1;var t=Math.floor(Math.log2(e));var r=Math.pow(2,t)*1.5;if(e>=r){return Math.pow(2,t+1)}else{return r}}i.get_reduced_file_url=function(e,t,r,s){var i;var u;if(t){var c=l(t);u=c/t;t=c}else{u=null}if(r){if(u){r=Math.round(u*r)}else{r=l(r)}}function d(n){if(isNaN(n)||n==null){var i;if((i=Number.isNaN)!=null&&i.call(Number,n)){o.warn("Picture with NaN dimensions",{src:e,width:t,height:r,options:s})}return null}else{return n.toString()}}var p={w:d(t),h:d(r),auto:"compress"};if(s){n.extend(p,s)}var _=e.split("?")[1];if(_){_=f.parse(_);n.extend(p,_)}(i=p.fit)!=null?i:p.fit="max";return a(e.split("?")[0],p)};i.get_image_json_data=function(e,t){var r={fm:"json"};var o=e.split("?")[1];if(o){var s=f.parse(o);s.fm="json";n.extend(r,s);switch(s.fit){case"crop":case"facearea":case"clamp":case"min":case"scale":if(s.w!=null&&s.h!=null){var i={width:s.w,height:s.h};t(i)}else{t(null)}return}if(s.ar){t(null);return}}e=u().location.parsed_url().protocol+"//"+a(e.split("?")[0],r);var l=$.ajax(e);l.done((function(e,r,n){var o,s;if([6,8].includes(e.Orientation)){s=e.PixelHeight;o=e.PixelWidth}else{s=e.PixelWidth;o=e.PixelHeight}if(!s||!o){t(null)}else{var i={width:s,height:o};t(i)}}));return l.fail((function(e,r,n){return t(null)}))};i.add_processing_options=function(e,t){if((e==null?void 0:e.split)==null){return""}var r={};var o=e.split("?")[1];if(o){n.extend(r,f.parse(o))}if(t.auto_enhance){r.auto="enhance"}if(t.red_eye){if(t.auto){r.auto+=",redeye"}else{r.auto="redeye"}}if(t.extract_face){var s;r.fit="facearea";r.facepad=(s=t.facepad)!=null?s:1}else if(t.crop_to_fit){r.fit="crop"}for(var i=0,a=["blur","sepia"];i<a.length;i++){var l=a[i];if(t[l]){r[l]=t[l+"_level"]}}if(t.pixel){r.px=t.pixel_level}if(t.mono){r.mono=n.rgb_to_hex(t.mono_level).code.split("#")[1]}if(t.mask){r.mask="ellipse"}if(t.q!=null){r.q=t.q}if(t.fm){r.fm=t.fm}return e.split("?")[0]+"?"+f.stringify(r)};var u=e("./lib");var c=e("./client_config");var f=e("querystring")},{"./client_config":55,"./lib":614,"./logger":617,"./u":687,"./u/shared/b_file_shared":700,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.math.log2.js":945,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.number.is-nan.js":947,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.split.js":979,querystring:1237}],513:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});Object.defineProperty(r,"EmptyJSON",{enumerable:true,get:function e(){return n.EmptyJSON}});Object.defineProperty(r,"JSONBase",{enumerable:true,get:function e(){return n.JSONBase}});Object.defineProperty(r,"RuntimeJSON",{enumerable:true,get:function e(){return o.default}});Object.defineProperty(r,"VirtualJSON",{enumerable:true,get:function e(){return s.default}});Object.defineProperty(r,"escape_app_json_key",{enumerable:true,get:function e(){return i.escape_app_json_key}});Object.defineProperty(r,"raw_to_child_names",{enumerable:true,get:function e(){return i.raw_to_child_names}});Object.defineProperty(r,"unescape_app_json_key",{enumerable:true,get:function e(){return i.unescape_app_json_key}});var n=e("./json_base");var o=a(e("./runtime_json"));var s=a(e("./virtual_json"));var i=e("./json_utils");function a(e){return e&&e.__esModule?e:{default:e}}},{"./json_base":514,"./json_utils":515,"./runtime_json":516,"./virtual_json":517}],514:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");Object.defineProperty(r,"__esModule",{value:true});r.EmptyJSON=S;r.JSONBase=void 0;e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");var n=e("./json_utils");var o=e(".././shrink");var s=e("../../constants/app_json");var i=e("../shrink");function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)l(e,t)}function l(e,t){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return l(e,t)}function u(e){var t=d();return function r(){var n=p(e),o;if(t){var s=p(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return c(this,o)}}function c(e,t){if(t&&(_(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return f(e)}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function _(e){"@babel/helpers - typeof";return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function m(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function y(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function b(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,g(n.key),n)}}function j(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function g(e){var t=w(e,"string");return _(t)==="symbol"?t:String(t)}function w(e,t){if(_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var O=function(){function e(){b(this,e)}j(e,[{key:"child_by_path",value:function e(t){return this.by_path((0,i.shrink_path)(t))}},{key:"by_path",value:function e(t){var r=t.split(".");var n=this;var o=m(r),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(i){n=n._child(i)}}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"child",value:function e(t){return this._child((0,o.shrink)(t))}},{key:"name",value:function e(){return(0,o.expand)(this._name())}},{key:"path",value:function e(){var t=this._path();if(!t){return t}return t.split(".").map((function(e){return(0,o.expand)(e)})).join(".")}},{key:"is_json",get:function e(){return true}},{key:"by_id",value:function e(t){var r=this.raw_index("id_to_path",t);var n=this.root();if(r){n.pre_cache(r,true)}if(r==null){return S(this,t)}return n.by_path(r)}},{key:"read_index",value:function e(){var t=this.raw_index.apply(this,arguments);if(t!=null&&_(t)==="object"){delete t[s.OBJECT_MARKER];delete t.length}return t}},{key:"children",value:function e(){var t=this;return this._child_names().map((function(e){return t._child(e)}))}},{key:"child_names",value:function e(){return this._child_names().map((function(e){return(0,o.expand)(e)}))}},{key:"is_equal_to",value:function e(t){var r;return(t==null?void 0:(r=t.toUniqueString)==null?void 0:r.call(t))===this.toUniqueString()}},{key:"_raw_to_child_names",value:function e(t){return(0,n.raw_to_child_names)(t)}},{key:"raw",value:function e(){var e=this._raw();if(e===undefined)return e;return(0,o.expand_object)(e)}},{key:"_raw_child",value:function e(t){return this._child(t)._raw()}},{key:"_raw_gchild",value:function e(t,r){return this._gchild(t,r)._raw()}},{key:"set",value:function e(t,r){this._set((0,o.shrink_object)(t),r)}},{key:"pre_cache",value:function e(t,r){if(!t&&!this._path()){return}var n=this;if(t){var o=m(t.split(".").filter((function(e){return e}))),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(r){n=n._child(i)}else{n=n.child(i)}}}catch(e){o.e(e)}finally{o.f()}}n.ensure_loading()}},{key:"toString",value:function e(){return"JSON Base"}}]);return e}();r.JSONBase=O;function S(e,t,r){return new k(e,t,r)}var k=function(e){a(r,e);var t=u(r);function r(e,n,o){var s;b(this,r);s=t.call(this);s.owner=void 0;s._id=void 0;s.search=void 0;s.owner=e;s._id=n;s.search=o;return s}j(r,[{key:"empty",value:function e(){return true}},{key:"exists",value:function e(){return false}},{key:"_raw",value:function e(){return undefined}},{key:"raw_type",value:function e(){return typeof undefined==="undefined"?"undefined":_(undefined)}},{key:"get",value:function e(){return null}},{key:"id",value:function e(){var t;return(t=this._id)!=null?t:""}},{key:"to_id",value:function e(){return this}},{key:"to_path",value:function e(){return this}},{key:"toString",value:function e(){var t,r;return"EmptyJSON<"+((t=this._id)!=null?t:"")+((r=this.search)!=null?r:"")+">"}},{key:"toUniqueString",value:function e(){return this.toString()+"_"+this.owner.toString()}},{key:"path_cache",value:function e(){return this.toString()+"_"+this.owner.toString()}},{key:"ensure_exists",value:function e(){return null}},{key:"_path",value:function e(){return""}},{key:"_name",value:function e(){return""}},{key:"parent",value:function e(){return null}},{key:"_child",value:function e(t){return S(this.owner,null,"".concat(this.toString(),".child(").concat(String(t),")"))}},{key:"_gchild",value:function e(t,r){return S(this.owner,null,"".concat(this.toString(),".gchild(").concat(String(t),",").concat(String(r),")"))}},{key:"pre_cache",value:function e(t,r){this.owner.pre_cache(t,r)}},{key:"ensure_loading",value:function e(){}},{key:"_child_names",value:function e(){return[]}},{key:"root",value:function e(){return this.owner.root()}},{key:"application",value:function e(){return this.owner.application()}},{key:"appname",value:function e(){return this.owner.appname()}},{key:"app_version",value:function e(){return this.owner.app_version()}},{key:"raw_index",value:function e(){var t;return(t=this.owner).raw_index.apply(t,arguments)}},{key:"register_indexer",value:function e(){}},{key:"smart_cache",value:function e(t,r,n){return r(this,n)}},{key:"_set",value:function e(t,r){}},{key:"serialize",value:function e(){return{}}}]);return r}(O)},{"../../constants/app_json":58,".././shrink":603,"../shrink":603,"./json_utils":515,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.search.js":978,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],515:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");Object.defineProperty(r,"__esModule",{value:true});r.escape_app_json_key=w;r.raw_to_child_names=v;r.unescape_app_json_key=O;e("core-js/modules/es.array.map.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");var n=e("../../constants/app_json");var o=e("../../u/shared/regexUtilities");function s(e){return l(e)||a(e)||f(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return d(e)}function u(e,t){return _(e)||p(e,t)||f(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(!e)return;if(typeof e==="string")return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function d(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function p(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function _(e){if(Array.isArray(e))return e}function m(e){"@babel/helpers - typeof";return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}var y=100;function v(e){var t;if(e==null||m(e)!=="object"){t=[]}else{if(Array.isArray(e)){t=e.map((function(e,t){return String(t)}))}else{var r=-1;t=[];Object.entries(e).filter((function(e){var t=u(e,2),r=t[0],o=t[1];return o!==undefined&&!["length",n.OBJECT_MARKER].includes(r)})).forEach((function(e){var n=u(e,2),o=n[0],s=n[1];if(r!=null){var i=parseInt(o);if(String(i)!==String(o)){r=null}else{r=Math.max(i,r)}}t.push(o)}));if(r!=null&&r>-1&&r<y*t.length){t=[];for(var o=0;o<=r;o++){t.push(String(o))}}else{t.sort()}}}return t}var b={".":"^{p1}","^":"^{c1}"};var h={};Object.keys(b).forEach((function(e){h[b[e]]=e}));var j=new RegExp(o.oneOf.apply(void 0,s(Object.keys(b))),"g");var g=new RegExp(o.oneOf.apply(void 0,s(Object.values(b))),"g");function w(e){return e.replace(j,(function(e){return b[e]}))}function O(e){return e.replace(g,(function(e){return h[e]}))}},{"../../constants/app_json":58,"../../u/shared/regexUtilities":714,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],516:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.map.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");var n=l(e("../../u"));var o=e("./json_base");var s=l(e("../nodes/registry"));var i=e("../../u/shared/errors");function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||j(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e,t){return p(e)||d(e,t)||y(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}function _(e){return b(e)||v(e)||y(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function v(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b(e){if(Array.isArray(e))return h(e)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function j(e){"@babel/helpers - typeof";return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function w(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,S(n.key),n)}}function O(e,t,r){if(t)w(e.prototype,t);if(r)w(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function S(e){var t=k(e,"string");return j(t)==="symbol"?t:String(t)}function k(e,t){if(j(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(j(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function A(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)E(e,t)}function E(e,t){E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return E(e,t)}function x(e){var t=T();return function r(){var n=I(e),o;if(t){var s=I(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return M(this,o)}}function M(e,t){if(t&&(j(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return P(e)}function P(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function T(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function I(e){I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return I(e)}function C(e,t){var r=e;return r==null?void 0:r[t]}var R=function(e){A(r,e);var t=x(r);function r(e,o,s,a,l,u){var c;g(this,r);c=t.call(this);c.cache=undefined;c._parent=null;c.__name=undefined;c._root=undefined;c._appname=undefined;c._app_version=undefined;c._unique_id=undefined;c._children={};c._child_names_cache=undefined;c._smart_cache=undefined;c.__path=void 0;c._indexers=void 0;c._has_indexers=void 0;c.cache=e;c._parent=o;c.__name=String(s);c._appname=l;c._app_version=u;if(c.is_root()){c._root=P(c);c.__path="";c.__name=""}else if(c.is_leaf()){c._root=a;c.__path=c._parent.__path?c._parent.__path+"."+c.__name:c.__name}else{throw new i.UnexpectedError("Must be root or leaf!")}c._unique_id=n.LUID();return c}O(r,[{key:"toString",value:function e(){var t,r;return"RuntimeJSON<".concat((t=this._appname)!=null?t:"","_").concat(this.app_version().toString(),"_").concat((r=this.__path)!=null?r:"",">")}},{key:"toUniqueString",value:function e(){var t;return(t=this._unique_id)!=null?t:""}},{key:"path_cache",value:function e(){var t;return(t=this._unique_id)!=null?t:""}},{key:"id",value:function e(){var t;var r=this.cache;return(t=r==null?void 0:r.id)!=null?t:null}},{key:"_name",value:function e(){var t;return(t=this.__name)!=null?t:""}},{key:"to_id",value:function e(){return this}},{key:"to_path",value:function e(){return this}},{key:"parent",value:function e(){return this._parent}},{key:"_path",value:function e(){return this.__path}},{key:"get",value:function e(){return j(this.cache)==="object"?null:this.cache}},{key:"empty",value:function e(){return this.cache==null}},{key:"appname",value:function e(){return this._root._appname}},{key:"app_version",value:function e(){return this._root._app_version}},{key:"exists",value:function e(){return this.cache!=null}},{key:"ensure_exists",value:function e(){return this.exists()?this:null}},{key:"_child",value:function e(t){var n,o;var s=String(t);(o=(n=this._children)[s])!=null?o:n[s]=new r(C(this.cache,s),this,s,this._root,this._appname,this._app_version);return this._children[s]}},{key:"_gchild",value:function e(t,r){return this._child(t)._child(r)}},{key:"_raw_child",value:function e(t){return C(this.cache,t)}},{key:"_raw_gchild",value:function e(t,r){var n;return C((n=C(this.cache,t))!=null?n:undefined,r)}},{key:"_child_names",value:function e(){if(!this._child_names_cache){this._rebuild_child_names()}return this._child_names_cache}},{key:"_rebuild_child_names",value:function e(){this._child_names_cache=this._raw_to_child_names(this.cache)}},{key:"pre_cache",value:function e(t,r){}},{key:"raw_index",value:function e(){var t,r,n;var o=(t=(r=this._root)==null?void 0:(n=r.cache)==null?void 0:n._index)!=null?t:null;for(var s=arguments.length,i=new Array(s),a=0;a<s;a++){i[a]=arguments[a]}for(var l=0,u=i;l<u.length;l++){var c;var f=u[l];o=(c=o)==null?void 0:c[String(f)]}return o}},{key:"root",value:function e(){return this._root}},{key:"application",value:function e(){return s.create("FakeApplication",this._root)}},{key:"_raw",value:function e(){return this.cache}},{key:"raw_type",value:function e(){return j(this.cache)}},{key:"register_indexer",value:function e(t,r){var n,o;(n=this._indexers)!=null?n:this._indexers={};this._indexers[t]=r;var s=this._root;if(s==null){return}(o=s._has_indexers)!=null?o:s._has_indexers={};s._has_indexers[this._path()]=this}},{key:"smart_cache",value:function e(t,r,n){var o;var s=(o=this._smart_cache)!=null?o:this._smart_cache={};if(!(t in s)){s[t]=r(this,n)}return s[t]}},{key:"ensure_loading",value:function e(){}},{key:"add_to_tree",value:function e(t){}},{key:"is_leaf",value:function e(){return this._parent!=null}},{key:"is_root",value:function e(){return this._parent==null}}]);return r}(o.JSONBase);r.default=R},{"../../u":687,"../../u/shared/errors":708,"../nodes/registry":600,"./json_base":514,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],517:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.default=u;var o=l(e(".././shrink"));var s=i(e("./runtime_json"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function u(e,t){return new s.default(o.shrink_object(t),e.parent(),e._name(),e.root(),e.appname(),e.app_version())}},{".././shrink":603,"./runtime_json":516,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],518:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u");var v=e("../nodes");var b=e("../../lib");var h=e("../appquery");var j=e("./RAW");var g=e("../../locations");t.exports=function(e){u(r,e);var t=f(r);function r(e){var n;o(this,r);n=t.call(this,e);return n}i(r,[{key:"id",value:function e(){return"api"}},{key:"type",value:function e(){return"API"}},{key:"get_name",value:function e(){return"Backend workflows"}},{key:"is_api",value:function e(){return true}},{key:"is_page",value:function e(){return false}},{key:"is_custom_definition",value:function e(){return false}},{key:"root",value:function e(){return this}},{key:"get_new_event_json",value:function e(){return this.json.child(y.LUID())}},{key:"parent",value:function e(){return null}},{key:"events",value:function e(t){var r=this.json.children().map((function(e){return v.new_workflow_item(e)}));return v.filter_array(t,r)}},{key:"find_events",value:function e(t){return this.events(t)}},{key:"find_actions",value:function e(t){return this.events().flatMap((function(e){var r;return(r=e.all_next(t))!=null?r:[]}))}},{key:"find_expressions",value:function e(t){return this.events().flatMap((function(e){var r;return(r=e.find_expressions(t))!=null?r:[]}))}}]);return r}(v.AppNode)},{"../../lib":614,"../../locations":616,"../../u":687,"../appquery":535,"../nodes":597,"./RAW":530,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],519:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../../lib");t.exports=function(){function e(t){o(this,e);this._appname=t}i(e,[{key:"appname",value:function e(){return this._appname}},{key:"domain",value:function e(){return u().app_domain()}}]);return e}()},{"../../lib":614,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],520:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");var o,s;function i(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=p(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function a(e,t){return c(e)||u(e,t)||p(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function c(e){if(Array.isArray(e))return e}function f(e){return m(e)||_(e)||p(e)||d()}function d(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function p(e,t){if(!e)return;if(typeof e==="string")return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}function _(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function m(e){if(Array.isArray(e))return y(e)}function y(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function v(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,j(n.key),n)}}function h(e,t,r){if(t)b(e.prototype,t);if(r)b(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function j(e){var t=g(e,"string");return n(t)==="symbol"?t:String(t)}function g(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function w(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)O(e,t)}function O(e,t){O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return O(e,t)}function S(e){var t=E();return function r(){var n=x(e),o;if(t){var s=x(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return k(this,o)}}function k(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return A(e)}function A(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function E(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function x(e){x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return x(e)}function M(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var P=e("../../u");var T=e("../../u/shared/decaf");var I=e("../nodes");var C=e("../caching");var R=e("../btype_ids");var N=e("../../constants/plugin");var L=e("../../constants/locations");var z=e("../../constants/domain");var D=e("../../constants/security");var q=e("../../shared/domain_utilities");var B=e("../../client/analytics");var U=e("../consolidate_paths");var W=e("../../shared/environment_utilities");var F=e("../../lib");var G=e("../../locations");var X=e("../appquery");var $=e("../../services/shared/plugin_registry");var V=e("../../services/shared/plugin_getter");var H=e("../../services/shared/service_type_parser");var Y=e("../plugins");var K=e("../../constants/custom_elements"),J=K.GROUP_TYPES;var Z=e("./RAW");var Q=e("../../constants/editor"),ee=Q.DEPRECATED_EXPERIMENTS,te=Q.FEATURE_FLAGS_PATH;var re=e("../../constants/advanced_features"),ne=re.ADVANCED_FEATURES,oe=re.ADVANCED_FEATURE_JSON_SETTINGS_PATH;var se=e("../../u/shared/mode_check");var ie=e("../../notifier/client");var ae=e("../../constants/notifier_topics");var le=e("../../constants/segment_events");var ue=e("../../shared/pricing_configs");var ce=e("../../core/core_elements/shared/pages");var fe=e("../../client_config");if(P.on_server()){var de=e;fe=de("../../configuration")}var pe=D.SECURABLE_PREFIX;var _e=e("./builtins");var me=e("../../constants/elements"),ye=me.LATEST_ELEMENT_VERSION;var ve="-no-reply@bubbleapps.io";t.exports=(o=C.cached({type:C.AUTORUN}),s=function(e){w(r,e);var t=S(r);function r(e){var n;v(this,r);n=t.call(this,e);n._styles_cache={};n._paid_plugin_install_checked=false;if(se.is_edit_mode()){var o=Date.now();ie.watch([ae.AppPlanChangeTopic,n.appname()],(function(){return o}),(function(){n.invalidate_app_plan()}))}return n}h(r,[{key:"find_expressions",value:function e(t){var r=this.pages().flatMap((function(e){return e.find_expressions(t)}));var n=this.custom_definitions().flatMap((function(e){return e.find_expressions(t)}));var o=this.api().find_expressions(t);return[].concat(f(r),f(n),f(o))}},{key:"application",value:function e(){return this.json.application()}},{key:"appname",value:function e(){return this.application().appname()}},{key:"app_version",value:function e(){return this.json.app_version()}},{key:"creation_date",value:function e(){return this.json.child("creation_date").get()}},{key:"exists",value:function e(){var t;var r=this.json.child("settings").child("client_safe").child("bubble_version");var n=this.json.child("last_change");return((t=r.get())!=null?t:n.get())!=null}},{key:"domain",value:function e(){return this.application().domain()}},{key:"app_plan",value:function e(t){var r,n=this;(r=t)!=null?r:t=false;if(F().is_edit_mode()){var o,s;(s=this[o="_plan_invalidation_box_"+t])!=null?s:this[o]=P.Box(false)}else{return F().app_plan()}}},{key:"display",value:function e(){var t;return(t=this.domain())!=null?t:this.appname()}},{key:"use_shared_sendgrid_key",value:function e(){if(this.appname()==="meta"){return false}if(!F().app_plan().custom_domain){return true}if(X.get_public_setting("sendgrid_verified")){return false}return true}},{key:"get_sendgrid_key",value:function e(){if(this.use_shared_sendgrid_key()){return fe.shared_sendgrid_key}else{return X.get_private_setting("sendgrid_key")}}},{key:"admin_email",value:function e(){var t=this.admin_email_hostname();var r=this.appname();if(!r){return fe.ADMIN_NO_REPLY}var n=t===fe.PROD_DOMAINS.main&&r!=="meta";if(n||this.use_shared_sendgrid_key()&&this.get_public_setting("use_sendgrid")){if(r.indexOf("_")!==-1){return fe.ADMIN_NO_REPLY}return this.appname()+ve}else{return this.custom_domain_admin_email()}}},{key:"custom_domain_admin_email",value:function e(){var t;var r=(t=this.get_public_setting("admin_email"))!=null?t:"admin";return r.trim()+"@"+this.admin_email_hostname()}},{key:"admin_email_hostname",value:function e(){var t;if(this.get_public_setting("app_topdomain")){return this.get_public_setting("app_topdomain")}var r=(t=this.domain())!=null?t:z.META_HOSTNAME;var n=P.get_domain_components(r),o=n.top_domain;if(q.is_host_aws(o)){r=z.META_HOSTNAME}return o}},{key:"find_oauth_providers",value:function e(){return Object.entries(this.get_plugin_versions()).filter((function(e){var t=a(e,2),r=t[0],n=t[1];return n})).flatMap((function(e){var t=a(e,2),r=t[0],n=t[1];var o=V.get_plugin(r,n);if(o!=null&&o.is_oauth_provider()){var s;return(s=o.get_oauth_providers_simple())!=null?s:[]}else{return[]}}))}},{key:"get_oauth_providers",value:function e(){var t;return(t=F().derived("OAuthProviders").content())!=null?t:[]}},{key:"get_user_calls",value:function e(){if(P.is_plugin_edit_mode()){return[]}return F().derived("UserCalls").content()}},{key:"find_user_calls",value:function e(){return Object.entries(this.get_plugin_versions()).filter((function(e){var t=a(e,2),r=t[0],n=t[1];return n})).flatMap((function(e){var t;var r=a(e,2),n=r[0],o=r[1];var s=V.get_plugin(n,o);var i=(t=s==null?void 0:s.get_user_calls())!=null?t:[];return i.map((function(e){return n+N.PLUGIN_SEPARATOR+e}))}))}},{key:"_get_stripe_version",value:function e(){if(!W.is_production()){return L.TEST_VERSION}return G.get_db_version(this.app_version())}},{key:"stripe_client_id",value:function e(){var t="stripe_client_id_"+this._get_stripe_version();return this.get_public_setting(t)}},{key:"stripe_public_key",value:function e(){var t="stripe_public_key_"+this._get_stripe_version();return this.get_public_setting(t)}},{key:"get_public_setting_node",value:function e(t){if(!t){throw new P.UnexpectedError("missing name")}var r=t.split(".");var n=this.json.child("settings").child("client_safe");var o=i(r),s;try{for(o.s();!(s=o.n()).done;){var a=s.value;n=n.child(a)}}catch(e){o.e(e)}finally{o.f()}return I.new_expression(n,this)}},{key:"get_public_setting",value:function e(t){var r,n,o;var s=this.appname();var i=(r=fe.public_app_settings_override)==null?void 0:(n=r[s])==null?void 0:n[t];if(i!=null){return i}return(o=this.get_public_setting_node(t).get_static())!=null?o:this.settings_default(true,t)}},{key:"get_private_setting_node",value:function e(t){if(!t){throw new P.UnexpectedError("missing name")}var r=t.split(".");var n=this.json.child("settings").child("secure");var o=i(r),s;try{for(o.s();!(s=o.n()).done;){var a=s.value;n=n.child(a)}}catch(e){o.e(e)}finally{o.f()}return I.new_expression(n,this)}},{key:"get_private_setting",value:function e(t){var r,n,o;var s=this.appname();var i=(r=fe.private_app_settings_override)==null?void 0:(n=r[s])==null?void 0:n[t];if(i!=null){return i}return(o=this.get_private_setting_node(t).get_static())!=null?o:this.settings_default(false,t)}},{key:"settings_default",value:function e(t,r){if(t&&r==="admin_email"){return"admin"}else if(t&&r==="app_language"){return"en_us"}else{var n;return(n=$.defaults_for_plugins_settings[r])!=null?n:null}}},{key:"_id",value:function e(){return this.appname()}},{key:"id",value:function e(){return this.appname()}},{key:"is_template",value:function e(){return this.json.child("is_template").get()}},{key:"from_template",value:function e(){return![null,undefined,""].includes(this.template_id())}},{key:"template_id",value:function e(){return this.json.child("template_id").get()}},{key:"page",value:function e(t){if(!t){return null}return I.create(I.PAGE,this.json.by_id(t))}},{key:"custom_definition",value:function e(t){if(!t){return null}return I.create(I.CUSTOM_DEFINITION,this.json.by_id(t))}},{key:"custom_definitions",value:function e(t){var r=this.json.child("element_definitions").children().map((function(e){return I.create(I.CUSTOM_DEFINITION,e)}));return I.filter_array(t,r)}},{key:"custom_type",value:function e(t){if(!t){return null}if(R.is_custom_type(t)){throw new P.UnexpectedError("This is a value id, not a custom type: "+t+".  Please do values.get(id).custom_type() instead.")}if(t.startsWith(pe)){var r=t.split(pe);return this.securable_type(r[1],r[2])}return I.create(I.CUSTOM_TYPE,this.json.child("user_types").child(t))}},{key:"securable_type",value:function e(t,r){return I.create(I.SECURABLE_TYPE,t,r,this.json.child("user_types").child(pe+t+pe+r))}},{key:"custom_types",value:function e(t,r,n){this.json.child("user_types").pre_cache();var o=function e(t){return t!=="user"&&!t.startsWith(pe)};var s=this.json.child("user_types").children();var e=s.filter((function(e){return o(e.name())})).map((function(e){return I.create(I.CUSTOM_TYPE,e)}));var i=I.create(I.CUSTOM_TYPE,this.json.child("user_types").child("user"));var a=r?_e.SPECIAL_TYPES:[];var l=[].concat(f(e),[i],f(a));if(n){l=l.filter((function(e){return!e.deleted()}))}return I.filter_array(t,l)}},{key:"option_set",value:function e(t){if(!t){return null}if(R.is_option_set(t)){throw new P.UnexpectedError("This is a value id, not a custom option set: "+t+".")}return I.create(I.OPTION_SET,this.json.child("option_sets").child(t))}},{key:"option_sets",value:function e(t,r){var n=this.json.child("option_sets").children().map((function(e){return I.create(I.OPTION_SET,e)}));if(r){n=n.filter((function(e){return!e.deleted()}))}return I.filter_array(t,n)}},{key:"element",value:function e(t){if(!t){return null}var r=this.json.by_id(t);if(r&&P.on_server()){r.child("type").ensure_loading();r.child("id").ensure_loading();r.child("properties").ensure_loading();r.child("custom_states").ensure_loading()}return I.new_element(r)}},{key:"workflow_item",value:function e(t){if(!t){return null}return I.new_workflow_item(this.json.by_id(t))}},{key:"event",value:function e(t){if(!t){return null}return I.new_workflow_item(this.json.by_id(t))}},{key:"action",value:function e(t){if(!t){return null}return I.new_workflow_item(this.json.by_id(t))}},{key:"by_id",value:function e(t){var r,n,o;if(!t){return null}var s=this.json.by_id(t);if(!s.exists()){return null}var i=(r=s.parent())==null?void 0:r.name();var a=["workflows","actions","api"].includes(i);var l=((n=s.parent())==null?void 0:(o=n.parent())==null?void 0:o.name())==="actions";if(a||l){return this.workflow_item(t)}else{return this.element(t)}}},{key:"get_page_by_name",value:function e(t){if(!t){return null}var r=F().derived("PageByName");r.set_app(this);var n=r.content();if(n[t]){var o=this.json.by_path(n[t]._path);return I.create(I.PAGE,o)}else{return null}}},{key:"get_custom_by_name",value:function e(t){var r;var n=F().derived("CustomByName");n.set_app(this);var o=(r=n.content()[t])==null?void 0:r.id;if(o){return this.custom_definition(o)}else{return null}}},{key:"last_change",value:function e(){var t;return(t=this.json.child("last_change").get())!=null?t:"no_last_change"}},{key:"favicon",value:function e(){var t=this.json.child("favicon").get();if(["//s3.amazonaws.com/appforest_uf/f1438203816318x881656567333266200/favicon_rounded.png","//s3.amazonaws.com/appforest_uf/f1462750401796x354019699618220350/apple_touch_icon_precomposed.png"].includes(t)){return"//meta.cdn.bubble.io/f1530294839424x143528842134401200/Icon-no-clearspace.png"}return t}},{key:"plugin_special",value:function e(){return this.json.child("plugin_special").get()}},{key:"style",value:function e(t){var r,n;var o=this.json.child("styles").child(t);(n=(r=this._styles_cache)[t])!=null?n:r[t]=I.create(I.STYLE,o);return this._styles_cache[t]}},{key:"get_style_default",value:function e(t){var r;return(r=this.get_public_setting("default_styles"))==null?void 0:r[t]}},{key:"get_plugin_versions",value:function e(){var t;return(t=this.get_public_setting("plugins"))!=null?t:{}}},{key:"get_plugin_version",value:function e(t){return this.get_public_setting_node("plugins").json.child(t).get()}},{key:"has_plugin",value:function e(t){return Boolean(this.get_plugin_version(t))}},{key:"list_plugins",value:function e(){return Object.keys(this.get_plugin_versions())}},{key:"get_editor_link",value:function e(t){var r=t?"https://local.bubble.is":F().location.get_base_for_meta();var n=X.appname();var o=X.app_version();var s="".concat(r,"/page?id=").concat(n,"&version=").concat(o);var i=F().location.get_pieces().path[0];if(i){s+="&name=".concat(i)}return s}},{key:"with_feature_flag",value:function e(t){var r=this;var n=t.feature_name,o=t.old_fn,s=t.new_fn;return P.error_append("with limited_rollout: ".concat(n),(function(){if(r.has_feature_enabled(n)){return s()}else{return o()}}))}},{key:"has_feature_enabled",value:function e(t){var r;if(ee[t]&&!((r=ee[t].test_app_exceptions)!=null&&r.includes(this.appname()))&&this.get_public_setting("bubble_version")>=ee[t].deprecation_bv){return false}return this.get_public_setting("".concat(te).concat(t))===true}},{key:"has_fallback_path_enabled",value:function e(t){var r,n;switch(t[0]){case"experimental_feature":return this.has_feature_enabled(t[1]);case"raw_path":return(r=(n=this.json.by_path(t[1]))==null?void 0:n.raw())!=null?r:false;default:return false}}},{key:"has_advanced_feature_enabled",value:function e(t){var r;var n=ne[t];if(this.get_public_setting("bubble_version")<22){if(n!=null&&n.fallback){return this.has_fallback_path_enabled(n.fallback)}return false}if(n!=null&&n.parent_advanced_feature){var o=n.parent_advanced_feature;if(!this.has_advanced_feature_enabled(o)){return false}}var s=this.get_public_setting("".concat(oe,".").concat(t));if(s!=null){return s}if(n!=null&&n.fallback){return this.has_fallback_path_enabled(n.fallback)}return(r=n==null?void 0:n.enabled_by_default)!=null?r:false}},{key:"set_advanced_feature_enabled",value:function e(t,r){var n,o;var s=ne[t];if(!s){return}this.set_setting(true,"".concat(oe,".").concat(t),r);if(s.fallback){switch(s.fallback[0]){case"experimental_feature":(n=this.json.by_path(s.fallback[1]))==null?void 0:n.set(r);break;case"raw_path":(o=this.json.by_path(s.fallback[1]))==null?void 0:o.set(r);break}}this.commit()}},{key:"can_run_issue_checker",value:function e(){return this.app_version()!=="live"||G.is_hardcode(this.appname(),this.app_version())}},{key:"toString",value:function e(){return this.app_version()}},{key:"context_element",value:function e(){return null}}]);return r}(I.AppNode),M(s.prototype,"get_user_calls",[o],Object.getOwnPropertyDescriptor(s.prototype,"get_user_calls"),s.prototype),s);function be(e){return Array.from(e)}},{"../../client/analytics":38,"../../client_config":55,"../../constants/advanced_features":56,"../../constants/custom_elements":68,"../../constants/domain":70,"../../constants/editor":71,"../../constants/elements":72,"../../constants/locations":82,"../../constants/notifier_topics":84,"../../constants/plugin":86,"../../constants/security":92,"../../constants/segment_events":93,"../../core/core_elements/shared/pages":362,"../../lib":614,"../../locations":616,"../../notifier/client":620,"../../services/shared/plugin_getter":649,"../../services/shared/plugin_registry":650,"../../services/shared/service_type_parser":651,"../../shared/domain_utilities":657,"../../shared/environment_utilities":658,"../../shared/pricing_configs":665,"../../u":687,"../../u/shared/decaf":706,"../../u/shared/mode_check":713,"../appquery":535,"../btype_ids":536,"../caching":539,"../consolidate_paths":541,"../nodes":597,"../plugins":602,"./RAW":530,"./builtins":533,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],521:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}},{"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],522:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u");var v=e("../../lib");var b=e("../btypes");var h=e("../nodes");var j=e("./CustomFieldState");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"deleted",value:function e(){return this.json.child("deleted").get()}},{key:"name",value:function e(){return this.json.name()}},{key:"parent",value:function e(){return h.create(h.CUSTOM_TYPE,this.json.parent().parent())}},{key:"is_custom",value:function e(){return b.is_custom_type(this.value())}}]);return r}(j)},{"../../lib":614,"../../u":687,"../btypes":537,"../nodes":597,"./CustomFieldState":523,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],523:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../nodes");var v=e("../btype_ids");var b=["text","number","date","boolean","file","image","geographic_address"];t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"display",value:function e(){return this.json.child("display").get()}},{key:"value",value:function e(){return this.json.child("value").get()}},{key:"default_val",value:function e(){if(!this.can_have_default()){return null}return this.json.child("default_val").raw()}},{key:"can_have_default",value:function e(){if(this.name()==null||this.is_list()){return false}var t=this.value();return b.includes(t)||v.is_option_set(t)}},{key:"is_list",value:function e(){return v.is_list(this.value())}},{key:"exists",value:function e(){return this.json.child("value").get()!=null}},{key:"id",value:function e(){return this.name()}}]);return r}(y.AppNode)},{"../btype_ids":536,"../nodes":597,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],524:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e){return l(e)||a(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return u(e)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}var w=e("../../u");var O=e("../nodes");var S=e("../../lib");var k=e("../appquery");var A=e("../btypes");var E=e("../btype_ids");t.exports=function(e){m(r,e);var t=v(r);function r(e){c(this,r);e.ensure_loading();return t.call(this,e)}d(r,[{key:"name",value:function e(){return this.json.name()}},{key:"id",value:function e(){return this.name()}},{key:"to_value",value:function e(){var t=this.name();return t==="user"?"user":E.custom_type(t)}},{key:"deleted",value:function e(){return this.json.child("deleted").get()}},{key:"display",value:function e(){return this.json.child("display").get()}},{key:"exposed_api",value:function e(){return this.json.child("exposed_api").get()}},{key:"fields",value:function e(){var t=this.json.child("fields").children();return t.map((function(e){return O.create(O.CUSTOM_FIELD,e)}))}},{key:"field",value:function e(t){return O.create(O.CUSTOM_FIELD,this.json.child("fields").child(t))}},{key:"privacy_roles",value:function e(){var t=this.json.child("privacy_role").children();return t.map((function(e){return O.create(O.PRIVACY_ROLE,e)}))}},{key:"privacy_role",value:function e(t){var r=this.json.child("privacy_role").child(t);return O.create(O.PRIVACY_ROLE,r)}},{key:"default",value:function e(){return S().derived("DefaultValues").content()[this.name()]}},{key:"get_default_fields",value:function e(t){var r;(r=t)!=null?r:t=false;var n=this.json.child("fields").children();return n.map((function(e){var r=O.create(O.CUSTOM_FIELD,e);var n={};n.name=r.name();n.value=r.value();n.display=r.display();if(!t){if(r.default_val()!=null){if(E.is_option_set(r.value())){n.default_val=r.default_val()}else{n.default_val=A.get(r.value()).cast(r.default_val())}}n.deleted=r.deleted()}return n}))}}]);return r}(O.AppNode)},{"../../lib":614,"../../u":687,"../appquery":535,"../btype_ids":536,"../btypes":537,"../nodes":597,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],525:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}t.exports=function(){function e(t){o(this,e);this.version_json=t}i(e,[{key:"domain",value:function e(){return this.version_json.child("primary_domain").get()}},{key:"appname",value:function e(){return this.version_json.child("_id").get()}}]);return e}()},{"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],526:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u");var v=e("../nodes");var b=e("../../lib");var h=e("./CustomFieldState");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"deleted",value:function e(){return this.json.child("deleted").get()}},{key:"name",value:function e(){return this.json.name()}},{key:"parent",value:function e(){return v.create(v.OPTION_SET,this.json.parent().parent())}}]);return r}(h)},{"../../lib":614,"../../u":687,"../nodes":597,"./CustomFieldState":523,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],527:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.from-entries.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}var w=e("../../u");var O=e("../nodes");var S=e("../../lib");var k=e("../../constants/option_sets");var A=e("../../constants/lang");var E=e("../appquery");var x=e("../btype_ids");t.exports=function(e){m(r,e);var t=v(r);function r(){c(this,r);return t.apply(this,arguments)}d(r,[{key:"name",value:function e(){return this.json.name()}},{key:"id",value:function e(){return this.name()}},{key:"to_value",value:function e(){var t=this.name();return x.option_set_type(t)}},{key:"deleted",value:function e(){return this.json.child("deleted").get()}},{key:"display",value:function e(){return this.json.child("display").get()}},{key:"attributes",value:function e(){var t=this.json.child("attributes").children();return t.map((function(e){return O.create(O.OPTION_ATTRIBUTE,e)}))}},{key:"attribute",value:function e(t){var r=this.json.child("attributes").child(t);return O.create(O.OPTION_ATTRIBUTE,r)}},{key:"values",value:function e(){var t=this.json.child("values").children();var r=this.json.child("attributes").child("db_value").exists()?A.OPTION_VALUE_FORMATS.name_is_key:A.OPTION_VALUE_FORMATS.name_is_db_value_with_fallback;return t.map((function(e){return O.create(O.OPTION_VALUE,e,r)}))}},{key:"get_id_to_name_mapping",value:function e(){var t=this;var r=this.json.child("attributes").child("db_value").exists();var n=function e(){var n;var s=Object.entries((n=t.json.child("values").raw())!=null?n:{});return Object.fromEntries(s.map((function(e){var t=o(e,2),n=t[0],s=t[1];if(!r&&s.db_value){return[s.db_value,n]}else{return[n,n]}})))};return this.json.smart_cache("OptionSetValueMapping",n)}},{key:"value",value:function e(t){var r;var n=(r=this.get_id_to_name_mapping()[t])!=null?r:"null";var o=this.json.child("attributes").child("db_value").exists()?A.OPTION_VALUE_FORMATS.name_is_key:A.OPTION_VALUE_FORMATS.name_is_db_value_with_fallback;return O.create(O.OPTION_VALUE,this.json.child("values").child(n),o)}},{key:"reserved_attributes",value:function e(){return["_id","_rev","type","display","deleted","sort_factor","db_value"]}},{key:"reserved_values",value:function e(){return["_id","_rev","type",k.ALL_OPTIONS,"null","undefined"]}}]);return r}(O.AppNode)},{"../../constants/lang":81,"../../constants/option_sets":85,"../../lib":614,"../../u":687,"../appquery":535,"../btype_ids":536,"../nodes":597,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.from-entries.js":952,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],528:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}function u(e){"@babel/helpers - typeof";return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return u(t)==="symbol"?t:String(t)}function _(e,t){if(u(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(u(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(u(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}var w=e("../../u");var O=e("../nodes");var S=e("../../lib");var k=e("../../constants/lang");t.exports=function(e){m(r,e);var t=v(r);function r(e,n){var o;c(this,r);o=t.call(this,e);o.format=n;return o}d(r,[{key:"deleted",value:function e(){return this.json.child("deleted").get()}},{key:"name",value:function e(){if(this.format===k.OPTION_VALUE_FORMATS.name_is_key){return this.json.name()}else{var t;return(t=this.json.child("db_value").get())!=null?t:this.json.name()}}},{key:"id",value:function e(){return this.name()}},{key:"display",value:function e(){return this.json.child("display").get()}},{key:"sort_factor",value:function e(){return this.json.child("sort_factor").get()}},{key:"parent",value:function e(){return O.create(O.OPTION_SET,this.json.parent().parent())}},{key:"attr",value:function e(t){var r=this.json.child(t).raw();if(r&&u(r)==="object"){var o=Object.keys(r).every((function(e){return e.match(/^\d+$/)}));if(o){var s=[];Object.entries(r).forEach((function(e){var t=n(e,2),r=t[0],o=t[1];s[parseInt(r)]=o}));return s}}return r}}]);return r}(O.AppNode)},{"../../constants/lang":81,"../../lib":614,"../../u":687,"../nodes":597,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],529:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u");var v=e("../nodes");var b=e("../../lib");var h=e("../appquery");var j=e("../btypes");var g=e("../btype_ids");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"display",value:function e(){if(this.name()==="everyone"){return"everyone"}else{return this.json.child("display").get()}}},{key:"name",value:function e(){return this.json.name()}},{key:"id",value:function e(){return this.name()}},{key:"parent",value:function e(){var t=this.json.parent().parent();return this.app().custom_type(t.name())}},{key:"condition",value:function e(){return v.new_expression(this.json.child("condition"),this)}}]);return r}(v.AppNode)},{"../../lib":614,"../../u":687,"../appquery":535,"../btype_ids":536,"../btypes":537,"../nodes":597,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],530:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){t=p(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}},{"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],531:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}var w=e("../../u/shared/decaf");var O=e("../appquery");var S=e("../../services/shared/plugin_getter");var k=e("./CustomType");var A=e("./builtins");var E=e("../btype_ids");t.exports=function(e){m(r,e);var t=v(r);function r(e,n,o){var s;c(this,r);s=t.call(this,o);s.no_special_messages=true;s.not_writeable=true;s.plugin=e;s._name=n;return s}d(r,[{key:"name",value:function e(){return this._name}},{key:"to_value",value:function e(){return E.custom_type(this.json.name())}},{key:"my_data",value:function e(){var t;return(t=S.get_plugin(this.plugin).securable)==null?void 0:t[this.name()]}},{key:"display",value:function e(){var t,r;return(t=(r=this.my_data())==null?void 0:r.display)!=null?t:"[missing: "+this.plugin+" "+this.name()+"]"}},{key:"get_permissions_editors",value:function e(){var t,r;return(t=(r=this.my_data())==null?void 0:r.permissions_editors)!=null?t:{}}},{key:"starting_permissions",value:function e(){var t,r;return(t=(r=this.my_data())==null?void 0:r.starting_permissions)!=null?t:{}}},{key:"fields",value:function e(){var t,r;return w.object_entries((t=(r=this.my_data())==null?void 0:r.fields)!=null?t:{}).map((function(e){var t=o(e,2),r=t[0],n=t[1];return A.create_fake_field(r,n)}))}},{key:"field",value:function e(t){var r,n;var o=(r=(n=this.my_data())==null?void 0:n.fields[t])!=null?r:{display:"Missing: "+t,value:"null"};return A.create_fake_field(t,o)}},{key:"permissions_node",value:function e(t){return O.app().json.child_by_path("user_types.".concat(t,".privacy_role"))}}]);return r}(k)},{"../../services/shared/plugin_getter":649,"../../u/shared/decaf":706,"../appquery":535,"../btype_ids":536,"./CustomType":524,"./builtins":533,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],532:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.concat.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var u=r;var c=e("../../lib");var f=e("../appquery");var d=e("../../u/shared/decaf");u.page_name_to_id=function(e){var t;return(t=c().derived("PageByName").content()[e])==null?void 0:t.id};u.page_id_to_name=function(e){var t=c().derived("PageByName").content();var r=d.object_keys(t).find((function(r){return t[r].id===e}));return r!=null?r:null};u.custom_name_to_id=function(e){var t;return(t=c().derived("CustomByName").content()[e])==null?void 0:t.id};u.custom_id_to_name=function(e){var t=c().derived("CustomByName").content();var r=d.object_keys(t).find((function(r){return t[r].id===e}));return r!=null?r:null}},{"../../lib":614,"../../u/shared/decaf":706,"../appquery":535,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],533:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}function u(e){"@babel/helpers - typeof";return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}var c=t.exports;var f=e("../../u");var d=e("../../u/shared/decaf");var p=e("../appquery");var _=e("../btypes");c.create_fake_field=function(e,t){var r,n,o;if(u(t)==="object"){o=t.value;r=t.deleted;n=t.display}else{o=t;r=false;n=e}return{name:function t(){return e},raw:function e(){return true},value:function e(){return o},exists:function e(){return true},display:function e(){return n},deleted:function e(){return r}}};function m(e,t,r){return{exists:function e(){return true},name:function t(){return e},field:function e(r){return c.create_fake_field(r,t[r])},fields:function e(){return d.object_entries(t).filter((function(e){var t=n(e,2),r=t[0],o=t[1];return u(o)!=="object"||o.display})).map((function(e){var t=n(e,2),r=t[0],o=t[1];return c.create_fake_field(r,o)}))},no_rename:true,display:function t(){return e},privacy_roles:function e(){return d.object_entries(r).map((function(e){var t=n(e,2),r=t[0],o=t[1];return y(r,o)}))},privacy_role:function e(t){if(r!=null&&r[t]){return y(t,r[t])}}}}function y(e,t){return{get_permissions:function e(){return t.permissions},condition:function e(){return{json:function e(){return{raw:t.condition}},get_eval_value:function e(){return _.get("sys.bool")}}}}}var v={run_id:{value:"sys.uid"},charge_user_id:{value:"sys.uid"},status:{value:"sys.uid"}};var b={plan_id:{value:"sys.uid",display:"Plan id"},done:{value:"boolean",display:"Subscription was successful"},coupon_id:{value:"sys.uid",display:"Coupon id"},quantity:{value:"number",display:"Quantity"},trial_end:{value:"date",display:"Trial End"},tax_percent:{value:"number",display:"Tax percent"},user_id:{value:"sys.uid"},subscribe_id:{value:"sys.uid"},stringified_properties:{value:"sys.uid"}};var h={amount:{value:"number",display:"Amount"},amount_received:{value:"number",display:"Amount Received (including coupons)"},app_fee:{value:"number",display:"Application Fee"},currency:{value:"sys.uid",display:"Currency"},StripeChargeID:{value:"sys.uid",display:"Charge Id"},captured:{value:"boolean",display:"Captured"},payment_intent_id:{value:"text",display:"Payment intent id"},description:{value:"text",display:"Order description"},charged_user_email:{value:"sys.uid",display:"Email of charged user"},product_name:{value:"text",display:"Product name"},image:{value:"text",display:"Product image"},statement_descriptor:{value:"text",display:"Statement descriptor"},charge_user_action_id:{value:"sys.uid"},charged_user_id:{value:"sys.uid"},charged_user:{value:"sys.uid"},payee_user:{value:"sys.uid"},authorize_only:{value:"boolean"},allow_promotion_codes:{value:"boolean"}};var j=m("Order",f.extend({},v,h));var g=m("SubscriptionOrder",f.extend({},v,b));var w={used:"boolean",user_id:"custom",token_text:"text",email:"text"};var O={everyone:{permissions:{}},no_one:{condition:false,permissions:{}}};var S={used:"boolean",user_id:"custom",email:"text",validity_ms:"number",spage_thing:"text",fpage_thing:"text",succ_page_name:"text",fail_page_name:"text",s_additional_parameters:"text",f_additional_parameters:"text",success_page:"text",failure_page:"text"};var k=m("password_reset",w,O);var A=m("magic_link",S,O);var E=m("confirmation email entry",w,O);c.SPECIAL_TYPES=[j,g,k,E,A];c.SPECIAL_ALL={"Modified Date":"date","Created Date":"date","Created By":"custom",Slug:"text",recurring_scheduling:"json"};var x={StripeCustomerID:"custom",stripeauthtoken:"not_indexed",email:"custom",user_signed_up:"boolean"};var M={max_number_of_app:"long"};c.get_special_fields=function(e,t){var r=[c.SPECIAL_ALL];if(t){r.push(t)}if(e.name()==="user"){r.push(x);if(p.app().plugin_special()==="meta"){r.push(M)}}return r.flatMap((function(e){return d.object_entries(e).map((function(e){var t=n(e,2),r=t[0],o=t[1];return c.create_fake_field(r,o)}))}))}},{"../../u":687,"../../u/shared/decaf":706,"../appquery":535,"../btypes":537,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],534:[function(e,t,r){"use strict";var n=r;var o=e("../nodes");var s=e("./FakeApplication");var i=e("./Application");var a=e("./ApplicationVersion");var l=e("./API");var u=e("./CustomType");var c=e("./SecurableType");var f=e("./CustomFieldState");var d=e("./CustomField");var p=e("./PrivacyRole");var _=e("./OptionSet");var m=e("./OptionAttribute");var y=e("./OptionValue");var v=e("./Comment");var b=e("./builtins");var h=e("./application_utils");o.add(o.FAKE_APPLICATION,s);o.add(o.APPLICATION,i);o.add(o.APPLICATION_VERSION,a);o.add(o.API_WORKFLOWS,l);o.add(o.CUSTOM_TYPE,u);o.add(o.SECURABLE_TYPE,c);o.add(o.CUSTOM_FIELD_STATE,f);o.add(o.CUSTOM_FIELD,d);o.add(o.PRIVACY_ROLE,p);o.add(o.OPTION_SET,_);o.add(o.OPTION_ATTRIBUTE,m);o.add(o.OPTION_VALUE,y);n.get_special_fields=b.get_special_fields;n.SPECIAL_TYPES=b.SPECIAL_TYPES;n.show_privacy_warning=h.show_privacy_warning;n.page_name_to_id=h.page_name_to_id;n.page_id_to_name=h.page_id_to_name;n.custom_name_to_id=h.custom_name_to_id;n.custom_id_to_name=h.custom_id_to_name;n.get_sorted_list_of_pages=h.get_sorted_list_of_pages;n.get_sorted_list_of_custom_definitions=h.get_sorted_list_of_custom_definitions},{"../nodes":597,"./API":518,"./Application":519,"./ApplicationVersion":520,"./Comment":521,"./CustomField":522,"./CustomFieldState":523,"./CustomType":524,"./FakeApplication":525,"./OptionAttribute":526,"./OptionSet":527,"./OptionValue":528,"./PrivacyRole":529,"./SecurableType":531,"./application_utils":532,"./builtins":533}],535:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("./../u");var a=e("./../safe_require");a.safe_register("./lang/appquery",u);var l=r;t.exports=u;function u(e,t){return c().app(e,t)}u.app=u;u.add_methods=function(e){var t=n(i.all_keys(e.prototype)),r;try{var o=function e(){var t=r.value;u[t]=l[t]=function(){var e=c().app();if(!e[t]){var r;throw new i.UnexpectedError("Current Lib().app() is missing function",{k:t,cur_app:String(e),cur_app_keys:String(i.all_keys(e)),cur_app_constructor:e==null?void 0:(r=e.constructor)==null?void 0:r.name,app_fn:String(c().app)})}return e[t].apply(e,arguments)}};for(t.s();!(r=t.n()).done;){o()}}catch(e){t.e(e)}finally{t.f()}};if(typeof window!=="undefined"&&window!==null){window.appquery=u}var c=e("./../lib")},{"./../lib":614,"./../safe_require":643,"./../u":687,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],536:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.api_type=y;r.api_type_inner=v;r.bubble_null=void 0;r.custom_type=d;r.custom_type_name=p;r.is_api_type=m;r.is_custom_type=f;r.is_list=a;r.is_option_set=h;r.list_element_type=u;r.list_type=l;r.option_set_name=g;r.option_set_type=j;e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.slice.js");var n=s(e("../safe_require"));var o=e("../logger");function s(e){return e&&e.__esModule?e:{default:e}}n.default.safe_register("./lang/btype_ids",r);var i="list.";function a(e){var t;return(t=e==null?void 0:e.startsWith(i))!=null?t:false}function l(e){return"".concat(i).concat(e)}function u(e){if(!a(e)){(0,o.warn)("btype_ids assertion failure!",{function:"list",btype_id:e})}return e.slice(i.length)}var c="custom.";function f(e){var t;return(t=e==null?void 0:e.startsWith(c))!=null?t:false}function d(e){return"".concat(c).concat(e)}function p(e){if(e==="user"){return"user"}if(!f(e)){(0,o.warn)("btype_ids assertion failure!",{function:"custom",btype_id:e})}return e.slice(c.length)}var _="api.";function m(e){var t;return(t=e==null?void 0:e.startsWith(_))!=null?t:false}function y(e){return"".concat(_).concat(e)}function v(e){if(!m(e)){(0,o.warn)("btype_ids assertion failure!",{function:"api",btype_id:e})}return e.slice(_.length)}var b="option.";function h(e){var t;return(t=e==null?void 0:e.startsWith(b))!=null?t:false}function j(e){return"".concat(b).concat(e)}function g(e){if(!h(e)){(0,o.warn)("btype_ids assertion failure!",{function:"option_set",btype_id:e})}return e.slice(b.length)}var w="null";r.bubble_null=w},{"../logger":617,"../safe_require":643,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.string.starts-with.js":980}],537:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.string.ends-with.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");function n(e){return b(e)||f(e)||m(e)||_()}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return h(t)==="symbol"?t:String(t)}function l(e,t){if(h(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(h(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e){return d(e)||f(e)||m(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function d(e){if(Array.isArray(e))return y(e)}function p(e,t){return b(e)||v(e,t)||m(e,t)||_()}function _(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(!e)return;if(typeof e==="string")return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}function y(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function v(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function b(e){if(Array.isArray(e))return e}function h(e){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}var j=r;var g=e("./../u");var w=e("../u/shared/decaf");var O=e("./btype_ids");var S=e("./../safe_require");S.safe_register("./lang/btypes",j);var k=e("./../lib");var A=e("./appquery");var E=e("./caching");var x=e("./../logger");var M=e("./btypes_registry");var P=e("./missing_btype");j.get=function(e,t){var r;var n=t!=null?t:{},o=n.miss_okay;if((r=e)!=null&&r.get_message){return e}if(typeof e!=="string"){if(e!=null){var s;x.info("non-string btype_id",{type:h(e),stringified:(s=e)==null?void 0:s.toString()})}e="null"}if(e!=null&&P.is_missing(e)){return T([P.strip_prefix(e),o])}if(e==="date_unix"){return T(["date",o])}return T([e,o])};j.is_custom_type=function(e){return e==="user"||typeof e==="string"&&O.is_custom_type(e)};var T=E.standalone({type:E.RUN_MODE,parameters:1},(function(e){var t=p(e,2),r=t[0],n=t[1];if(!r){r="null"}var o=A.toUniqueString();return I(r,o,n)}));j.list=g.autorun_cache((function(e){var t;if(!e){return M.plugins.entries().filter((function(e){var t=p(e,2),r=t[0],n=t[1];return!n.dont_list})).map((function(e){var t=p(e,2),r=t[0],n=t[1];return j.get(r)}))}var r=e.split(".");var n=k().load_plugin(k().plugin_prefixes.btype+r[0]);var o=r.slice(1).join(".");var s=o===""?n:n.get(o);return((t=s.list())!=null?t:[]).map((function(t){return j.get(e+"."+t)}))}));j.search=function(e){var t=j.list();var r=M.providers.entries().filter((function(e){var t=p(e,2),r=t[0],n=t[1];return typeof n.list==="function"})).flatMap((function(e){var t=p(e,2),r=t[0],n=t[1];return j.list(r)}));var n=[].concat(u(t),u(r));return n.filter((function(t){return t.matches(e)}))};var I=g.autorun_cache((function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return new C(e,r)}));var C=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;o(this,e);this._id=typeof t==="string"?t:"null";var s=this._id.split("."),i=n(s),a=i[0],l=i.slice(1);var u=l.join(".");var c=k().load_plugin(k().plugin_prefixes.btype+a,r);var f=u!==""?c==null?void 0:c.get(u):c;this.plugin=typeof f==="function"?f():f;if(!this.plugin){this.plugin=P.get(this._id)}}i(e,[{key:"id",value:function e(){return this._id}},{key:"get_message",value:function e(t){var r;var n=(r=this.plugin.get_message(t))!=null?r:{description:" [not found: "+t+"]",not_found:true,fn:function e(){}};return new j.Message(t,n,this._id)}},{key:"get_messages",value:function e(t){var r=this;return w.array_from(this.plugin.get_message_names({exclude_special_messages:t})).map((function(e){return r.get_message(e)}))}},{key:"get_message_reorg",value:function e(t){var r;if(!this.plugin.get_message_reorg){return this.get_message(t)}var n=(r=this.plugin.get_message_reorg(t))!=null?r:{description:" [not found: "+t+"]",not_found:true,fn:function e(){}};return new j.Message(t,n,this._id)}},{key:"get_messages_reorg",value:function e(t){var r=this;if(!this.plugin.get_message_names_reorg){return this.get_messages(t)}return w.array_from(this.plugin.get_message_names_reorg({exclude_special_messages:t})).map((function(e){return r.get_message_reorg(e)}))}},{key:"call",value:function e(t,r,n,o){return this.get_message(t).evaluate(r,n,o)}},{key:"display",value:function e(){return this.plugin.display()}},{key:"display_for_issue",value:function e(){if(typeof this.plugin.display_for_issue==="function"){return this.plugin.display_for_issue()}if(this.id()==="null"){return"empty"}return this.display()}},{key:"is_aggregate",value:function e(){return this.plugin.is_aggregate}},{key:"equals",value:function e(t,r){return this.plugin.equals(t,r)}},{key:"get_sample",value:function e(){return this.plugin.get_sample()}},{key:"get_bubble_null",value:function e(){if(typeof this.plugin.get_bubble_null!=="function"){x.warn("missing get_bubble_null",{btype:this});return null}return this.plugin.get_bubble_null()}},{key:"cast",value:function e(t){var r;if(typeof this.plugin.cast!=="function"){return t}return(r=this.plugin.cast(t))!=null?r:null}},{key:"is_missing",value:function e(){var t,r,n;return(t=(r=(n=this.plugin).is_missing)==null?void 0:r.call(n))!=null?t:false}},{key:"from_human",value:function e(t,r){if(this.plugin.from_human){return this.plugin.from_human(t,r)}return this.cast(t)}},{key:"runmode_display",value:function e(t,r){if(!this.plugin.runmode_display){var n;if((n=window)!=null&&n.current_user_is_admin){console.log("trying to render a ".concat(this.id()," to string, but no V.runmode_display function"))}return""}return this.plugin.runmode_display(t,r)}},{key:"has_runmode_display",value:function e(){return this.plugin.runmode_display!=null}},{key:"export_to_string",value:function e(t,r){return this.plugin.export_to_string(t,r)}},{key:"has_export_to_string",value:function e(){return this.plugin.export_to_string!=null}},{key:"debugging_display",value:function e(t,r){return this.plugin.debugging_display(t,r)}},{key:"has_debugging_display",value:function e(){return this.plugin.debugging_display!=null}},{key:"can_sort",value:function e(){return this.plugin.can_sort}},{key:"custom_type",value:function e(){var t,r;return(t=(r=this.plugin).custom_type)==null?void 0:t.call(r)}},{key:"option_set",value:function e(){var t,r;return(t=(r=this.plugin).option_set)==null?void 0:t.call(r)}},{key:"can_get_JS_object",value:function e(){if(this.plugin.get_JS_object!=null){return true}x.error("No get_JS_object for btype",{id:this._id});return false}},{key:"get_JS_object",value:function e(t){return this.plugin.get_JS_object(t)}},{key:"can_JS_to_bubble",value:function e(){return this.plugin.JS_to_bubble!=null}},{key:"JS_to_bubble",value:function e(t){return this.plugin.JS_to_bubble(t)}},{key:"matches",value:function e(t){if(typeof this.plugin.matches==="function"){return this.plugin.matches(t)}else{return z(t)(this)}}},{key:"synonyms",value:function e(){if(this.inner()){var t;var r=(t=this.inner().plugin.synonyms)!=null?t:[];return[this.id()].concat(u(r.map((function(e){return O.list_type(e)}))))}else{var n;return[this.id()].concat(u((n=this.plugin.synonyms)!=null?n:[]))}}},{key:"storable",value:function e(){return this.plugin.storable}},{key:"bindable",value:function e(){return this.plugin.bindable}},{key:"get_composer_input_type",value:function e(){return this.plugin.composer_input_type}},{key:"inner",value:function e(){var t,r;return(t=(r=this.plugin).inner)==null?void 0:t.call(r)}},{key:"inner_including_ranges",value:function e(){if(this.plugin.inner){return this.plugin.inner()}var t=/_range$/;if(this.id().match(t)){return j.get(this.id().replace(t,""))}return this}},{key:"is_range",value:function e(){return this.plugin.inner==null&&/_range$/.test(this.id())}},{key:"is_list",value:function e(){return this.plugin.is_list}}]);return e}();function R(e){var t=function t(r){return r.id()!==e};t.display=function(){return"anything but a "+j.get(e).display()};return t}function N(e){function t(t){return t.synonyms().includes(e.id())||e.synonyms().includes(t.id())}t.display=function(){return"a "+e.display()};t.display_for_issue=function(){return e.display_for_issue()};return t}function L(e){var t=e+".";var r=function e(r){return r.id().startsWith(t)};r.display=function(){return"any "+j.get(e).display()};return r}function z(e){if(h(e)==="object"&&typeof e.id==="function"){return N(e)}else if(typeof e==="string"){if(e.startsWith("!")){return R(e.slice(1))}else if(e==="list*bindable"){return j.compound}else if(e.endsWith("*")){return L(e.slice(0,-1))}else{return N(j.get(e))}}else if(typeof e==="function"){if(!e.display){x.error("every matcher function must have a display function",{str_or_fn:e});e.display=function(){return"a thing"}}return e}else{throw new g.UnexpectedError("blank or invalid matcher",{str_or_fn:e})}}j.Message=function(){function e(t,r,n){o(this,e);this.evaluate=this.evaluate.bind(this);this.evaluate_without_cast=this.evaluate_without_cast.bind(this);this._name=t;this.M=r;this.btype=n;this.fn=this.M.fn}i(e,[{key:"is_not_found",value:function e(){return this.M.not_found}},{key:"no_composer",value:function e(t){var r,n;return(r=(n=this.M).no_composer)==null?void 0:r.call(n,t)}},{key:"has_args",value:function e(){return this.M.arg_btype!=null}},{key:"no_arg_no_properties",value:function e(){return!this.has_args()&&this.spot_data()!=="SlidableAtom"}},{key:"public_for_plugins",value:function e(){return this.M.public_for_plugins}},{key:"arg_btype",value:function e(){if(this.M.arg_btype){return j.get(this.M.arg_btype)}else{return null}}},{key:"name",value:function e(){return this._name}},{key:"ret_btype_id",value:function e(t){if(typeof this.M.ret_btype==="function"){return this.M.ret_btype(t)}else{var r;return(r=this.M.ret_btype)!=null?r:"null"}}},{key:"ret_btype",value:function e(t){return j.get(this.ret_btype_id(t))}},{key:"check_for_errors",value:function e(t,r){if(this.M.check_for_errors){this.M.check_for_errors(t,r)}}},{key:"ret_btype_null",value:function e(){return this.ret_btype.apply(this,arguments).get_bubble_null()}},{key:"spot_data",value:function e(){return this.M.spot_data}},{key:"fields",value:function e(t,r){var n,o,s;return(n=(o=(s=this.M).fields)==null?void 0:o.call(s,t,r))!=null?n:[]}},{key:"field_names",value:function e(){var t;if(this.M.fields&&!this.M.field_names){throw new g.UnexpectedError("missing field_names for message "+this._name)}return(t=this.M.field_names)!=null?t:{}}},{key:"description",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=typeof this.M.description==="function"?this.M.description(t,n):this.M.description;var s=/^'s /;if(r&&o.match(s)){return o.replace(s,"")}else{return o}}},{key:"filter_context",value:function e(t){if(t.privacy_condition){if(this.M.privacy_condition_okay===false){return false}var r=this.M.build_pg_constraint;var n=this.M.build_pg_relationship&&this.M.build_pg_r_constraint;if(r&&(n||!this.M.arg_btype)){return true}if(["and_","or_"].includes(this._name)){return true}return this.is_lookup()}var o=["format_boolean","format_boolean_number"];if(t.is_style&&o.includes(this._name)){return false}if(!this.M.filter_context){return true}return this.M.filter_context(t)}},{key:"filter_context_new",value:function e(t){if(t.owner_type==="PrivacyRole"){if(this.M.privacy_condition_okay===false){return false}var r=this.M.build_pg_constraint;var n=this.M.build_pg_relationship&&this.M.build_pg_r_constraint;if(r&&(n||!this.M.arg_btype)){return true}if(["and_","or_"].includes(this._name)){return true}return this.is_lookup()}var o=["format_boolean","format_boolean_number"];if(t.owner_type==="State"&&t.is_style&&o.includes(this._name)){return false}if(!this.M.filter_context_new){return true}return this.M.filter_context_new(t)}},{key:"is_lookup",value:function e(){return this.M.is_lookup}},{key:"get_lookup_name",value:function e(){if(typeof this.M.is_lookup==="string"){return this.M.is_lookup}else{return this._name}}},{key:"evaluate",value:function e(t,r,n,o,s){var i=this.evaluate_without_cast(t,r,n,o,s);if(!this.is_lookup()){return i}return this.ret_btype(o).cast(i)}},{key:"evaluate_without_cast",value:function e(t,r,n,o,s){var i;var a=t==null?void 0:(i=t._type)==null?void 0:i.call(t);if(a&&a!==this.btype){return this.ret_btype(o).get_bubble_null()}if(this.is_lookup()){var l,u,c;return t==null?void 0:(l=t.child)==null?void 0:(u=(c=l.call(t,this.get_lookup_name())).get)==null?void 0:u.call(c)}else{return this.fn(t,r,n,o,s)}}},{key:"build_pg_relationship",value:function e(t,r){if(this.M.arg_btype==null){return[this._name+" does not take args so no relationship"]}if(!this.M.build_pg_relationship){return["no pg relationship for "+this._name]}else{return[null,this.M.build_pg_relationship(t,r)]}}},{key:"build_pg_constraint",value:function e(t,r){if(!this.M.build_pg_constraint){return["no pg constraint for "+this._name]}else{return[null,this.M.build_pg_constraint(t,r)]}}},{key:"build_pg_r_constraint",value:function e(t,r){if(this.M.arg_btype==null){return[this._name+" does not take args so no reversed"]}if(!this.M.build_pg_r_constraint){return["no pg reversed constraint for "+this._name]}else{return[null,this.M.build_pg_r_constraint(t,r)]}}},{key:"no_frozen_state",value:function e(t){var r;var n=t.prev;return(n==null?void 0:(r=n.query)==null?void 0:r.t)==="NodeList"||this.M.no_frozen_state}},{key:"message_cache_id",value:function e(t){var r,n;var o=t.raw,s=t.properties;return(r=(n=this.M).message_cache_id)==null?void 0:r.call(n,{raw:o,properties:s})}},{key:"can_shortcircuit_args",value:function e(){return this.M.can_shortcircuit_args}},{key:"properties_for_pre_evaluation",value:function e(t){var r=t._properties;if(this.M.properties_for_pre_evaluation)return this.M.properties_for_pre_evaluation({_properties:r});return r}}]);return e}();j.any=function(e){return true};j.any.display=function(){return"any"};j.saveable=function(e){var t,r;var n=(t=e==null?void 0:e.custom_type())!=null?t:{};return!n.not_writeable&&!((r=n.deleted)!=null&&r.call(n))&&typeof n.writeable_fields==="function"};j.saveable.display=function(){return"anything saveable"};j.saveable.get_name=function(){return"saveable"};j.compound=function(e){return e&&e.bindable()};j.compound.display=function(){return"any thing"};j.stringable=function(e){return(e==null?void 0:e.has_runmode_display())&&e.id()!=="null"};j.stringable.display=function(){return"anything that can be printed as text"};j.not_built_in=function(e){return/^(list\.)?custom/.test(e)};j.not_built_in.display=function(){return"anything that is not a built-in type"};j.display_matcher=function(e){var t,r;var n=z(e);return(t=(r=n.display_for_issue)==null?void 0:r.call(n))!=null?t:n.display()}},{"../u/shared/decaf":706,"./../lib":614,"./../logger":617,"./../safe_require":643,"./../u":687,"./appquery":535,"./btype_ids":536,"./btypes_registry":538,"./caching":539,"./missing_btype":593,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.ends-with.js":970,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.search.js":978,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],538:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("../logger");var f=function(){function e(){o(this,e);this.items={}}i(e,[{key:"get",value:function e(t){return this.items[t]}},{key:"add",value:function e(t,r){if(t in this.items){c.warn("Adding duplicate btype definition",{name:t})}this.items[t]=r}},{key:"keys",value:function e(){return Object.keys(this.items)}},{key:"values",value:function e(){return Object.values(this.items)}},{key:"entries",value:function e(){return Object.entries(this.items)}}]);return e}();u.plugins=new f;u.providers=new f},{"../logger":617,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],539:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.keys.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o=["type","parameters"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function a(e,t,r){t=l(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(e==null)return{};var r=f(e,t);var n,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++){n=s[o];if(t.indexOf(n)>=0)continue;if(!Object.prototype.propertyIsEnumerable.call(e,n))continue;r[n]=e[n]}}return r}function f(e,t){if(e==null)return{};var r={};var n=Object.keys(e);var o,s;for(s=0;s<n.length;s++){o=n[s];if(t.indexOf(o)>=0)continue;r[o]=e[o]}return r}var d=r;var p=e("../u");var _=e("../lib");d.RUN_MODE="run";d.ALL_MODES="all";d.AUTORUN="autorun";d.cached=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var t=e.type,r=e.parameters,n=r===void 0?0:r,s=c(e,o);if(t===d.AUTORUN){return y(s)}else if(t===d.ALL_MODES){return m(d.all_cache)}else if(t===d.RUN_MODE){if(n===0){return m(d.run_cache)}else if(n===1){return m(d.run_cache_1_param)}}throw new p.UnexpectedError("Unsupported cache options",{type:t,parameters:n})};d.standalone=function(e,t){var r;var n=(r=t.name)!=null?r:"fn";var o=a({},n,t);var s=Object.getOwnPropertyDescriptor(o,n);var i=d.cached(e);var l=a({},n,i(o,n,s).value);return l[n].bind(l)};function m(e){return function(t,r,n){return i(i({},n),{},{value:e(r,n.value)})}}function y(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};return function(t,r,n){return i(i({},n),{},{value:p.autorun_cache(p.extend({},{fn:n.value},e))})}}d.run_cache=function(e,t){if(p.on_client()&&!p.is_edit_mode()){return function(){var r=t.call(this);this[e]=function(){return r};return r}}else{return t}};d.run_cache_1_param=function(e,t){if(!p.on_client()){return t}return function(r){var n=e+"_run_cache_1_param";if(!this[n]){if(!_().is_edit_mode()){var o={};this[n]=function(e){var r;(r=o[e])!=null?r:o[e]=t.call(this,e);return o[e]}}else{this[n]=t}}return this[n](r)}};d.all_cache=function(e,t){return function(){var r=t.call(this);this[e]=function(){return r};return r}}},{"../lib":614,"../u":687,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],540:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.add_user_color_token=O;r.color_property_to_rgba=w;r.default_color_tokens_to_property=k;r.delete_user_color_token=S;r.is_user_color_token=h;r.token_variant_to_properties=j;r.user_color_tokens_to_property=A;r.variable_to_token_variant=b;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.slice.js");var o=e("../constants/colors");var s=e("../constants/tokens");var i=e("../u/client/color");var a=_(e("../safe_require"));var l=_(e("./appquery"));var u=p(e("./../client/analytics"));var c=e("./../constants/segment_events");var f=e("../u/shared/b_object");function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(d=function e(n){return n?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=d(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function _(e){return e&&e.__esModule?e:{default:e}}function m(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function y(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}a.default.safe_register("./lang/color_tokens",r);function b(e){if(e!=null&&e.includes(o.VAR_IDENTIFIER)){var t;var r=(t=e.match(o.TOKEN_NAME))==null?void 0:t[1];if(!r)return null;var n=o.COLOR_VARIANTS.find((function(e){if(r.includes(e)){return true}return false}));if(!n)return null;var s=r.replace("_".concat(n),"");var i=s.replace(o.RGB_VAR_IDENTIFIER,"");return{variant:n,token_set:i}}return null}function h(e){return!o.SORTED_DEFAULT_TOKENS.includes(e)}function j(e,t){var r,n;var i=(r=l.default.get_public_setting("color_tokens"))!=null?r:o.DEFAULT_COLOR_TOKENS;var a=(n=l.default.get_public_setting("color_tokens_user"))!=null?n:(0,f.json_deep_copy)(s.DEFAULT_USER_TOKENS);if(!h(e)){return{name:o.DEFAULT_TOKEN_NAMES_DESCRIPTIONS[e].name,description:o.DEFAULT_TOKEN_NAMES_DESCRIPTIONS[e].description,rgba:i[e][t],deleted:false}}else{var u;var c=(u=a[t][e])!=null?u:{name:o.MISSING_USER_COLOR_TOKEN_TEXT,description:o.MISSING_USER_COLOR_TOKEN_TEXT,rgba:o.DEFAULT_USER_COLOR_TOKEN_RGBA,deleted:false};return{name:c.name,description:c.description,rgba:c.rgba,deleted:c.deleted}}}function g(e,t){if(t==null){return e}var r=e==null?void 0:e.match(o.CAPTURE_ALPHA);if(r!=null){return"rgba(".concat(r.groups.base,",").concat(t,")")}else{return"rgba(".concat(e,",").concat(t,")")}}function w(e){var t,r,n,i,a;var u=b(e);if(u==null)return e;var c=(t=e.match(o.CAPTURE_ALPHA))==null?void 0:(r=t.groups)==null?void 0:r.opacity;var d=(n=l.default.get_public_setting("color_tokens"))!=null?n:o.DEFAULT_COLOR_TOKENS;if((i=d[u.token_set])!=null&&i[u.variant]){var p;return g((p=d[u.token_set])==null?void 0:p[u.variant],c)}var _=(a=l.default.get_public_setting("color_tokens_user"))!=null?a:(0,f.json_deep_copy)(s.DEFAULT_USER_TOKENS);return g(_[u.variant][u.token_set].rgba,c)}function O(e,t){var r;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"default";var i=(r=l.default.get_public_setting("color_tokens_user"))!=null?r:(0,f.json_deep_copy)(s.DEFAULT_USER_TOKENS);var a=l.default.uid();i[n][a]={rgba:o.DEFAULT_USER_COLOR_TOKEN_RGBA,name:e,description:t,order:Object.keys(i[n]).length,deleted:false};u.track(c.STYLES_VARIABLE_CREATED,{app:l.default.appname(),token:a,variant:n,name:e,description:t,type:"Color"});l.default.set_setting(true,"color_tokens_user",i);l.default.commit()}function S(e,t){var r;var n=(r=l.default.get_public_setting("color_tokens_user"))!=null?r:(0,f.json_deep_copy)(s.DEFAULT_USER_TOKENS);var o=n[e][t].order;for(var i in n[e]){if(n[e][i].order>o){n[e][i].order-=1}}u.track(c.STYLES_VARIABLE_DELETED,{app:l.default.appname(),token:t,variant:e,name:n[e][t].name,description:n[e][t].description,type:"Color"});n[e][t].deleted=true;n[e][t].name+=s.DELETED_USER_TOKEN_STRING;l.default.set_setting(true,"color_tokens_user",n);l.default.commit()}function k(){var e;var t=(e=l.default.get_public_setting("color_tokens"))!=null?e:o.DEFAULT_COLOR_TOKENS;var r={};for(var n in t){var s=m(o.COLOR_VARIANTS),a;try{for(s.s();!(a=s.n()).done;){var u;var c=a.value;r["--color_".concat(n,"_").concat(c)]=t[n][c];var f=(u=(0,i.rgba_to_array)(t[n][c]))==null?void 0:u.slice(0,-1).toString();r["--color_".concat(n,"_").concat(c,"_rgb")]=f!=null?f:""}}catch(e){s.e(e)}finally{s.f()}}return r}function A(){var e;var t=(e=l.default.get_public_setting("color_tokens_user"))!=null?e:(0,f.json_deep_copy)(s.DEFAULT_USER_TOKENS);var r={};for(var n in t){for(var o in t[n]){var a;if(!t[n][o].rgba){continue}r["--color_".concat(o,"_").concat(n)]=t[n][o].rgba;var u=(a=(0,i.rgba_to_array)(t[n][o].rgba))==null?void 0:a.slice(0,-1).toString();r["--color_".concat(o,"_").concat(n,"_rgb")]=u!=null?u:""}}return r}},{"../constants/colors":64,"../constants/tokens":100,"../safe_require":643,"../u/client/color":681,"../u/shared/b_object":702,"./../client/analytics":38,"./../constants/segment_events":93,"./appquery":535,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],541:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;i.consolidate=function(e){var t;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(t=r.prefer_roots)!=null?t:r.prefer_roots=false;if(e.length===0){return e}var o=new Map;var s=new Set;var i=n(e),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;var u=o;var c=n(l.split(".")),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;if(!u.has(d)){u.set(d,new Map)}u=u.get(d)}}catch(e){c.e(e)}finally{c.f()}s.add(u)}}catch(e){i.e(e)}finally{i.f()}var p=[];function _(e,t,n){var o=n.startsWith("api")?t+1:t;if(s.has(e)||o===2&&e.size>0&&r.prefer_roots||o===2&&e.size>4||o>2&&e.size>1){p.push(n)}else{e.forEach((function(e,r){return _(e,t+1,n===""?r:n+"."+r)}))}}_(o,0,"");return p}},{"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],542:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("../../u/shared/uuid");var f=e("../../u/shared/async/b_async");var d=e("../../core/core_datasources/utilities/core_ds_workflow_utilities");var p=e("../evaluation/page_state");var _=e("../evaluation/FrozenState");u.serialize_context=m;function m(e,t){e=s({},e);e.duplicated_from_context=e.object_id;e.object_id=c.UUID();e.duplicated_at="context_serializer.serialize_context";if(!e.frozen_state){e.frozen_state=new _(e)}var r;if(t!=null){r=e.frozen_state.freeze_node(t)}else{r=f.Promise()}return r.then((function(){var t;return{client_state:e.frozen_state.get_client_state(),element_id:(t=e.element)==null?void 0:t.element_id(),uid_generator:e.uid_generator,random_seed:e.random_seed,current_date_time:p.get_page_data("Current Date/Time",e).getTime(),timezone_offset:(new Date).getTimezoneOffset(),timezone_string:v().current_timezone(),inputs_must_be_valid:e.inputs_must_be_valid,advanced_search:e.advanced_search,constraint_messsage:e.constraint_messsage,current_wf_params:d.dehydrate_wf_params(e,(function(e){return y.dehydrate_tree(e)}))}}))}var y=e("../../db/hydrate");var v=e("../../lib")},{"../../core/core_datasources/utilities/core_ds_workflow_utilities":236,"../../db/hydrate":422,"../../lib":614,"../../u/shared/async/b_async":695,"../../u/shared/uuid":716,"../evaluation/FrozenState":564,"../evaluation/page_state":575,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],543:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");var o=s(e("./Root"));function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function u(e){var t=c(e,"string");return n(t)==="symbol"?t:String(t)}function c(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return d(e,t)}function p(e){var t=y();return function r(){var n=v(e),o;if(t){var s=v(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return _(this,o)}}function _(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var b=function(e){f(r,e);var t=p(r);function r(e){i(this,r);return t.call(this,e,{_type:"CustomDefinition"})}l(r,[{key:"is_custom_definition",value:function e(){return true}},{key:"is_page",value:function e(){return false}},{key:"is_api",value:function e(){return false}},{key:"element_type",value:function e(){return this.get_static_property("element_type")}}]);return r}(o.default);t.exports=b},{"./Root":549,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],544:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(){if(typeof Reflect!=="undefined"&&Reflect.get){u=Reflect.get.bind()}else{u=function e(t,r,n){var o=c(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return u.apply(this,arguments)}function c(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=v(e);if(e===null)break}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return d(e,t)}function p(e){var t=y();return function r(){var n=v(e),o;if(t){var s=v(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return _(this,o)}}function _(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var b=e("../../u");var h=e("../../lib");var j=e("../nodes");var g=e("../missing_btype");var w=e("../btype_ids");var O=e("../application/CustomFieldState");t.exports=function(e){f(r,e);var t=p(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"name",value:function e(){return w.custom_type(this.json.name())}},{key:"make_static",value:function e(){return this.json.child("make_static").get()}},{key:"parent",value:function e(){return j.create(j.ELEMENT,this.json.parent().parent())}},{key:"default_val",value:function e(){if(this.is_list()){return[]}return u(v(r.prototype),"default_val",this).call(this)}}]);return r}(O)},{"../../lib":614,"../../u":687,"../application/CustomFieldState":523,"../btype_ids":536,"../missing_btype":593,"../nodes":597,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],545:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(){if(typeof Reflect!=="undefined"&&Reflect.get){u=Reflect.get.bind()}else{u=function e(t,r,n){var o=c(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return u.apply(this,arguments)}function c(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=v(e);if(e===null)break}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return d(e,t)}function p(e){var t=y();return function r(){var n=v(e),o;if(t){var s=v(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return _(this,o)}}function _(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var b=e("../../u");var h=e("../../lib");var j=e("../../logger");var g=e("../../services/shared/plugin_getter");e("../../services/shared/plugin_registry");var w=e("../nodes");var O=e("./elements_utils");var S=e("./GenericElement");var k=/\./g;t.exports=function(e){f(r,e);var t=p(r);function r(e,n,s){var i;o(this,r);i=t.call(this,e,n,s);i.maybe_register_issue_indexers();return i}i(r,[{key:"maybe_register_issue_indexers",value:function e(){var t=this;if(!this.fake&&O._use_issue_checker()&&this.is_top_level()&&this.app().can_run_issue_checker()&&!this.issue_checker_registered){this.issue_checker_registered=true;this.json.register_indexer("issues_list",(function(){if(h().visual_edit.allow_issue_indexer_runs()){var e=w.new_element(t.json);var r=e.id();if(!r){return}var n=h().apptests.check_issues(e);var o=["issues_list",r];return[o,b.json_stringify(n)]}}))}}},{key:"can_animate",value:function e(){if(this.E.can_animate){return this.E.can_animate(this)}else{return!(this.E.do_show||this.E.workflow_show)}}},{key:"is_top_level",value:function e(){var t;var r=this.json.path();return(r==null?void 0:(t=r.match(k))==null?void 0:t.length)===3}},{key:"check_for_errors",value:function e(t,n,o){var s,i;var a=(s=(i=this.E).check_for_errors)==null?void 0:s.call(i,this,t,n);if(a===true){return}var l=u(v(r.prototype),"check_for_errors",this).call(this,t);var c=g.get_app_plugins().filter(Boolean).map((function(e){return e.name}));if(this.E.is_plugin&&!c.includes(this.E.service)){var f=this.display();var d=g.get_plugin(this.E.service).display();t("".concat(f," - You're using this element but haven't installed the plugin ").concat(d))}var p=this.events().concat(this.states(),l.children);if(!o){var _=this.elements();_.maybe_register_issue_indexers();p=p.concat(_)}return{children:p}}}]);return r}(S)},{"../../lib":614,"../../logger":617,"../../services/shared/plugin_getter":649,"../../services/shared/plugin_registry":650,"../../u":687,"../nodes":597,"./GenericElement":547,"./elements_utils":556,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],546:[function(e,t,r){(function(r){(function(){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=N(e("../../u/shared/decaf"));var i=R(e("../../logger"));var a=R(e("../../constants/eval"));var l=N(e("../caching"));var u=N(e("../../shared/responsive/responsive_layout"));var c=R(e("../../constants/elements"));var f=N(e("./elements_utils"));var d=R(e("./rendering_perf"));var p=R(e("../../u/client/resize_observer"));var _=N(e("lodash/debounce"));var m=N(e("../evaluation/FrozenState"));var y=N(e("../evaluation/page_state"));var v=R(e("../../renderer/drawstate"));var b=N(e("../../lib"));var h=N(e("../expressions"));var j=N(e("../../client_config"));var g=N(e("../appquery"));var w=N(e("../../db/hydrate"));var O=e("../../u/shared/loggable");var S=e("../../u/shared/async/autorun");var k=e("../../u/shared/async/dependency");var A=e("../../u/shared/errors");var E=e("../../u/shared/async/b_async");var x=R(e("../../u/shared/uuid"));var M=e("../../u/client/b_window");var P,T,I;function C(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(C=function e(n){return n?r:t})(e)}function R(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=C(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function N(e){return e&&e.__esModule?e:{default:e}}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){D(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function D(e,t,r){t=K(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function q(e,t){return W(e)||U(e,t)||G(e,t)||B()}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function W(e){if(Array.isArray(e))return e}function F(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=G(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function G(e,t){if(!e)return;if(typeof e==="string")return X(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return X(e,t)}function X(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function V(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,K(n.key),n)}}function Y(e,t,r){if(t)H(e.prototype,t);if(r)H(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function K(e){var t=J(e,"string");return n(t)==="symbol"?t:String(t)}function J(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Z(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var Q=function(e){e["RUN"]="run";e["EDIT"]="edit";e["THUMBNAIL"]="thumbnail";e["RESPONSIVE"]="responsive";e["REUSABLE_EDIT"]="reusable_edit";return e}(Q||{});var ee=Object.values(Q);var te={NONE:0,CONSTRUCTED:1<<0,REGISTERED:1<<1,HAS_SKELETON:1<<2,DRAWN:1<<3,CHILDREN_REGISTERED:1<<4,CHILDREN_DEFERRED:1<<5,CHILDREN_DRAWN:1<<6,SOLID_INITIALIZED:1<<7};var re={};function ne(e){if(re[e]==null){re[e]=0;return e}else{var t=e+"_"+String(re[e]);re[e]++;return t}}var oe=(P=l.default.cached({type:l.default.RUN_MODE}),T=(I=function(){function e(t,r){var n=this;V(this,e);this.element=void 0;this.mode=void 0;this.status=void 0;this.canvas=void 0;this._parent=void 0;this.children=[];this.container=void 0;this.child_container=void 0;this.__to_string=void 0;this._destroy_fns=[];this._watchers={};this._created_watchers={};this._msg_handlers={};this._states={};this._has_been_hidden=null;this._has_become_visible=void 0;this._is_visible=null;this._is_visible_cbs=[];this._first_draw_cbs=[];this._is_drawing=false;this._is_visible_dependency=(0,k.Dependency)();this.repeating_group_layout=void 0;this._setting_visible=false;this._is_animating_me=false;this._instance_opacity=void 0;this._is_animating=false;this._is_animating_dependency=void 0;this.__is_visible_me=false;this._is_visible_me_dependency=void 0;this.evaluating_visibility=false;this._wait_for_visible_polls=0;this._destroy_started=void 0;this._id_namespace=void 0;this._our_children_registered=void 0;this._our_skeleton_ready=void 0;this._is_ready_key=void 0;this._our_children_drawn=void 0;this.__dimension_box_width=void 0;this.__dimension_box_height=void 0;this._sizing_setup=false;this._p_context=void 0;this.draw_signal=void 0;this._old_width=void 0;this._transforms=void 0;if(!ee.includes(r)){throw new A.UnexpectedError("unrecognized: "+r)}this.element=t;this.mode=r;this.status=te.CONSTRUCTED;d.record_lifecycle(d.LifecycleEvent.Constructed);this.__to_string="ElementInstance:"+this.element.type();this._has_become_visible=(0,E.MakeKey)(undefined,"Become Visible Key");this._is_visible_me=(0,S.autorun_top)((function(){return n.element.is_visible_on_page_load()}));this.state("current_width",(function(e){e.setup_sizing();return e.state("current_width")}));this.state("current_height",(function(e){e.setup_sizing();return e.state("current_height")}))}Y(e,[{key:"_set_immediate",value:function e(t){r(t)}},{key:"_update_visible",value:function e(){var t=true;if(!this.container){t=false}else if(!this._is_visible_me){t=false}else{var r=this.parent();if(r&&(!r._is_visible||r._setting_visible)){if(this.element.added_to_container()||this.element.type()==="GroupItem"){t=false}}}if(t!==this._is_visible){var n;this._is_visible=t;this._setting_visible=true;var o=this._is_visible_cbs;this._is_visible_cbs=[];(0,S.autorun_top)((function(){var e=F(o),t;try{for(e.s();!(t=e.n()).done;){var r=t.value;r()}}catch(t){e.e(t)}finally{e.f()}}));if(t){this._has_become_visible.turn()}this._setting_visible=false;var s=F((n=this.children)!=null?n:[]),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;a._update_visible()}}catch(e){s.e(e)}finally{s.f()}this._is_visible_dependency.invalidate()}}},{key:"set_animating",value:function e(t){if(this._is_animating_me!==t){this._is_animating_me=t;this._update_animating()}}},{key:"_update_animating",value:function e(){var t;var r=this._is_animating_me||((t=this.parent())==null?void 0:t._is_animating);if(this._is_animating!==r){var n,o;this._is_animating=!!r;var s=F((o=this.children)!=null?o:[]),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;a._update_animating()}}catch(e){s.e(e)}finally{s.f()}(n=this._is_animating_dependency)==null?void 0:n.invalidate()}}},{key:"is_animating",value:function e(t){if(!t){var r;(r=this._is_animating_dependency)!=null?r:this._is_animating_dependency=(0,k.Dependency)();this._is_animating_dependency.register()}return this._is_animating}},{key:"_is_visible_me",get:function e(){return this.__is_visible_me},set:function e(t){var r;this.__is_visible_me=t;(r=this._is_visible_me_dependency)==null?void 0:r.invalidate()}},{key:"is_visible_me",value:function e(){var t;(t=this._is_visible_me_dependency)!=null?t:this._is_visible_me_dependency=(0,k.Dependency)();this._is_visible_me_dependency.register();return this._is_visible_me}},{key:"is_visible",value:function e(t){if(this.evaluating_visibility){var r=this.element.get_name(true);throw new A.OwnerError('Recursion when evaluating visibility on element "'.concat(r,'"'))}this._update_visible();if(!t){this._is_visible_dependency.register()}return!!this._is_visible}},{key:"wait_for_visible_lite",value:function e(t,r){var n=this;if(this.is_destroyed()){return}if(this.thumbnail_mode()&&!r){t();return}if(this.canvas==null){this.wait_for_first_draw((function(){return n.wait_for_visible_lite(t,r)}));return}if(this.is_visible(true)){t()}else{this._is_visible_cbs.push(t)}}},{key:"notify_width",value:function e(t){var r,n;this._dimension_box("width",t);(r=(n=this.element.E).notify_width)==null?void 0:r.call(n,this,t)}},{key:"wait_for_visible",value:function e(t){var r=this;if(this.is_destroyed()){return}if(this.canvas==null){this.wait_for_first_draw((function(){return r.wait_for_visible(t)}));return}var n=0;if(this.is_visible(true)){if(this.is_destroyed()){return}if(this.canvas.is(":visible")){t()}else{var o=new MutationObserver((function(e,o){if(r.canvas.is(":visible")){o.disconnect();t();return}r._wait_for_visible_polls+=1;n+=1;if(r._wait_for_visible_polls%100===0){if(Math.random()<.01){i.info("poll from wait_for_visible increment of 100",{polls:n,all_polls:r._wait_for_visible_polls,element_name:r.element.get_name(true),element_type:r.element.type()})}}if(n>=50&&n%50===0){if(Math.random()<.05){i.info("polls from one wait_for_visible call over 50 increment of 50",{polls:n,all_polls:r._wait_for_visible_polls,element_name:r.element.get_name(true),element_type:r.element.type()})}}}));o.observe(this.canvas[0],{attributes:true,childList:true,attributeFilter:["style"]});var s=this.parent();while(s&&s.element.type()!=="Page"){var a=s.canvas[0];o.observe(a,{attributes:true,childList:true,attributeFilter:["style"]});s=s.parent()}}}else{this.wait_for_visible_lite(this.wait_for_visible.bind(this,t),true)}}},{key:"ensure_visible",value:function e(){var t=this;var r=(0,E.MakeKey)(undefined,"element visible lite key");this.wait_for_visible_lite((function(){return r.turn()}),true);(0,E.ensure_ready)(r);var n=(0,E.MakeKey)(undefined,"element visible key");var o=function e(){var r;if((r=t.canvas)!=null&&r.is(":visible")){clearInterval(s);n.turn()}};var s=setInterval(o,150);o();(0,E.ensure_ready)(n)}},{key:"destroy",value:function e(){var t,r,n;if(this._destroy_started){return}this._destroy_started=true;if((t=this.canvas)!=null&&t[0].bubble_data){delete this.canvas[0].bubble_data}var o=F((n=this.children)!=null?n:[]),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;i.destroy()}}catch(e){o.e(e)}finally{o.f()}var a=F(this._destroy_fns),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;u()}}catch(e){a.e(e)}finally{a.f()}this._destroy_fns=[];(r=this.canvas)==null?void 0:r.trigger("destroy.dot");this.canvas="destroyed";this._msg_handlers=undefined;this._watchers=undefined;this.children=undefined;this._is_visible_cbs=[]}},{key:"is_destroyed",value:function e(){return this.canvas==="destroyed"}},{key:"destroy_started",value:function e(){return!!this._destroy_started}},{key:"on_destroy",value:function e(t){if(this.is_destroyed()){t()}else{this._destroy_fns.push(t)}}},{key:"get_canvas",value:function e(){return this.canvas}},{key:"get_children_canvas",value:function e(){var t,r;return(t=(r=this.element.E).get_children_canvas)==null?void 0:t.call(r,this)}},{key:"total_descendants",value:function e(){return this.children.reduce((function(e,t){return e+t.total_descendants()}),this.children.length)}},{key:"toString",value:function e(){return this.__to_string}},{key:"element_id",value:function e(){return this.element.id()}},{key:"parent",value:function e(){var t,r;return(t=this._parent)!=null?t:(r=this.container)==null?void 0:r.get_owner()}},{key:"split_namespace",value:function e(){this._id_namespace={};this._id_namespace[this.element_id()]=this}},{key:"mark_children_registered",value:function e(){var t;this.status|=te.CHILDREN_REGISTERED;(t=this._our_children_registered)==null?void 0:t.turn()}},{key:"mark_skeleton_ready",value:function e(){var t;this.status|=te.HAS_SKELETON;(t=this._our_skeleton_ready)==null?void 0:t.turn();if(this.element.can_defer_drawing()){var r;(r=this._is_ready_key)==null?void 0:r.turn()}}},{key:"mark_solid_initialized",value:function e(){this.status|=te.SOLID_INITIALIZED;if(this.element.can_defer_drawing()){var t;(t=this._is_ready_key)==null?void 0:t.turn()}}},{key:"mark_drawn",value:function e(){if(!this.is_drawn){var t;this.status|=te.DRAWN;d.record_lifecycle(d.LifecycleEvent.Drawn);(t=this._is_ready_key)==null?void 0:t.turn();this.run_draw_cbs()}}},{key:"get_skeleton_ready_key",value:function e(){if(this.has_skeleton){return(0,E.FakeKey)()}else{var t;(t=this._our_skeleton_ready)!=null?t:this._our_skeleton_ready=(0,E.MakeKey)(undefined,"_our_skeleton_ready_".concat(this.toUniqueString()));return this._our_skeleton_ready}}},{key:"get_children_drawn_key",value:function e(){var t;(t=this._our_children_drawn)!=null?t:this._our_children_drawn=(0,E.MakeKey)(undefined,"_our_children_drawn_".concat(this.toUniqueString()));return this._our_children_drawn}},{key:"get_children_registered_key",value:function e(){if(this.children_are_registered){return(0,E.FakeKey)()}else{var t;(t=this._our_children_registered)!=null?t:this._our_children_registered=(0,E.MakeKey)(undefined,"_our_children_registered");return this._our_children_registered}}},{key:"get_is_ready_key",value:function e(){if(this.is_ready){return(0,E.FakeKey)()}else{var t;(t=this._is_ready_key)!=null?t:this._is_ready_key=(0,E.MakeKey)(undefined,"_self_ready");return this._is_ready_key}}},{key:"get_namespace",value:function e(){var t,r;return(t=this._id_namespace)!=null?t:(r=this.parent())==null?void 0:r.get_namespace()}},{key:"add_to_namespace",value:function e(t,r){var n;(n=r)!=null?n:r=t.element_id();var o=this.get_namespace();if(o!=null){o[r]=t}}},{key:"child_namespace_prefix",value:function e(){var t=this.parent();if(!t){return""}if(this._id_namespace){return this.toUniqueString()+":"}return t.child_namespace_prefix()}},{key:"toUniqueString",value:function e(){var t,r;return((t=(r=this.parent())==null?void 0:r.child_namespace_prefix())!=null?t:"")+this.element_id()}},{key:"dehydrate",value:function e(){var t,r;(t=m.default.dehydrate_context)==null?void 0:(r=t.instance)==null?void 0:r.call(t,this);return w.default.dehydrate_prefix(a.ELEMENT_INSTANCE_DEHYDRATE)+this.toUniqueString()}},{key:"find_instance_by_id",value:function e(t){if(!t||!this.get_namespace()){return null}var r=this.find_instance_by_id_no_retry(t);if(r){if(r.is_ready){return r}else{(0,E.ensure_ready)(r.get_is_ready_key())}}var n=t.includes("_group_item_")?g.default.element(t.split("_group_item_")[0]):g.default.element(t).parent();var o=[];while(n){if(n.type()==="RepeatingGroup"){o.push(n.id())}var s=this.find_instance_by_id_no_retry(n.id());if(s){(0,E.ensure_ready)(s.get_children_registered_key(),false)}n=n.parent()}if(o.length>0){var i=this.parent();while(((a=i)==null?void 0:a.parent())!=null){var a;var l=i.parent().element;if(l.type()==="RepeatingGroup"&&o.includes(l.id())){(0,E.ensure_ready)(i.get_children_registered_key())}i=i.parent()}}return null}},{key:"find_instance_by_id_no_retry",value:function e(t){var r=this;do{var n=r.get_namespace();if(n!=null&&n[t]){return n[t]}r=r.parent()}while(r);return null}},{key:"get_visible_instances",value:function e(){var t;var r={};var n=this.get_namespace();s.default.object_entries(n).forEach((function(e){var t=q(e,2),n=t[0],o=t[1];r[n]=o}));var o=this.parent();var i=F((t=o==null?void 0:o.get_visible_instances())!=null?t:[]),a;try{for(i.s();!(a=i.n()).done;){var l,u;var c=a.value;(u=r[l=c.element_id()])!=null?u:r[l]=c}}catch(e){i.e(e)}finally{i.f()}return Object.values(r)}},{key:"get_static_property",value:function e(t,r){return this.element.get_styleable_static_property(t,r)}},{key:"get_styleable_static_property",value:function e(t,r){return this.element.get_styleable_static_property(t,r)}},{key:"_dimension_box",value:function e(t,r){var n;var o="__dimension_box_".concat(t);var s=(n=this[o])!=null?n:this[o]=(0,S.Box)(r!=null?r:this.element["get_".concat(t)]());if(r!=null){s(r);return}return s()}},{key:"_observe_canvas",value:function e(){var t=this;if(this._sizing_setup){p.observe(this.canvas[0],(0,_.default)((function(e){if(e.borderBoxSize&&e.borderBoxSize.length>0){t.state("current_width",e.borderBoxSize[0].inlineSize);t.state("current_height",e.borderBoxSize[0].blockSize)}else{t.state("current_width",e.target.offsetWidth);t.state("current_height",e.target.offsetHeight)}}),50,{leading:true,trailing:true,maxWait:100}));this.on_destroy((function(){return p.unobserve(t.canvas[0])}))}}},{key:"setup_sizing",value:function e(){if(this._sizing_setup){return}if(this.canvas!=null&&document.contains(this.canvas[0])){this.state("current_width",this.canvas.outerWidth());this.state("current_height",this.canvas.outerHeight())}else{this.state("current_width",0);this.state("current_height",0)}this._sizing_setup=true;if(this.canvas){this._observe_canvas()}}},{key:"current_width",value:function e(){return this.state("current_width")}},{key:"current_height",value:function e(){return this.state("current_height")}},{key:"get_injected_context",value:function e(t,r){var n;var o=(n=this.prop_eval_context())!=null?n:{element:this,datasources:{}};return z(z({},o),{},{datasources:z(z({},o.datasources),{},{injected_value:function e(){return t},injected_value_btype:function e(){return r}})})}},{key:"prop_eval_context",value:function e(t){if(!this._p_context){this._p_context={element:this,datasources:y.default.get_basic_datasources(this.element.root()),random_seed:Math.random()}}if(t){this._p_context.random_generator=new x.Random(this._p_context.random_seed)}return this._p_context}},{key:"on_run_eval_error",value:function e(t,r){i.log((0,A.ensure_bubble_error)(r).extend({element_instance:(0,O.to_loggable)(this),prop_name:t}))}},{key:"autorun",value:function e(t,r){var n=this;if(this.run_mode()){return(0,S.autorun)(t,r)}var o=(0,S.autorun)((function(){return n._run_if_not_destroying(t)}),r);this.on_destroy((function(){return o.destroy()}));return o}},{key:"_run_if_not_destroying",value:function e(t){if(!this._destroy_started){return t()}return undefined}},{key:"message",value:function e(t){var r=this;for(var n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++){o[s-1]=arguments[s]}if(!this.supports_message(t)){i.error("Element does not support message name",{element_type:this.element.type(),name:t})}(0,S.autorun_top)((function(){var e;var n=(e=r._msg_handlers[t])!=null?e:[];var s=F(n),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;a.apply(void 0,o)}}catch(e){s.e(e)}finally{s.f()}}))}},{key:"supports_message",value:function e(t){var r,n,o;return this.element.get_messages().includes(t)||((r=(n=(o=this.element.E).get_private_messages)==null?void 0:n.call(o,this.element))!=null?r:[]).includes(t)}},{key:"get_messages",value:function e(){return this.element.get_messages()}},{key:"on_message",value:function e(t,r){var n,o;var s=(o=(n=this._msg_handlers)[t])!=null?o:n[t]=[];s.push(r)}},{key:"state",value:function e(t,r,n){var o,s;var i=(s=(o=this._states)[t])!=null?s:o[t]=(0,S.Box)(undefined);if(r!==undefined){if(r===c.STATE_NOT_READY){i(undefined,true)}else{i(r)}return undefined}else{var a=i();if(typeof a==="function"&&!n){return a(this)}else{return a}}}},{key:"responsive_mode",value:function e(){return this.mode===Q.RESPONSIVE}},{key:"thumbnail_mode",value:function e(){return this.mode===Q.THUMBNAIL||this.mode===Q.REUSABLE_EDIT}},{key:"reusable_edit_mode",value:function e(){return this.mode===Q.REUSABLE_EDIT}},{key:"edit_mode",value:function e(){return this.mode===Q.EDIT}},{key:"run_mode",value:function e(){return this.mode===Q.RUN}},{key:"is_secure",value:function e(){var t,r;return!!((t=(r=this.element.E).is_secure)!=null&&t.call(r,this))}},{key:"is_self_nested_custom",value:function e(){var t=this.element.get_static_property("custom_id");if(!t){return false}var r=this.parent();while(r){if(r.element.id()===t||r.element.get_static_property("custom_id")===t){return true}r=r.parent()}return false}},{key:"is_registered",get:function e(){return!!(this.status&te.REGISTERED)}},{key:"has_skeleton",get:function e(){return!!(this.status&te.HAS_SKELETON)}},{key:"is_drawn",get:function e(){return!!(this.status&te.DRAWN)}},{key:"is_solid_initialized",get:function e(){return!!(this.status&te.SOLID_INITIALIZED)}},{key:"is_ready",get:function e(){if(this.element.can_defer_drawing()){return this.has_skeleton||this.is_solid_initialized}else{return this.is_drawn}}},{key:"children_are_registered",get:function e(){return!!(this.status&te.CHILDREN_REGISTERED)}},{key:"children_are_drawn",get:function e(){return!!(this.status&te.CHILDREN_DRAWN)}},{key:"register",value:function e(t){this.register_self(t);this.register_children_deep()}},{key:"register_self",value:function e(t){var r,n;if(this.is_registered){return}this._parent=t;if([Q.RUN,Q.EDIT,Q.REUSABLE_EDIT].includes(this.mode)){var o;(o=this.parent())==null?void 0:o.add_to_namespace(this)}(r=(n=this.element.E).register)==null?void 0:r.call(n,this);this.status|=te.REGISTERED;d.record_lifecycle(d.LifecycleEvent.Registered)}},{key:"register_children_deep",value:function e(){this.register_children();this.children.forEach((function(e){return e.register_children_deep()}))}},{key:"register_children",value:function e(){if(this.children_are_registered){return}if(this.element.E.register_children){this.element.E.register_children(this);this.status|=te.CHILDREN_REGISTERED}else{this._default_register_children(this.element.elements())}}},{key:"_default_register_children",value:function t(r){this.children=[];var n=F(r),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(!s.exists()){continue}if(!this.thumbnail_mode()||s.is_visible_on_page_load()){var i=new e(s,this.mode);this.children.push(i);i.register_self(this)}}}catch(e){n.e(e)}finally{n.f()}this.mark_children_registered()}},{key:"set_containers",value:function e(t){var r=this.element.E;if(!this.is_solid_initialized){this.container=t;this.mark_solid_initialized();this._update_visible();var n=(0,o.createSignal)(false),s=q(n,2),i=s[0],a=s[1];this.draw_signal={get:i,set:a};if(this.element.solid_component){if(this.element.can_have_children()&&!r.draw_children){var l=this.container.create_child(this);this.child_container=l;var u=F(this.children),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;f.set_containers(l)}}catch(e){u.e(e)}finally{u.f()}this.children.sort(l.layout().sort_fn)}else{this.children=[]}}}}},{key:"create_skeleton",value:function e(t){if(this.has_skeleton){i.warn("Attempting to create skeleton for an element that already has one! "+this.toUniqueString());return}this.container=t;this.canvas=this.container.render(this.get_html());this.canvas.addClass(this.element.type());if(!this._is_visible_me){this._hide_me()}this._observe_canvas();if(j.default.run_mode_ids&&this.run_mode()){this.canvas.attr("id",ne(this.element_id()))}var r=this.element.E;if(typeof r.position_canvas==="function"&&!this.thumbnail_mode()){this.position_canvas()}else{this.container.add(this)}this.create_child_skeletons();this.mark_skeleton_ready()}},{key:"create_child_skeletons",value:function e(){if(this.element.E.create_child_skeletons){this.element.E.create_child_skeletons(this);return}if(this.element.can_have_children()){var t=this.get_children_canvas();var r=this.container.create_child(this,t);var n;if(!this.element.is_responsive_v1()){var o,s;(o=(s=this.element.E).initialize_container_width)==null?void 0:o.call(s,this,r);n=this.children}else{var i=u.default.LAYOUT_PROPERTIES[this.element.container_layout()];n=this.children.sort(i.sort_fn)}var a=F(n),l;try{for(a.s();!(l=a.n()).done;){var c=l.value;c.create_skeleton(r)}}catch(e){a.e(e)}finally{a.f()}this.child_container=r;r.initialize()}}},{key:"wait_for_first_draw",value:function e(t){if(this.is_drawn){t()}else{this._first_draw_cbs.push(t)}}},{key:"with_canvas",value:function e(t){var r=this;this.ensure_drawn();this.wait_for_first_draw((function(){t(r.canvas)}))}},{key:"start_draw_tree",value:function e(){v.watchDraw(this,{onDraw:function e(t){var r=d.get_current_phase()===d.DrawPhase.InitialDraw?d.DrawReason.VisibleOnPageLoad:d.DrawReason.BecameVisible;t.do_draw(r)},onSizeDraw:function e(t){t.do_size_only_draw()}});this.handle_individual_draw()}},{key:"handle_individual_draw",value:function e(){if(!this.run_mode()){this.do_draw(d.DrawReason.DeferFlagOff)}else if(!this.element.can_defer_drawing()||this.is_solid_initialized&&this.element.solid_component==null&&this.children.length>0){this.do_draw(d.DrawReason.CantDefer)}this.start_child_drawing()}},{key:"do_size_only_draw",value:function e(){if(this.is_drawn){return}var t;if(this.element.E.attempt_size_only_draw){t=!this.element.E.attempt_size_only_draw(this)}else{t=!this.element.no_size_when_hidden()}if(t){this.do_draw(d.DrawReason.SizeNeeded)}}},{key:"run_draw_cbs",value:function e(){var t=this._first_draw_cbs;this._first_draw_cbs=[];var r=F(t),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;o()}}catch(e){r.e(e)}finally{r.f()}}},{key:"setup_canvas_hooks",value:function e(){var t=this;this.canvas[0].bubble_data={bubble_instance:this};var r=b.default.or_throw().workflow.debugger;if(r){if(!(0,M.is_on_mobile_or_tablet)()){this.canvas.on("mouseenter.debugger",(function(){return r.element_hovered(t)}));this.on_destroy((function(){return t.canvas.off("mouseenter.debugger")}))}this.canvas.on("click.debugger",(function(e){if(r.element_clicked(t,t.get_partial())){e.stopPropagation()}}));this.on_destroy((function(){return t.canvas.off("click.debugger")}))}}},{key:"initialize_canvas",value:function e(){var t;(t=this.element.root())==null?void 0:t.get_responsive_version();this.initialize();this.setup_canvas_hooks();this.mark_drawn()}},{key:"do_draw",value:function e(t){var r=this;if(this.is_drawn||this._is_drawing){return}d.with_draw_reason(t,(function(){r._is_drawing=true;x.count("draw children element created: "+r.element.type());if(r.is_solid_initialized){var e,n;(e=r.draw_signal)==null?void 0:e.set(true);(n=r.parent())==null?void 0:n.do_draw(t)}else{r.initialize_canvas()}}));this._is_drawing=false}},{key:"start_child_drawing",value:function e(){var t,r,n,o=this;if((t=b.default.or_throw().styles_editor)!=null&&(r=t.element_styles_editor())!=null&&(n=r.owner)!=null&&n.is_active()){return}if(this.element.E.draw_children){this.element.E.draw_children(this);this.status|=te.CHILDREN_DRAWN;return}if(this.children_are_drawn){return}var s=function e(){var t=F(o.children),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;if(!n.element.added_to_container())n.start_draw_tree();else n.handle_individual_draw()}}catch(e){t.e(e)}finally{t.f()}};if(this.child_container){s()}else if(this.children.length>0){(0,E.WaitFor)(this.get_skeleton_ready_key(),s)}this.status|=te.CHILDREN_DRAWN;this.get_children_drawn_key().turn()}},{key:"ensure_drawn",value:function e(){var t=this;if(this.is_drawn){return}var r=function e(){t.do_draw(d.DrawReason.Unknown);t.start_child_drawing()};if(this.is_solid_initialized){(0,o.batch)(r)}else{r()}}},{key:"get_partial",value:function e(){return h.default.make_partial_expression_evaluator(this.prop_eval_context())}},{key:"set_height",value:function e(t,r){if(this.destroy_started()){return}this._dimension_box("height",t);this.container.set_height(this,t,r)}},{key:"position_canvas",value:function e(t){this.element.E.position_canvas(t!=null?t:this.canvas,this)}},{key:"attach_to_body",value:function e(){var t,r,n;return(t=(r=(n=this.element.E).attach_to_body)==null?void 0:r.call(n,this))!=null?t:!this.element.added_to_container()}},{key:"on_resize",value:function e(t){var r,n=this;if((r=this.element.root())!=null&&r.use_responsive_algorithm()){if(this.run_mode()){var o="resize."+this.element.type()+"-"+this.toUniqueString();$(window).on(o,(function(){if($(window).width()!==n._old_width){n._old_width=$(window).width();t(n._old_width)}}));this.on_destroy((function(){return $(window).off(o)}))}else if(this.responsive_mode()){this.container.on("resize_width",t);this.on_destroy((function(){return n.container.removeListener("resize_width",t)}))}}}},{key:"initialize",value:function e(){var t=this;if(this.is_drawn){throw new A.UnexpectedError("can only call initialize once")}(0,S.autorun_top)((function(){t.element.E.initialize(t)}))}},{key:"get_html",value:function e(){return this.element.E.get_html(this)}},{key:"workflow_show",value:function e(t,r,n){if(this.element.E.workflow_show){this.element.E.workflow_show(this,t,r,n)}else{this.do_show(t,r,n)}}},{key:"workflow_hide",value:function e(t,r,n){if(this.element.E.workflow_hide){this.element.E.workflow_hide(this,t,r,n)}else{this.do_hide(t,r,n)}}},{key:"_display_me",value:function e(){if(this.element.is_responsive_v1()){var t;if(this.is_solid_initialized&&this.element.solid_component!=null)return;(t=this.canvas)==null?void 0:t.css("visibility","")}else{var r;(r=this.canvas)==null?void 0:r.css("display","")}}},{key:"_hide_me",value:function e(){var t;if(this.is_solid_initialized&&this.element.solid_component!=null)return;(t=this.canvas)==null?void 0:t.css(this.get_hidden_css())}},{key:"get_hidden_css",value:function e(){return this.element.is_responsive_v1()?{visibility:"hidden",display:null}:{display:"none"}}},{key:"do_show",value:function e(t,r,n){var o=this;if(this._has_been_hidden===false&&!n){return}var s=this._has_been_hidden==null;this._has_been_hidden=false;var e=this.element.E.do_show;if(e){return e(this,t,r,n,s)}else{this._is_visible_me=true;this.with_canvas((function(e){var s;(s=e.velocity)==null?void 0:s.call(e,"stop",true);if(!n){o._display_me();o._update_visible()}else{f.default.perform_animate_in(o,t,r)}}))}}},{key:"do_hide",value:function e(t,r,n){var o=this;if(this._has_been_hidden===true&&!n){return}var s=this._has_been_hidden==null;this._has_been_hidden=true;var e=this.element.E.do_hide;if(e){e(this,t,r,n,s)}else{if(!n){var i,a;(i=this.canvas)==null?void 0:(a=i.velocity)==null?void 0:a.call(i,"stop",true);this._hide_me();this._is_visible_me=false;this._update_visible()}else{this.with_canvas((function(e){var n;(n=e.velocity)==null?void 0:n.call(e,"stop",true);f.default.perform_animate_out(o,t,r)}))}}}},{key:"register_workflows",value:function e(t){var r=F(t),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;var s=o.register(this);this.on_destroy(s)}}catch(e){r.e(e)}finally{r.f()}}},{key:"can_register_workflows",value:function e(){var t,r,n,o;return(t=(r=(n=this.element.E).can_register_workflows)==null?void 0:r.call(n,this))!=null?t:(o=this.parent())==null?void 0:o.can_register_workflows()}},{key:"get_transition_styling",value:function e(){var t=this;var r=this.element.E;var n="";var o=this.element.field_names();s.default.object_keys(o).forEach((function(e){var o;if((o=r.transition_properties)!=null&&o[e]){var s=t.element.transition(e);if(s!=null&&s.exists()){var i;var a=(i=r.transition_properties)==null?void 0:i[s.prop_name()];n+="".concat(a," ").concat(s.duration(),"ms ").concat(s.fn(),", ")}}}));return n}},{key:"get_transition_css",value:function e(t){var r=this.get_transition_styling();if(r){var n,o,s;var i=this.get_canvas();var a=i.prop("outerHTML");var l=(n=t[a])!=null?n:t[a]={};(o=l.target)!=null?o:l.target=i;(s=l.css_prop)!=null?s:l.css_prop="";l.css_prop+=r}}},{key:"show_borders",value:function e(){var t,r;(t=(r=this.element.E).show_borders)==null?void 0:t.call(r,this)}},{key:"hide_borders",value:function e(){var t,r;(t=(r=this.element.E).hide_borders)==null?void 0:t.call(r,this)}}]);return e}(),I.modes=Q,I.ALL_MODES=ee,I.lifecycle_statuses=te,I.rehydrate=function(e,t){var r;var n=t.split(":");var o=(r=b.default.or_throw().element)==null?void 0:r.get_page();var s=F(n),i;try{for(s.s();!(i=s.n()).done;){var a;var l=i.value;o=(a=o)==null?void 0:a.find_instance_by_id(l)}}catch(e){s.e(e)}finally{s.f()}return o},I),Z(T.prototype,"is_self_nested_custom",[P],Object.getOwnPropertyDescriptor(T.prototype,"is_self_nested_custom"),T.prototype),T);t.exports=oe}).call(this)}).call(this,e("timers").setImmediate)},{"../../client_config":55,"../../constants/elements":72,"../../constants/eval":75,"../../db/hydrate":422,"../../lib":614,"../../logger":617,"../../renderer/drawstate":638,"../../shared/responsive/responsive_layout":669,"../../u/client/b_window":678,"../../u/client/resize_observer":684,"../../u/shared/async/autorun":693,"../../u/shared/async/b_async":695,"../../u/shared/async/dependency":697,"../../u/shared/decaf":706,"../../u/shared/errors":708,"../../u/shared/loggable":711,"../../u/shared/uuid":716,"../appquery":535,"../caching":539,"../evaluation/FrozenState":564,"../evaluation/page_state":575,"../expressions":588,"./elements_utils":556,"./rendering_perf":560,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,"lodash/debounce":1174,timers:1289}],547:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o=H(e("../../u"));var s=$(e("../../u/shared/decaf"));var i=H(e("../../logger"));var a=$(e("./style_properties"));var l=$(e("../caching"));var u=$(e("../nodes"));var c=$(e("../application/RAW"));var f=$(e("../evaluation/evaluate_static"));var d=$(e("../../shared/responsive/responsive_algorithm"));var p=$(e("../../shared/responsive/responsive_layout"));var _=H(e("../../constants/elements"));var m=$(e("./elements_utils"));var y=H(e("./elements_state"));var v=$(e("./missing_element"));var b=H(e("./property_sections"));var h=$(e("./State"));var j=$(e("./Transition"));var g=H(e("../../shared/server_rendering/evaluation_cache"));var w=$(e("../../core/core_elements/elements_versioning"));var O=$(e("../../lib"));var S=$(e("../btypes"));var k=H(e("../../editor/css"));var A=H(e("../shrink"));var E=$(e("../appquery"));var x=$(e("../../shared/responsive_v0"));var M=$(e("../../core/property_applications"));var P=$(e("../lang_utils"));var T=$(e("../nodes/nodes_utils"));var I=$(e("../nodes/registry"));var C=$(e("../nodes/node_types"));var R=H(e("../btype_ids"));var N=e("../../constants/lang");var L=e("../../constants/custom_elements");var z=e("../../u/shared/loggable");var D=e("../evaluation/allow_overrides_check");var q,B,U,W,F,G,X;function $(e){return e&&e.__esModule?e:{default:e}}function V(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(V=function e(n){return n?r:t})(e)}function H(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=V(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function Y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function K(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(r),!0).forEach((function(t){J(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function J(e,t,r){t=ie(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function Z(e,t){return te(e)||ee(e,t)||je(e,t)||Q()}function Q(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ee(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function te(e){if(Array.isArray(e))return e}function re(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=je(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function ne(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,ie(n.key),n)}}function se(e,t,r){if(t)oe(e.prototype,t);if(r)oe(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function ie(e){var t=ae(e,"string");return n(t)==="symbol"?t:String(t)}function ae(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function le(){if(typeof Reflect!=="undefined"&&Reflect.get){le=Reflect.get.bind()}else{le=function e(t,r,n){var o=ue(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return le.apply(this,arguments)}function ue(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=ye(e);if(e===null)break}return e}function ce(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)fe(e,t)}function fe(e,t){fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return fe(e,t)}function de(e){var t=me();return function r(){var n=ye(e),o;if(t){var s=ye(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return pe(this,o)}}function pe(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _e(e)}function _e(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function me(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function ye(e){ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return ye(e)}function ve(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}function be(e){return we(e)||ge(e)||je(e)||he()}function he(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function je(e,t){if(!e)return;if(typeof e==="string")return Oe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(e,t)}function ge(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function we(e){if(Array.isArray(e))return Oe(e)}function Oe(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var Se={};var ke={};var Ae;function Ee(){if(!Ae){Ae={};var e=a.default.get_style_properties();for(var t in e){var r=e[t];Ae[A.shrink(t)]=r}}return Ae}function xe(e,t){var r={};for(var n=0;n<t.length;n++){var o=t[n];var s=e.property(o);var a=T.default.make_filter("GetElement");var l=T.default.make_filter("ThisElement");var u=[].concat(be(s.find_expressions(a)),be(s.find_expressions(l)));if(O.default.or_throw().is_edit_mode()){r[e.json._id]=true}else{r[e.json.id()]=true}for(var c=0;c<u.length;c++){var f,d,p;var _=u[c];var m=(f=_.raw())==null?void 0:f.properties;if(m==null){i.debug("missing entry properties object",{raw:(0,z.to_loggable)(_.raw()),path:_.path()});continue}if(r[(d=m.element_id)!=null?d:""]){return true}r[(p=m.element_id)!=null?p:""]=true}}return false}var Me=(q=l.default.cached({type:l.default.AUTORUN}),B=l.default.cached({type:l.default.RUN_MODE,parameters:1}),U=l.default.cached({type:l.default.RUN_MODE}),W=l.default.cached({type:l.default.ALL_MODES}),F=l.default.cached({type:l.default.RUN_MODE}),G=l.default.cached({type:l.default.RUN_MODE,parameters:1}),X=function(e){ce(r,e);var t=de(r);function r(e,n){var s,i;var a;var l=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};ne(this,r);e=e.to_id();a=t.call(this,e);a.E=void 0;a.fake=void 0;a._type=void 0;a.json=void 0;a.definition_or_self=void 0;a.style_override_properties=void 0;a.num_style_overrides=void 0;a._property_watcher_fns=void 0;a.__solid_component=void 0;a._get_responsive_data_watcher=void 0;a._precomputed=void 0;a.json=e;a.fake=n;a._type=(s=(i=l._type)!=null?i:e.child("type").get())!=null?s:N.MISSING_TYPE;a.style_override_properties=new Set;a.num_style_overrides=o.Box(0);a.definition_or_self=_e(a);if(a._type==="CustomElement"){var u=O.default.or_throw().load_custom(_e(a));a.E=u;a.definition_or_self=u.custom_definition();var c=a.property.bind(_e(a));var f=a.get_default.bind(_e(a));var d=a.get_static_property.bind(_e(a));a.property=u.property_transformer(_e(a),c);a.get_static_property=u.get_static_property_transformer(_e(a),d);a.get_default=u.default_transformer(_e(a),f);a.get_style_if_exists=u.get_style_if_exists_transformer();a.get_responsive_data=function(){var e;var t=(e=a.property("custom_id").get_static())!=null?e:"";var r=a.app().custom_definition(t);return r.get_responsive_data()};a.get_visible_workflows=function(){return u.get_visible_workflows(this)};a.get_related_workflows=u.get_related_workflows(_e(a));if(!O.default.or_throw().is_edit_mode()){var p,_;var y=(p=(_=u.custom_states)==null?void 0:_.call(u))!=null?p:T.default.enhance_array([]);var b=m.default.get_states_from_raw_json(a.json).map((function(e){return new h.default(e)}));var j=[].concat(be(y),be(b));a.states=function(){return j}}}else if(!a._type){a.E=v.default}else{var g;a.E=(g=O.default.or_throw().load_plugin("".concat(O.default.or_throw().plugin_prefixes.element).concat(a._type),true))!=null?g:v.default}return a}se(r,[{key:"make_new",value:function e(){return I.default.new_element.apply(I.default,arguments)}},{key:"solid_component",get:function e(){if(this.__solid_component==null){this.build_solid_component()}return this.__solid_component}},{key:"build_solid_component",value:function e(){var t;this.__solid_component=(t=this.E.solid_component)==null?void 0:t.buildComponent(this,g.getPropertyCache(this.ssr_key()));return this.__solid_component}},{key:"display",value:function e(t){return this.get_name(t)}},{key:"E_object",value:function e(){return this.E}},{key:"get_name",value:function e(t){var r=this.json.child("name").get();if(r){y.seen_custom_names[r]=true;return r}else{var n;if(!t&&O.default.or_throw().workflow.debugger!=null){t=true}var o=(n=this.gen_name(t))!=null?n:this.default_name();y.seen_default_names[o]=true;return o}}},{key:"get_responsive_data",value:function e(){var t=this;if(!this.exists()){return{}}if(o.is_edit_mode()){this._get_responsive_data_watcher=o.Watcher((function(){var e;if(t.root().use_responsive_algorithm()){e=x.default.calculate_lines(t)}else{e=x.default.build_push_tree(t)}return P.default.simplify_data(e)}));return this._get_responsive_data_watcher.get()}var r=O.default.or_throw().derived("Responsive",this.root().json._path(),this.root().use_responsive_algorithm());r.set_app(this.app());return r.content()[this.id()]}},{key:"default_name",value:function e(){return this.json.child("default_name").get()}},{key:"gen_name",value:function e(t){var r,n=this;if(!O.default.or_throw().is_edit_mode()&&!t){return undefined}var s=["text","placeholder","label","icon","group_type"];if(xe(this,s)){return this.default_name()}var i=this.toUniqueString();if(ke[i]){return this.default_name()}ke[i]=true;(r=Se[i])!=null?r:Se[i]=o.Watcher((function(){var e=function e(t){var r=m.default.get_short_display(n.type());if(r==="CustomElement"){var o;var s=n.get_static_property("custom_id");var i=(o=E.default.custom_definition(s))==null?void 0:o.name();if(i){return i}}return r+" "+t};var t=re(s),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;if(o==="group_type"){var i=n.get_static_property(o);if(i){var a;var l=(a=S.default.get(i))==null?void 0:a.display();if(l){return e(l)}}}else{var u=n.property(o);if(!u.is_empty()){var c=u.get_tree_display().slice(0,20);return e(c)}}}}catch(e){t.e(e)}finally{t.f()}return undefined}));delete ke[i];var a=Se[i].get_current(),l=Z(a,2),u=l[0],c=l[1];return u?c:undefined}},{key:"is_equal_to",value:function e(t){if(!le(ye(r.prototype),"is_equal_to",this).call(this,t)){return false}if(this._type!==t._type){return false}if(this._type==="CustomElement"){var n,o;return((n=this.E)==null?void 0:n.base_name)===((o=t.E)==null?void 0:o.base_name)}return true}},{key:"toUniqueString",value:function e(){return le(ye(r.prototype),"toUniqueString",this).call(this)+this._type}},{key:"type",value:function e(){return this._type}},{key:"is_input",value:function e(){var t,r;return(t=(r=this.E)==null?void 0:r.is_input)!=null?t:false}},{key:"is_root",value:function e(){var t,r;return((t=this.is_page)==null?void 0:t.call(this))||((r=this.is_custom_definition)==null?void 0:r.call(this))}},{key:"is_page",value:function e(){return false}},{key:"is_custom_definition",value:function e(){return false}},{key:"id",value:function e(){return this.json.id()}},{key:"ssr_key",value:function e(){return this.id()}},{key:"get_styleable_static_property",value:function e(t,r){if(this.is_styleable_property(t)){var n=this.get_style_if_exists();if(n){var o;if((o=this.field_names()[t])!=null&&o.if_no_style_use_element){var s=n.property(t).raw();if(s==null){return this.get_static_property(t,r)}else{return s}}else if((0,D.allow_overrides_check)(this,t)){var i=this.definition_or_self.property(t).raw();if(i==null){return n.get_static_property(t)}else{return i}}else{return n.get_static_property(t)}}}return this.get_static_property(t,r)}},{key:"get_precomputed",value:function e(){var t=this;if(this._precomputed){return this._precomputed}else{var r=this.json._raw_child(A.S.properties);if(this.type()==="CustomElement"){for(var n in r){if(!L.ON_ELEMENT.includes(A.expand(n))){delete r[n]}}var o=this.E.custom_definition().json._child(A.S.properties)._raw();for(var i in o){if(!L.ON_ELEMENT.includes(A.expand(i))&&!["height","width"].includes(A.expand(i))){r[i]=o[i]}}}var a=this.get_style_if_exists();var l=a?Ee():{};var u={};for(var c in r){if(a&&(l[c]||this.is_styleable_property(c))&&!(0,D.allow_overrides_check)(this,c)){continue}var d=r[c];if(f.default.is_static(d)){u[c]=f.default.get_static(d)}else{u[c]=_.NOT_STATIC_PROP}}var p={};Object.entries(u).forEach((function(e){var t=Z(e,2),r=t[0],n=t[1];p[A.expand(r)]=n}));if(a){s.default.object_entries(a.get_precomputed()).forEach((function(e){var r=Z(e,2),n=r[0],o=r[1];if(t.is_styleable_property(n)){var s;(s=p[n])!=null?s:p[n]=o}}))}var m=this.element_version(false);var y=this.element_version(true);var v=re(this.states()),b;try{for(v.s();!(b=v.n()).done;){var h=b.value;var j=re(h.property_names()),g;try{for(j.s();!(g=j.n()).done;){var O=g.value;p[O]=_.NOT_STATIC_PROP;var S=re(w.default.get_unmapped_properties(m,y,O)),k;try{for(S.s();!(k=S.n()).done;){var E=k.value;p[E]=_.NOT_STATIC_PROP}}catch(e){S.e(e)}finally{S.f()}}}catch(e){j.e(e)}finally{j.f()}}}catch(e){v.e(e)}finally{v.f()}this._precomputed=p;return this._precomputed}}},{key:"default_states",value:function e(){var t;return(t=this.E.default_states)!=null?t:[]}},{key:"added_to_container",value:function e(){if(typeof this.E.added_to_container==="function"){return this.E.added_to_container(this)}return this.E.position_canvas==null}},{key:"container_layout",value:function e(){var t;return(t=this.E.standard_container_layout)!=null?t:this.get_static_property("container_layout")}},{key:"should_add_extra_wrapper",value:function e(){if(this.container_layout()!==p.default.FIXED_LAYOUT){var t=re(this.definition_or_self.elements()),r;try{for(t.s();!(r=t.n()).done;){var n,o;var s=r.value;var i=(n=s.get_static_property("min_height_css",true))!=null?n:"";var a=(o=s.get_static_property("max_height_css",true))!=null?o:"";if(i.includes("%")||a.includes("%")){return true}var l=re(s.states()),u;try{for(l.s();!(u=l.n()).done;){var c,f;var d=u.value;var _=(c=d.get_static_property("min_height_css"))!=null?c:"";var m=(f=d.get_static_property("max_height_css"))!=null?f:"";if(_.indexOf("%")!==-1||m.indexOf("%")!==-1){return true}}}catch(e){l.e(e)}finally{l.f()}}}catch(e){t.e(e)}finally{t.f()}if(["FloatingGroup","GroupFocus","Popup"].includes(this.type())){var y=this.definition_or_self.elements().find((function(e){return e.type()==="RepeatingGroup"&&!e.get_static_property("fit_height")}));if(y){return true}}if(this.container_layout()==="column"&&!this.never_fits_height()){var v=this.definition_or_self.elements().find((function(e){return e.container_layout()==="relative"&&!e.get_static_property("single_height")&&!e.fit_height()}));if(v){return true}}}return false}},{key:"container_locked",value:function e(){var t=this.container_layout();return t!=null&&t!=="fixed"}},{key:"get_new_event_json",value:function e(){return this.json.child("workflows").child(o.LUID())}},{key:"events",value:function e(t){return this.json.smart_cache("events_"+String(t),(function(e){var r=e.child("workflows").children();var n=r.map((function(e){return I.default.new_workflow_item(e)}));return T.default.filter_array(t,n)}))}},{key:"find_events",value:function e(t){return this.events(t)}},{key:"find_actions",value:function e(t){return this.events().flatMap((function(e){return e.all_next(t)}))}},{key:"find_customs",value:function e(){var t=this.app();var r=new Set;var n=[this];var o=[];var s;while((s=n.pop())!=null){s.find_elements("CustomElement").forEach((function(e){var s=e.get_static_property("custom_id");var i=t.custom_definition(s);if(i!=null&&!r.has(s)){r.add(s);n.push(i);o.push(i)}}))}return o}},{key:"find_actions_custom",value:function e(t){var r=this.find_actions(t);var n=this.find_customs().flatMap((function(e){return e.find_actions(t)}));return[].concat(be(r),be(n))}},{key:"elements",value:function e(t){if(!this.can_have_children()){return T.default.enhance_array([])}var r=this.json.child("elements").children();var e=r.filter((function(e){return e.child("id").exists()})).map((function(e){return I.default.create_generic("element",e)}));var n=T.default.enhance_array(e);return T.default.filter_array(t,n)}},{key:"find_elements",value:function e(t){var r=this;var n=o.autorun_return((function(){return m.default.find_elements(T.default.to_raw(r),t)}));return T.default.from_raw_array(this.json,I.default.new_element,n)}},{key:"find_elements_custom",value:function e(t){var r=T.default.make_filter(t);var n=this.elements().filter((function(e){return r(e)}));var o=this.elements().flatMap((function(e){return e.find_elements_custom(r)}));var s=this.find_customs().flatMap((function(e){return e.find_elements(r)}));var i=[].concat(be(n),be(o),be(s));return T.default.enhance_array(i)}},{key:"find_expressions",value:function e(t){var r=this;var n=o.autorun_return((function(){return m.default.element_find_expressions(T.default.to_raw(r),t)}));return T.default.from_raw_array(this.json,I.default.new_expression,n)}},{key:"parent",value:function e(){var t;if(this.fake){return null}var r=(t=this.json.parent())==null?void 0:t.parent();if(r){return I.default.new_element(r)}return null}},{key:"parents",value:function e(t){var r=[];var n=this;while(n=n.parent()){r.push(n)}return T.default.filter_array(t,r)}},{key:"context_element",value:function e(){return this}},{key:"root",value:function e(){var t;return(t=this.parent())==null?void 0:t.root()}},{key:"get_width",value:function e(){return this.get_static_property("width")}},{key:"get_height",value:function e(){return this.get_static_property("height")}},{key:"get_left",value:function e(){return this.get_static_property("left")}},{key:"get_top",value:function e(){return this.get_static_property("top")}},{key:"get_zindex",value:function e(){return this.get_static_property("zindex")}},{key:"can_be_variable_width",value:function e(){if(this.E.must_be_fixed_size!=null){return!this.E.must_be_fixed_size(this)}else{return this.E.get_min_width!=null}}},{key:"fixed_width",value:function e(){return!this.can_be_variable_width()||this.get_static_property("fixed_width")}},{key:"min_width_adjustable",value:function e(){return this.can_be_variable_width()&&!this.get_static_property("fixed_width")&&this.E.get_min_width(this)<this.get_width()}},{key:"max_width_adjustable",value:function e(){return this.min_width_adjustable()&&!this.E.not_max_adjustable}},{key:"default_min_width",value:function e(){var t,r;var n=(t=(r=this.root())==null?void 0:r.get_width())!=null?t:0;if(n>600){return Math.round(this.get_width()*.2)}else{return this.get_width()}}},{key:"get_min_width",value:function e(){if(this.E.get_min_width==null||this.get_static_property("fixed_width")){return this.get_width()}var t=this.get_static_property("min_width");var r=this.get_width();var n=(t!=null?t:0)/100*r;var o=this.E.get_min_width(this);return Math.max(n,o)}},{key:"get_max_width",value:function e(){if(this.E.get_min_width==null||this.get_static_property("fixed_width")){return this.get_width()}if(!this.get_static_property("use_max_width")){return null}var t=this.get_static_property("max_width");var r=this.get_width();return(t!=null?t:100)/100*r}},{key:"responsive_show",value:function e(){return this.get_static_property("responsive_show")}},{key:"responsive_show_width",value:function e(){return this.get_static_property("responsive_show_width")}},{key:"is_fixed_dimension",value:function e(t){return this.get_static_property("single_".concat(t))}},{key:"force_fixed",value:function e(){return!this.E.no_fixed_sizing&&this.container_layout()==="fixed"}},{key:"root_min_width",value:function e(){if(this.force_fixed()){return this.get_width()}else{return this.get_static_property("min_width_px")}}},{key:"root_max_width",value:function e(){if(this.force_fixed()){return this.get_width()}else if(this.max_width_adjustable()){return this.get_static_property("max_width_px")}else{return null}}},{key:"root_min_height",value:function e(){if(this.force_fixed()){return this.get_height()}else{return this.get_static_property("min_height_px")}}},{key:"root_max_height",value:function e(){if(this.force_fixed()){return this.get_height()}else if(this.max_width_adjustable()){return this.get_static_property("max_height_px")}else{return null}}},{key:"can_fit_width",value:function e(){if(typeof this.E.can_fit_width==="function"){return this.E.can_fit_width(this)}else{var t;return(t=this.E.can_fit_width)!=null?t:false}}},{key:"can_fit_height",value:function e(){if(typeof this.E.can_fit_height==="function"){return this.E.can_fit_height(this)}else{var t;return(t=this.E.can_fit_height)!=null?t:false}}},{key:"fit_width",value:function e(){if(this.E.uses_css_responsive&&this.can_fit_width()&&!this.force_fixed()&&!this.get_static_property("single_width")){return this.get_static_property("fit_width")}else{return false}}},{key:"fit_height",value:function e(){if(!this.E.uses_css_responsive){return true}if(this.can_fit_height()&&!this.force_fixed()&&!this.get_static_property("single_height")){return this.get_static_property("fit_height")}else{return false}}},{key:"never_fits_width",value:function e(){var t;if(!this.can_fit_width()||this.force_fixed()){return true}var r=(t=this.parent())==null?void 0:t.container_layout();if(r===p.default.DIMENSION_TO_CROSS_AXIS.width){if(!this.get_static_property("fit_width")){return true}var n=this.get_static_property("horiz_alignment",true);var o=this.states().some((function(e){return e.get_static_property("horiz_alignment")!=="stretch"}));return n==="stretch"&&!o}else if(r===p.default.FIXED_LAYOUT){return true}else{return!this.get_static_property("fit_width")}}},{key:"never_fits_height",value:function e(){var t;if(!this.can_fit_height()||this.force_fixed()){return true}var r=(t=this.parent())==null?void 0:t.container_layout();if(r===p.default.DIMENSION_TO_CROSS_AXIS.height){if(this.get_static_property("single_height")){return true}var n=this.get_static_property("vert_alignment",true);var o=this.states().some((function(e){return e.get_static_property("vert_alignment")!=="stretch"}));return n==="stretch"&&!o}else if(r===p.default.FIXED_LAYOUT){return true}else{return!this.get_static_property("fit_height")}}},{key:"can_fix_aspect_ratio",value:function e(){var t,r,n;return(t=(r=(n=this.E).can_fix_aspect_ratio)==null?void 0:r.call(n,this))!=null?t:false}},{key:"has_fixed_aspect_ratio",value:function e(){var t;return this.can_fix_aspect_ratio()&&((t=this.parent())==null?void 0:t.container_layout())!=="fixed"&&this.get_static_property("use_aspect_ratio")}},{key:"uses_css_responsive",value:function e(){var t;return(t=this.E.uses_css_responsive)!=null?t:false}},{key:"get_containing_element",value:function e(){return this.parent()}},{key:"no_margins",value:function e(){var t,r,n;return(t=(r=(n=this.E).no_margins)==null?void 0:r.call(n,this))!=null?t:false}},{key:"state_by_name",value:function e(t){return new h.default(this.json.child("states").child(t))}},{key:"get_messages",value:function e(){var t,r,n;return(t=(r=(n=this.E).get_messages)==null?void 0:r.call(n,this))!=null?t:[]}},{key:"add_specific_messages",value:function e(t){var r,n;(r=(n=this.E).add_specific_messages)==null?void 0:r.call(n,t,this)}},{key:"get_states",value:function e(){var t,r,n;return(t=(r=(n=this.E).get_states)==null?void 0:r.call(n,this))!=null?t:[]}},{key:"get_state_value",value:function e(t){var r,n,o;return S.default.get((r=(n=(o=this.E).get_state_value)==null?void 0:n.call(o,this,t))!=null?r:"null")}},{key:"_fields",value:function e(t){return this.E.fields(this,t)}},{key:"field",value:function e(t){var r;return(r=this.fields)==null?void 0:r.call(this).find((function(e){return e.name===t}))}},{key:"field_names",value:function e(){return this.E.field_names}},{key:"is_styleable_property",value:function e(t){return this.get_styleable_properties()[t]}},{key:"get_property_applications",value:function e(){var t;var r=(t=this.E.property_applications)!=null?t:[];if(typeof r==="function"){r=r(this)}if(this._type==="CustomDefinition"){return r}else{return[].concat(be(r),[new M.default.UniqueID])}}},{key:"get_value_id",value:function e(){var t,r,n;return(t=(r=(n=this.E).get_value_id)==null?void 0:r.call(n,this))!=null?t:"element."+this.id()}},{key:"get_visible_workflows",value:function e(){return T.default.filter_array((function(e){return!e.json._raw_gchild(A.S.properties,"workflow_disabled")}),this.parents().flatMap((function(e){return e.events()})))}},{key:"get_related_workflows",value:function e(t){var r=this.id();var n=this.get_visible_workflows().filter((function(e){return e.element_id()===r&&e.type()===t}));return T.default.enhance_array(n)}},{key:"can_have_children",value:function e(){var t,r,n;return(t=(r=(n=this.E).can_have_children)==null?void 0:r.call(n,this))!=null?t:false}},{key:"tell_editcanvas",value:function e(){return true}},{key:"is_visible_on_page_load",value:function e(){return this.E.is_visible_on_page_load(this)}},{key:"modal",value:function e(){var t,r,n;return(t=(r=(n=this.E).modal)==null?void 0:r.call(n,this))!=null?t:false}},{key:"not_draggable",value:function e(){var t,r,n;return(t=(r=(n=this.E).not_draggable)==null?void 0:r.call(n,this))!=null?t:false}},{key:"not_resizable",value:function e(){var t,r,n;return(t=(r=(n=this.E).not_resizable)==null?void 0:r.call(n,this))!=null?t:false}},{key:"goes_on_document",value:function e(){var t,r,n;return(t=(r=(n=this.E).goes_on_document)==null?void 0:r.call(n,this))!=null?t:false}},{key:"get_style_node",value:function e(){return I.default.new_expression(this.json.child("style"),this)}},{key:"get_style_id",value:function e(){var t;return(t=this.json.child("style").get())!=null?t:undefined}},{key:"get_style",value:function e(){return this.app().style(this.get_style_id())}},{key:"property_supports_states",value:function e(){var t;return(t=this.E.property_supports_states)!=null?t:true}},{key:"property_supports_transitions",value:function e(){var t;return(t=this.E.property_supports_transitions)!=null?t:true}},{key:"primary_field",value:function e(){var t,r;return(t=(r=this.E).primary_field)==null?void 0:t.call(r,this)}},{key:"mandatory_sections",value:function e(){var t,r,n;return(t=(r=(n=this.E).mandatory_sections)==null?void 0:r.call(n,this))!=null?t:null}},{key:"can_copy_style",value:function e(){var t;return(t=this.E.can_copy_style)!=null?t:true}},{key:"property_sections",value:function e(t){var r;return(r=b.for_mode[t])!=null?r:b.for_mode.all}},{key:"exclusively_responsive_sections",value:function e(){return[{name:"Responsive",show_title:false},{name:"Margins",show_title:false},{name:"PaddingFields",show_title:false},{name:"ResponsiveContainer",show_title:false}]}},{key:"element_custom_states",value:function e(){if(this.E.element_custom_states){return this.E.element_custom_states()}else{var t=this.json.child("custom_states").children();return t.map((function(e){return I.default.create(C.default.CUSTOM_STATE,e)}))}}},{key:"element_custom_state",value:function e(t){if(!t){return null}if(this.E.element_custom_state){return this.E.element_custom_state(t)}else{var r=R.custom_type_name(t);var n=this.json.child("custom_states").child(r);return I.default.create(C.default.CUSTOM_STATE,n)}}},{key:"transitions",value:function e(){var t=this;var r=this.json.child("transitions").children();var e=r.map((function(e){return new j.default(e,t)}));return T.default.enhance_array(e)}},{key:"transition",value:function e(t){if(this.E.transition){return this.E.transition(t)}var r=this.json.child("transitions").child(t);if(r.exists()){return new j.default(r,this)}var n=this.get_style_if_exists();if(n){return n.transition(t)}return undefined}},{key:"add_transition",value:function e(t){var r=O.default.or_throw().changes.create_change("AddTransition",{element_id:this.id(),prop_name:t,data:j.default.default_transition});r.execute();this.commit()}},{key:"find_events_using_this_element",value:function e(){var t,r;var n=this.id();var o=(t=(r=O.default.or_throw().visual_edit.root_node())==null?void 0:r.events())!=null?t:[];return o.filter((function(e){return e.element_id()===n||e.find_my_expressions("GetElement.element_id="+n).length}))}},{key:"find_actions_using_this_element",value:function e(){var t,r;var n=this.id();var o=(t=(r=O.default.or_throw().visual_edit.root_node())==null?void 0:r.events())!=null?t:[];var s=o.flatMap((function(e){return e.actions()||[]}));return s.filter((function(e){return e.element_id()===n||e.find_my_expressions("GetElement.element_id="+n).length}))}},{key:"find_elements_using_this_element",value:function e(){var t,r,n;var o=this.id();var s=(t=(r=O.default.or_throw().visual_edit.root_node())==null?void 0:(n=r.find_elements)==null?void 0:n.call(r))!=null?t:[];return s.filter((function(e){return e.id()!==o&&e.find_expressions("GetElement.element_id="+o).length}))}},{key:"states",value:function e(){var t=m.default.get_states_from_raw_json(this.json);var e=t.map((function(e){return new h.default(e)}));return T.default.enhance_array(e)}},{key:"get_styleable_properties",value:function e(){var t;var r=a.default.get_style_properties();var n=(t=this.E.styleable_properties)!=null?t:{};return o.extend({},r,n)}},{key:"get_style_if_exists",value:function e(){var t=this.json._child(A.S.style).get();if(t==null){return null}var r=this.app().style(String(t));if(!r.exists()){return null}return r}},{key:"can_defer_drawing",value:function e(){if(typeof this.E.can_defer_drawing!=="function"){return false}return this.E.can_defer_drawing(this)}},{key:"no_size_when_hidden",value:function e(){var t;var r=this.get_static_property("collapse_when_hidden");var n=!this.added_to_container();var o=this.is_responsive_v1()&&((t=this.parent())==null?void 0:t.container_layout())===p.default.FIXED_LAYOUT;return r||n||o}},{key:"ignores_child_sizes",value:function e(){return this.is_responsive_v1()&&this.uses_css_responsive()&&this.never_fits_width()&&this.never_fits_height()}},{key:"element_version",value:function e(t){var r,n,o,s,i,a;if(t&&this.get_style_if_exists()!=null){return E.default.get_public_setting("style_version")}if(((r=(0,O.default)())==null?void 0:(n=r.derived_name)==null?void 0:n.call(r))==="Responsive"||((o=(0,O.default)())==null?void 0:(s=o.derived_name)==null?void 0:s.call(o))==="ResponsiveDependencies"){return _.VERSION_STYLE_OVERRIDES-1}return(i=(a=this.root())==null?void 0:a.get_static_property("element_version"))!=null?i:_.LATEST_ELEMENT_VERSION}},{key:"is_responsive_v1",value:function e(){var t,r;return((t=(r=this.root())==null?void 0:r.get_responsive_version())!=null?t:0)>0}}]);return r}(u.default.HasID),ve(X.prototype,"should_add_extra_wrapper",[q],Object.getOwnPropertyDescriptor(X.prototype,"should_add_extra_wrapper"),X.prototype),ve(X.prototype,"get_related_workflows",[B],Object.getOwnPropertyDescriptor(X.prototype,"get_related_workflows"),X.prototype),ve(X.prototype,"states",[U],Object.getOwnPropertyDescriptor(X.prototype,"states"),X.prototype),ve(X.prototype,"get_styleable_properties",[W],Object.getOwnPropertyDescriptor(X.prototype,"get_styleable_properties"),X.prototype),ve(X.prototype,"get_style_if_exists",[F],Object.getOwnPropertyDescriptor(X.prototype,"get_style_if_exists"),X.prototype),ve(X.prototype,"element_version",[G],Object.getOwnPropertyDescriptor(X.prototype,"element_version"),X.prototype),X);t.exports=Me},{"../../constants/custom_elements":68,"../../constants/elements":72,"../../constants/lang":81,"../../core/core_elements/elements_versioning":316,"../../core/property_applications":405,"../../editor/css":481,"../../lib":614,"../../logger":617,"../../shared/responsive/responsive_algorithm":667,"../../shared/responsive/responsive_layout":669,"../../shared/responsive_v0":670,"../../shared/server_rendering/evaluation_cache":671,"../../u":687,"../../u/shared/decaf":706,"../../u/shared/loggable":711,"../application/RAW":530,"../appquery":535,"../btype_ids":536,"../btypes":537,"../caching":539,"../evaluation/allow_overrides_check":565,"../evaluation/evaluate_static":573,"../lang_utils":591,"../nodes":597,"../nodes/node_types":598,"../nodes/nodes_utils":599,"../nodes/registry":600,"../shrink":603,"./State":551,"./Transition":554,"./elements_state":555,"./elements_utils":556,"./missing_element":558,"./property_sections":559,"./style_properties":561,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.set.js":968,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],548:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){return a(e)||i(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function u(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)v(e,t)}function v(e,t){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return v(e,t)}function b(e){var t=g();return function r(){var n=w(e),o;if(t){var s=w(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return h(this,o)}}function h(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return j(e)}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function w(e){w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return w(e)}var O=e("../../lib");var S=e("../shrink");var k=e("../../services/shared/service_type_parser");var A=e("./Root");var E=e("../../constants/app_json");var x=e("../../../vendor/jquery_plugins/moment.timezone.min.js");var M=e("../timezone_override_settings"),P=M.has_adv_timezone_overridden;t.exports=function(e){y(r,e);var t=b(r);function r(e){f(this,r);return t.call(this,e,{_type:"Page"})}p(r,[{key:"get_plugin_element_headers",value:function e(){var t=this.json.path();var r=S.shrink(t.split(".")[0])+"."+t.split(".")[1];return O().derived("PagePluginHeaders",r).content()}},{key:"load_plugin_element_headers",value:function e(){var t=[];var r=l(this.get_element_types()),n;try{for(r.s();!(n=r.n()).done;){var s,i,a;var u=n.value;var c=k.get_plugin_and_type(u),f=o(c,2),d=f[0],p=f[1];var _=/_current/.test(d);var m=(s=O().load_plugin(O().plugin_prefixes.element+u,true,_))==null?void 0:(i=(a=s).element_html_header)==null?void 0:i.call(a);if(![null,undefined,""].includes(m)&&!t.includes(m)){t.push("\x3c!-- ".concat(p," --\x3e\n")+m+"\n")}}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"is_custom_definition",value:function e(){return false}},{key:"is_page",value:function e(){return true}},{key:"is_api",value:function e(){return false}},{key:"is_editor",value:function e(){return this.json.child("is_editor").get()}},{key:"is_plugin_editor",value:function e(){return this.json.child("is_plugin_editor").get()}},{key:"required_js_files",value:function e(){return this.E.required_js_files(this)}},{key:"required_css_files",value:function e(){return this.E.required_css_files(this)}},{key:"get_page_timezone",value:function e(){var t=P()?"_overridden":"";switch(this.get_static_property("tz_type".concat(t))){case"static":return this.get_static_property("tz_static".concat(t));default:return x.tz.guess()}}}]);return r}(A)},{"../../../vendor/jquery_plugins/moment.timezone.min.js":1305,"../../constants/app_json":58,"../../lib":614,"../../services/shared/service_type_parser":651,"../shrink":603,"../timezone_override_settings":604,"./Root":549,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],549:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw l}}}}function s(e){return u(e)||l(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function y(){if(typeof Reflect!=="undefined"&&Reflect.get){y=Reflect.get.bind()}else{y=function e(t,r,n){var o=v(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return y.apply(this,arguments)}function v(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=S(e);if(e===null)break}return e}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return h(e,t)}function j(e){var t=O();return function r(){var n=S(e),o;if(t){var s=S(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return g(this,o)}}function g(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return w(e)}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}var k=e("../../u");var A=e("../../u/shared/mode_check");var E=e("../nodes");var x=e("../../lib");var M=e("../application/RAW");var P=e("./elements_utils");var T=e("./GenericElement");var I=e("../../logger");t.exports=function(e){b(r,e);var t=j(r);function r(e,n){var o;f(this,r);o=t.call(this,e,false,n);return o}p(r,[{key:"use_responsive_algorithm",value:function e(){return C.get_public_setting("no_legacy_responsive")||this.get_responsive_version()>0||this.get_static_property("new_responsive")}},{key:"get_responsive_version",value:function e(t){var r,n;if(A.on_server()&&!x().force_responsive_version&&!t){return 0}return(r=(n=this.get_static_property("responsive_version"))!=null?n:C.get_public_setting("base_responsive_version"))!=null?r:0}},{key:"default_width",value:function e(){return this.get_static_property("default_width")}},{key:"run_indexers",value:function e(t){return this.json.run_indexers(t)}},{key:"parent",value:function e(){return null}},{key:"root",value:function e(){return this}},{key:"is_api",value:function e(){return false}},{key:"name",value:function e(){return this.json.child("name").get()}}]);return r}(T);var C=e("../appquery");var R=e("../../editor/css")},{"../../editor/css":481,"../../lib":614,"../../logger":617,"../../u":687,"../../u/shared/mode_check":713,"../application/RAW":530,"../appquery":535,"../nodes":597,"./GenericElement":547,"./elements_utils":556,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],550:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");var o=u(e("./ElementInstance"));var s=l(e("../../constants/elements"));var i=u(e("../../u/shared/incremental"));function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}var w=function(e){m(r,e);var t=v(r);function r(e){var n;c(this,r);n=t.call(this,e,o.default.modes.RUN);n.cached_server_props={};n.dynamic_catcher=false;n._server_states=void 0;n.children=[];return n}d(r,[{key:"state",value:function e(t,r,n){var o;(o=this._server_states)!=null?o:this._server_states={};if(r!==undefined){this._server_states[t]=r;return}this.dynamic_catcher=true;var e=this._server_states[t];if(e===s.STATE_NOT_READY&&e!==r){throw Error()}if(typeof e==="function"&&!n){return e()}else{return e}}},{key:"compute_properties",value:function e(t){var n=this;var o=this.element.E;if(o.solid_component){this.container=t;this._update_visible();this.mark_solid_initialized();this.children=[];if(this.element.can_have_children()){if(o.create_server_children){o.create_server_children(this)}else{var s=this.container.create_child(this);i.default.incremental_for_each(this.element.elements(),(function(e){if(e.exists()){n.children.push(new r(e))}}));this.child_container=s}}return o.solid_component.computeProperties(this)}else{return null}}},{key:"find_instance_by_id",value:function e(t){if(t==null){return null}var r=this.get_namespace();if(r==null){return null}if(r[t]!=null){return r[t]}var n=this.parent();var o=n==null?void 0:n.find_instance_by_id(t);if(o){return o}return null}},{key:"is_visible",value:function e(){this.dynamic_catcher=true;return this.element.is_visible_on_page_load()}},{key:"is_visible_me",value:function e(){this.dynamic_catcher=true;return this.element.is_visible_on_page_load()}},{key:"is_animating",value:function e(){this.dynamic_catcher=true;return false}}]);return r}(o.default);t.exports=w},{"../../constants/elements":72,"../../u/shared/incremental":710,"./ElementInstance":546,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],551:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o,s,i;function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return y(e,t)}function v(e){var t=j();return function r(){var n=g(e),o;if(t){var s=g(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return b(this,o)}}function b(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function j(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function g(e){g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return g(e)}function w(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var O=e("../../u");var S=e("../../lib");var k=e("../nodes");var A=e("../caching");var E=e("../shrink");var x=E.S;var M=e("./elements_utils");var P=(o=A.cached({type:A.RUN_MODE}),s=A.cached({type:A.RUN_MODE}),i=function(e){m(r,e);var t=v(r);function r(){c(this,r);return t.apply(this,arguments)}d(r,[{key:"property",value:function e(t){return k.new_expression(this.json._gchild(x.properties,E.shrink(t)),this)}},{key:"get_injected_value",value:function e(){var t,r;return(t=(r=this.context_element().E).get_injected_value)==null?void 0:t.call(r,this.context_element())}},{key:"get_injected_display",value:function e(){var t,r;return(t=(r=this.context_element().E).get_injected_display)==null?void 0:t.call(r)}},{key:"properties",value:function e(){var t=this;return this.json._child(x.properties).child_names().map((function(e){return t.property(e)}))}},{key:"find_expressions",value:function e(t){return k.from_raw_array(this.json,k.new_expression,M.state_find_expressions(k.to_raw(this),t))}},{key:"rel_path",value:function e(){return"states."+this.json.name()}},{key:"get_static_property",value:function e(t){return this.property(t).get_static()}},{key:"context_element",value:function e(){return k.new_element(this.json.parent().parent())}},{key:"root",value:function e(){return this.context_element().root()}},{key:"no_margins",value:function e(){return this.context_element().no_margins()}},{key:"get_containing_element",value:function e(){return this.context_element().get_containing_element()}},{key:"added_to_container",value:function e(){return this.context_element().added_to_container()}},{key:"force_fixed",value:function e(){return this.context_element().force_fixed()}},{key:"not_resizable",value:function e(){return this.context_element().not_resizable()}},{key:"uses_css_responsive",value:function e(){return this.context_element().uses_css_responsive()}},{key:"has_fixed_aspect_ratio",value:function e(){return this.context_element().has_fixed_aspect_ratio()}},{key:"is_fixed_dimension",value:function e(t){return this.context_element().is_fixed_dimension(t)}},{key:"can_be_variable_width",value:function e(){return this.context_element().can_be_variable_width()}},{key:"type",value:function e(){return this.context_element().type()}},{key:"get_style_if_exists",value:function e(){return this.context_element().get_style_if_exists()}},{key:"element_version",value:function e(t){return this.context_element().element_version(t)}},{key:"property_names",value:function e(){return this.json._child(x.properties).children().map((function(e){return e.name()}))}},{key:"condition",value:function e(){return k.new_expression(this.json._child(x.condition),this)}}]);return r}(k.AppNode),w(i.prototype,"property_names",[o],Object.getOwnPropertyDescriptor(i.prototype,"property_names"),i.prototype),w(i.prototype,"condition",[s],Object.getOwnPropertyDescriptor(i.prototype,"condition"),i.prototype),i);t.exports=P},{"../../lib":614,"../../u":687,"../caching":539,"../nodes":597,"../shrink":603,"./elements_utils":556,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],552:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.map.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o,s,i;function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){return p(e)||d(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,v(n.key),n)}}function y(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(e){var t=b(e,"string");return n(t)==="symbol"?t:String(t)}function b(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return j(e,t)}function g(e){var t=S();return function r(){var n=k(e),o;if(t){var s=k(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return w(this,o)}}function w(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return O(e)}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function S(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function A(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var E=e("../../u");var x=e("../../u/shared/decaf");var M=e("../../lib");var P=e("../../logger");var T=e("../caching");var I=e("../evaluation/evaluate_static");var C=e("../nodes");var R=e("../application/RAW");var N=e("../shrink");var L=N.S;var z=e("../../constants/elements");var D=e("./elements_utils");var q=e("./elements_state");var B=e("./property_sections");var U=e("./missing_element");var W=e("./Transition");var F=e("lodash/debounce");var G=(o=T.cached({type:T.RUN_MODE}),s=T.cached({type:T.RUN_MODE}),i=function(e){h(r,e);var t=g(r);function r(){var e;_(this,r);for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}e=t.call.apply(t,[this].concat(o));return e}y(r,[{key:"is_style",value:function e(){return true}},{key:"root",value:function e(){return null}},{key:"name",value:function e(){return this.json.name()}},{key:"id",value:function e(){return this.name()}},{key:"type",value:function e(){return this.json.child("type").get()}},{key:"property_supports_states",value:function e(){return true}},{key:"property_supports_transitions",value:function e(){return true}},{key:"mandatory_sections",value:function e(){return[]}},{key:"get_styleable_static_property",value:function e(t){return this.get_static_property(t)}},{key:"get_element_from_style",value:function e(){var t=this.json.exists();if(!t){return null}if(!this.json.child("id").get()||!this.json.to_id().child("type").get()){P.warn("legacy situation, no id or type on style",{path:this.json.path(),value:this.json.raw()});this.json.child("id").set(this.name(),{name:"LegacyStyleChange"});M().changes.set_id_cache({json:this.json,data:this.json.raw()})}return C.new_element(this.json,true)}},{key:"E_object",value:function e(){var t;if(!this.type()){return U}return(t=M().load_plugin(M().plugin_prefixes.element+this.type(),true))!=null?t:U}},{key:"get_width",value:function e(){return this.get_default("width")}},{key:"get_height",value:function e(){return this.get_default("height")}},{key:"get_default",value:function e(t){var r,n;return(r=this.field_names())==null?void 0:(n=r[t])==null?void 0:n.default}},{key:"context_element",value:function e(){return this}},{key:"force_fixed",value:function e(){return false}},{key:"get_value_id",value:function e(){return"style."+this.type()}},{key:"get_style_id",value:function e(){return null}},{key:"get_style_if_exists",value:function e(){return null}},{key:"element_version",value:function e(t){return X.get_public_setting("style_version")}},{key:"state_by_name",value:function e(t){return C.create(C.STYLE_STATE,this.json.child("states").child(t))}},{key:"transitions",value:function e(){var t=this;return C.enhance_array(this.json.child("transitions").children().map((function(e){return C.create(C.TRANSITION,e,t)})))}},{key:"transition",value:function e(t){return C.create(C.TRANSITION,this.json.child("transitions").child(t),this)}},{key:"_fields",value:function e(t){return this.E_object().fields(this,t)}},{key:"use_responsive_algorithm",value:function e(){return X.get_public_setting("no_legacy_responsive")}},{key:"get_property_applications",value:function e(){var t=this.E_object();if(typeof t.property_applications==="function"){return t.property_applications(this)}else{return t.property_applications}}},{key:"property_sections",value:function e(t){var r;return(r=B.for_mode[t])!=null?r:B.for_mode.all}},{key:"get_precomputed",value:function e(){if(!this._precomputed){var t=this.json._raw_child(L.properties);var r={};x.object_entries(t).forEach((function(e){var t=l(e,2),n=t[0],o=t[1];var s=N.expand(n);r[s]=I.get_static(o)}));var n=a(this.states()),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;var i=a(s.property_names()),u;try{for(i.s();!(u=i.n()).done;){var c=u.value;r[c]=z.NOT_STATIC_PROP}}catch(e){i.e(e)}finally{i.f()}}}catch(e){n.e(e)}finally{n.f()}this._precomputed=r}return this._precomputed}},{key:"field_names",value:function e(){if(!this.E_object()){return null}return this.E_object().field_names}},{key:"states",value:function e(){return C.enhance_array(D.get_states_from_raw_json(this.json).map((function(e){return C.create(C.STYLE_STATE,e)})))}}]);return r}(C.HasProperties),A(i.prototype,"field_names",[o],Object.getOwnPropertyDescriptor(i.prototype,"field_names"),i.prototype),A(i.prototype,"states",[s],Object.getOwnPropertyDescriptor(i.prototype,"states"),i.prototype),i);t.exports=G;var X=e("../appquery");var $=e("../../editor/css")},{"../../constants/elements":72,"../../editor/css":481,"../../lib":614,"../../logger":617,"../../u":687,"../../u/shared/decaf":706,"../application/RAW":530,"../appquery":535,"../caching":539,"../evaluation/evaluate_static":573,"../nodes":597,"../shrink":603,"./Transition":554,"./elements_state":555,"./elements_utils":556,"./missing_element":558,"./property_sections":559,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/debounce":1174}],553:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../lib");var v=e("./elements_utils");var b=e("./State");var h=e("./Style");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"context_element",value:function e(){return new h(this.json.parent().parent())}},{key:"toUniqueString",value:function e(){return new b(this.json).toUniqueString()}}]);return r}(b)},{"../../lib":614,"./State":551,"./Style":552,"./elements_utils":556,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],554:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.find.js");var o;function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,l(n.key),n)}}function a(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function l(e){var t=u(e,"string");return n(t)==="symbol"?t:String(t)}function u(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function c(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)f(e,t)}function f(e,t){f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return f(e,t)}function d(e){var t=m();return function r(){var n=y(e),o;if(t){var s=y(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return p(this,o)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return _(e)}function _(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return y(e)}var v=e("../../u");var b=e("../../logger");var h=e("../../lib");var j=e("../nodes");var g=["ease","ease-in","ease-out","ease-in-out","linear","step-start","step-end"];t.exports=(o=function(e){c(r,e);var t=d(r);function r(e,n){var o;s(this,r);o=t.call(this,e);o.owner=n;if(!o.owner){b.error("transition created without owner")}return o}a(r,[{key:"context_element",value:function e(){var t;return(t=this.owner)!=null?t:j.new_element(this.json.parent().parent())}},{key:"prop_name",value:function e(){return this.json.name()}},{key:"prop_name_display",value:function e(){var t=this,r;var n=this.context_element().fields(true);var o=n.find((function(e){return e.name===t.prop_name()}));if(!o){console.log("could not find property "+this.prop_name()+" on node "+this.context_element())}return(r=o.long_caption)!=null?r:o.caption}},{key:"duration_node",value:function e(){return this.json.child("duration")}},{key:"duration",value:function e(){return this.duration_node().get()}},{key:"fn_node",value:function e(){return this.json.child("fn")}},{key:"fn",value:function e(){return this.fn_node().get()}},{key:"find_in_editor",value:function e(t,r,n){var o=this;v.run_once(30,(function(){return o.context_element()}),(function(e,s){s.find_in_editor_raw((function(){var e;if(((e=s.root())==null?void 0:e.get_responsive_version())>0){h().property_editor.current_tab("appearance")}else{h().property_editor.current_tab("transitions")}v.wait_for_updates((function(){if(t){r==null?void 0:r($("#".concat(o.prop_name(),".transition.section")))}else{r==null?void 0:r()}}))}),n)}))}}]);return r}(j.HasProperties),o.transition_fns=g,o.default_transition={duration:200,fn:"ease"},o)},{"../../lib":614,"../../logger":617,"../../u":687,"../nodes":597,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],555:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.toggle_state_edit_mode=r.seen_default_names=r.seen_custom_names=r.is_state_on_edit_mode=void 0;var n=e("../../u/shared/async/autorun");var o={};r.seen_custom_names=o;var s={};r.seen_default_names=s;var i,a},{"../../u/shared/async/autorun":693}],556:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.function.name.js");function o(e){return a(e)||i(e)||_(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return m(e)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){t=f(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function f(e){var t=d(e,"string");return n(t)==="symbol"?t:String(t)}function d(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function p(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function _(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var y=r;var v=e("../../u");var b=e("../../u/shared/b_object");var h=e("../../u/shared/mode_check");var j=e("../../lib");var g=e("../shrink");var w=e("../nodes");var O=e("../expressions/expression_utils");var S=e("../workflow/workflow_utils");var k=e("../../logger");var A=e("../../services/shared/service_type_parser");var E=g.S;var x=e("../evaluation/element_eval");var M=e("../../core/core_elements/legacy/responsive_v0/shared/containers");y._use_issue_checker=function(){var e,t;return(e=(t=j().visual_edit)==null?void 0:t.issue_checker_on)!=null?e:true};var P=[];y.create_layout_resizing_keylist=function(e){var t=v.MakeKeyList();P.push(t);v.wait_for_updates((function(){v.WaitFor(t,(function(){v.array_remove(P,t);e()}))}))};y.add_layout_resizing_key=function(){var e=v.MakeKey(30,"layout_resizing_key");P.forEach((function(t){t.add_key(e)}));return e};y.make_opacity_transition=function(e,t){var r;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;var o=e.get_static_property("opacity",true);if(((r=e.element)==null?void 0:r.field("opacity"))==null&&o==null){return t.animation}if(n==null||n===""){n=o/100}else{n=parseFloat(n)}if(n===1){return t.animation}var s="custom_"+n+"_"+t.animation;var i=false;var a;if(t.animation in $.Velocity.RegisterEffect.packagedEffects){a=b.json_deep_copy($.Velocity.RegisterEffect.packagedEffects[t.animation])}else if(t.animation in v.custom_transitions){a=b.json_deep_copy(v.custom_transitions[t.animation])}else{k.warn("Could not find animation",{name:t.animation});return t.animation}var l=p(a.calls),u;try{var c=function e(){var t=u.value;if("opacity"in t[0]){if(typeof t[0].opacity==="number"){t[0].opacity*=n;i=true}else{t[0].opacity.forEach((function(e,r){if(typeof e==="number"){t[0].opacity[r]*=n;i=true}}))}}};for(l.s();!(u=l.n()).done;){c()}}catch(e){l.e(e)}finally{l.f()}if(i){window.$.Velocity.RegisterEffect(s,a)}return i?s:t.animation};y.perform_animate_in=function(e,t,r){var n,o,s,i,a;var l=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var c=e.get_canvas();l||(l=!e.element.E.uses_css_responsive);(n=e._transforms)!=null?n:e._transforms={};(s=(o=e._transforms).initial_transform)!=null?s:o.initial_transform=c[0].style.transform;var f=e.element.type()==="Dropdown";(a=(i=e._transforms).initial_opacity)!=null?a:i.initial_opacity=c[0].style.opacity;e._is_visible_me=true;e._update_visible();e._display_me();e.state("opacity_override",0);c[0].style.opacity=0;y.create_layout_resizing_keylist((function(){if(e._has_been_hidden===true){return}v.run_once(30,(function(){var n;if(!l){if(e._is_animating){n=e._instance_opacity}else{var o;e._instance_opacity=n;n=((o=x.evaluate_property(e,"opacity"))!=null?o:100)/100}}e.set_animating(true);var s=c.data("velocity");if(s){s.transformCache={}}var i=y.make_opacity_transition(e,t,n);v.velocity(c,i,u(u({},r),{},{complete_cb:function t(){var r;e.set_animating(false);c[0].style.transform=e._transforms.initial_transform;if(f){c[0].style.opacity=e._transforms.initial_opacity}e._transforms=undefined;e.state("opacity_override",null);if(!h.running_test()&&(((r=e.element.root())==null?void 0:r.get_responsive_version())<1||!e.element.E.uses_css_responsive)){M.resize_container_width(e)}},display:""}))}))}))};y.perform_animate_out=function(e,t,r){var n,o,s,i,a,l;var c=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var f=e.get_canvas();(n=f.velocity)==null?void 0:n.call(f,"stop",true);(o=e._transforms)!=null?o:e._transforms={};(i=(s=e._transforms).initial_opacity)!=null?i:s.initial_opacity=f[0].style.opacity;(l=(a=e._transforms).initial_transform)!=null?l:a.initial_transform=f[0].style.transform;var d=f.data("velocity");if(d){d.transformCache={}}var p=u(u(u({},e.get_hidden_css()),r),{},{complete_cb:function t(){e.set_animating(false);f[0].style.transform=e._transforms.initial_transform;f[0].style.opacity=e._transforms.initial_opacity;e._transforms=undefined;e._is_visible_me=false;e._update_visible();e.state("opacity_override",null);c==null?void 0:c()}});var _;if(e._is_animating){_=e._instance_opacity}else{_=f[0].style.opacity;e._instance_opacity=_;e.state("opacity_override",_)}e.set_animating(true);var m=y.make_opacity_transition(e,t,_);v.velocity(f,m,p)};y.get_states_from_raw_json=function(e){return e.child("states").children().filter((function(e){return e.exists()}))};function T(e){return w.create(w.STATE,e)}var I=/ /g;y.get_short_display=function(e){var t,r;var n=j().load_plugin(j().plugin_prefixes.element+e,true);return(t=n==null?void 0:(r=n.display)==null?void 0:r.replace(I,""))!=null?t:A.get_plugin_and_type(e)[1]};y.find_elements=function(e,t){if(!e){return[]}t=w.make_filter(t);var r=w.raw_children(e,E.elements);var n=[];var s=p(r),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(t(a)){n.push(a)}n.push.apply(n,o(y.find_elements(a,t)))}}catch(e){s.e(e)}finally{s.f()}return n};y.element_find_expressions=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(!e||r[e._raw.id]){return[]}r[e._raw.id]=true;t=w.make_filter(t);var n=w.raw_properties(e,w.new_element);var s=n.filter(t);var i=n.flatMap((function(e){return O.expression_find_expressions(e,t)}));var a=w.raw_children(e,E.states);var l=a.flatMap((function(e){return y.state_find_expressions(e,t)}));var u=w.raw_children(e,E.workflows);var c=u.flatMap((function(e){return S.event_find_expressions(e,t)}));var f=y.find_elements(e);var d=f.flatMap((function(e){return y.element_find_expressions(e,t,r)}));return[].concat(o(s),o(i),o(l),o(c),o(d))};y.state_find_expressions=function(e,t){if(!e){return[]}t=w.make_filter(t);var r=[];function n(e){if(t(e)){r.push(e)}return r.push.apply(r,o(O.expression_find_expressions(e,t)))}var s=w.raw_child(e,E.condition,e);if(s){w.set_owner(s,e,T);n(s)}var i=p(w.raw_properties(e,T)),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;n(l)}}catch(e){i.e(e)}finally{i.f()}return r}},{"../../core/core_elements/legacy/responsive_v0/shared/containers":347,"../../lib":614,"../../logger":617,"../../services/shared/service_type_parser":651,"../../u":687,"../../u/shared/b_object":702,"../../u/shared/mode_check":713,"../evaluation/element_eval":567,"../expressions/expression_utils":587,"../nodes":597,"../shrink":603,"../workflow/workflow_utils":611,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],557:[function(e,t,r){"use strict";var n=r;var o=e("../nodes");var s=e("./elements_utils");var i=e("./elements_state");var a=e("./ElementInstance");var l=e("./ServerElementInstance");var u=e("./State");var c=e("./Transition");var f=e("./GenericElement");var d=e("./Element");var p=e("./Style");var _=e("./StyleState");var m=e("./CustomState");var y=e("./Root");var v=e("./Page");var b=e("./CustomDefinition");var h=e("../../constants/elements");o.add(o.STATE,u);o.add(o.TRANSITION,c);o.add(o.GENERIC_ELEMENT,f);o.add(o.ELEMENT,d);o.add(o.STYLE,p);o.add(o.STYLE_STATE,_);o.add(o.CUSTOM_STATE,m);o.add(o.ROOT,y);o.add(o.PAGE,v);o.add(o.CUSTOM_DEFINITION,b);o.add_generic("element",(function(e){return e.smart_cache("element",j)}));function j(e,t){var r=e.child("type").get();if(r==="Page"){return new v(e)}else if(r==="CustomDefinition"){return new b(e)}else{return new d(e,t)}}n.ElementInstance=function(e,t){return new a(e,t)};n.ServerElementInstance=function(e){return new l(e)};n.STATE_NOT_READY=h.STATE_NOT_READY;n.NOT_STATIC=h.NOT_STATIC_PROP;n.seen_custom_names=i.seen_custom_names;n.seen_default_names=i.seen_default_names;n.create_layout_resizing_keylist=s.create_layout_resizing_keylist;n.add_layout_resizing_key=s.add_layout_resizing_key;n.perform_animate_in=s.perform_animate_in;n.get_short_display=s.get_short_display;for(var g in a.modes){var w=a.modes[g];n[g]=w}n.transition_fns=c.transition_fns;var O=e("../../db/db");O.ElementInstance=a;e("../workflow");e("../expressions")},{"../../constants/elements":72,"../../db/db":420,"../expressions":588,"../nodes":597,"../workflow":610,"./CustomDefinition":543,"./CustomState":544,"./Element":545,"./ElementInstance":546,"./GenericElement":547,"./Page":548,"./Root":549,"./ServerElementInstance":550,"./State":551,"./Style":552,"./StyleState":553,"./Transition":554,"./elements_state":555,"./elements_utils":556}],558:[function(e,t,r){"use strict";var n=e("../../core/core_elements/core_elements_utilities/element_meta_actions");var o=e("./types"),s=o.EditorType;t.exports={get_html:function e(){return"<div>missing element</div>"},field_names:{},is_visible_on_page_load:function e(){return true},initialize:function e(){},property_applications:[],add_an_invisible_div_on_the_top:false}},{"../../core/core_elements/core_elements_utilities/element_meta_actions":278,"./types":562}],559:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.for_mode=void 0;e("core-js/modules/es.array.concat.js");var n},{"core-js/modules/es.array.concat.js":926}],560:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.counts=r.LifecycleEvent=r.DrawReason=r.DrawPhase=void 0;r.get_current_phase=_;r.measure_initial_draw=p;r.record_defer=f;r.record_lifecycle=d;r.with_draw_reason=c;var n=o(e("../../u/shared/Counter"));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){e["Unknown"]="Unknown";e["DeferFlagOff"]="DeferFlagOff";e["VisibleOnPageLoad"]="VisibleOnPageLoad";e["BecameVisible"]="BecameVisible";e["CantDefer"]="CantDefer";e["NeedsChildrenSize"]="NeedsChildrenSize";e["SizeNeeded"]="SizeNeeded";return e}({});r.DrawReason=s;var i=function(e){e["Constructed"]="Constructed";e["Registered"]="Registered";e["Drawn"]="Drawn";return e}({});r.LifecycleEvent=i;var a=function(e){e["NotStarted"]="NotStarted";e["InitialDraw"]="InitialDraw";e["PostInitialDraw"]="PostInitialDraw";return e}({});r.DrawPhase=a;var l={draw_phase:a.NotStarted,draw_reason:s.VisibleOnPageLoad};var u={lifecycle:n.default.onClient(),elements:{initially_drawn:n.default.onClient().withTotal(),initially_deferred:n.default.onClient(),eventually_drawn:n.default.onClient().withTotal()}};r.counts=u;if(typeof window!=="undefined"){window.element_performance_counts=u}function c(e,t){var r=l.draw_reason;try{l.draw_reason=e;return t()}finally{l.draw_reason=r}}function f(e){if(l.draw_phase===a.InitialDraw){u.elements.initially_deferred.add(e)}}function d(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;u.lifecycle.add(e,t);var r=l.draw_phase,n=l.draw_reason;if(e===i.Drawn){if(r===a.InitialDraw){u.elements.initially_drawn.add(n,t)}else{u.elements.eventually_drawn.add(n,t)}}}function p(e,t){var r=e.deferred_drawing_enabled,n=r===void 0?false:r;l.draw_phase=a.InitialDraw;l.draw_reason=s.VisibleOnPageLoad;try{t()}finally{l.draw_phase=a.PostInitialDraw;l.draw_reason=s.Unknown}if(n){var o=u.elements.initially_drawn;return{deferred_drawing_enabled:true,elements_initially_drawn:o.total,elements_initially_deferred:u.elements.initially_deferred.total,elements_drawn_because_visible:o.get(s.VisibleOnPageLoad),elements_drawn_because_undeferrable:o.get(s.CantDefer),elements_drawn_because_size:o.get(s.NeedsChildrenSize)}}else{return{deferred_drawing_enabled:false}}}function _(){return l.draw_phase}},{"../../u/shared/Counter":690}],561:[function(e,t,r){"use strict";var n=r;var o={};n.register_style_property=function(e){o[e]=true};n.get_style_properties=function(){return o};n.is_style_property=function(e){return o[e]===true}},{}],562:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.EditorType=void 0;var n=function(e){e["ShortText"]="ShortText";e["LongText"]="LongText";e["Basic"]="Basic";e["NoEditor"]="NoEditor";e["CheckBox"]="Checkbox";e["StaticText"]="StaticText";e["StaticDate"]="StaticDate";e["StaticMultiLineText"]="StaticMultiLineText";e["StaticNumber"]="StaticNumber";e["CSSDimension"]="CSSDimension";e["Color"]="Color";e["Image"]="Image";e["IconPicker"]="IconPicker";e["DynamicImage"]="DynamicImage";e["DynamicFile"]="DynamicFile";e["Dropdown"]="Dropdown";e["Label"]="Label";e["Button"]="Button";e["CropButton"]="Crop_Button";e["GeographicSearch"]="GeographicSearch";e["CheckboxList"]="CheckboxList";e["StaticList"]="StaticList";e["ObjectList"]="ObjectList";e["FlyoutObjectList"]="FlyoutObjectList";e["DropdownButton"]="Dropdown_Button";return e}({});r.EditorType=n},{}],563:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.symbol.is-concat-spreadable.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)v(e,t)}function c(e){var t=m();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return f(this,o)}}function f(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return d(e)}function d(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function p(e){var t=typeof Map==="function"?new Map:undefined;p=function e(r){if(r===null||!y(r))return r;if(typeof r!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return _(r,arguments,b(this).constructor)}n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return v(n,r)};return p(e)}function _(e,t,r){if(m()){_=Reflect.construct.bind()}else{_=function e(t,r,n){var o=[null];o.push.apply(o,r);var s=Function.bind.apply(t,o);var i=new s;if(n)v(i,n.prototype);return i}}return _.apply(null,arguments)}function m(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function y(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function v(e,t){v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return v(e,t)}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=r;var j=e("../u");var g=function(e){u(r,e);var t=c(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"is_equal_to",value:function e(t){return Array.isArray(t)&&t.length===this.length&&this.every((function(e,r){return j.compare(e,t[r])}))}},{key:"toString",value:function e(){return"Enhanced Array: "+this.to_array()}},{key:"to_array",value:function e(){return Array.from(this)}},{key:"sort",value:function e(t){return this.constructor.from(this.to_array().sort(t))}}]);return r}(p(Array));g.prototype[Symbol.isConcatSpreadable]=true;h.EArray=g;h.build_class=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=function(e){u(r,e);var t=c(r);function r(){o(this,r);return t.apply(this,arguments)}return r}(g);Object.assign(r.prototype,t);e.forEach((function(e){var t,n;(n=(t=r.prototype)[e])!=null?n:t[e]=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return this.flatMap((function(t){if(t==null){return null}else if(typeof t[e]!=="function"){throw new j.UnexpectedError("EArray child missing",{name:e})}else{return t[e].apply(t,r)}}))}}));return r}},{"../u":687,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.is-concat-spreadable.js":983,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],564:[function(e,t,r){"use strict";e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){return a(e)||i(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function u(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function d(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,_(n.key),n)}}function p(e,t,r){if(t)d(e.prototype,t);if(r)d(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function _(e){var t=m(e,"string");return n(t)==="symbol"?t:String(t)}function m(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y=e("../../u");var v=e("../../u/shared/async/b_fiber");var b=e("../../db/hydrate");var h=e("../../u/shared/async/async_state");var j=e(".././../logger");var g=e("../../constants/eval");var w=e("../../shared/investigations");var O=e("../../u/shared/decaf");var S=e("./node_eval");var k=e("../../core/core_datasources/utilities/core_ds_element_utilities");var A=e("./page_state");var E=e("./state_keys");var x="NOT_FOUND";function M(e,t){var r=P.dehydrate_context;try{P.dehydrate_context=e;return t()}finally{P.dehydrate_context=r}}var P=function(){function e(t){f(this,e);this.context=t;if(this.context.frozen_state){throw new y.UnexpectedError("this frozen state already has a context")}this.context.frozen_state=this;this.cache={};this.exists={};this.trustworthy={};this.element_instances={};this.element_state={};this.other_data={};this.unshrunk_keys={};this.raw_access_log=[]}p(e,[{key:"_save_element_instance",value:function e(t,r,n){if(n){var o,s;(s=(o=this.element_instances)[r])!=null?s:o[r]=x}else{var i,a,l,u,c,f;var d={dehydrated:b.dehydrate_tree(t),parent_element_id:b.dehydrate_tree((i=t.parent())==null?void 0:i.element_id())};(l=(a=this.element_instances)[r])!=null?l:a[r]=d;(f=(u=this.element_instances)[c=t.toUniqueString()])!=null?f:u[c]=d;if(t.element.type()==="CustomElement"&&t.element_id()!==r){var p,_,m;(m=(p=this.element_instances)[_="".concat(t.toUniqueString(),":").concat(r)])!=null?m:p[_]=d}}}},{key:"instance_id_not_found",value:function e(t){return this.element_instances[t]===x}},{key:"element_id_to_instance_id",value:function e(t,r){if(this.instance_id_not_found(t)){throw new y.UnexpectedError("instance id not found -- should not hit this",{element_id:t})}var n=this.element_instances[t];if(!n){var o=this.element_instances[r];if(o!=null){j.warn("using fallback dehydrated, why is this not in frozen state?",{element_id:t,fallback_id:r});return o.dehydrated}throw new y.UnexpectedError("could not find element id in frozen state",{element_id:t})}return n.dehydrated}},{key:"element_id_to_parent_element_id",value:function e(t,r){if(this.instance_id_not_found(t)){throw new y.UnexpectedError("instance id not found -- should not hit this",{element_id:t})}var n=this.element_instances[t];if(!n){var o=this.element_instances[r];if(o!=null){j.warn("using fallback parent_element_id, why is this not in frozen state?",{element_id:t,fallback_id:r});return o.parent_element_id}throw new y.UnexpectedError("could not find element id in frozen state",{element_id:t})}return n.parent_element_id}},{key:"shorten",value:function e(t){t=String(t);if(t.length>50){return y.incremental_digest(t)}else{return t}}},{key:"freeze_node",value:function e(t){var r=this;return this._build_freeze_promise((function(){r._freeze_current_element();r._find_element_references(t,"find_expressions")}))}},{key:"freeze_workflows",value:function e(t,r){var n=this;var o=this._build_freeze_promise((function(){n._freeze_workflows(t)}));o.callback(r)}},{key:"_build_freeze_promise",value:function e(t){var r=this;return y.run_once(60,(function(){y.ensure_ready(y.scheduled_key,false);I().app_language();var e={};return M({instance:function t(n){if(!e[n.toUniqueString()]){e[n.toUniqueString()]=true;r._save_element_instance(n,n.element_id())}},save_to_state:function e(t,n,o){var s,i,a,l;var u=b.dehydrate_tree(t);(i=(s=r.element_state)[u])!=null?i:s[u]={};(l=(a=r.element_state[u])[n])!=null?l:a[n]=b.dehydrate_tree(o!=null?o:null)}},(function(){return t()}))}),null,true)}},{key:"_freeze_current_element",value:function e(){if(this.context.element){var t=k.get_runtime_parent(this.context);if(t){var r,n,o,s,i;var a=b.dehydrate_tree(t);this._save_element_instance(t,t.element_id());(o=(r=this.element_state)[n=a])!=null?o:r[n]={};(i=(s=this.element_state[a]).group_data)!=null?i:s.group_data=b.dehydrate_tree(t.state("group_data"));var u=t;var c=[];while(u!=null&&u.element.type()!=="GroupItem"){var f,d;u=(f=(d=u).parent)==null?void 0:f.call(d);c.push(u)}if(u){var p,_,m,y,v;var h=l(c),j;try{for(h.s();!(j=h.n()).done;){var g=j.value;a=b.dehydrate_tree(g);this._save_element_instance(t,a)}}catch(e){h.e(e)}finally{h.f()}a=b.dehydrate_tree(u);(m=(p=this.element_state)[_=a])!=null?m:p[_]={};(v=(y=this.element_state[a]).cell_index)!=null?v:y.cell_index=u.state("cell_index")}}this._save_element_instance(this.context.element,this.context.element.element_id())}}},{key:"_freeze_workflows",value:function e(t,r){var n;(n=r)!=null?n:r={};var o=l(t),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;var a=i;while(a){this._freeze(a);if(["TriggerCustomEvent","TriggerCustomEventFromReusable"].includes(a.type())){var u=T.event(a.get_static_property("custom_event"));if(u.exists()){if(r[u.id()]!=null){if(r[u.id()]!=="REPORTED"){r[u.id()]="REPORTED";j.owner_error("This custom event is triggering a custom event that triggers itself (directly or indirectly)",{event:u})}}else{var c=void 0;if(a.type()==="TriggerCustomEventFromReusable"){var f;c=this.context.element;this.context.element=(f=this.context.element)==null?void 0:f.find_instance_by_id(a.get_static_property("element_id"))}try{var d={};d[u.id()]="SEEN";this._freeze_workflows([u],y.extend({},r,d))}finally{if(a.type()==="TriggerCustomEventFromReusable"){this.context.element=c}}}}}a=a.next()}}}catch(e){o.e(e)}finally{o.f()}this._freeze_current_element()}},{key:"has_invalid_state",value:function e(){var t=l(O.object_values(this.element_state)),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;var o=l(O.object_values(n)),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(i!=null&&i[g.NV_MARKER]){return true}}}catch(e){o.e(e)}finally{o.f()}}}catch(e){t.e(e)}finally{t.f()}return false}},{key:"retrieve_element_state",value:function e(t,r){var n;var o=b.dehydrate_tree(t);var s=(n=this.element_state[o])==null?void 0:n[r];if(s!=null&&s[g.NV_MARKER]){throw new y.UnexpectedError("not valid input data made it to server")}if(s!==undefined){return b.rehydrate_tree(I().db_instance(),s)}else{if(r==="value"){return this.retrieve_element_state(t,"value_that_is_valid")}throw new y.UnexpectedError("trying to retrieve missing element state",{instance_id:o,state:r})}}},{key:"_freeze",value:function e(t){var r=this;if(!t.is_action()){if(I().workflow.uses_server(t)){var n,o;(o=(n=this.context)._temp_db_instance)!=null?o:n._temp_db_instance=C.new_instance();var s=I().current_user();if(s){s=this.context._temp_db_instance.get(s._id())}I.extend({db_instance:this.context._temp_db_instance,current_user:s},(function(){S.evaluate_event_condition(t,r.context)}))}else{S.evaluate_event_condition(t,this.context)}}var i=t.element_id();if(i!=null){var a;var l=(a=this.context.element)==null?void 0:a.find_instance_by_id(i);if(l){this._save_element_instance(l,i)}else{this._save_element_instance(null,i,true)}}this._find_element_references(t,"find_my_expressions")}},{key:"_find_element_references",value:function e(t,r){var n=t[r]("GetElement");var o=l(n),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;var a=i.element_id();this._add_element(a,i)}}catch(e){o.e(e)}finally{o.f()}n=t[r]("ThisElement");var u=l(n),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;var d=f.context_element().id();this._add_element(d,f)}}catch(e){u.e(e)}finally{u.f()}var p=function e(t){var r;return t._raw[z.type]==="GetDataFromAPI"&&((r=t._raw[z.properties])==null?void 0:r.provider)==="ipify.GetIP"};var _=l(t[r](p)),m;try{for(_.s();!(m=_.n()).done;){var y=m.value;R.evaluate_json(y.json,this.context)}}catch(e){_.e(e)}finally{_.f()}if(!this.other_data["Current Position"]&&t[r]("PageData.\name=Current Position").length>0){this.other_data["Current Position"]=A.get_page_data("Current Position",this.context)}if(!this.other_data["Current Page Scroll Position"]){this.other_data["Current Page Scroll Position"]=A.page_current_scroll_position()}if(!this.other_data["Current Page Width"]){this.other_data["Current Page Width"]=A.page_width()}}},{key:"_add_element",value:function e(t,r){var n,o=this;var s=(n=this.context.element)==null?void 0:n.find_instance_by_id(t);if(!s){this._save_element_instance(null,t,true)}else{var i;var a=b.dehydrate_tree(s);this._save_element_instance(s,t);var l=r.next();var u=l==null?void 0:(i=l.name)==null?void 0:i.call(l);if(u){var c,f;(f=(c=this.element_state)[a])!=null?f:c[a]={};var d=N.get("element."+t).get_message(u);var p={state:function e(t){var r=s.state(t);o.element_state[a][t]=b.dehydrate_tree(r!=null?r:null);if(typeof r==="string"&&s.is_secure()){if(r.trim().length>2){var n,i;(i=(n=o.other_data).secure_list)!=null?i:n.secure_list=[];o.other_data.secure_list.push(r.trim())}}return r},is_visible:function e(){var t=s.is_visible();o.element_state[a].is_visible=b.dehydrate_tree(t!=null?t:null);return t},toUniqueString:function e(){return s.toUniqueString()},element:s.element,element_id:function e(){return s.element_id()},find_instance_by_id:function e(t){return s.find_instance_by_id(t)},is_destroyed:function e(){return s.is_destroyed()},run_mode:function e(){return s.run_mode()},get_static_property:function e(t,r){return s.get_static_property(t,r)},_watchers:s._watchers,_created_watchers:s._created_watchers,is_fake_instance:true};d.evaluate(p,null,null,null,this.context)}}}},{key:"clone",value:function t(r){var t=new e(r);for(var n=0,s=["cache","exists","element_instances","element_state","other_data"];n<s.length;n++){var i=s[n];t[i]=y.json_deep_copy(this[i])}var a=l(O.object_values(t.element_state)),u;try{for(a.s();!(u=a.n()).done;){var c=u.value;var f=l(O.object_entries(c)),d;try{for(f.s();!(d=f.n()).done;){var p=o(d.value,2),_=p[0],m=p[1];if(m!=null&&m[g.NV_MARKER]){delete c[_]}}}catch(e){f.e(e)}finally{f.f()}}}catch(e){a.e(e)}finally{a.f()}return t}},{key:"get_client_state",value:function e(){return{element_instances:this.element_instances,element_state:this.element_state,other_data:this.other_data,cache:this.cache,exists:this.exists}}},{key:"update_from_action",value:function e(t,r,n,s){var i=this;var a={};var l=function e(t,r){i.set(t,r);a[t]={v:r}};var u=E.PreviousStep(t.id());if(r){l(u,r)}if(t.return_value().id()){l(u+"_value",t.return_value().id())}return n.then((function(e){var r;v.optional_pause();var n=(r=t.get_data_to_refresh(e,s))!=null?r:{};v.optional_pause();O.object_entries(n).forEach((function(e){var t=o(e,2),r=t[0],n=t[1];v.optional_pause();if(n!=null){if(n===g.NULL_VALUE_TO_REGISTER){n=null}i.set(r,n);a[r]={v:n}}else{i.clear(r);a[r]={x:true}}if(y.on_server()&&r.indexOf(g.ESTATE_PREFIX)===0){var s=r.replace(g.ESTATE_PREFIX,"");if(i.element_state[s]){O.object_entries(n).forEach((function(e){var t=o(e,2),r=t[0],n=t[1];v.optional_pause();if(n!=null){i.element_state[s][r]=b.dehydrate_tree(n)}}))}}}));return a}))}},{key:"get",value:function e(t){var r=this.shorten(t);var n=this.exists[r]?this.cache[r]:undefined;if(w.frozen_state_debugging.active()){this.push_raw_access_log({action:"get",key:t,short_key:r,value:n!=null?n:null})}var o=b.rehydrate_tree(I().db_instance(),n);return o}},{key:"set",value:function e(t){var r;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(((r=h.CurrentNotReadyCatcher)==null?void 0:r.length)>0){return}var o=this.shorten(t);var s=b.dehydrate_tree(n);this.cache[o]=s;this.exists[o]=true;if(w.frozen_state_debugging.active()){this.unshrunk_keys[o]=t;this.push_raw_access_log({action:"set",key:t,short_key:o,value:s})}}},{key:"clear",value:function e(t){var r=this.shorten(t);delete this.cache[r];delete this.exists[r];if(w.frozen_state_debugging.active()){this.push_raw_access_log({action:"clear",short_key:r})}}},{key:"has_key",value:function e(t){var r=this.shorten(t);var n=this.exists[r];if(w.frozen_state_debugging.active()){this.push_raw_access_log({action:"has_key",short_key:r,value:n!=null?n:false})}return this.exists[r]}},{key:"push_raw_access_log",value:function e(t){var r;var n=t.action,o=t.key,s=t.short_key,i=t.value,a=t.rehydrated;this.raw_access_log.push({action:n,short_key:s,key:o,value:i,rehydrated:a,timestamp:Date.now(),stack:((r=(new Error).stack)==null?void 0:r.split("\n").slice(2,52).join("\n"))||"Stack unavailable."})}},{key:"is_trusted",value:function e(t){if(y.on_client()){return true}else{var r=this.shorten(t);return this.trustworthy[r]===true}}},{key:"trust",value:function e(t){if(!y.on_client()){var r=this.shorten(t);this.trustworthy[r]=true}}},{key:"serialize",value:function e(){return{cache:this.cache,exists:this.exists,element_instances:this.element_instances,element_state:this.element_state,other_data:this.other_data}}}],[{key:"from_client_state",value:function t(r,n){var o=new e(n);y.extend(o,r);return o}},{key:"deserialize",value:function t(r,n){var o=new e(r);y.extend(o,n);return o}}]);return e}();P.dehydrate_context=null;t.exports=P;var T=e(".././appquery");var I=e("../../lib");var C=e("../../db/client_db");var R=e("./evaluate");var N=e(".././btypes");var L=e(".././shrink");var z=L.S},{"../../constants/eval":75,"../../core/core_datasources/utilities/core_ds_element_utilities":234,"../../db/client_db":417,"../../db/hydrate":422,"../../lib":614,"../../shared/investigations":663,"../../u":687,"../../u/shared/async/async_state":692,"../../u/shared/async/b_fiber":696,"../../u/shared/decaf":706,".././../logger":617,".././appquery":535,".././btypes":537,".././shrink":603,"./evaluate":572,"./node_eval":574,"./page_state":575,"./state_keys":576,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],565:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.allow_overrides_check=void 0;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=e("../../constants/elements");var o=function e(t,r,o){var s,i,a;var l=t.element_version();(s=o)!=null?s:o=t.definition_or_self.field_names();var u=l>=n.VERSION_STYLE_OVERRIDES;var c=(i=((a=o[r])==null?void 0:a.allow_overrides)&&n.OLD_VERSION_OVERRIDE_PROPERTIES.includes(r))!=null?i:false;return u||c};r.allow_overrides_check=o},{"../../constants/elements":72,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],566:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");Object.defineProperty(r,"__esModule",{value:true});r.edit_eval=m;r.get_border_widths=b;r.get_container_width=y;e("core-js/modules/es.object.assign.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=a(e("../../lib"));var o=a(e("./node_eval"));var s=a(e("../../safe_require"));var i=e("./allow_overrides_check");function a(e){return e&&e.__esModule?e:{default:e}}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=f(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function u(e){return p(e)||d(e)||f(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(!e)return;if(typeof e==="string")return _(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _(e,t)}function d(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function p(e){if(Array.isArray(e))return _(e)}function _(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}s.default.safe_register("./lang/evaluation/element_edit_eval",r);function m(e,t,r){var s;var a=r!=null?r:t==null?void 0:t.element;var l=a.get_style_if_exists();var c=null;var f=(t==null?void 0:t.responsive_mode())||((t==null?void 0:t.edit_mode())||(t==null?void 0:t.reusable_edit_mode()))&&t.element.is_responsive_v1()&&n.default.or_throw().visual_edit.responsive_mode_box()==="responsive";var d;if(f){d=n.default.or_throw().visual_edit.get_state_eval_context()}if(d){d=Object.assign(d,{element:t})}var p=[];if(l&&a.is_styleable_property(e)){p.push.apply(p,u(l.states()))}p.push.apply(p,u(a.states()));p.reverse();var _=p.find((function(t){if(!t.property_names().includes(e)){return false}else{return d?o.default.evaluate_state_condition(t,d):a.is_on_edit_mode(t)}}));c=(s=_==null?void 0:_.property(e))!=null?s:null;if(c===null){if(l&&a.is_styleable_property(e)&&(!(0,i.allow_overrides_check)(a,e)||a.definition_or_self.property(e).raw()==null)){c=l.property(e)}}if(c===null){c=a.property(e)}if(c.is_empty()){var m;return(m=a.get_default(e))!=null?m:null}else if(c.is_static()){return c.get_static()}else{var y=a.field(e);if((y==null?void 0:y.editor)==="Color"&&y!=null&&y.dynamic){var v;return(v=a.get_default(e))!=null?v:null}if(c.get_eval_value().matches("text")){var b=a.type()==="HTML"&&e==="html";return c.get_tree_display(b)}return null}}function y(e){if(e.E.get_container_width){return e.E.get_container_width(e)}else{var t=m("four_border_style",null,e)?v(e,"left")+v(e,"right"):2*v(e);return e.get_width()-t}}function v(e,t){var r=t?"_".concat(t):"";var n=m("border_style".concat(r),null,e);if(n===undefined||n==="none"){return 0}else{var o;return(o=m("border_width".concat(r),null,e))!=null?o:0}}function b(e){var t=["left","right","bottom","top"];var r={};if(m("four_border_style",null,e)){var n=l(t),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;r[s]=v(e,s)}}catch(e){n.e(e)}finally{n.f()}}else{var i=v(e);var a=l(t),u;try{for(a.s();!(u=a.n()).done;){var c=u.value;r[c]=i}}catch(e){a.e(e)}finally{a.f()}}return r}},{"../../lib":614,"../../safe_require":643,"./allow_overrides_check":565,"./node_eval":574,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],567:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.eval_property_with_states=G;r.evaluate_property=B;r.get_property_watcher=q;r.is_state_on=F;r.on_property_change=W;r.pre_cache=U;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");var n=O(e("../../lib"));var o=w(e("../../logger"));var s=e("../shrink");var i=w(e("../../constants/elements"));var a=O(e("./node_eval"));var l=w(e("../../u/shared/errors"));var u=w(e("../../u/shared/async/b_fiber"));var c=w(e("../../u/shared/async/b_async"));var f=w(e("../../u/shared/async/autorun"));var d=O(e("../../u/shared/async/async_state"));var p=w(e("../../u/shared/mode_check"));var _=w(e("./element_edit_eval"));var m=w(e("./element_run_eval"));var y=O(e("../../core/core_elements/elements_versioning"));var v=w(e("./element_server_eval"));var b=O(e("../elements/ServerElementInstance"));var h=O(e("../../safe_require"));var j=e("./allow_overrides_check");function g(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(g=function e(n){return n?r:t})(e)}function w(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||M(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=g(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function O(e){return e&&e.__esModule?e:{default:e}}function S(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=I(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function k(e,t){return x(e)||E(e,t)||I(e,t)||A()}function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function x(e){if(Array.isArray(e))return e}function M(e){"@babel/helpers - typeof";return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function P(e){return R(e)||C(e)||I(e)||T()}function T(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(!e)return;if(typeof e==="string")return N(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return N(e,t)}function C(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function R(e){if(Array.isArray(e))return N(e)}function N(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}h.default.safe_register("./lang/evaluation/element_eval",r);function L(e,t){if(n.default.or_throw().is_edit_mode()){return function(e){return _.edit_eval(t,e)}}else{var r,o;(r=e._property_watcher_fns)!=null?r:e._property_watcher_fns={};var a;if(!p.on_server()&&(a=e._property_watcher_fns[t])){return a}var l=e.is_styleable_property(t)?e.get_style_if_exists():null;var u=function e(r){return r.property_names().includes(t)};var c=((o=l==null?void 0:l.states())!=null?o:[]).filter(u);var f=y.default.get_mapped_property(e.element_version(false),e.element_version(true),t);if(f){u=function e(t){return t.property_names().includes(f)}}c.push.apply(c,P(e.states().filter(u)));var d;if(l&&(!(0,j.allow_overrides_check)(e,t)||e.definition_or_self.property(t).raw()==null)){if(c.length===0){return l.get_static_property(t)}}else{var v;var b=e.property(t).json._raw();if(((v=b)==null?void 0:v[s.S.type])==="Empty"){b=null}if(b==null||M(b)!=="object"){var h,g;d=(h=(g=b)!=null?g:e.get_default(t))!=null?h:null}else{d=i.NOT_STATIC_PROP}if(d!==i.NOT_STATIC_PROP&&c.length===0){return d}}e._property_watcher_fns[t]=function(r){return m.run_eval(t,l,c,d,r,e)};return e._property_watcher_fns[t]}}function z(e,t){var r=L(e.element,t);if(typeof r!=="function"){return f.FakeWatcher(r)}var o=r;var s;if(t==="is_visible"){s=f.Watcher((function(){e.evaluating_visibility=true;try{return o(e)}finally{e.evaluating_visibility=false}}))}else{s=f.Watcher((function(){return o(e)}))}if(!n.default.or_throw().is_edit_mode()){s.on_error((function(r){return e.on_run_eval_error(t,r)}))}e.on_destroy((function(){return s.destroy()}));return s}function D(e,t,r){if(e._watchers[t]){return true}if(e._created_watchers[t]){return false}e._created_watchers[t]=true;e._watchers[t]=r();return true}function q(e,t){var r=D(e,t,(function(){return z(e,t)}));if(!r){throw new l.UnexpectedError("get_property_watcher called recursively")}return e._watchers[t]}function B(e,t,r){var n;if(e==null){return null}if(e.is_destroyed()){return null}if(["height","width"].includes(t)){var s;if(((s=e.element.root())==null?void 0:s.get_responsive_version())===0||!e.element.uses_css_responsive()){var a;if(!e.edit_mode()&&(a=e.element.root())!=null&&a.use_responsive_algorithm()){return e._dimension_box(t)}}else{return e.state("current_".concat(t))}}if(e.run_mode()){var f=e.element.get_precomputed();if(f[t]===undefined){var p;f[t]=(p=e.get_static_property(t,true))!=null?p:null}if(f[t]!==i.NOT_STATIC_PROP){return f[t]}}var _=D(e,t,(function(){return z(e,t)}));if(!_){var m=e.element.get_name(true);throw new l.OwnerError("Recursion when evaluating property ".concat(t,' on element "').concat(m,'"'))}if(r){return}var y=e._watchers[t].get_current(true),v=k(y,3),b=v[0],h=v[1],j=v[2];if(j){return undefined}if(!d.default.CurrentAutoRun&&!d.default.CurrentNotReadyCatcher&&!((n=u.Fiber)!=null&&n.current)&&e.run_mode()){o.error("Calling evaluate_property outside of an autorun or watcher",{name:t})}if(!b){c.throw_not_ready(h);return undefined}return h}function U(e,t){var r=S(t),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;B(e,o,true)}}catch(e){r.e(e)}finally{r.f()}}function W(e,t,r){var n=function t(n){if(e.element.exists()&&!e.is_destroyed()){try{r(n)}catch(e){var o=e instanceof l.NotReadyError&&e.not_ready_key;if(!o){throw e}else{c.WaitFor(o,(function(){return t(n)}))}}}};var o;if(typeof t==="string"){if(e.run_mode()){o=e.element.get_precomputed();if(o[t]===undefined){var s;o[t]=(s=e.get_static_property(t,true))!=null?s:null}if(o[t]!==i.NOT_STATIC_PROP){n(o[t]);return}}var a=D(e,t,(function(){return z(e,t)}));if(!a){throw new l.UnexpectedError("on_property_change called recursively")}e._watchers[t].on_value(n);return}var u={};var d={};if(e.run_mode()){o=e.element.get_precomputed();var p=false;var _=t;var m=S(_),y;try{var v=function t(){var r=y.value;if(o[r]===undefined){var n;o[r]=(n=e.get_static_property(r,true))!=null?n:null}if(o[r]!==i.NOT_STATIC_PROP){u[r]=o[r]}else{p=true;var s=D(e,r,(function(){return z(e,r)}));if(!s){throw new l.UnexpectedError("on_property_change called recursively")}d[r]=e._watchers[r]}};for(m.s();!(y=m.n()).done;){v()}}catch(e){m.e(e)}finally{m.f()}if(!p){n(u);return}}else{var b=t;var h=S(b),j;try{var g=function t(){var r=j.value;var n=D(e,r,(function(){return z(e,r)}));if(!n){throw new l.UnexpectedError("on_property_change called recursively")}d[r]=e._watchers[r]};for(h.s();!(j=h.n()).done;){g()}}catch(e){h.e(e)}finally{h.f()}}var w=f.Watcher((function(){var e={};Object.entries(d).forEach((function(t){var r=k(t,2),n=r[0],o=r[1];e[n]=o.get()}));Object.entries(u).forEach((function(t){var r=k(t,2),n=r[0],o=r[1];e[n]=o}));return e}));w.on_value(n);e.on_destroy((function(){return w.destroy()}))}function F(e,t){var r="state:".concat(t.toUniqueString());var n=D(e,r,(function(){return f.Watcher((function(){return a.default.evaluate_state_condition(t,e.prop_eval_context())}))}));if(!n){var o=e.element.get_name(true);throw new l.OwnerError('Recursion when evaluating a condition on element "'.concat(o,'"'))}var s=e._watchers[r].get_current(),i=k(s,2),u=i[0],c=i[1];return u&&c}function G(e,t,r){var n=r.element;var o=n.element.states().filter((function(e){return!e.property(t).is_empty()&&F(n,e)}));if(o.length){var s=o[o.length-1];return a.default.eval_property(s,t,r)}else{return a.default.eval_property(e,t,r)}}},{"../../constants/elements":72,"../../core/core_elements/elements_versioning":316,"../../lib":614,"../../logger":617,"../../safe_require":643,"../../u/shared/async/async_state":692,"../../u/shared/async/autorun":693,"../../u/shared/async/b_async":695,"../../u/shared/async/b_fiber":696,"../../u/shared/errors":708,"../../u/shared/mode_check":713,"../elements/ServerElementInstance":550,"../shrink":603,"./allow_overrides_check":565,"./element_edit_eval":566,"./element_run_eval":569,"./element_server_eval":570,"./node_eval":574,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],568:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.get_font_face=d;r.is_fitting_height=b;r.is_fitting_width=v;r.max_height_css=y;r.max_width_css=_;r.min_height_css=m;r.min_width_css=p;var o=f(e("./element_eval"));var s=e("../../constants/elements");var i=u(e("../../webfonts"));var a=u(e("../../shared/responsive/responsive_layout"));var l=u(e("../../safe_require"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=c(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}l.default.safe_register("./lang/evaluation/element_props",r);function d(e){if(e.element.element_version(true)>=s.FONT_FAMILY_VERSION){return i.default.to_font_face(o.evaluate_property(e,"font_family"),o.evaluate_property(e,"font_weight"))}else{return o.evaluate_property(e,"font_face")}}function p(e){if(!e.element.E.uses_css_responsive){return"".concat(e.element.get_min_width(),"px")}if(e.element.can_be_variable_width()&&!e.element.force_fixed()){return o.evaluate_property(e,"min_width_css")}else{return"".concat(e.element.get_width(),"px")}}function _(e){if(!e.element.E.uses_css_responsive){var t=e.element.get_max_width();return t!=null?"".concat(t,"px"):null}if(e.element.can_be_variable_width()&&!e.element.force_fixed()){if(e.get_static_property("single_width")){return o.evaluate_property(e,"min_width_css")}else{return o.evaluate_property(e,"max_width_css")}}else{return"".concat(e.element.get_width(),"px")}}function m(e){if(!e.element.E.uses_css_responsive){return"0px"}if(e.element.can_be_variable_width()&&!e.element.force_fixed()){return o.evaluate_property(e,"min_height_css")}else{return"".concat(e.element.get_height(),"px")}}function y(e){if(!e.element.E.uses_css_responsive){return null}if(e.element.can_be_variable_width()&&!e.element.force_fixed()){if(e.get_static_property("single_height")){return o.evaluate_property(e,"min_height_css")}else{return o.evaluate_property(e,"max_height_css")}}else{return"".concat(e.element.get_height(),"px")}}function v(e){var t;if(!e.element.E.uses_css_responsive){return false}if(!e.element.can_fit_width()||e.element.force_fixed())return false;var r=(t=e.element.parent())==null?void 0:t.container_layout();if(r===a.default.DIMENSION_TO_CROSS_AXIS.width){return o.evaluate_property(e,"horiz_alignment")!=="stretch"&&e.element.fit_width()}else if(r===a.default.FIXED_LAYOUT){return false}else{return e.element.fit_width()}}function b(e){var t;if(!e.element.E.uses_css_responsive){return true}if(!e.element.can_fit_height()||e.element.force_fixed())return false;var r=(t=e.element.parent())==null?void 0:t.container_layout();if(r===a.default.DIMENSION_TO_CROSS_AXIS.height){return!e.get_static_property("single_height")&&o.evaluate_property(e,"vert_alignment")!=="stretch"}else if(r===a.default.FIXED_LAYOUT){return false}else{return e.element.fit_height()}}},{"../../constants/elements":72,"../../safe_require":643,"../../shared/responsive/responsive_layout":669,"../../webfonts":719,"./element_eval":567,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],569:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.run_eval=v;e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var o=y(e("../../logger"));var s=_(e("./node_eval"));var i=y(e("../../constants/elements"));var a=y(e("../../u/shared/mode_check"));var l=y(e("../../u/shared/async/b_async"));var u=_(e("../../webfonts"));var c=_(e("../../core/core_elements/elements_versioning"));var f=y(e("./element_props"));var d=y(e("./element_eval"));var p=e("./allow_overrides_check");function _(e){return e&&e.__esModule?e:{default:e}}function m(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(m=function e(n){return n?r:t})(e)}function y(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=m(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function v(e,t,r,n,_,m){var y,v,b;(y=m)!=null?y:m=_==null?void 0:_.element;var h=r.filter((function(e){return d.is_state_on(_,e)}));var j=h[h.length-1];var g=m.element_version(false);var w=m.element_version(true);var O=c.default.get_mapped_property(g,w,e);var S=O&&m.states().includes(j);var k=S?O:e;var A;if(j!=null&&(!j.property(k).is_empty()||(v=m.field_names()[k])!=null&&v.allow_empty_condition)){var E=_.prop_eval_context(true);A=s.default.eval_property(j,k,E);if(S){A=c.default.map_property(m.element_version(false),m.element_version(true),e,A)}}else if(t&&(!(0,p.allow_overrides_check)(m,e)||n==null)){A=t.get_static_property(e)}else if(n===i.NOT_STATIC_PROP){var x=_.prop_eval_context(true);A=s.default.eval_property(m,e,x,null,m.get_default(e))}else{A=n}if(["text","html"].includes(e)&&a.on_client()){l.ensure_ready(u.default.active_key);if(window.wait_for_individual_fonts){var M;var P=f.get_font_face(_);if((M=P)!=null&&M.includes("var(")){P=u.default.substitute_font_token(P)}if(P!=null){if(u.default.fontface_keys[P]==null){u.default.fontface_keys[P]=l.MakeKey(undefined,"webfont.fontface_key_".concat(P));setTimeout((function(){o.warn("fontface key never properly turned",{font_face:P});u.default.fontface_keys[P].turn()}),3e3)}l.ensure_ready(u.default.fontface_keys[P])}}else{l.ensure_ready(u.default.fontface_key)}}return(b=A)!=null?b:null}},{"../../constants/elements":72,"../../core/core_elements/elements_versioning":316,"../../logger":617,"../../u/shared/async/b_async":695,"../../u/shared/mode_check":713,"../../webfonts":719,"./allow_overrides_check":565,"./element_eval":567,"./element_props":568,"./node_eval":574,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],570:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");Object.defineProperty(r,"__esModule",{value:true});r.serverside_eval_prop=void 0;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.filter.js");var n=e("./allow_overrides_check");function o(e){return l(e)||a(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return u(e)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c},{"./allow_overrides_check":565,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],571:[function(e,t,r){"use strict";var n=r;var o=e("../../u/shared/mode_check");var s=e("../../safe_require");s.safe_register("./lang/evaluation/eval_node_state",n);var i=null;n.get_current_eval_node=function(){return i};n.set_current_eval_node=function(e){i=e};if(o.on_server()){n.with_eval_node=function(e,t){return t()}}else{n.with_eval_node=function(e,t){var r=i;i=e;try{return t()}finally{i=r}}}},{"../../safe_require":643,"../../u/shared/mode_check":713}],572:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");function n(e,t,r){t=o(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function o(e){var t=s(e,"string");return a(t)==="symbol"?t:String(t)}function s(e,t){if(a(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(a(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){return p(e)||d(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}var _=r;var m=e("lodash/isEqual");var y=e("../../u");var v=e("../../u/shared/async/b_fiber");var b=e("../../db/hydrate");var h=e("../../logger");var j=e("../../shared/investigations");var g=e("../../constants/eval");var w=e("../../constants/lang");var O=e("../nodes");var S=e("../expressions/expression_utils");var k=e("../app_json/json_utils"),A=k.raw_to_child_names;var E=e("../../db/values/db_values");var x=e("./eval_node_state");var M=e("./state_keys");var P=e("../btypes");var T=e("../../lib");var I=e("../../geolocation/b_location");var C=e("../shrink");var R=C.S;var N={};_.evaluate_properties=function(e,t,r){var n,o;(n=e)!=null?n:e={};var s={};var i;if(t!=null&&(o=t.frozen_state)!=null&&o.skip){t.frozen_state.skip=false;i=true}if(r===w.DETECT_FIELD_NAMES){for(var u in e){var c=e[u];var f=_.evaluate(c,t,null,null),d=l(f,2),p=d[0],m=d[1];if(m==="reduced"){return N}s[C.expand(u)]=p}}else{var y=function n(o){if(i&&t.frozen_state.should_skip(o)){return{v:void 0}}var a=e[C.shrink(o)];var u=r[o].default;switch(r[o].prop_type){case g.EVAL_TYPE.thunk:s[o]=function(e){var r;(r=e)!=null?r:e=t;var n=_.evaluate(a,e,null,u),o=l(n,2),s=o[0],i=o[1];if(i==="reduced"){return N}else{return s}};break;case g.EVAL_TYPE.skip:return"continue";case g.EVAL_TYPE.value:default:{var c=_.evaluate(a,t,null,u),f=l(c,2),d=f[0],p=f[1];if(p==="reduced"){return{v:N}}s[o]=d}}};for(var v in r){var b=y(v);if(b==="continue")continue;if(a(b)==="object")return b.v}}return s};_.evaluate_json=function(e,t,r,n){return _.evaluate(e._raw(),t,r,n)};_.evaluate=function(e,t,r,n,o){if(e==null){return[n,"null"]}var s=e[R.type];if(s){switch(s){case"Empty":return[n,"null"];case"Message":return U(e,t,r,o);case"TextExpression":return z(e,t,r);case"GeoAddress":return L(e,t,r);default:if(s==="InjectedValue"&&t.reduce_mode){return V(e,t,r)}return H(s,e,t,r)}}if(a(e)==="object"){return D(e,t,r)}return[e,S.lit_eval_value(a(e))]};_.reduce=function(e,t,r){t=y.extend({},t,{reduce_mode:true});t.duplicated_from_context=t.object_id;t.object_id=y.UUID();t.duplicated_at="evaluate.reduce";var n=_.evaluate(e,t,null,null),o=l(n,2),s=o[0],i=o[1];if(r){return W(s)}else{return _.create_reduced(s,i)}};function L(e,t,r){return[I.ensure_valid_location(e[R.val]),"geographic_address"]}function z(e,t,r){var o=e[R.entries];var s=A(o);var a=[];var u=[];var c=false;var f=i(s),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;var m=o[p];var v=_.evaluate(m,t,null,null),b=l(v,2),j=b[0],g=b[1];if(g==="reduced"){c=true}else{var w=P.get(g);var O=w.has_runmode_display();var S=O?w.runmode_display(j,t):"";if(!O&&y.is_debug_mode()&&w.id()!=="null"){var k;var E=x.get_current_eval_node();var M=E==null?void 0:E.owner;var T=E==null?void 0:E.context_element();var I=M!=null&&M.fields?"property ".concat((k=M.field(E.node_name()))==null?void 0:k.caption):"a property";h.owner_warn("trying to display a text value that cannot be displayed as text",{display:'"'.concat(T==null?void 0:T.display(),'" - parts of property ').concat(I," cannot be displayed as text, and will be omitted.")})}a.push(S)}u.push([j,g])}}catch(e){f.e(e)}finally{f.f()}if(c){var C;var N=(C={},n(C,R.type,"TextExpression"),n(C,R.entries,u.map((function(e){var t=l(e,2),r=t[0],n=t[1];return _.create_reduced(r,n)}))),C);return[N,"reduced"]}else{return[a.join(""),"text"]}}function D(e,t,r){if(b.is_json_class(e)){return[e]}var n={};var o={};var s=false;for(var i in e){var a=e[i];var u=_.evaluate(a,t,null,null),c=l(u,2),f=c[0],d=c[1];if(d==="reduced"){s=true}n[C.expand(i)]=f;o[i]=[f,d]}if(s){var p={};for(var m in o){var y=l(o[m],2),v=y[0],h=y[1];p[m]=_.create_reduced(v,h)}return[p,"reduced"]}else{return[n]}}function q(e,t,r,n,o){function s(){var o;var s=(o=t())!=null?o:null;if(s!=null&&s[g.NV_MARKER]){return}var i=P.get(r);var l=i.cast(s);if(!m(s,l)){var u,c,f;h.warn("cast resulted in change",{cast:{before:s,before_constructor:(u=s==null?void 0:s.constructor.name)!=null?u:a(s),before_to_string:String(s),after:l,after_constructor:(c=l==null?void 0:l.constructor.name)!=null?c:a(l),after_to_string:String(l),value_id:i.id()},state_key:e,_raw:n,current_eval_node:(f=x.get_current_eval_node())==null?void 0:f.serialize()})}return l}var i;var l=o.frozen_state;if(!e||!l){i=s()}else if(l.has_key(e)){i=l.get(e)}else{i=s();l.set(e,i);l.trust(e)}var u=n[R.next];if(u!=null){return _.evaluate(u,o,i,null,r)}else{return[i,r]}}function B(e,t,r,n,o){if(t!==true){t=false}var s,i;if(e==="and_"&&t===false){i=false;s="sys.bool"}else if(e==="or_"&&t===true){i=true;s="sys.bool"}else{i=r;s="reduced"}if(n!=null){return _.evaluate(n,o,i,null,s)}else{return[i,s]}}function U(e,t,r,n){var o,s;var i=e[R.name];var a=n!=="reduced"?P.get(n):undefined;var u=a==null?void 0:a.get_message(i);var c=(o=u==null?void 0:(s=u.ret_btype(e))==null?void 0:s._id)!=null?o:"null";var f=u==null?void 0:u.can_shortcircuit_args();var d=f!=null&&f(r);var p=e[R.args];var m,b;if(d){m=null;b="null"}else if(p!=null){var j=_.evaluate(p,t,null,null);var g=l(j,2);m=g[0];b=g[1]}if(b==="reduced"||n==="reduced"){if(["and_","or_"].includes(i)&&(b!=="reduced"||n!=="reduced")){var w,O;if(b!=="reduced"){w=W(m);O=r}else{w=W(r);O=m}return B(i,w,O,e[R.next],t)}r=_.create_reduced(r,n);return G(e,t,r)}if(!u||u.is_not_found()){return[null,"null"]}if(u.ret_btype==null){h.warn("message missing ret_btype")}else if(!u.ret_btype().cast){h.warn("message has a ret_btype that cannot cast")}if(typeof u.field_names!=="function"){throw new y.UnexpectedError("Message does not have field_names()",{message_name:i,prior_btype_id:n,field_names:u.field_names})}var S=u.properties_for_pre_evaluation({_properties:e[R.properties]});var k=u.field_names();var A=_.evaluate_properties(S,t,k,[]);if(A===N){r=_.create_reduced(r,n);return G(e,t,r)}var E;if(u.no_frozen_state({prev:r})){E=null}else{var x=u.message_cache_id({raw:e,properties:A});E=M.Message({prev:r,arg:m,message:i,properties:A,additional:x,prior_btype_id:n})}function T(){v.optional_pause("pre-message "+i);var n=u.evaluate(r,m,A,e,t);v.optional_pause("post-message "+i);return n}return q(E,T,c,e,t)}function W(e){if((e==null?void 0:e[R.type])!=="Dehydrated"){return e}else if((e==null?void 0:e[R.next])!=null){return e}else{return b.rehydrate_tree(T().db_instance(),e[R.properties][R.val])}}_.create_reduced=S.create_reduced;function F(e,t){e=y.json_deep_copy(e);var r=e;while(r[R.next]){r=r[R.next]}r[R.next]=t;return e}function G(e,t,r){var o;var s=e[R.name];var i;if(e[R.args]!=null){var a=_.evaluate(e[R.args],t,null,null),u=l(a,2),c=u[0],f=u[1];i=_.create_reduced(c,f)}var d;var p=e[R.properties];if(p){d={};Object.entries(p).forEach((function(e){var r=l(e,2),n=r[0],o=r[1];var s=_.evaluate(o,t,null,null),i=l(s,2),a=i[0],u=i[1];d[n]=_.create_reduced(a,u)}))}var m=(o={},n(o,R.name,s),n(o,R.properties,d),n(o,R.args,i),n(o,R.type,"Message"),o);var y=F(r,m);return $(y,e[R.next],t)}function X(e,t,r){var o;var s;var i=t[R.properties];if(i){s={};Object.entries(i).forEach((function(e){var t=l(e,2),n=t[0],o=t[1];var i=_.evaluate(o,r,null,null),a=l(i,2),u=a[0],c=a[1];s[n]=_.create_reduced(u,c)}))}var a=(o={},n(o,R.properties,s),n(o,R.type,e),o);return $(a,t[R.next],r)}function $(e,t,r){if(t==null){return[e,"reduced"]}return _.evaluate(t,r,e,null,"reduced")}function V(e,t,r){var o=n({},R.type,"InjectedValue");return $(o,e[R.next],t)}function H(e,t,r,n){var o;var s=(o=T().load_plugin(T().plugin_prefixes.datasource+e,true))!=null?o:S.missing_datasource(e);var i=_.evaluate_properties(t[R.properties],r,s.field_names);if(i===N){return X(e,t,r)}var a=s.get_unique_string(i,r.element);var l=s.get_runmode_value(t,r,i);if(l==null&&e!=="Dehydrated"){h.warn("Missing ret_btype_id in data eval_data_source",{_raw:t,type:e})}function u(){var e=P.get(l);var n=!(e!=null&&e.is_missing())?e.id():undefined;if(n&&l&&n!==l){h.warn("bad btypes.get in eval_data_source",{post_ret_btype_id:n,ret_btype_id:l})}return s.evaluate(i,r,e,t)}return q(a,u,l,t,r)}_.make_partial_expression_evaluator=function(e){var t=O.get("MessageNode");function r(n){var o=n instanceof t?r(n.prior()):[undefined,undefined],s=l(o,2),i=s[0],a=s[1];var u=y.json_deep_copy(n.json._raw());u==null?true:delete u[R.next];try{e.is_in_partial=true;return _.evaluate(u,e,i,null,a)}finally{e.is_in_partial=false}}return r}},{"../../constants/eval":75,"../../constants/lang":81,"../../db/hydrate":422,"../../db/values/db_values":469,"../../geolocation/b_location":505,"../../lib":614,"../../logger":617,"../../shared/investigations":663,"../../u":687,"../../u/shared/async/b_fiber":696,"../app_json/json_utils":515,"../btypes":537,"../expressions/expression_utils":587,"../nodes":597,"../shrink":603,"./eval_node_state":571,"./state_keys":576,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/isEqual":1184}],573:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.join.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r;var s=e("../app_json/json_utils"),i=s.raw_to_child_names;var a=e("../shrink");var l=a.S;o.is_static=function(e){if(!e){return true}var t=e[l.type];if(t){if(t==="GeoAddress"||t==="Empty"){return true}else if(t==="TextExpression"){var r;var s=(r=e[l.entries])!=null?r:{};return Object.values(s).every((function(e){return o.is_static(e)}))}else{return false}}if(n(e)==="object"){return Object.values(e).every((function(e){return o.is_static(e)}))}return true};o.get_static=function(e){if(e==null){return null}var t=e[l.type];if(t){switch(t){case"Empty":return null;case"Message":return null;case"TextExpression":return o.get_static_text_expression(e);case"GeoAddress":return e[l.val];default:return null}}if(n(e)==="object"){return o.get_static_object_literal(e)}return e};o.get_static_text_expression=function(e){var t=e[l.entries];var r=i(t);var n=r.map((function(e){return o.get_static(t[e])}));return n.join("")};o.get_static_object_literal=function(e){var t={};for(var r in e){var n=e[r];var s=o.get_static(n);t[a.expand(r)]=s}return t}},{"../app_json/json_utils":515,"../shrink":603,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],574:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=r;var o=e("../shrink");var s=o.S;var i=e("../../u/shared/mode_check");var a=e("../../u/shared/errors");var l=e("../../u/shared/async/autorun");var u=e("../../u/shared/async/b_async");var c=e("../../u/shared/async/async_state");var f=e("../../u/shared/uuid");var d=e("../../lib");var p=e("./eval_node_state");var _=e("../appquery");var m=e("../nodes/registry");var y=e("../nodes/node_types");var v=e("./evaluate");var b=e("../../safe_require");b.safe_register("./lang/evaluation/node_eval",n);n.evaluate_state_condition=function(e,t){return p.with_eval_node(e,(function(){return v.evaluate(e.json._raw_child(s.condition),t,null,null)[0]}))};n.evaluate_event_condition=function(e,t){if(e.get_static_property("workflow_disabled")){return false}return n.eval_property(e,"condition",t,null,true)};n.evaluate_action_condition=function(e,t){if(i.on_server()&&e.check_use_visible()&&_().get_public_setting("use_visible")){return false}return n.eval_property(e,"condition",t,null,true)};n.evaluate_action_properties=function(e,t){var r=n.evaluate_action_condition(e,t);if(!r&&!e.A.handle_condition_internally){return{condition:false}}var o=e.json._child(s.properties);var i=p.with_eval_node(e,(function(){return v.evaluate_properties(o._raw(),t,e.field_names(),o._path())}));var a=e.preprocess_properties(i,t);a.condition=r;return a};n.evaluate_properties=function(e,t){if(!e){return null}if(m.is(e,y.ACTION)){return n.evaluate_action_properties(e,t)}var r=e.json._child(s.properties);var o=p.with_eval_node(e,(function(){return v.evaluate_properties(r._raw(),t,e.field_names(),r._path())}));return e.preprocess_properties(o,t)};n.evaluate_wf_properties=function(e,t){var r;if(m.is(e,y.GENERIC_EVENT)){return l.run_once(30,(function(){return{condition:n.evaluate_event_condition(n,e,t)}}))}var o=["slow","step_by_step"].includes((r=d().workflow.debugger)==null?void 0:r.workflow_mode);if(e.does_fall_back_to_server()&&!o){var s=u.Promise(null,"property evaluation");var i=["Search","GetDataFromAPI"].some((function(t){return e.find_expressions(t).length>0}));if(t.server_workflow_completed||i){s.reject(new a.UnexpectedError("no local evaluation"))}else{var p;try{p=c.CurrentAutoRun;c.CurrentAutoRun={invalidate:function e(){},add_sub:function e(){}};s.resolve(n.evaluate_properties(e,t))}catch(e){s.reject(e)}finally{c.CurrentAutoRun=p}}return s}return l.run_once(30,(function(){if(t.initial_random_iterations==null&&t.random_generator){t.initial_random_iterations=t.random_generator.iterations}else if(t.initial_random_iterations!=null){t.random_generator=new f.Random(t.random_seed,t.initial_random_iterations)}return n.evaluate_properties(e,t)}))};n.evaluate_action_clientside=function(e,t){if(!e.needs_clientside_properties()){return u.Promise(null)}return n.evaluate_wf_properties(e,t)};n.eval_property=function(e,t,r,n,i){return p.with_eval_node(e.property(t),(function(){return v.evaluate(e.json._raw_gchild(s.properties,o.shrink(t)),r,n,i)[0]}))}},{"../../lib":614,"../../safe_require":643,"../../u/shared/async/async_state":692,"../../u/shared/async/autorun":693,"../../u/shared/async/b_async":695,"../../u/shared/errors":708,"../../u/shared/mode_check":713,"../../u/shared/uuid":716,"../appquery":535,"../nodes/node_types":598,"../nodes/registry":600,"../shrink":603,"./eval_node_state":571,"./evaluate":572,"core-js/modules/es.array.includes.js":933}],575:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");var n=t.exports;var o=e("../../u");var s=e(".././../safe_require");s.safe_register("./lang/evaluation/page_state",n);n.get_basic_datasources=function(e,t){var r,s;(r=t)!=null?r:t={};var i={current_user:function e(){return f().current_user()},page_data:function e(t,r){return n.get_page_data(t.name,r)},page_data_btype:function e(t){var r;return(r=n.get_page_data_type(t.name))!=null?r:" null"}};if(!(e!=null&&(s=e.is_api)!=null&&s.call(e))){o.extend(i,{current_page_item:function e(){return f().pageparam.get()},current_page_item_btype:function t(){var r;return(r=e.get_static_property("page_item_type"))!=null?r:"null"}})}return o.extend(i,t)};if(window){n.page_width=o.Box($(window).width())}else{n.page_width=o.Box(null,true)}n.page_current_scroll_position=o.Box(0);var i=["Website Home","CurrentLanguage","Website Admin Email","Current Date/Time","AppIsTest","AppVersion"];var a=["Website Home","This Url","CurrentLanguage"];var l=["Current Page Name"];var u=["Website Admin Email","Current Date/Time","Current Position","Current Page Width","Current Page Scrolling Position","Page Loaded Above Fold","Page Loaded (Entire)","AppIsTest","AppVersion"];n.get_page_data_names=function(e){var t,r;if(e.is_api){return i}var n=[].concat(a);if(((t=e.element_node)==null?void 0:(r=t.root())==null?void 0:r.type())==="CustomDefinition"){n.push.apply(n,l)}n.push.apply(n,u);return n};n.get_page_data_names_new=function(e){var t,r,n,o;if(e.owner_type==="BackendWorkflow"){return i}var s=[].concat(a);if(((t=(r=e.owner_node).context_element)==null?void 0:(n=t.call(r))==null?void 0:(o=n.root())==null?void 0:o.type())==="CustomDefinition"){s.push.apply(s,l)}s.push.apply(s,u);return s};n.get_all_data_names=function(){return[].concat(a,l,u)};n.get_page_data=function(e,t){var r;if(t.is_api&&!i.includes(e)){throw new o.UnexpectedError("calling a PageData datasource in API invalid: "+e)}if(t.in_pageservice&&!["Current Page Name","Website Home","AppIsTest"].includes(e)){throw new o.OwnerError("Datasource not allowed in page",{display:"Calling a data source invalid when generating the page HTML: "+e})}switch(e){case"Website Home":return f().location.get_server_base();case"This Url":return f().location.my_location();case"Current Page Name":return f().location.get_page();case"CurrentLanguage":return f().app_language();case"AppIsTest":return f().app_version()!==d.LIVE_VERSION;case"AppVersion":return c.app_version();case"Website Admin Email":return c.admin_email();case"Current Date/Time":(r=t._current_date_time)!=null?r:t._current_date_time=new Date(o.timestamp());return t._current_date_time;case"Current Position":if(t.frozen_state&&o.on_server()){return t.frozen_state.other_data["Current Position"]}return p.get_current_geographic_position();case"Current Page Width":if(o.on_client()){return n.page_width()}return t.frozen_state.other_data["Current Page Width"];case"Current Page Scrolling Position":if(o.on_client()){return n.page_current_scroll_position()}return t.frozen_state.other_data["Current Page Scroll Position"];case"Is Reset Password Token Valid":return null;case"Page Loaded Above Fold":if(o.on_server()){return true}return f().element.page_done_loading();case"Page Loaded (Entire)":if(o.on_server()){return true}return f().element.page_done_loading(true);default:throw new o.UnexpectedError("unrecognized: "+e)}};n.get_page_data_ready_key=function(){return o.FakeKey()};n.get_page_data_type=function(e){switch(e){case"Current Date/Time":return"date";case"Current Position":return"geographic_address";case"Current Page Width":return"number";case"Current Page Scrolling Position":return"number";case"Page Loaded Above Fold":case"Page Loaded (Entire)":case"Is Reset Password Token Valid":case"AppIsTest":return"boolean";default:return"text"}};n.input_focused=o.Box(false);var c=e("../appquery");var f=e(".././../lib");var d=e("../../constants/locations");var p=e("../../geolocation/location_lookups")},{"../../constants/locations":82,"../../geolocation/location_lookups":509,"../../u":687,".././../lib":614,".././../safe_require":643,"../appquery":535,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.function.name.js":942}],576:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.join.js");var n=e("../../u");var o=e("../../db/hydrate");var s=e("../../db/query_planner");var i=e(".././../safe_require");var a="Message_";var l="ElementParent";function u(e,t,r){return n.json_stringify(o.dehydrate_tree({type:e,constraints:s.sort_constraints(Object.values(t!=null?t:{}).filter((function(e){return e!=null}))),sorts_list:r}))}t.exports={CurrentUser:function e(){return"CurrentUser"},Message:function e(t){var r,s,i,l;var u=t.prev,c=t.arg,f=t.message,d=t.properties,p=t.additional,_=t.prior_btype_id;(r=u)!=null?r:u=null;(s=c)!=null?s:c=null;(i=d)!=null?i:d={};(l=p)!=null?l:p="";var m=[n.json_stringify(o.dehydrate_tree(u)),f,n.json_stringify(o.dehydrate_tree(c)),n.json_stringify(o.dehydrate_tree(d)),p,_];return a+m.join("_")},CurrentPageItem:function e(){return"CurrentPageItem"},CurrentWorkflowItem:function e(){return null},PageData:function e(t){if(t==="Current Date/Time"){return null}return"PageData_"+t},APIEventParameter:function e(t){return"APIEventParameter_"+t},ElementParent:function e(){return l},CurrentCellsIndex:function e(){return"CurrentCellsIndex"},ThisElement:function e(){},PreviousStep:function e(t){return"PreviousStep_"+t},Search:function e(t,r,n){return"Search_"+u(t,r,n)},GetDataFromAPI:function e(t){return"GetDataFromAPI_"+JSON.stringify(o.dehydrate_tree(t))},ArbitraryText:function e(t){return"ArbitraryText_"+JSON.stringify(o.dehydrate_tree(t))}};i.safe_register("./lang/evaluation/state_keys",t.exports)},{"../../db/hydrate":422,"../../db/query_planner":453,"../../u":687,".././../safe_require":643,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.join.js":935,"core-js/modules/es.object.values.js":960}],577:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(){if(typeof Reflect!=="undefined"&&Reflect.get){d=Reflect.get.bind()}else{d=function e(t,r,n){var o=p(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return d.apply(this,arguments)}function p(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=j(e);if(e===null)break}return e}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return m(e,t)}function y(e){var t=h();return function r(){var n=j(e),o;if(t){var s=j(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return v(this,o)}}function v(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return j(e)}var g=e("../../u");var w=e("../../lib");var O=e("../btypes");var S=e("./expression_utils");var k=e("./LiveExpression");t.exports=function(e){_(r,e);var t=y(r);function r(e,n,o){var s,i;var l;a(this,r);l=t.call(this,e,n);l.D=w().load_plugin(w().plugin_prefixes.datasource+o,true);(i=(s=l).D)!=null?i:s.D=S.missing_datasource(o);l._type=o;return l}u(r,[{key:"field_names",value:function e(){if(!this.D.field_names){throw new g.UnexpectedError("missing field_names for datasource "+this._type)}return this.D.field_names}},{key:"_fields",value:function e(){return this.D.fields(this.get_static_property_fetcher(),this)}},{key:"has_args",value:function e(){return false}},{key:"get_value",value:function e(){var t=this.D.get_value(this.get_static_property_fetcher(),this);return O.get(t)}},{key:"display",value:function e(){if(this.D.display){return this.D.display(this.get_static_property_fetcher(),this)}else{return"DataSource ".concat(this._type)}}},{key:"get_spot",value:function e(){var t,r,n;return(t=(r=(n=this.D).get_spot)==null?void 0:r.call(n))!=null?t:"DynamicAtom"}},{key:"get_literal",value:function e(){return this.raw()}},{key:"serialize_args",value:function e(){return[this.json,this.owner,this._type]}},{key:"is_equal_to",value:function e(t){return d(j(r.prototype),"is_equal_to",this).call(this,t)&&this._type===t._type}},{key:"thumbnail_id",value:function e(){var t,n,o;return(t=(n=(o=this.D).thumbnail_id)==null?void 0:n.call(o,this.get_static_property_fetcher(),this))!=null?t:d(j(r.prototype),"thumbnail_id",this).call(this)}}]);return r}(k)},{"../../lib":614,"../../u":687,"../btypes":537,"./LiveExpression":582,"./expression_utils":587,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],578:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../btypes");var v=e("./StaticExpression");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"get_static",value:function e(){return null}},{key:"is_empty",value:function e(){return true}},{key:"get_value",value:function e(){return y.get("null")}},{key:"get_eval_value",value:function e(){return y.get("null")}},{key:"display",value:function e(){return""}},{key:"type",value:function e(){return"Empty"}}]);return r}(v)},{"../btypes":537,"./StaticExpression":585,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],579:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u");var v=e("../../lib");var b=e("../../logger");var h=e("../nodes");var j=e("../btypes");var g=e("./expression_utils");t.exports=function(e){u(r,e);var t=f(r);function r(e,n){var s;o(this,r);s=t.call(this,e);if(!n){throw new y.UnexpectedError("expression created without owner")}s.owner=n;s._property_owner=s.owner;return s}i(r,[{key:"make_new",value:function e(){return h.new_expression.apply(h,arguments)}},{key:"has_next",value:function e(){return false}},{key:"has_args",value:function e(){return false}},{key:"is_empty",value:function e(){return false}},{key:"is_literal",value:function e(){return false}},{key:"get_spot",value:function e(){return"DynamicAtom"}},{key:"get_literal",value:function e(){return null}},{key:"get_eval_value",value:function e(){return j.get("null")}},{key:"raw",value:function e(){return this.json.raw()}},{key:"node_name",value:function e(){return this.json.name()}},{key:"get_tree_display",value:function e(){return this.display()}},{key:"display_simple",value:function e(){return this.display()}},{key:"element_id",value:function e(){return this.get_static_property("element_id")}},{key:"pretty_print",value:function e(t){try{return t+this.get_tree_display()}catch(e){return"".concat(t,"Error trying to pretty_print ").concat(this.constructor.name,":\n").concat(e.stack)}}},{key:"context_element",value:function e(){return this.owner.context_element()}},{key:"parent_expression",value:function e(){var t=this.json.parent();var r=this.owner.path();if(!r){return null}if(t.path()===r){return null}return h.new_expression(t,this.owner)}},{key:"parent_expressions",value:function e(t){var r=[];var n=this;while(n=n.parent_expression()){r.push(n)}return h.filter_array(t,r)}},{key:"serialize_args",value:function e(){return[this.json,this.owner]}},{key:"find_expressions",value:function e(t){return h.from_raw_array(this.json,h.new_expression,g.expression_find_expressions(h.to_raw(this),h.make_filter(t)))}}]);return r}(h.HasProperties)},{"../../lib":614,"../../logger":617,"../../u":687,"../btypes":537,"../nodes":597,"./expression_utils":587,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],580:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../geolocation/b_location");var v=e("../btypes");var b=e("./StaticExpression");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"is_static",value:function e(){return true}},{key:"get_address",value:function e(){return y.get_address(this.json.child("val").raw())}},{key:"get_static",value:function e(){return this.json.child("val").raw()}},{key:"get_literal",value:function e(){return this.json.child("val").raw()}},{key:"type",value:function e(){return"GeoAddress"}},{key:"get_eval_value",value:function e(){return v.get("geographic_address")}},{key:"get_tree_display",value:function e(){return this.get_address()}},{key:"display",value:function e(){return this.get_address()}}]);return r}(b)},{"../../geolocation/b_location":505,"../btypes":537,"./StaticExpression":585,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],581:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../btypes");var v=e("./expression_utils");var b=e("./StaticExpression");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"get_static",value:function e(){return this.json.get()}},{key:"is_literal",value:function e(){return true}},{key:"get_literal",value:function e(){return this.json.get()}},{key:"type",value:function e(){return n(this.json.get())}},{key:"get_value",value:function e(){return y.get(v.lit_eval_value(this.type()))}},{key:"get_eval_value",value:function e(){return y.get(v.lit_eval_value(this.type()))}},{key:"get_tree_display",value:function e(){var t=this.json.get();switch(this.type()){case"string":case"number":return t;case"boolean":return t?"yes":"no"}}},{key:"display",value:function e(){var t=this.json.get();switch(this.type()){case"string":return""+t+"";case"boolean":return t?'"yes"':'"no"';case"number":return t}}},{key:"display_simple",value:function e(){var t=this.json.get();switch(this.type()){case"string":return t;case"boolean":return t?'"yes"':'"no"';case"number":return t}}}]);return r}(b)},{"../btypes":537,"./StaticExpression":585,"./expression_utils":587,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],582:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../../u");var v=e("../../lib");var b=e("../btypes");var h=e("../shrink");var j=e("../nodes");var g=h.S;var w=e("./Expression");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"has_next",value:function e(){return true}},{key:"message_set",value:function e(t){return v().sets.get_set("Messages")(this,this.get_value(),t)}},{key:"is_static",value:function e(){return false}},{key:"get_static",value:function e(){return null}},{key:"get_static_property_fetcher",value:function e(){var t=this;return function(e){return t.get_static_property(e)}}},{key:"get_tree_display",value:function e(t){if(t){var r,n,o;return(r=this.get_eval_value)==null?void 0:(n=r.call(this))==null?void 0:(o=n.get_bubble_null)==null?void 0:o.call(n)}var s=this.display();var i=this.has_args()?this.args().get_tree_display():"";var a=this.has_next()?this.next().get_tree_display():"";return s+i+a}},{key:"next",value:function e(){return j.new_expression(this.json._child(g.next),this.owner)}},{key:"type",value:function e(){return this.json.child("type").get()}},{key:"get_eval_value",value:function e(t){if(this.has_args()){var r=this.args();if(!this.get_arg_btype().matches(r.get_eval_value())){if(t){var n=this.get_arg_btype().display();var o=r.get_eval_value().display_for_issue();if(o===n){o="different "+o}var s=/^[aeiou]/.test(o[0])?"an":"a";t("This argument should be a ".concat(n," but right now it is ").concat(s," ").concat(o),r)}return b.get("null")}}var i=this.next();if(!i.is_empty()){return i.get_eval_value(t)}else{return this.get_value()}}},{key:"_find_used_properties",value:function e(){var t=this;if(this.get_spot()==="SlidableAtom"){return this.fields().filter((function(e){return v().getChecker(t,e).condition()})).map((function(e){return t.property(e.name)}))}else{return this.properties()}}}]);return r}(w)},{"../../lib":614,"../../u":687,"../btypes":537,"../nodes":597,"../shrink":603,"./Expression":579,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],583:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(){if(typeof Reflect!=="undefined"&&Reflect.get){u=Reflect.get.bind()}else{u=function e(t,r,n){var o=c(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return u.apply(this,arguments)}function c(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=v(e);if(e===null)break}return e}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)d(e,t)}function d(e,t){d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return d(e,t)}function p(e){var t=y();return function r(){var n=v(e),o;if(t){var s=v(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return _(this,o)}}function _(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return m(e)}function m(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function y(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}var b=e("../../u");var h=e("../nodes");var j=e("../../lib");var g=e("../btypes");var w=e("./LiveExpression");function O(e){return{fn:function e(){},ret_btype:function e(){return g.get("null")},arg_btype:function e(){return null},spot_data:function e(){},field_names:{},_fields:function e(){},M:function e(){return{}},description:function t(){return"[Not found: ".concat(e,"]")},NOT_FOUND:true}}t.exports=function(e){f(r,e);var t=p(r);function r(e,n){var s,i,a,l,u;var c;o(this,r);c=t.call(this,e,n);c._name=c.json.child("name").get();c._parent_value=(s=(i=(a=c.prior()).get_value)==null?void 0:i.call(a))!=null?s:g.get("null");c._message=(l=(u=c._parent_value)==null?void 0:u.get_message(c.name()))!=null?l:O(c._name);return c}i(r,[{key:"name",value:function e(){return this._name}},{key:"is_equal_to",value:function e(t){if(!u(v(r.prototype),"is_equal_to",this).call(this,t)){return false}if(this._name!==t.name()){return false}if(this._parent_value.id()!==t._parent_value.id()){return false}if(this.get_value().id()!==t.get_value().id()){return false}return true}},{key:"message",value:function e(){return this._message}},{key:"get_value",value:function e(){return this._message.ret_btype(this.json._raw())}},{key:"has_args",value:function e(){return this._message.arg_btype()!=null}},{key:"args",value:function e(){return h.new_expression(this.json.child("args"),this.owner)}},{key:"get_arg_btype",value:function e(){return this._message.arg_btype()}},{key:"prior",value:function e(){return h.new_expression(this.json.parent(),this.owner)}},{key:"get_spot",value:function e(){var t;return(t=this._message.spot_data())!=null?t:"DynamicAtom"}},{key:"field_names",value:function e(){if(!this._message.field_names){var t,r;throw new b.UnexpectedError("message "+this._name+" on  "+((t=this._parent_value)==null?void 0:(r=t.display)==null?void 0:r.call(t))+" is missing field_names")}return this._message.field_names()}},{key:"display",value:function e(){return this._message.description(this)}}]);return r}(w)},{"../../lib":614,"../../u":687,"../btypes":537,"../nodes":597,"./LiveExpression":582,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],584:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o,s;function i(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function a(e){return f(e)||c(e)||u(e)||l()}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(!e)return;if(typeof e==="string")return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function c(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f(e){if(Array.isArray(e))return d(e)}function d(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,y(n.key),n)}}function m(e,t,r){if(t)_(e.prototype,t);if(r)_(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function y(e){var t=v(e,"string");return n(t)==="symbol"?t:String(t)}function v(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return h(e,t)}function j(e){var t=O();return function r(){var n=S(e),o;if(t){var s=S(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return g(this,o)}}function g(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return w(e)}function w(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function O(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}function k(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var A=e("../nodes");var E=e("../caching");var x=e("../evaluation/evaluate_static");var M=e("./Expression");var P=(o=E.cached({type:E.RUN_MODE}),s=function(e){b(r,e);var t=j(r);function r(){p(this,r);return t.apply(this,arguments)}m(r,[{key:"set_field_data",value:function e(t){var r;(r=t)!=null?r:t=[];this.field_names=function(){return t.map((function(e){return e.name}))};this._fields=function(){return t}}},{key:"entry",value:function e(t){return A.new_expression(this.json.child(t),this.owner)}},{key:"type",value:function e(){return"ObjectLiteral"}},{key:"next",value:function e(){if(!this.json.child("next").empty()){return this.entry("next")}}},{key:"pretty_print",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var r=t+"ObjectLiteral:";var n=this.entries().flatMap((function(e){return[t+"  "+e.json.name(),e.pretty_print(t+"    ",false)]}));return[r].concat(a(n)).join("\n")}},{key:"_process",value:function e(t){var r={};var n=i(this.entries()),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;var a=t(s);r[s.json.name()]=a}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"properties",value:function e(){return this.entries()}},{key:"property",value:function e(t){return this.entry(t)}},{key:"get_static_property",value:function e(t){return this.property(t).get_static()}},{key:"is_static",value:function e(){return this.entries().every((function(e){return e.is_static()}))}},{key:"get_static",value:function e(){return x.get_static_object_literal(this.json._raw())}},{key:"check_for_errors",value:function e(){return{children:this.properties()}}},{key:"entries",value:function e(){var t=this;return A.enhance_array(this.json.children().map((function(e){return A.new_expression(e,t.owner)})))}}]);return r}(M),k(s.prototype,"entries",[o],Object.getOwnPropertyDescriptor(s.prototype,"entries"),s.prototype),s);t.exports=P},{"../caching":539,"../evaluation/evaluate_static":573,"../nodes":597,"./Expression":579,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],585:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(e){var t=_();return function r(){var n=m(e),o;if(t){var s=m(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return d(this,o)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return p(e)}function p(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e){m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return m(e)}var y=e("../nodes");var v=e("./Expression");t.exports=function(e){u(r,e);var t=f(r);function r(){o(this,r);return t.apply(this,arguments)}i(r,[{key:"is_static",value:function e(){return true}},{key:"find_expressions",value:function e(){return y.enhance_array([])}},{key:"field_names",value:function e(){return{}}}]);return r}(v)},{"../nodes":597,"./Expression":579,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],586:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o,s;function i(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=a(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw l}}}}function a(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function d(e){var t=p(e,"string");return n(t)==="symbol"?t:String(t)}function p(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)m(e,t)}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return m(e,t)}function y(e){var t=h();return function r(){var n=j(e),o;if(t){var s=j(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return v(this,o)}}function v(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function j(e){j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return j(e)}function g(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var w=e("../nodes");var O=e("../caching");var S=e("../btypes");var k=e("../shrink");var A=k.S;var E=e("../evaluation/evaluate_static");var x=e("./Expression");var M=(o=O.cached({type:O.RUN_MODE}),s=function(e){_(r,e);var t=y(r);function r(){u(this,r);return t.apply(this,arguments)}f(r,[{key:"entry",value:function e(t){return w.new_expression(this.json._gchild(A.entries,k.shrink(t)),this.owner)}},{key:"type",value:function e(){return"TextExpression"}},{key:"properties",value:function e(){return this.entries()}},{key:"is_static",value:function e(){return this.entries().every((function(e){return e.is_static()}))}},{key:"get_static",value:function e(){return E.get_static_text_expression(this.json._raw())}},{key:"get_tree_display",value:function e(t){return this.entries().map((function(e){return e.get_tree_display(t)})).join("")}},{key:"display",value:function e(){return this.get_tree_display()}},{key:"get_eval_value",value:function e(){return S.get("text")}},{key:"field_names",value:function e(){return{}}},{key:"entries",value:function e(){var t=this;return w.enhance_array(this.json._child(A.entries).children().map((function(e){return w.new_expression(e,t.owner)})))}}]);return r}(x),g(s.prototype,"entries",[o],Object.getOwnPropertyDescriptor(s.prototype,"entries"),s.prototype),s);t.exports=M},{"../btypes":537,"../caching":539,"../evaluation/evaluate_static":573,"../nodes":597,"../shrink":603,"./Expression":579,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],587:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");function n(e){return i(e)||s(e)||l(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function i(e){if(Array.isArray(e))return u(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e){"@babel/helpers - typeof";return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t,r){t=d(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function d(e){var t=p(e,"string");return c(t)==="symbol"?t:String(t)}function p(e,t){if(c(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(c(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _=r;var m=e("../nodes");var y=e("../shrink");var v=e("../../db/hydrate");var b=y.S;_.create_reduced=function(e,t){if(t==="reduced"){return e}else{var r,n;return n={},f(n,b.type,"Dehydrated"),f(n,b.properties,(r={},f(r,b.val,v.dehydrate_tree(e)),f(r,b.value_id,t),r)),n}};_.lit_eval_value=function(e){switch(e){case"string":return"text";case"boolean":return"sys.bool";case"number":return"number"}};_.missing_datasource=function(e){return{_fields:function e(){return[]},field_names:{},get_unique_string:function e(){},evaluate:function e(){},get_value:function e(){return"null"},display:function t(){return"[missing: "+e+"]"},check_for_errors:function t(r){r("Could not find "+e)}}};_.expression_find_expressions=h;function h(e,t){var r=[];var o=e._raw;if(!o||c(o)!=="object"){return r}var s=o[b.type];if(["Empty","GeoAddress"].includes(s)){return r}if(!s){var i=a(m.raw_array_node(e)),l;try{for(i.s();!(l=i.n()).done;){var u=l.value;if(u&&c(u)==="object"&&!["Empty","GeoAddress"].includes(u[b.type])){if(t(u)){r.push(u)}r.push.apply(r,n(h(u,t)))}}}catch(e){i.e(e)}finally{i.f()}}else if(s==="TextExpression"){var f=a(m.raw_children(e,b.entries)),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;if(p&&c(p)==="object"&&!["Empty","GeoAddress"].includes(p[b.type])){if(t(p)){r.push(p)}r.push.apply(r,n(h(p,t)))}}}catch(e){f.e(e)}finally{f.f()}}else{if(o[b.properties]){var _=a(m.raw_children(e,b.properties)),y;try{for(_.s();!(y=_.n()).done;){var v=y.value;if(v&&c(v)==="object"&&!["Empty","GeoAddress"].includes(v[b.type])){if(t(v)){r.push(v)}r.push.apply(r,n(h(v,t)))}}}catch(e){_.e(e)}finally{_.f()}}if(s==="Message"&&o[b.args]){var j=m.raw_child(e,b.args);if(j&&c(j)==="object"&&!["Empty","GeoAddress"].includes(j[b.type])){if(t(j)){r.push(j)}r.push.apply(r,n(h(j,t)))}}if(o[b.next]){var g=m.raw_child(e,b.next);if(g&&c(g)==="object"&&!["Empty","GeoAddress"].includes(g[b.type])){if(t(g)){r.push(g)}r.push.apply(r,n(h(g,t)))}}}return r}},{"../../db/hydrate":422,"../nodes":597,"../shrink":603,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],588:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");var n=r;var o=e("../../u");var s=e("../nodes");var i=e("./Expression");var a=e("./Empty");var l=e("./Literal");var u=e("./ObjectLiteral");var c=e("./TextExpression");var f=e("./LiveExpression");var d=e("./DataSource");var p=e("./MessageNode");var _=e("./GeoAddressNode");var m=e("./expression_utils");var y=e("../evaluation/evaluate");var v=e("../evaluation/evaluate_static");n.make_partial_expression_evaluator=y.make_partial_expression_evaluator;n.create_reduced=m.create_reduced;n.expression_find_expressions=m.expression_find_expressions;n.get_static=v.get_static;n.is_static=v.is_static;s.add(s.EXPRESSION,i);s.add(s.EMPTY,a);s.add(s.LITERAL,l);s.add(s.OBJECT_LITERAL,u);s.add(s.TEXT_EXPRESSION,c);s.add(s.LIVE_EXPRESSION,f);s.add(s.DATA_SOURCE,d);s.add(s.MESSAGE_NODE,p);s.add(s.GEO_ADDRESS_NODE,_);s.add_generic("expression",o.is_edit_mode()?b:h);function b(e,t){var r,n,o,s;var i=(r=(n=t.type)==null?void 0:n.call(t))!=null?r:"no_type";var a=(o=(s=t.id)==null?void 0:s.call(t))!=null?o:"no_id";var l="expression_".concat(a,"_").concat(i);return e.smart_cache(l,j,t)}function h(e,t){return e.smart_cache("expression",j,t)}function j(e,t){if(e.empty()){return new a(e,t)}var r=e.child("type").get();if(r){switch(r){case"Empty":return new a(e,t);case"Message":return new p(e,t);case"TextExpression":return new c(e,t);case"GeoAddress":return new _(e,t);default:return new d(e,t,r)}}if(e.raw_type()==="object"){return new u(e,t)}return new l(e,t)}},{"../../u":687,"../evaluation/evaluate":572,"../evaluation/evaluate_static":573,"../nodes":597,"./DataSource":577,"./Empty":578,"./Expression":579,"./GeoAddressNode":580,"./Literal":581,"./LiveExpression":582,"./MessageNode":583,"./ObjectLiteral":584,"./TextExpression":586,"./expression_utils":587,"core-js/modules/es.array.concat.js":926}],589:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.add_user_font_token=_;r.default_font_tokens_to_property=b;r.delete_user_font_token=m;r.load_font_tokens_default=y;r.load_font_tokens_user=v;r.user_font_tokens_to_property=h;e("core-js/modules/es.object.keys.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");var o=p(e("./appquery"));var s=e("../constants/fonts");var i=e("../constants/tokens");var a=e("../webfonts");var l=d(e("./../client/analytics"));var u=e("./../constants/segment_events");var c=e("../u/shared/b_object");function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(f=function e(n){return n?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=f(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var r;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:"default";var a=o.default.uid();var f=(r=o.default.get_public_setting("font_tokens_user"))!=null?r:(0,c.json_deep_copy)(i.DEFAULT_USER_TOKENS);f[n][a]={font_family:s.DEFAULT_FAMILY,name:e,description:t,order:Object.keys(f[n]).length,deleted:false};l.track(u.STYLES_VARIABLE_CREATED,{app:o.default.appname(),token:a,variant:n,name:e,description:t,type:"Font"});o.default.set_setting(true,"font_tokens_user",f);o.default.commit()}function m(e,t){var r;var n=(r=o.default.get_public_setting("font_tokens_user"))!=null?r:(0,c.json_deep_copy)(i.DEFAULT_USER_TOKENS);var s=n[e][t].order;for(var a in n[e]){if(n[e][a].order>s){n[e][a].order-=1}}l.track(u.STYLES_VARIABLE_DELETED,{app:o.default.appname(),token:t,variant:e,name:n[e][t].name,description:n[e][t].description,type:"Font"});n[e][t].deleted=true;n[e][t].name+=i.DELETED_USER_TOKEN_STRING;o.default.set_setting(true,"font_tokens_user",n);o.default.commit()}function y(){var e;var t=(e=o.default.get_public_setting("font_tokens"))!=null?e:s.DEFAULT_TOKENS;var r=function e(r){s.ALL_WEIGHTS.forEach((function(e){(0,a.load_font)((0,a.to_font_face)(t[r],e))}))};for(var n in t){r(n)}}function v(){var e;var t=(e=o.default.get_public_setting("font_tokens_user"))!=null?e:(0,c.json_deep_copy)(i.DEFAULT_USER_TOKENS);var r=function e(r){var n=function e(n){s.ALL_WEIGHTS.forEach((function(e){(0,a.load_font)((0,a.to_font_face)(t[r][n].font_family,e))}))};for(var o in t[r]){n(o)}};for(var n in t){r(n)}}function b(){var e;var t=(e=o.default.get_public_setting("font_tokens"))!=null?e:s.DEFAULT_TOKENS;var r={};for(var n in t){r["--font_"+n]=t[n].replace(s.CUSTOM_FONT_FLAG,"")}return r}function h(){var e;var t=(e=o.default.get_public_setting("font_tokens_user"))!=null?e:(0,c.json_deep_copy)(i.DEFAULT_USER_TOKENS);var r={};for(var n in t){for(var a in t[n]){if(!t[n][a].font_family){continue}r["--font_"+a+"_"+n]=t[n][a].font_family.replace(s.CUSTOM_FONT_FLAG,"")}}return r}},{"../constants/fonts":77,"../constants/tokens":100,"../u/shared/b_object":702,"../webfonts":719,"./../client/analytics":38,"./../constants/segment_events":93,"./appquery":535,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],590:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.assign.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("../safe_require");c.safe_register("./lang/lang",u);var f=e("../constants/lang");u.DETECT_FIELD_NAMES=f.DETECT_FIELD_NAMES;var d=e("./nodes/node_types");var p=e("./nodes");var _=e("./app_json");var m=e("./caching");var y=e("./expressions");var v=e("./workflow");var b=e("./application/RAW");e("./elements");e("./application");var h=e("./appquery");h.add_methods(p.get(d.APPLICATION_VERSION));var j={};Object.values(d).forEach((function(e){if(p.has(e)){j[e]=p.get(e)}}));u.make_run_app=function(e,t,r){return new u.ApplicationVersion(new u.RuntimeJSON(e,null,null,null,t,r))};var g=s(s(s(s(s(s(s({},p),v),y),_),m),j),{},{RAW:b,EnhancedArray:p.get_EnhancedArray(),DETECT_FIELD_NAMES:f.DETECT_FIELD_NAMES});t.exports=Object.assign(u,g)},{"../constants/lang":81,"../safe_require":643,"./app_json":513,"./application":534,"./application/RAW":530,"./appquery":535,"./caching":539,"./elements":557,"./expressions":588,"./nodes":597,"./nodes/node_types":598,"./workflow":610,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],591:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.splice.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r;var s=e("./../u");var i=e("./../logger");var a=e("./elements/State")},{"./../logger":617,"./../u":687,"./elements/State":551,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.splice.js":939,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],592:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function o(e,t,r){t=s(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e){var t=i(e,"string");return n(t)==="symbol"?t:String(t)}function i(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=r;var f=e("../constants/core");var d=e("../u/shared/b_object");var p=e("./btypes");var _={};c.register_migration=function(e){var t,r;(r=_[t=e.plugin_name])!=null?r:_[t]=[];_[e.plugin_name].push(e)};c.register_migration({plugin_name:"Action:TriggerCustomEvent",original_path:"properties.workflow_thing",new_path:"properties.arguments.0.arg_value",additional_info:function e(){return{param_id:f.LEGACY_PARAM_ID}}});c.register_migration({plugin_name:"Action:ScheduleCustom",original_path:"properties.workflow_thing",new_path:"properties.arguments.0.arg_value",additional_info:function e(){return{param_id:f.LEGACY_PARAM_ID}}});c.register_migration({plugin_name:"Action:TriggerCustomEventFromReusable",original_path:"properties.workflow_thing",new_path:"properties.arguments.0.arg_value",additional_info:function e(){return{param_id:f.LEGACY_PARAM_ID}}});c.register_migration({plugin_name:"Event:CustomEvent",original_path:"properties.custom_event_data_type",new_path:"properties.parameters.0.btype_id",additional_info:function e(t){var r=p.get(t);var n=r.is_missing()?"Thing":r.display();return{param_id:f.LEGACY_PARAM_ID,param_name:"Workflow's "+n}}});c.get_raw_migration=function(e){var t;return(t=_[e])!=null?t:[]};c.get_migration_fn=function(e){var t=_[e];if(t){return function(e){var r=false;var n=a(t),s;try{for(n.s();!(s=n.n()).done;){var i=s.value;var l=e.child_by_path(i.original_path).raw();if(l!=null){r=true;var u=i.new_path.split(".");var c=u[u.length-1];var f=i.new_path.substring(0,i.new_path.length-c.length-1);e.child_by_path(f).set(d.extend(o({},c,l),i.additional_info(l)));e.child_by_path(i.original_path).set(null)}}}catch(e){n.e(e)}finally{n.f()}return r}}return function(){return false}}},{"../constants/core":66,"../u/shared/b_object":702,"./btypes":537,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],593:[function(e,t,r){"use strict";e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.slice.js");var n=t.exports;var o="Missing btype:";var s="Missing type... ";n.list=function(){return[]};n.namespace_prefix=function(){return o};n.is_missing=function(e){return e.startsWith(o)};n.strip_prefix=function(e){return n.is_missing(e)?e.slice(o.length+1):e};n.get=function(e){var t="".concat(o," ").concat(e);var r={name:e,id:function e(){return t},is_missing:function e(){return true},storable:false,is_simple:false,can_sort:false,display:function e(){return s},display_for_issue:function e(){var t="a non-defined btype";if(this.id().indexOf("_current")!==-1){t+=" (reinitialize the plugin call)"}return t},debugging_display:function t(r){return"(Value is of an unknown type ".concat(e," and cannot be displayed)")},matches:function r(n){return n===e||n===t},cast:function e(){return null},get_bubble_null:function e(){return null},get_message_names:function e(){return[]},get_message:function e(t){return undefined}};return r}},{"core-js/modules/es.array.slice.js":937,"core-js/modules/es.string.starts-with.js":980}],594:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("../../u");var c=e("./registry");var f=e("./nodes_utils");t.exports=function(){function e(t){o(this,e);this.json=t}i(e,[{key:"is_node",get:function e(){return true}},{key:"has_id",value:function e(){return false}},{key:"toString",value:function e(){return this.lang_constructor+"<"+this.json.path()+">"}},{key:"toUniqueString",value:function e(){return this.lang_constructor+"<"+this.json.toUniqueString()+">"}},{key:"app",value:function e(){var t;var r=this.json.root();(t=r._appnode_application_version_cache)!=null?t:r._appnode_application_version_cache=c.create("ApplicationVersion",r);return r._appnode_application_version_cache}},{key:"id",value:function e(){return this.json.id()}},{key:"is_equal_to",value:function e(t){return(t==null?void 0:t.toUniqueString())===this.toUniqueString()}},{key:"path",value:function e(){return this.json.path()}},{key:"raw",value:function e(){return this.json.raw()}},{key:"read_index",value:function e(){var t;return(t=this.json).read_index.apply(t,arguments)}},{key:"is",value:function e(t){return f.make_filter(t)(this)}},{key:"exists",value:function e(){return this.json.exists()}},{key:"ensure_exists",value:function e(){var t=this.json.ensure_exists();if(!t){return null}return this}},{key:"serialize",value:function e(){if(!this.lang_constructor){throw new u.UnexpectedError("missing lang_constructor: "+this.constructor.name)}function t(e){if(e.is_json){return{type:"json",value:e._path()}}else if(e.is_node){return{type:"node",value:e.serialize()}}else{return{type:"raw",value:e}}}var r=this.serialize_args().map((function(e){return t(e)}));return{constructor_name:this.lang_constructor,args:r}}},{key:"serialize_args",value:function e(){return[this.json]}}]);return e}()},{"../../u":687,"./nodes_utils":599,"./registry":600,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],595:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("../../lib");var j=e("./HasProperties");var g=e("./nodes_utils");t.exports=function(e){d(r,e);var t=_(r);function r(){a(this,r);return t.apply(this,arguments)}u(r,[{key:"exists",value:function e(){return this.json.child("id").exists()}},{key:"has_id",value:function e(){return true}}]);return r}(j)},{"../../lib":614,"./HasProperties":596,"./nodes_utils":599,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],596:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var n,o,s;function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return i(t)==="symbol"?t:String(t)}function f(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(i(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}function h(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var j=e("../../u");var g=e("../../lib");var w=e("../../u/shared/async/b_fiber");var O=e(".././../logger");var S=e("../caching");var k=e("./registry");var A=e("../shrink");var E=A.S;var x=e("../../constants/lang");var M=e("./nodes_utils");var P=e("./AppNode");var T=e("../appquery");var I=e("../btype_ids");var C={};t.exports=(n=S.cached({type:S.RUN_MODE,parameters:1}),o=S.cached({type:S.RUN_MODE}),s=function(e){d(r,e);var t=_(r);function r(){a(this,r);return t.apply(this,arguments)}u(r,[{key:"get_default",value:function e(t){var r;if(!this.field_names){throw new j.UnexpectedError("does not have field names defined: "+this)}var n=this.field_names();if(n===x.DETECT_FIELD_NAMES){return null}return(r=n[t])==null?void 0:r.default}},{key:"get_custom_parameters",value:function e(){var t,r;var n=this.property("parameters");var o=(t=(r=n.entries)==null?void 0:r.call(n))!=null?t:[];return o.map((function(e){var t;var r=(t=e.get_static_property("btype_id"))!=null?t:e.get_static_property("value");var n=e.get_static_property("is_list");return{param_id:e.get_static_property("param_id"),param_name:e.get_static_property("param_name"),optional:e.get_static_property("optional"),btype_id:n?I.list_type(r):r}}))}},{key:"preprocess_properties",value:function e(t,r){return t}},{key:"property",value:function e(t){var r;var n="".concat(T.app_version()).concat(this.json.path_cache()).concat(t);var o;if(j.on_server()){var s,i;(i=(s=w.Fiber.current)._property_json_cache)!=null?i:s._property_json_cache=new LRU({max:1e3,length:function e(){return 1}});var a=w.Fiber.current._property_json_cache;if(!a.has(n)){o=this.json._gchild(E.properties,A.shrink(t));a.set(n,o)}else{o=a.get(n)}}else{var l;(l=C[n])!=null?l:C[n]=this.json._gchild(E.properties,A.shrink(t));o=C[n]}return k.new_expression(o,(r=this._property_owner)!=null?r:this)}},{key:"get_static_property",value:function e(t){var r=this.json._raw_gchild(E.properties,A.shrink(t));if(r!=null){if(i(r)==="object"){switch(r[E.type]){case"Empty":return null;case"TextExpression":{var n;var o=(n=r[E.entries])!=null?n:[];var s=[];Object.values(o).forEach((function(e){if(e!=null&&i(e)==="object"){O.verbose("stringifying object object",{_raw:r})}s.push(e)}));return s.join("")}case"GeoAddressNode":return r[A.shrink("val")];default:return r}}else{return r}}else{var a;return(a=this.get_default(t))!=null?a:null}}},{key:"properties",value:function e(){var t=this;return M.enhance_array(this.json._child(E.properties).children().map((function(e){var r;return k.new_expression(e,(r=t._property_owner)!=null?r:t)})))}}]);return r}(P),h(s.prototype,"get_static_property",[n],Object.getOwnPropertyDescriptor(s.prototype,"get_static_property"),s.prototype),h(s.prototype,"properties",[o],Object.getOwnPropertyDescriptor(s.prototype,"properties"),s.prototype),s)},{"../../constants/lang":81,"../../lib":614,"../../u":687,"../../u/shared/async/b_fiber":696,".././../logger":617,"../appquery":535,"../btype_ids":536,"../caching":539,"../shrink":603,"./AppNode":594,"./nodes_utils":599,"./registry":600,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],597:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=e("./registry");var c=e("./node_types");var f=e("./AppNode");var d=e("./HasProperties");var p=e("./HasID");var _=e("./nodes_utils");t.exports=s(s(s({},_),c),u);var m=t.exports;m.AppNode=f;m.HasProperties=d;m.HasID=p;u.add(c.APP_NODE,f,{abstract:true});u.add(c.HAS_PROPERTIES,d,{abstract:true});u.add(c.HAS_ID,p,{abstract:true})},{"./AppNode":594,"./HasID":595,"./HasProperties":596,"./node_types":598,"./nodes_utils":599,"./registry":600,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],598:[function(e,t,r){"use strict";var n={APP_NODE:"AppNode",HAS_PROPERTIES:"HasProperties",HAS_ID:"HasID",FAKE_APPLICATION:"FakeApplication",APPLICATION:"Application",APPLICATION_VERSION:"ApplicationVersion",API_WORKFLOWS:"API",CUSTOM_TYPE:"CustomType",SECURABLE_TYPE:"SecurableType",CUSTOM_FIELD_STATE:"CustomFieldState",CUSTOM_FIELD:"CustomField",PRIVACY_ROLE:"PrivacyRole",OPTION_SET:"OptionSet",OPTION_ATTRIBUTE:"OptionAttribute",OPTION_VALUE:"OptionValue",COMMENT:"Comment",EXPRESSION:"Expression",EMPTY:"Empty",LITERAL:"Literal",OBJECT_LITERAL:"ObjectLiteral",TEXT_EXPRESSION:"TextExpression",LIVE_EXPRESSION:"LiveExpression",DATA_SOURCE:"DataSource",MESSAGE_NODE:"MessageNode",GEO_ADDRESS_NODE:"GeoAddressNode",WORKFLOW_OBJECT:"WorkflowObject",GENERIC_EVENT:"GenericEvent",EVENT:"Event",API_EVENT_OBJECT:"APIEventObject",ACTION:"Action",STATE:"State",TRANSITION:"Transition",GENERIC_ELEMENT:"GenericElement",ELEMENT:"Element",STYLE:"Style",STYLE_STATE:"StyleState",CUSTOM_STATE:"CustomState",ROOT:"Root",PAGE:"Page",CUSTOM_DEFINITION:"CustomDefinition"};t.exports=n},{}],599:[function(e,t,r){"use strict";e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){return a(e)||i(e,t)||u(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=u(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function u(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var f=r;var d=e("../../u");var p=e("../../lib");var _=e(".././../logger");var m=e(".././shrink");var y=m.S;var v=e("../../constants/app_json");var b=e("../app_json/json_base");var h=e("./registry");var j=e("../enhanced_array");var g=e("../../u/shared/decaf");var w=e("../nodes/node_types");var O=v.OBJECT_MARKER;f.deserialize=function(e,t){function r(t){switch(t.type){case"json":return e.json.by_path(t.value);case"node":return f.deserialize(e,t.value);case"raw":return t.value;default:throw new d.UnexpectedError(t.type)}}var n=t.args.map((function(e){return r(e)}));var o=n[0];var s=n[1];var i=n[2];if(n.length>3){_.error("error deserializing: we have something with more than 3 args",{constructor_name:t.constructor_name})}return h.create(t.constructor_name,o,s,i)};f.filter_array=function(e,t){if(!e){return f.enhance_array(t)}e=f.make_filter(e);var r=[];var n=l(t!=null?t:[]),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(e(s)){r.push(s)}}}catch(e){n.e(e)}finally{n.f()}return f.enhance_array(r)};function S(){return"Compiled filter: "+this._original}function k(e,t,r,n,o,s){if(e){if(s instanceof b.JSONBase){throw new d.UnexpectedError("We do not support running class filters on JSONs")}var i=s._raw?f.from_raw(s):s;if(!(i instanceof e)){return false}}var a,l,u;if(s instanceof b.JSONBase){a=s;l=true}else if(s._raw!=null){u=s._raw;l=false}else{a=s.json;l=true}if(l){if(!a){return false}if(t&&t!==a._child(y.type).get()){return false}if(r){var c;var p=a._raw_gchild(y.properties,r);if(((c=p)==null?void 0:c[y.type])==="TextExpression"){p=g.object_values(p[y.entries]).join("")}if(String(p)!==n){return false}}if(o&&a._child(y.name).get()!==o){return false}return true}else{if(u==null){return false}if(t&&t!==u[y.type]){return false}if(r){var _,m;var v=(_=u[y.properties])==null?void 0:_[r];if(((m=v)==null?void 0:m[y.type])==="TextExpression"){v=g.object_values(v[y.entries]).join("")}if(String(v)!==n){return false}}if(o&&u[y.name]!==o){return false}return true}}function A(){return true}A.toString=function(){return"Identity filter"};var E={};f.make_filter=function(e){if(!e){return A}if(typeof e==="function"){return e}if(!E[e]){var t,r;if(e.charAt(0)==='"'){var n=e.indexOf('"',1);r=e.substring(1,n);t=e.substring(n+2)}else{var o=e.split(".");r=o[0];t=o.slice(1).join(".")}var s,i,a;if(t){s=t.split("=")[0];a=t.split("=")[1];if(s==="name"){i=a;s=null}if(s==="\name"){s="name"}}s=m.shrink(s);var l;if(h.has(r)){_.error("Deprecated: filter using class_type",{filter_str:e});l=h.get(r);r=null}E[e]=k.bind(null,l,r,s,a,i);E[e]._type=r;E[e]._original=e;E[e].toString=S}return E[e]};f.to_raw=function(e){var t;var r=e.json;var n=r._raw();if(n==null){return null}var o=r._path();var s;if((t=e.owner)!=null&&t.is_node){s=f.to_raw(e.owner);s.converter=e.owner.make_new;if(!s.converter){throw new d.UnexpectedError("Class "+e.owner.constructor.name+" is missing a make_new function")}}return{_raw:n,_path:o,owner:s}};f.from_raw=function(e,t,r){var n=r._raw,o=r._path,s=r.owner;var i=e.root().by_path(o);if(s!=null){if(!s.converter){throw new d.UnexpectedError("bad owner:\n"+JSON.stringify({_raw:n,_path:o,owner:s},null,4))}s=f.from_raw(e,s.converter,s)}return t(i,s)};f.from_raw_array=function(e,t,r){return f.enhance_array(r.map((function(r){return f.from_raw(e,t,r)})))};f.raw_child=function(e,t){var r=e._raw,n=e._path,o=e.owner;r=r[t];if(!r){return null}n=n+"."+t;return{_raw:r,_path:n,owner:o}};f.set_owner=function(e,t,r){e.owner=t;t.converter=r};f.raw_children=function(e,t){var r;var n=e._raw,s=e._path,i=e.owner;var a=s+"."+t+".";var l=(r=n[t])!=null?r:{};return Object.entries(l).filter((function(e){var t=o(e,2),r=t[0],n=t[1];return n!=null&&!["length",O].includes(r)})).map((function(e){var t=o(e,2),r=t[0],n=t[1];return{_raw:n,_path:a+r,owner:i}}))};f.raw_properties=function(e,t){var r;var n=e._raw,s=e._path;e.converter=t;var i=s+"."+y.properties+".";var a=(r=n[y.properties])!=null?r:{};return Object.entries(a).filter((function(e){var t=o(e,2),r=t[0],n=t[1];return n!=null&&!["length",O].includes(r)})).map((function(t){var r=o(t,2),n=r[0],s=r[1];return{_raw:s,_path:i+n,owner:e}}))};f.raw_array_node=function(e){var t=e._raw,r=e._path,n=e.owner;var s=r+".";var i=t!=null?t:{};return Object.entries(i).filter((function(e){var t=o(e,2),r=t[0],n=t[1];return n!=null&&!["length",O].includes(r)})).map((function(e){var t=o(e,2),r=t[0],i=t[1];return{_raw:i,_path:s+r,owner:n}}))};var x=null;function M(){var e=[];var t=["asdf"];var r=l(h.list()),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;var s=h.get(o);if(s&&s.prototype instanceof h.get(w.APP_NODE)){var i=l(d.all_keys(s.prototype)),a;try{for(i.s();!(a=i.n()).done;){var u=a.value;if(t[u]==null){e.push(u)}}}catch(e){i.e(e)}finally{i.f()}}}}catch(e){r.e(e)}finally{r.f()}x=j.build_class(e,{filter:function e(t){return f.filter_array(t,this)}})}f.get_EnhancedArray=function(){if(!x){M()}return x};f.enhance_array=function(e){if(!x){M()}var t=new x;Array.prototype.push.apply(t,e);return t};f.to_array=function(e){if(e.to_array){return e.to_array()}else{return e}}},{"../../constants/app_json":58,"../../lib":614,"../../u":687,"../../u/shared/decaf":706,".././../logger":617,".././shrink":603,"../app_json/json_base":514,"../enhanced_array":563,"../nodes/node_types":598,"./registry":600,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.set.js":968,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],600:[function(e,t,r){"use strict";e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.object.keys.js");function n(e,t,r){if(o()){n=Reflect.construct.bind()}else{n=function e(t,r,n){var o=[null];o.push.apply(o,r);var i=Function.bind.apply(t,o);var a=new i;if(n)s(a,n.prototype);return a}}return n.apply(null,arguments)}function o(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function s(e,t){s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return s(e,t)}var i=r;var a=e("../../u/shared/errors");var l={};var u={};i.add=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=r.abstract,o=n===void 0?false:n;l[e]=t;t.prototype.lang_constructor=e;if(!o&&!t.prototype.make_new){t.prototype.make_new=function(e){return new t(e)}}};i.has=function(e){return e in l};i.is=function(e,t){return e instanceof i.get(t)};i.get=function(e){if(!l[e]){throw new a.UnexpectedError("Unknown app node type",{name:e})}return l[e]};i.list=function(){return Object.keys(l)};i.create=function(e){var t=i.get(e);for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++){o[s-1]=arguments[s]}return n(t,o)};i.add_generic=function(e,t){u[e]=t};i.create_generic=function(e){if(!u[e]){throw new a.UnexpectedError("Unknown generic app node type",{name:e})}for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return u[e].apply(u,r)};i.new_element=i.create_generic.bind(null,"element");i.new_expression=i.create_generic.bind(null,"expression");i.new_workflow_item=i.create_generic.bind(null,"workflow_item")},{"../../u/shared/errors":708,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.reflect.construct.js":963}],601:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.Plugin=void 0;e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.link.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n=_(e("../services/shared/plugin_getter"));var o=_(e("../services/shared/plugin_registry"));var s=p(e("../services/shared/service_type_parser"));var i=_(e("./appquery"));var a=p(e("../u"));var l=p(e("../logger"));var u=p(e("../constants/plugin"));var c=p(e("../constants/known_plugins"));var f=p(e("../core/core_elements/shared/image_utils"));function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(d=function e(n){return n?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||m(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=d(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function _(e){return e&&e.__esModule?e:{default:e}}function m(e){"@babel/helpers - typeof";return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function y(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function v(e,t){if(!e)return;if(typeof e==="string")return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}function b(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,w(n.key),n)}}function g(e,t,r){if(t)j(e.prototype,t);if(r)j(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function w(e){var t=O(e,"string");return m(t)==="symbol"?t:String(t)}function O(e,t){if(m(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(m(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var S=r;S.is_hardcoded=function(e){var t=s.get_plugin_id(e);return!a.is_UUID(t)};var k=function e(t){return typeof t==="string"?JSON.parse(t):[]};var A={};var E=function(){function e(t,r){h(this,e);this.id=t;this.data=r}g(e,[{key:"_raw",value:function e(){if(!this.data){return null}return this.data}},{key:"exists",value:function e(){return this.data!=null}},{key:"is_missing",value:function e(){var t;return((t=this._raw())==null?void 0:t.display)==null}},{key:"deleted",value:function e(){var t;return this.is_missing()||((t=this._raw())==null?void 0:t.deleted)}},{key:"display",value:function e(){var t;if(this.is_missing()){return"Removed plugin ("+this.id+")"}return(t=this._raw())==null?void 0:t.display}},{key:"description",value:function e(){var t,r;var n=(t=(r=this._raw())==null?void 0:r.description)!=null?t:"";if(this.deleted()){n+=" \n\nNote that the plugin author has removed this plugin from the marketplace. You can still use it in your application but it cannot be installed in new ones."}return n}},{key:"is_official",value:function e(){var t,r,n,o;var s=(t=this._raw())==null?void 0:t.official;var i=[u.NO_CREATOR_NAME,u.LEGACY_NO_CREATOR_NAME].includes((r=(n=this._raw())==null?void 0:n.creator_name)!=null?r:"");var a=(o=this._raw())==null?void 0:o.creator_id;var l=!a||u.BUBBLE_TEAM_MEMBER_IDS.includes(a);return!!s||!i&&l}},{key:"help",value:function e(){var t,r;return(t=(r=this._raw())==null?void 0:r.help)!=null?t:""}},{key:"icon",value:function e(){var t;var e=(t=this._raw())==null?void 0:t.icon;if(!e){return}return f.optimize_image(e+"?ignore_imgix")}},{key:"has_version",value:function e(){return!S.is_hardcoded(this.id)&&!this.is_testing()&&!this.is_missing()}},{key:"versions",value:function e(){var t;if(!this.has_version()){return{}}var r=k((t=this.data)==null?void 0:t.history);var n={};var o=y(r==null?void 0:r.reverse()),s;try{for(o.s();!(s=o.n()).done;){var i=s.value,a=i.version,l=i.description;n[a]="".concat(a," - ").concat(l)}}catch(e){o.e(e)}finally{o.f()}return n}},{key:"latest_version",value:function e(){var t;if(!this.has_version()){return}return(t=this._raw())==null?void 0:t.last_version}},{key:"current_version",value:function e(){return i.default.get_public_setting("plugins.".concat(this.id))}},{key:"get_service",value:function e(){var t;return(t=n.default.get_plugin(this.id,this.current_version()))!=null?t:x}},{key:"is_paid",value:function e(){var t=this.price();var r=this.one_time_price();var n=t?t>0:false;var o=r?r>0:false;return(n||o)&&this.license()===u.LICENSE_COMMERCIAL}}]);return e}();r.Plugin=E;var x={is_missing:function e(){return true}};S.Plugin=E},{"../constants/known_plugins":80,"../constants/plugin":86,"../core/core_elements/shared/image_utils":359,"../logger":617,"../services/shared/plugin_getter":649,"../services/shared/plugin_registry":650,"../services/shared/service_type_parser":651,"../u":687,"./appquery":535,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.link.js":975,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],602:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.entries.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=r;var c=e("../safe_require");c.safe_register("./lang/plugins",u);var f=e("../lib");var d=e("../constants/plugin");var p=e("../constants/known_plugins");var _=e("../u/shared/decaf");var m=e("./plugin");u.is_hardcoded=m.is_hardcoded;var y=e("../services/shared/plugin_registry");var v=e("./appquery")},{"../constants/known_plugins":80,"../constants/plugin":86,"../lib":614,"../safe_require":643,"../services/shared/plugin_registry":650,"../u/shared/decaf":706,"./appquery":535,"./plugin":601,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],603:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.S=void 0;r.expand=A;r.expand_object=x;r.expand_path=E;r.shrink=w;r.shrink_again=S;r.shrink_object=M;r.shrink_path=O;e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");var n=l(e("../u"));var o=l(e("../u/shared/async/b_fiber"));var s=l(e("../logger"));var i=e("../u/shared/loggable");function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||u(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function u(e){"@babel/helpers - typeof";return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){return m(e)||_(e,t)||d(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if(typeof e==="string")return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}function p(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function m(e){if(Array.isArray(e))return e}var y={display_sender_name:"d7",list_id:"li",deleted:"del",email_address:"ea",action_id:"ai",description:"d3",label:"lab",user_name:"un",floating:"f7",formatting_type:"ft",poststripeauth:"p8",image_pressed:"ip",center_background:"cb",image_normal:"i9",image_hover:"ih",descending:"d2",password2:"p2",require_confirm:"rc",choices:"ch",default:"d1",terms:"tz",thing_type:"tt",initial_values:"i2",element_type:"et",email:"em",from:"fr",sort_field:"sf",separator_width:"sw",useiframe:"u2",columns:"c5",separator_color:"sc",html:"ht",name_has_been_changed:"n0",fields:"f3",rows:"rs",separator_style:"ss",body:"b3",subject:"su",constraint_type:"c2",constraints:"co",element_name:"e4",bind:"bi",meta_description:"md",type_to_find:"t5",group_type:"gt",action:"ak",to_change:"tc",stripes:"st",after:"af",changes:"cs",title:"t1",data_source:"ds",additional_values:"av",limit_number_of_characters:"0l",backdrop:"bd",workflows:"wf",margintop:"mt",password:"pw",event_name:"en",app_path:"ap",mandatory:"1m",linktype:"1l",open_in_new_tab:"o9",stripe_height:"sh",contents:"ct",floating_reference:"3f",stretch_or_rescale:"2f",tabs:"ts",custom_id:"ci",icon:"9i",page:"pa",content_format:"cf",display:"d",icon_color:"ic",args:"a",placeholder:"ps",background_gradient_direction:"b4",content:"c1",background_image:"bgi",bggcolor:"bg2",style:"s1",textshadow:"tes",key:"k",elements:"el",event:"e1",value:"v",repeat_background_vertical:"rbv",repeat_background_horizontal:"rbh",underline:"u",italic:"i",vertical_centering:"vc",textshadow_blur:"tsb",textshadow_color:"tsc",textshadow_horizontal:"tsh",textshadow_vertical:"tsv",page_item_type:"pet",readable_field:"rf",bold:"b",__initialized:"in",element_id:"ei",text:"3",line_height:"lh",condition:"c",letter_spacing:"ls",word_spacing:"ws",padding_vertical:"pv",background_gradient_from:"bgf",background_gradient_to:"bgt",padding_horizontal:"ph",current_parent:"cp",font_face:"f",font_alignment:"fa",font_size:"fs",border_width:"bw",states:"s",boxshadow_blur:"bsb",boxshadow_color:"bsc",boxshadow_vertical:"bv",boxshadow_horizontal:"bh",font_color:"fc",bgcolor:"bgc",default_name:"dn",entries:"e",border_color:"bc",is_visible:"iv",background_style:"bas",border_roundness:"br",border_style:"bos",zindex:"z",top:"t",left:"l",width:"w",height:"h",boxshadow_style:"bs",boxshadow_spread:"bsp",next:"n",name:"nm",properties:"p",type:"x",pages:"p3",element_definitions:"ed"};var v={provider:true,actions:true,val:true,id:true,_id:true,value_id:true};var b={};r.S=b;Object.entries(y).forEach((function(e){var t=c(e,2),r=t[0],n=t[1];var o=r;var s="%".concat(n);b[o]=s}));Object.keys(v).forEach((function(e){b[e]=e}));var h={};var j="%";Object.entries(y).forEach((function(e){var t=c(e,2),r=t[0],o=t[1];var s=r;if(o.includes(j)||r.includes(j)){throw new n.UnexpectedError("cannot use # sign in shrinks: "+r+", "+o)}if(o.toLowerCase()!==o){throw new n.UnexpectedError("cannot use upper case in shrinks: "+o)}if(h[o]){throw new n.UnexpectedError("Mapping "+o+" to "+r+" but "+o+" is already mapped to "+h[o])}h[o]=s}));function g(e){return y[e]!=null}function w(e){if(typeof e!=="string"){return e}if(g(e)){return j+y[e]}if(e.indexOf(j)===0){return j+e}return e}function O(e){return e.split(".").map((function(e){return w(e)})).join(".")}function S(e){if(typeof e!=="string"){return e}if(g(e)){return j+y[e]}return e}function k(e){return h[e]!=null}function A(e){if(typeof e!=="string"){return e}if(e.indexOf(j)!==0){return e}var t=e.slice(1);if(k(t)){return h[t]}return t}function E(e){return e.split(".").map((function(e){return A(e)})).join(".")}function x(e,t){var r;(r=t)!=null?r:t=0;if(t%3===2){o.optional_pause()}if(e==null||u(e)!=="object"){return e}var n=t+1;if(Array.isArray(e)){return e.map((function(e,t){if(t%10===0){o.optional_pause()}return x(e,n)}))}var s={};Object.entries(e).forEach((function(e,t){var r=c(e,2),i=r[0],a=r[1];if(t%10===0){o.optional_pause()}s[A(i)]=x(a,n)}));return s}function M(e,t){var r;(r=t)!=null?r:t=0;if(t%3===2){o.optional_pause()}if(e==null||u(e)!=="object"){return e}var n=e;if(!Array.isArray(e)&&n.constructor!==Object){s.warn("Shrinking a non-simple object",{object:(0,i.to_loggable)(e),type:n.constructor.name})}var a=t+1;if(Array.isArray(e)){return e.map((function(e,t){if(t%10===0){o.optional_pause()}return M(e,a)}))}var l={};Object.entries(e).forEach((function(e,t){var r=c(e,2),n=r[0],s=r[1];if(t%10===0){o.optional_pause()}l[w(n)]=M(s,a)}));return l}},{"../logger":617,"../u":687,"../u/shared/async/b_fiber":696,"../u/shared/loggable":711,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],604:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.has_adv_timezone_overridden=s;r.has_input_timezone_controls_on=a;r.has_rounding_operator_timezone_controls_on=i;var n=o(e("./appquery"));function o(e){return e&&e.__esModule?e:{default:e}}function s(){return n.default.get_public_setting("adv_timezone_overridden")}function i(){var e=n.default.get_public_setting("bubble_version");var t=n.default.has_feature_enabled("timezone_improvements");return e>=22||t}function a(){var e=n.default.has_advanced_feature_enabled("timezone_controls_date_time_inputs");var t=n.default.get_public_setting("bubble_version")<22&&(n.default.has_feature_enabled("tz_info_in_date_input")||n.default.get_public_setting("bubble_version")>=20);return e||t}},{"./appquery":535}],605:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var o,s;function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,u(n.key),n)}}function l(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function u(e){var t=c(e,"string");return n(t)==="symbol"?t:String(t)}function c(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f(){if(typeof Reflect!=="undefined"&&Reflect.get){f=Reflect.get.bind()}else{f=function e(t,r,n){var o=d(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return f.apply(this,arguments)}function d(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=h(e);if(e===null)break}return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)_(e,t)}function _(e,t){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return _(e,t)}function m(e){var t=b();return function r(){var n=h(e),o;if(t){var s=h(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return y(this,o)}}function y(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return v(e)}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}function j(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var g=e("../../u");var w=e("../nodes");var O=e("../caching");var S=e("../appquery");var k=e("../../apiconnectorbase/call_btypes");var A=e("../btype_ids");var E=e("./GenericEvent");var x=(o=O.cached({type:O.AUTORUN}),s=function(e){p(r,e);var t=m(r);function r(){i(this,r);return t.apply(this,arguments)}l(r,[{key:"owner",value:function e(){return w.create(w.API_WORKFLOWS,this.json.parent())}},{key:"is_api_event",value:function e(){return true}},{key:"get_custom_parameters",value:function e(){if(this.type()!=="APIEvent"){return f(h(r.prototype),"get_custom_parameters",this).call(this)}var t=this.get_static_property("trigger_option")==="get"&&this.get_static_property("expose");if(this.get_static_property("parameter_def")==="auto"&&!t){var n;var o=g.json_parse((n=this.get_static_property("data_type"))!=null?n:"{}"),s=o.is_list;var i="api_wf_data."+this.id();return[{param_id:"_wf_request_data",name:"_wf_request_data",btype_id:s?A.list_type(i):i}]}else{var a,l;var u=this.property("parameters");var c=(a=(l=u.entries)==null?void 0:l.call(u))!=null?a:[];return c.map((function(e,r){var n,o;return{param_id:(n=e.get_static_property("key"))!=null?n:"[Missing key: ".concat(r,"]"),name:(o=e.get_static_property("key"))!=null?o:"[Missing key: ".concat(r,"]"),optional:e.get_static_property("optional"),btype_id:e.get_static_property("is_list")?A.list_type(e.get_static_property("value")):e.get_static_property("value"),in_url:t||e.get_static_property("in_url")}}))}}},{key:"is_exposed",value:function e(){return this.get_static_property("expose")}},{key:"creates_session",value:function e(){return this.actions("SignUp").length>0||this.actions("LogIn").length>0}},{key:"return_data_actions",value:function e(){return this.actions("APIReturnData")}},{key:"wf_name",value:function e(t){if(t){var r;return(r=this.get_static_property("wf_name"))==null?void 0:r.trim()}else{var n;return(n=this.get_static_property("wf_name"))==null?void 0:n.toLowerCase().trim()}}},{key:"get_value",value:function e(){var t={};if(this.get_static_property("parameter_def")==="auto"){var r;var n={calls:{}};var o=g.json_parse((r=this.get_static_property("data_type"))!=null?r:"{}"),s=o.types;n.calls[this.id()]={types:s};k.get_btypes_from_call("api_event",n,t,"_wf_");for(var i in t){var a=t[i];a.name=i;a.full_name="api_wf_data."+i}}return t}}]);return r}(E),j(s.prototype,"get_value",[o],Object.getOwnPropertyDescriptor(s.prototype,"get_value"),s.prototype),s);t.exports=x},{"../../apiconnectorbase/call_btypes":5,"../../u":687,"../appquery":535,"../btype_ids":536,"../caching":539,"../nodes":597,"./GenericEvent":608,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],606:[function(e,t,r){"use strict";e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function u(e){"@babel/helpers - typeof";return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return u(t)==="symbol"?t:String(t)}function _(e,t){if(u(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(u(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(){if(typeof Reflect!=="undefined"&&Reflect.get){m=Reflect.get.bind()}else{m=function e(t,r,n){var o=y(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return m.apply(this,arguments)}function y(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=O(e);if(e===null)break}return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return b(e,t)}function h(e){var t=w();return function r(){var n=O(e),o;if(t){var s=O(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return j(this,o)}}function j(e,t){if(t&&(u(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return g(e)}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function w(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}var S=e("../../u");var k=e("../nodes");var A=e("../btypes");var E=e("../appquery");var x=e("../../lib");var M=e("../../services/shared/plugin_getter");var P=e("../migrations");var T=e("./WorkflowObject");var I=e("./workflow_utils");function C(e){return{field_names:{},fields:function e(){return[]},display:function t(){return"[missing: "+e+"]"}}}t.exports=function(e){v(r,e);var t=h(r);function r(e){var n,o,s;var i;c(this,r);e=e.to_id();i=t.call(this,e);var a=i.type();if(S.is_edit_mode()){P.get_migration_fn(x().plugin_prefixes.action+a)(i.json)}if(a){i.A=x().load_plugin(x().plugin_prefixes.action+a,true)}(o=(n=i).A)!=null?o:n.A=C(a);if(!i.A.field_names){throw new S.UnexpectedError("Missing field names for "+a)}i._field_names=(s=i.A.field_names)!=null?s:{};if(u(i._field_names)==="object"){i._field_names.condition={}}return i}d(r,[{key:"is_action",value:function e(){return true}},{key:"check_use_visible",value:function e(){return this.A.check_use_visible}},{key:"is_mergeable",value:function e(){return this.A.is_mergeable}},{key:"can_server_side_redirect",value:function e(){var t,r;return(t=(r=this.A).can_redirect)==null?void 0:t.call(r,this)}},{key:"server_side_redirect",value:function e(t){return this.A.server_side_redirect(this,t)}},{key:"find_expressions",value:function e(t){return k.from_raw_array(this.json,k.new_expression,I.find_my_expressions(k.to_raw(this),t))}},{key:"safe_to_send",value:function e(){return!this.A.do_not_send_result_to_client}},{key:"safe_to_log",value:function e(){return!this.A.do_not_log_result}},{key:"return_value",value:function e(){var t,r,n;var o=(t=(r=(n=this.A).return_value)==null?void 0:r.call(n,this))!=null?t:"null";return A.get(o)}},{key:"_custom_event_actions_requires",value:function e(t,r){var n=["TriggerCustomEvent","TriggerCustomEventFromReusable"];if(!n.includes(this.type())){return false}var o=E.event(this.get_static_property("custom_event"));if(!o||!o.exists()){return false}if(r[o.id()]){return false}r[o.id()]=true;return o.actions().some((function(e){return e["requires_"+t](r)}))}},{key:"requires_server",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(typeof this.A.requires_server==="function"){return this.A.requires_server()}if(this.A.server_method){return true}return this._custom_event_actions_requires("server",t)}},{key:"requires_cookies",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this.A.requires_cookies){return true}return this._custom_event_actions_requires("cookies",t)}},{key:"server_method",value:function e(){return this.A.server_method}},{key:"terminate_server_workflow",value:function e(){var t;return(t=this.A.terminate_server_workflow)!=null?t:this.A.server_method_resume!=null}},{key:"server_method_resume",value:function e(){return this.A.server_method_resume}},{key:"display",value:function e(t){var r=this.get_name();if(r&&typeof r==="string"){return r}else{return this.A.display(this,t)}}},{key:"use_injected_datasource",value:function e(t){if(this.A.use_injected_datasource){return this.A.use_injected_datasource(this,t)}else{return[false,true]}}},{key:"get_injected_value",value:function e(t){var r,n;return(r=(n=this.A).get_injected_value)==null?void 0:r.call(n,this,t)}},{key:"get_injected_display",value:function e(t){var r,n;return(r=(n=this.A).get_injected_display)==null?void 0:r.call(n,this,t)}},{key:"next",value:function e(){var t;var r=parseInt(this.json.name());var n=(t=this.json.parent())==null?void 0:t.child(r+1);if(n!=null&&n.exists()){return k.new_workflow_item(n)}else{return null}}},{key:"all_next",value:function e(t){var r=parseInt(this.json.name());var n=this.json.parent();if(!n){return[]}var o=this.json.parent().children().slice(r+1).map((function(e){return k.new_workflow_item(e)}));return k.filter_array(t,o)}},{key:"get_next_json",value:function e(){var t;var r=parseInt(this.json.name());return(t=this.json.parent())==null?void 0:t.child(r+1)}},{key:"previous",value:function e(){var t;var r=parseInt(this.json.name());if(r===0){return this.event()}var n=(t=this.json.parent())==null?void 0:t.child(r-1);if(!(n!=null&&n.exists())){return null}return k.new_workflow_item(n)}},{key:"event",value:function e(){var t;return k.new_workflow_item((t=this.json.parent())==null?void 0:t.parent())}},{key:"context_element",value:function e(){var t;return(t=this.event())==null?void 0:t.context_element()}},{key:"field_names",value:function e(){return this._field_names}},{key:"get_data_to_refresh",value:function e(t,r){if(this.A.data_to_refresh&&t.condition){return this.A.data_to_refresh(this,t,r.element)}}},{key:"preprocess_properties",value:function e(t,r){if(this.A.preprocess_properties){return this.A.preprocess_properties(t,this,r)}else{return t}}},{key:"can_fall_back_to_server",value:function e(){return this.A.fall_back_to_server}},{key:"does_fall_back_to_server",value:function e(){return this.A.fall_back_to_server&&this.requires_server()}},{key:"needs_clientside_properties",value:function e(){return this.A.run||this.A.data_to_refresh}},{key:"run",value:function e(t,r,n){var o=this;if(!this.A.run){n();return}r.callback((function(e,r){if(e){if(o.does_fall_back_to_server()){t.get_server_outcome(o,n)}else{n(e)}return}try{if(r.condition||o.A.handle_condition_internally){return o.A.run(o,r,t,n)}else{return n()}}catch(e){return n(e)}}))}},{key:"resume",value:function e(t,r){if(this.A.resume){try{return this.A.resume(this,t,r)}catch(e){return r(e)}}else{return r()}}},{key:"delete",value:function e(t){if(!this.exists()){return}var r=this.json.raw();var n=x().changes.create_change("RemoveAction",{parent_id:this.previous().id(),id:this.id(),data:r,intent_details:{user_interaction:"Direct Action Delete",user_action:t==null?void 0:t.user_action,parent_user_action:t==null?void 0:t.parent_user_action,parent_id:t==null?void 0:t.parent_id}});n.execute()}}]);return r}(T)},{"../../lib":614,"../../services/shared/plugin_getter":649,"../../u":687,"../appquery":535,"../btypes":537,"../migrations":592,"../nodes":597,"./WorkflowObject":609,"./workflow_utils":611,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],607:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e){return l(e)||a(e)||i(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function a(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function l(e){if(Array.isArray(e))return u(e)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,d(n.key),n)}}function f(e,t,r){if(t)c(e.prototype,t);if(r)c(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function d(e){var t=p(e,"string");return n(t)==="symbol"?t:String(t)}function p(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _(){if(typeof Reflect!=="undefined"&&Reflect.get){_=Reflect.get.bind()}else{_=function e(t,r,n){var o=m(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return _.apply(this,arguments)}function m(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=O(e);if(e===null)break}return e}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)b(e,t)}function b(e,t){b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return b(e,t)}function h(e){var t=w();return function r(){var n=O(e),o;if(t){var s=O(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return j(this,o)}}function j(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return g(e)}function g(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function w(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function O(e){O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return O(e)}var S=e("../../services/shared/plugin_getter");var k=e("./GenericEvent");t.exports=function(e){v(r,e);var t=h(r);function r(){y(this,r);return t.apply(this,arguments)}return r}(k)},{"../../services/shared/plugin_getter":649,"./GenericEvent":608,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],608:[function(e,t,r){"use strict";e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var n,o;function s(e){return u(e)||l(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e){"@babel/helpers - typeof";return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,m(n.key),n)}}function _(e,t,r){if(t)p(e.prototype,t);if(r)p(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function m(e){var t=y(e,"string");return f(t)==="symbol"?t:String(t)}function y(e,t){if(f(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(f(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v(){if(typeof Reflect!=="undefined"&&Reflect.get){v=Reflect.get.bind()}else{v=function e(t,r,n){var o=b(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return v.apply(this,arguments)}function b(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=k(e);if(e===null)break}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return j(e,t)}function g(e){var t=S();return function r(){var n=k(e),o;if(t){var s=k(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return w(this,o)}}function w(e,t){if(t&&(f(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return O(e)}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function S(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function A(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}var E=e("../../u");var x=e("../nodes");var M=e("../caching");var P=e("../../lib");var T=e("../elements/elements_utils");var I=e("../../constants/eval");var C=e("../shrink");var R=C.S;var N=e("../migrations");var L=e("./WorkflowObject");var z=e("./workflow_utils");function D(e){return{_fields:function e(){return[]},field_names:{},display:function t(){return"[missing: "+e+"]"},register:function e(){}}}var q=(n=M.cached({type:M.RUN_MODE}),o=function(e){h(r,e);var t=g(r);function r(e){var n,o,s;var i;d(this,r);e=e.to_id();i=t.call(this,e);var a=i.type();if(E.is_edit_mode()){N.get_migration_fn(P().plugin_prefixes.event+a)(i.json)}if(a){i.E=P().load_plugin(P().plugin_prefixes.event+a,true)}(o=(n=i).E)!=null?o:n.E=D(a);if(i.E.fields&&!i.E.field_names){throw new E.UnexpectedError("missing field_names for "+a)}i._field_names=(s=i.E.field_names)!=null?s:{};if(f(i._field_names)==="object"){i._field_names.condition={prop_type:I.EVAL_TYPE.skip}}if(E.is_edit_mode()){i._field_names=E.extend(i._field_names,{event_color:{default:"grey",only_edit_mode:true},wf_folder:{only_edit_mode:true}})}if(T._use_issue_checker()&&i.app().can_run_issue_checker()){e.register_indexer("issues_list",(function(){if(P().visual_edit.allow_issue_indexer_runs()){var e=x.new_workflow_item(i.json);var t=e.id();if(!t){return}var r=P().apptests.check_issues(e);var n=["issues_list",t];return[n,E.json_stringify(r)]}}))}return i}_(r,[{key:"find_expressions",value:function e(t){return x.from_raw_array(this.json,x.new_expression,z.event_find_expressions(x.to_raw(this),t))}},{key:"is_action",value:function e(){return false}},{key:"is_api_event",value:function e(){return false}},{key:"next",value:function e(){var t=this.json.child("actions").child(0);return t.exists()?x.new_workflow_item(t):null}},{key:"all_next",value:function e(t){var r=this.json.child("actions").children();var n=r.map((function(e){return x.new_workflow_item(e)}));return x.filter_array(t,n)}},{key:"get_next_json",value:function e(){var t=this.json.child("actions");return t.child(this.json.children().length)}},{key:"actions",value:function e(t){return this.all_next(t)}},{key:"event",value:function e(){return this}},{key:"context_element",value:function e(){var t;return(t=this.my_element())!=null?t:this.owner()}},{key:"owner",value:function e(){var t;var r=(t=this.json.parent())==null?void 0:t.parent();if(r){return x.new_element(r)}}},{key:"register",value:function e(t){return this.E.register(this,t)}},{key:"field_names",value:function e(){return this._field_names}},{key:"condition",value:function e(){return x.new_expression(this.json._child(R.properties)._child(R.condition),this)}}]);return r}(L),A(o.prototype,"condition",[n],Object.getOwnPropertyDescriptor(o.prototype,"condition"),o.prototype),o);t.exports=q},{"../../constants/eval":75,"../../lib":614,"../../u":687,"../caching":539,"../elements/elements_utils":556,"../migrations":592,"../nodes":597,"../shrink":603,"./WorkflowObject":609,"./workflow_utils":611,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],609:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=e("../../u");var j=e("../application/RAW");var g=e("../nodes");var w=e("../appquery");var O=e("../../editor/css");var S=e("../../lib");var k=e("../shrink");var A=k.S;var E=e("./workflow_utils");var x={"stripe-CreateCoupon":true};function M(e){return!x[e]}t.exports=function(e){d(r,e);var t=_(r);function r(){a(this,r);return t.apply(this,arguments)}u(r,[{key:"type",value:function e(){return this.json.child("type").get()}},{key:"id",value:function e(){return this.json.id()}},{key:"is_api",value:function e(){var t;return(t=this.root())==null?void 0:t.is_api()}},{key:"pretty_print",value:function e(t,r){var n,s,i;(n=t)!=null?n:t="";(s=r)!=null?s:r=true;var a=[];if(r){a.push("\n")}a.push(t);var l;try{l=this.display()}catch(e){}(i=l)!=null?i:l=this.type();a.push((this.is_action()?"Action ":"Event ")+this.id()+": "+l);var u=o(this.properties()),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;a.push("\n"+t+"  "+f.json.name()+":");a.push("\n"+f.pretty_print(t+"    ",false))}}catch(e){u.e(e)}finally{u.f()}var d=this.next();if(d){a.push(t+"\n\n          \n\n");a.push(d.pretty_print(t,false))}if(r){a.push("\n")}return a.join("")}},{key:"get_name",value:function e(){var t=this.json.child("name").get();if(t||!M(this.type())){return t}else{return this.get_static_property("name")}}},{key:"find_my_expressions",value:function e(t){return g.from_raw_array(this.json,g.new_expression,E.find_my_expressions(g.to_raw(this),t))}},{key:"root",value:function e(){var t,r,n;return(t=this.event())==null?void 0:(r=t.owner)==null?void 0:(n=r.call(t))==null?void 0:n.root()}},{key:"my_element",value:function e(){var t=this.element_id();if(t){return w.element(t)}else{return null}}},{key:"element_id",value:function e(){return this.json.smart_cache("element_id",(function(e){return e._raw_gchild(A.properties,A.element_id)}))}},{key:"next_recommended_actions",value:function e(){return[]}}]);return r}(g.HasID);t.exports.prototype.make_new=g.new_workflow_item},{"../../editor/css":481,"../../lib":614,"../../u":687,"../application/RAW":530,"../appquery":535,"../nodes":597,"../shrink":603,"./workflow_utils":611,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],610:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");var n=r;var o=e("../nodes");var s=e("../../lib");var i=e("../appquery");var a=e("./WorkflowObject");var l=e("./GenericEvent");var u=e("./Event");var c=e("./APIEventObject");var f=e("./Action");var d=e("./workflow_utils");o.add(o.WORKFLOW_OBJECT,a);o.add(o.GENERIC_EVENT,l);o.add(o.EVENT,u);o.add(o.API_EVENT_OBJECT,c);o.add(o.ACTION,f);o.add_generic("workflow_item",p);function p(e){var t,r;if(!e){return null}if(((t=e.parent())==null?void 0:t.name())==="workflows"){return new u(e)}else if(((r=e.parent())==null?void 0:r.name())==="api"){return new c(e)}else{return new f(e)}}n.event_find_expressions=d.event_find_expressions;n.get_api_event=function(e){var t;var r=s().derived("APIWFByName",true).content()[e];(t=r)!=null?t:r=s().derived("APIWFByName").content()[e];if(r){var n;var o=i.event(r);if((n=o.is_api_event)!=null&&n.call(o)){return o}}return null}},{"../../lib":614,"../appquery":535,"../nodes":597,"./APIEventObject":605,"./Action":606,"./Event":607,"./GenericEvent":608,"./WorkflowObject":609,"./workflow_utils":611,"core-js/modules/es.function.name.js":942}],611:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.from-entries.js");e("core-js/modules/es.array.map.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var u=r;var c=e("../../u");var f=e("../nodes");var d=e("../expressions/expression_utils");var p=e("../shrink");var _=p.S;u.find_my_expressions=function(e,t){if(!e){return[]}t=f.make_filter(t);var r=f.raw_properties(e,f.new_workflow_item);return r.flatMap((function(e){var r=d.expression_find_expressions(e,t);return t(e)?[e].concat(n(r)):r}))};u.event_find_expressions=function(e,t){if(!e){return[]}t=f.make_filter(t);var r=[e].concat(n(f.raw_children(e,_.actions)));return r.flatMap((function(e){return u.find_my_expressions(e,t)}))}},{"../../u":687,"../expressions/expression_utils":587,"../nodes":597,"../shrink":603,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.from-entries.js":952,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],612:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.freeze.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.find-index.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.object.to-string.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}var c=r;var f=e("./u/shared/b_object");var d=e("./u/shared/errors");var p=e("./u/shared/mode_check");var _=e("./safe_require");_.safe_register("./languages",c);var m=e("./lang/appquery");var y=e("./lang/btypes");var v=e("./logger");var b=e("./lib");var h=e("./lang/btype_ids");var j=e("./shared/apps_utilities");c.available_languages=O;c.is_language_available=S;c.get_runmode_language_data=k;c.get_user_language_field=A;c.app_language=E;c.language_data=x;c.get_text=P;c.get_iso_code=T;c.format_iso_code_for_browser=I;c.is_rtl=C;c.iso_lookup_language=N;c.add_built_ins=L;c.get_built_in_json_from_data=z;c.get_language_data=R;c.get_languages_data=q;var g={language:c.get_server_languages_no_cache,translation:c.get_all_languages_translations_object_no_cache,application_message:c.get_editor_app_text_data_no_cache};var w=Object.freeze({language:"server_languages",translation:"server_translations",application_message:"server_application_messages"});c.LANGUAGE_DATA_TYPE_TO_GETTER_FUNCTION=g;c.LANGUAGE_DATA_TYPE_TO_KEY=w;function O(){return Object.keys(c.get_languages_data())}function S(e){return c.get_languages_data()[e]!=null}function k(e){if(p.on_client()){return window.language_data}}function A(){var e=b().app();var t=e.get_public_setting("language_field");if(t){var r=e.custom_type("user").field(t);if(r.exists()){return t}}return null}function E(e){var t,r,n,o,s;function i(e){if(e==="portugese"){return"portuguese"}return e}function a(t){t=i(t);if(t&&c.is_language_available(t)){return t}if(e){return null}else{return"en_us"}}if(b().is_edit_mode()){return a(m.get_public_setting("app_language"))}if(p.on_client()&&window.application_language){return window.application_language}}function x(e){return c.get_runmode_language_data(c.app_language())}var M={YES:"yes",NO:"no"};function P(e,t){var r=b().app_language();var n=b().app().get_public_setting("text.".concat(r,".").concat(e,".").concat(t));if(p.on_client()){var o=n;if(o==null){var s,i;o=(s=c.get_language_data(r))==null?void 0:(i=s[e])==null?void 0:i[t];if(!o){var a,l,u;v.owner_warn("Missing translation text",{display:"No translation available yet for text ".concat(e,"-").concat(t," in ").concat(r)});o=(a=(l=c.get_language_data("en_us"))==null?void 0:(u=l[e])==null?void 0:u[t])!=null?a:"(no translation)"}}return o}}function T(e){if(e==null){return"en_US"}if(p.on_client()){return window.language_data[e].iso_code}}function I(e){var t=e.split(/[_-]/),r=o(t,2),n=r[0],s=r[1];if(s!=null){return"".concat(n,"-").concat(s.toUpperCase())}return n}function C(e){if(p.on_client()){var t;return(t=window.language_data[e].is_rtl)!=null?t:false}}function R(e){if(p.on_client()){if(window.translation_data[e]!=null){return window.translation_data[e]}if(c.iso_based_language_obj==null){c.iso_based_language_obj=c.iso_lookup_language()}var t=window.translation_data[c.iso_based_language_obj[e]];return t}throw new Error("Cannot call get_language_data on server side")}function N(){var e={};for(var t=0,r=Object.entries(c.get_languages_data());t<r.length;t++){var n=o(r[t],2),s=n[0],i=n[1];e[i.iso_code]=s}return e}function L(e){if(e==null){throw new d.UnexpectedError("Language node is null for add_built_ins")}var t=e.child("yes_text").get();var r=e.child("no_text").get();var n=e.child("day_names_text").get();var o=e.child("month_names_text").get();return D({yes_text:t,no_text:r,day_names_text:n,month_names_text:o})}function z(e){if(e==null){throw new d.UnexpectedError("Language data is null for get_built_in_json_from_data")}var t=e.yes;var r=e.no;var n=e.day_names;var o=e.month_names;return D({yes_text:t,no_text:r,day_names_text:n,month_names_text:o})}function D(e){var t=e.yes_text,r=e.no_text,n=e.day_names_text,o=e.month_names_text;var s={BUILT_IN:{YES:t,NO:r,DATE_FORMAT:{dayNames:n.split(","),monthNames:o.split(",")}}};return s}function q(){if(p.on_client()){var e;return(e=window.language_data)!=null?e:{}}return get_server_languages()}},{"./lang/appquery":535,"./lang/btype_ids":536,"./lang/btypes":537,"./lib":614,"./logger":617,"./safe_require":643,"./shared/apps_utilities":654,"./u/shared/b_object":702,"./u/shared/errors":708,"./u/shared/mode_check":713,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find-index.js":928,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.freeze.js":951,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],613:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.url.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.promise.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}var c=r;var f=e("seedrandom");var d=e("../u/shared/async/b_async");var p=e("../u/shared/async/b_fiber");var _=e("../u/shared/b_string");var m=e("../u/shared/b_object");var y=e("../u/shared/errors");var v=e("../u/shared/mode_check");var b=e("../u/shared/incremental");var h=e("../u/shared/Locale");var j=e("../logger");var g=e("../constants/time");var w=e("../u/shared/b_date");var O=w.require_moment();var S=e("./lib_factory");var k=e("../retryable");var A="Failed to establish a connection";var E=["body","custom_form","formData","custom_retry_handler","__original_request"];var x=3e4;function M(e){var t,r,n,o;var s={};var i={};for(var a in e){var l=e[a];if(E.includes(a)){s[a]=l}else{i[a]=l}}e=m.json_deep_copy(i);for(var u in s){var c=s[u];e[u]=c}(r=(t=e).method)!=null?r:t.method="get";(o=(n=e).timeout)!=null?o:n.timeout=x;e.gzip=true;return e}function P(e){return $.ajax(e)}function T(e){return d.Promise(e).then((function(e){var t,r;e=M(e);var n=d.Promise(null,"default_lib.http_request "+e.url);e.type=e.method.toUpperCase();delete e.method;(r=(t=e).dataType)!=null?r:t.dataType="jsonp";if(e.data!=null){var s,i;var a=(s=e.headers)==null?void 0:s["Content-Type"];var l=a!=null&&!_.starts_with(a,"application/json");var u=["GET","HEAD"].includes((i=e.type)!=null?i:"GET");if(!u&&!l){var c,f,p,y,v;(f=(c=e).headers)!=null?f:c.headers={};(v=(p=e.headers)[y="Content-Type"])!=null?v:p[y]="application/json";e.processData=false;e.data=m.json_stringify(e.data)}}else if(e.body!=null){e.data=e.body;e.contentType=false;e.processData=false;delete e.body}else if(e.formData){e.contentType=false;e.processData=false;var b=new FormData;for(var h in e.formData){var j=e.formData[h];b.append(h,j)}e.data=b;delete e.formData}if(e.qs){var g=new URL(e.url);for(var w=0,O=Object.entries(e.qs);w<O.length;w++){var S=o(O[w],2),k=S[0],A=S[1];g.searchParams.append(k,A)}e.url=g.toString();delete e.qs}var E=P(e);E.done((function(e,t,r){return n.resolve({statusCode:r.status,body:m.json_stringify(e)})}));E.fail((function(e,t,r){var o;return n.resolve({statusCode:e.status,body:(o=e.responseText)!=null?o:r})}));return n}))}c.get=function(){var e={};for(var t in I.type_to_prefix){var r=I.type_to_prefix[t];e[t]=r+":"}var n={bubble_version:function e(){var t,r,n;return(t=(r=(n=window)==null?void 0:n.bubble_version)!=null?r:this.app().get_public_setting("bubble_version"))!=null?t:0},bv:function e(){return z.get_bv(this.bubble_version())},load_plugin:I.load_plugin,plugin_prefixes:e,load_custom:D.load_custom,current_timezone:function e(){return O.tz.guess()},log:j.log,workflow:new R,pageparam:new C,app_language:N.app_language,get_text:N.get_text,locale:function e(){return h.from_posix(L().app_language())},browser_locale:function e(){var t;if(((t=navigator)==null?void 0:t.language)!=null){return h.from_ietf(navigator.language)}else{return undefined}},test_prod:false,ip:"",app_indicator:function e(t,r,n){var o,s,i;if(typeof t==="string"||t==null){var a;return{appname:t!=null?t:(a=this.appname)==null?void 0:a.call(this),app_version:r!=null?r:this.app_version(),temp_db:n!=null?n:this.temp_db()}}(o=t.appname)!=null?o:t.appname=domain_editor.get_appname_from_domain(t.domain);(s=t.app_version)!=null?s:t.app_version=this.app_version();(i=t.temp_db)!=null?i:t.temp_db=this.temp_db();return t},temp_db:null,http_request:function e(t){if(v.on_server()){return http_request_server(t)}else{return T(t)}},experiment:function e(t,r){var n=this.current_user();if(!n){return-1}var o=n._id();var s=f(t+o);return Math.floor(s()*r)}};return n};c.register=function(){S.getLibFactory().registerLibCreator("default",c.get)};var I=e("../core/plugin_loader");var C=e("../client/pageparamservice");var R=e("../client/workflowengine");var N=e("../languages");var L=e("./index");var z=e("../bv/bubble_version");var D=e("../core/core_elements/custom_elements")},{"../bv/bubble_version":36,"../client/pageparamservice":47,"../client/workflowengine":54,"../constants/time":99,"../core/core_elements/custom_elements":286,"../core/plugin_loader":378,"../languages":612,"../logger":617,"../retryable":642,"../u/shared/Locale":691,"../u/shared/async/b_async":695,"../u/shared/async/b_fiber":696,"../u/shared/b_date":699,"../u/shared/b_object":702,"../u/shared/b_string":703,"../u/shared/errors":708,"../u/shared/incremental":710,"../u/shared/mode_check":713,"./index":614,"./lib_factory":615,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.promise.js":962,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.url.js":995,seedrandom:1255}],614:[function(e,t,r){"use strict";e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");var n;function o(e,t){return a(e)||i(e,t)||d(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function a(e){if(Array.isArray(e))return e}function l(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function u(e){"@babel/helpers - typeof";return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e){return _(e)||p(e)||d(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function p(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _(e){if(Array.isArray(e))return m(e)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function y(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?y(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){t=h(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function h(e){var t=j(e,"string");return u(t)==="symbol"?t:String(t)}function j(e,t){if(u(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(u(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g=e("../u/shared/mode_check");var w=e("../u/shared/errors");var O=e("../u/shared/b_object");var S=e("../u/shared/async/b_async");var k=e("../u/shared/async/b_fiber");var A=e("../monitoring/apm");var E=e("../logger");var x={app:"wrap",load_plugin:"function",plugin_prefixes:"object",load_custom:"function",bubble_version:"function",bv:"function",appname:"wrap",app_version:"wrap",db_instance:"wrap",current_user:"wrap",current_user_id:"wrap",current_timezone:"wrap",scope:"wrap",is_edit_mode:"wrap",test_prod:"wrap",http_request:"function",app_domain:"function",app_plan:"function",derived:"function",derived_name:"wrap",experiment:"function",location:"object",element:"object",workflow:"object",pageparam:"object",user:"object",phonegap:"object",app_language:"function",get_text:"function",locale:"wrap",browser_locale:"wrap",ddg:"function",visual_edit:"object",edit_canvas:"object",action_editor:"object",action_canvas:"object",data_editor:"object",data_canvas:"object",styles_editor:"object",styles_canvas:"object",logs_editor:"object",app_owners:"function",plugin_editor:"object",plugin_canvas:"object",settings_editor:"object",settings_canvas:"object",property_editor:"object",undostack:"object",clipboard:"object",comment_panel:"object",property_instance_container:"object",exhaustive_composer_canvas:"object",type_editor:"object",option_set_editor:"object",composer:"object",SlidablePalette:"function",slidable_palette:"object",ImagePalette:"function",appchange:"object",getChecker:"function",changes:"object",sets:"object",get_session_id:"function",current_user_rights:"function",apptests:"object",visual_edit_is_ready:"object",add_plugin:"object",subscription:"object",app_indicator:"function",request:"object",history:"object",bubble_hostname:"wrap",full_url:"wrap",canonical_uri:"wrap",protocol:"wrap",hostname:"wrap",temp_db:"wrap",ignore_privacy_rules:"wrap",is_api:"function",api_version:"function",request_cache:"object",KeyValueDB:"function",emailservice:"object",task_manager:"object",fileupload:"object",ip:"wrap",speakeasy:"object",log_context:"object",bad_values_in_logs:"object",set_log_tag:"function",log:"function",fiber_id:"function",editor_vendor:"object",force_responsive_version:"object"};function M(){var e=["Lib Object {"];e.push("");e.push("Settings:");function t(t){var r;e.push("    "+t+": "+((r=this[t])==null?void 0:r.call(this)))}t("is_edit_mode");t("appname");t("app_version");var r=v({},x);e.push("");e.push("Available:");e.push.apply(e,c(Object.keys(this).map((function(e){delete r[e];return"    "+e}))));e.push("");e.push("Missing:");e.push.apply(e,c(Object.keys(r).map((function(e){return"    "+e}))));e.push("");e.push("}");return e.join("\n")}function P(e){return function(){return e}}function T(e){var t;(t=e.toString)!=null?t:e.toString=M;for(var r in e){var n=e[r];if(!["toString","running_with_lib"].includes(r)&&n!==undefined){switch(x[r]){case"function":if(typeof n!=="function"){throw new w.UnexpectedError("expected function for "+r+" but got "+n)}break;case"wrap":if(typeof n!=="function"){e[r]=P(n)}break;case"object":if(u(n)!=="object"){throw new w.UnexpectedError("expected object for "+r+" but got "+n)}break;default:if(x[r]==null){throw new w.UnexpectedError("Trying to validate a lib and found an invalid key: "+r)}throw new w.UnexpectedError("Unrecognized contents entry for "+r+": "+x[r])}}}}var I;if(typeof window==="undefined"||window===null){I=function e(){var t;return(t=k.Fiber.current)==null?void 0:t._running_lib}}else{I=function e(){return H}}t.exports=I;var C=t.exports;var R=e("../safe_require");R.safe_register("./lib",C);C.if_any=I;C.or_throw=function(){var e=I();if(e==null){throw new w.UnexpectedError("Missing Lib!")}return e};R.safe_register("./lib",C);C.register_watcher=B;var N="enter";var L="exit";var z="extend";var D="retract";var q=(n={},b(n,N,[]),b(n,L,[]),b(n,z,[]),b(n,D,[]),n);function B(e,t){if(!(e in q)||typeof t!=="function")return;q[e].push(t)}function U(e,t,r){var n;var o=l((n=q[e])!=null?n:[]),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;i(t,r)}}catch(e){o.e(e)}finally{o.f()}}function W(e,t,r){G(e,t);if(r===N&&t==null){F()}U(r,e,t);if([N,z].includes(r)){X(e,t)}}function F(){if(!g.is_edit_mode()){w.set_error_hook("default_display",(function(){var e;return(e=C())==null?void 0:e.get_text("CORE","TEMPORARY_BUG")}))}w.set_error_hook("localize_message",(function(e,t){var r;return(r=C())==null?void 0:r.get_text(e,t)}));w.set_error_hook("get_client_args",(function(e){var t,r,n;var o=(t=(r=e.code)!=null?r:(n=C())==null?void 0:n.fiber_id())!=null?t:"no code found";return{code:o}}))}function G(e){var t,r,n;if((e==null?void 0:e.appname)==null||((t=k.Fiber)==null?void 0:t.current)==null){return}var o=(r=e.appname)==null?void 0:r.call(e);var s=(n=e.app_version)==null?void 0:n.call(e);if(o!=null){k.set_running_app(o,s)}}function X(e){var t,r,n;if((e==null?void 0:e.appname)==null||((t=k.Fiber)==null?void 0:t.current)==null){return}var o=(r=e.appname)==null?void 0:r.call(e);var s=(n=e.app_version)==null?void 0:n.call(e);var i=k.Fiber.current.fiber_appname;if(o==null){if(i!=null){E.log("warn","overwriting fiber appname with null",{fiber_appname:i});k.Fiber.current.fiber_appname=null}}else if(o==="meta"){if(i==null){k.assign_fiber_ownership(o,s)}}else{if(i==null||i==="meta"||i===o){k.assign_fiber_ownership(o,s)}else{E.log("warn","transmuting fiber between non-meta apps",{fiber_appname:i,new_appname:o});k.assign_fiber_ownership(o,s)}}}var $=null;function V(){var e;(e=$)!=null?e:$=S.MakeKey(null,"lib_ready_key");return $}var H;C.set_global_lib=function(e){T(e);W(e,H,N);H=e;V().turn()};C.extend_global=function(e){var t=C();var r=O.extend({},t,e);W(r,t,z);return C.set_global_lib(r)};C.wait_for_lib=function(e){return S.WaitFor(V(),e)};C.with_lib=function(e,t){T(e);if(e.running_with_lib){e=v({},e)}else{e.running_with_lib=true}var r=k.Fiber.current._running_lib;W(e,r,N);k.Fiber.current._running_lib=e;if(typeof e.fiber_id==="function"){A.addTransactionLabels({fiber_id:e.fiber_id()})}try{return t()}finally{W(r,e,L);k.Fiber.current._running_lib=r}};if(typeof window!=="undefined"&&window!==null){C.extend=function(e,t){if(!H){throw new w.UnexpectedError("can only call Lib.extend if you have already called Lib.set_global_lib")}T(e);var r={};for(var n=0,s=Object.entries(e);n<s.length;n++){var i=o(s[n],2),a=i[0],l=i[1];if(l!==undefined){r[a]=H[a];H[a]=l}}W(H,r,z);try{return t()}finally{W(r,H,D);Object.assign(H,r)}}}else{C.extend=function(e,t){if(!k.Fiber.current._running_lib){throw new w.UnexpectedError("can only call Lib.extend if you are already in a Lib.with_lib")}T(e);var r={};for(var n=0,s=Object.entries(e);n<s.length;n++){var i=o(s[n],2),a=i[0],l=i[1];if(l!==undefined){r[a]=k.Fiber.current._running_lib[a];k.Fiber.current._running_lib[a]=l}}W(k.Fiber.current._running_lib,r,z);try{return t()}finally{W(r,k.Fiber.current._running_lib,D);Object.assign(k.Fiber.current._running_lib,r)}}}},{"../logger":617,"../monitoring/apm":619,"../safe_require":643,"../u/shared/async/b_async":695,"../u/shared/async/b_fiber":696,"../u/shared/b_object":702,"../u/shared/errors":708,"../u/shared/mode_check":713,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],615:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.getLibFactory=f;r.getNamedLib=d;e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=function(){function e(){o(this,e);this._libCreators=new Map;this._libExtenders=new Map}i(e,[{key:"registerLibCreator",value:function e(t,r,n){this._libCreators.set(t,r);if(n){this.registerLibExtender(t,n)}}},{key:"registerLibExtender",value:function e(t,r){this._libExtenders.set(t,r)}},{key:"_unpackAppname",value:function e(t){if(t){if(t.appname!=null&&n(t.appname)==="object"){var r=t.appname,o=r.appname,s=r.app_version,i=r.temp_db;t.appname=o;t.app_version=s;t.temp_db=i}}return t}},{key:"getLib",value:function e(t,r){var n=this._libCreators.get(t);if(n){r=this._unpackAppname(r);return n(r)}throw new Error("No lib creator registered for ".concat(t))}},{key:"getPartialLib",value:function e(t,r){var n=this._libExtenders.get(t);if(n){r=this._unpackAppname(r);return n(r)}throw new Error("No lib extender registered for ".concat(t))}},{key:"libCaller",value:function e(t){if("wither"in t){return t.wither(this.getLib(t.libName,t.libParams),t.fn)}return t.extender(this.getPartialLib(t.libName,t.libParams),t.fn)}}]);return e}();var c;function f(){var e;(e=c)!=null?e:c=new u;return c}function d(e,t){return f().getLib(e,t)}},{"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],616:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=r;var p=e("url");var _=e("querystring");var m=e("./util");var y=e("./u/shared/b_string");var v=e("./u/shared/b_object");var b=e("./u/shared/errors");var h=e("./u/shared/uuid");var j=e("./safe_require");var g=e("./client_config");var w=e("./constants/locations");var O=e("./shared/apps_utilities");var S=e("./shared/environment_utilities");var k=e("./u/server/server_errors");j.safe_register("./locations",d);d.get_primary_version=function(e){if(e===w.LIVE_VERSION){return e}return w.TEST_VERSION};d.get_db_version=function(e){if(e===w.LIVE_VERSION){return e}if(y.starts_with(e,g.private_version_prefix)){return e}if(w.TEMPLATE_VERSIONS.includes(e)){return e}return w.TEST_VERSION};d.get_db_display=function(e){e=d.get_db_version(e);if(e===w.TEST_VERSION){return w.TEST_VERSION_DISPLAY}else{return w.LIVE_VERSION_DISPLAY}};d.is_hardcode=function(e,t){return O.is_hardcoded(e)&&(t==null?void 0:t.indexOf(g.private_version_prefix))!==0};d.live_key=function(){var e;return g.env+" "+m.get_meta_hostname()+" "+((e=g.hostname_modifier)!=null?e:"")};d.Location=function(){function e(t){a(this,e);this.base_url=t}u(e,[{key:"get_pieces",value:function e(){var t;var r={};var n=this.parsed_url();if(v.is_empty(n)){return{}}var o=n.pathname.split("/").filter((function(e){return e!==""}));if(g.apps_domain&&y.ends_with(n.hostname,"."+g.apps_domain)){r.appname=n.hostname.slice(0,n.hostname.lastIndexOf("."+g.apps_domain));r.use_apps_domain=true}else if(g.apps_domain&&n.hostname===g.apps_domain){throw new k.Redirect(302,"https://"+m.get_meta_hostname())}else if(m.is_meta_hostname(n.hostname)&&o[0]==="site"){r.use_site_path=true;r.appname=o[1];o=o.slice(2)}else{r.domain=n.hostname}if(((t=o[0])==null?void 0:t.indexOf(w.VERSION_PATH_PREFIX))===0){r.app_version=o[0].slice(w.VERSION_PATH_PREFIX.length);r.version_explicit=true;o=o.slice(1)}else{r.version_explicit=false;r.app_version=w.LIVE_VERSION}r.path=o;r.query=n.query;return r}},{key:"is_production",value:function e(t){if(this.parsed_url().hostname!==m.get_meta_hostname_for_app(t)){return false}return true}},{key:"format_pieces",value:function e(t,r){var n,s;var i=((n=r==null?void 0:r.protocol)!=null?n:this.parsed_url().protocol)+"//";if(t.domain){i+=t.domain}else if(g.apps_domain&&!t.use_site_path){i+=t.appname+"."+g.apps_domain}else{var a;i+=(a=t.meta_hostname)!=null?a:m.get_meta_hostname_for_hostname(this.parsed_url().hostname);i+="/site/";i+=t.appname}var l=t.version_explicit;if(!["default",undefined,null,true,false].includes(l)){throw new b.UnexpectedError("unrecognized version explicit: "+l)}if(l===true||l==="default"&&t.app_version!==w.LIVE_VERSION){i+="/version-"+t.app_version}var u=o((s=t.path)!=null?s:[]),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;i+="/"+f}}catch(e){u.e(e)}finally{u.f()}var d=_.stringify(t.query);if(t.query!=null&&d.length!==0){i+="?"+d}return i}},{key:"protocol",value:function e(){return this.parsed_url().protocol}},{key:"get_base_for_meta",value:function e(t){var r;var n=this.parsed_url();var o=S.is_production()?"https:":(r=t==null?void 0:t.protocol)!=null?r:n.protocol;o+="//";o+=m.get_meta_hostname_for_hostname(n.hostname);if(n.port){o+=":"+n.port}return o}},{key:"get_server_base",value:function e(t){var r=this.get_pieces();delete r.path;delete r.query;return this.format_pieces(r,t)+"/"}},{key:"get_page_url",value:function e(t,r,n){var o=p.parse(t!=null?t:"");if(o.pathname==="index"){o.pathname=""}var s=this.get_server_base()+o.pathname;var i=o.query!=null?_.decode(o.query):{};if(r&&!v.is_empty(r)){v.extend(i,r)}var a=_.stringify(i);if(a.length>0){s+="?"+a}if(n){s+="#"+n}return s}},{key:"get_page",value:function e(){var t;return(t=this.get_pieces().path[0])!=null?t:"index"}},{key:"get_underlying_page",value:function e(){var t,r;return(t=(r=window)==null?void 0:r.bubble_page_name)!=null?t:this.get_page()}},{key:"parsed_url",value:function e(){if(!this.base_url){return{}}return p.parse(this.base_url,true)}},{key:"my_location",value:function e(){return this.base_url}},{key:"get_query",value:function e(){return this.parsed_url().query}},{key:"get_unique_id_in_url",value:function e(){var t=this.get_pieces(),r=t.path;if(r[1]!=null){var n=r[1];var o=n.split("-");var s=o[o.length-1];if(h.is_UUID(s)){return s}}return null}},{key:"get_slug_in_url",value:function e(){var t=this.get_pieces(),r=t.path;if(r[1]!=null){var n=decodeURIComponent(r[1]);if(!this.get_unique_id_in_url()){return n}}return null}},{key:"get_canonical_url",value:function e(){var t=this.parsed_url();var r="".concat(t.protocol,"//").concat(t.hostname).concat(t.pathname);return r}}]);return e}()},{"./client_config":55,"./constants/locations":82,"./safe_require":643,"./shared/apps_utilities":654,"./shared/environment_utilities":658,"./u/server/server_errors":688,"./u/shared/b_object":702,"./u/shared/b_string":703,"./u/shared/errors":708,"./u/shared/uuid":716,"./util":718,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,querystring:1237,url:748}],617:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.weak-map.js");Object.defineProperty(r,"__esModule",{value:true});r.STACK_OMITTED=r.LOG_MESSAGE=r.AREAS=void 0;r.debug=Y;r.error=Q;r.fatal=ee;r.human_friendly=ue;r.info=J;r.install_browser_error_handler=H;r.log=void 0;r.owner_error=re;r.owner_only_error=oe;r.owner_warn=ne;r.propagated_error=ae;r.register_logger=L;r.user_error=se;r.verbose=K;r.warn=Z;r.with_user_level=le;e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-set.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.match.js");var n=_(e("util"));var o=_(e("./constants/logging"));var s=_(e("./constants/plugin"));var i=_(e("./u/shared/mode_check"));var a=_(e("./u/shared/errors"));var l=_(e("./u/shared/logging"));var u=d(e("./safe_require"));var c=e("./u/shared/loggable");var f=_(e("./shared/environment_utilities"));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(p=function e(n){return n?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||T(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=p(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){v(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e,t,r){t=b(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function b(e){var t=h(e,"string");return T(t)==="symbol"?t:String(t)}function h(e,t){if(T(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(T(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function j(e,t){return O(e)||w(e,t)||E(e,t)||g()}function g(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function w(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function O(e){if(Array.isArray(e))return e}function S(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=E(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function k(e){return M(e)||x(e)||E(e)||A()}function A(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(!e)return;if(typeof e==="string")return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}function x(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function M(e){if(Array.isArray(e))return P(e)}function P(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function T(e){"@babel/helpers - typeof";return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}u.default.safe_register("./logger",t.exports);var I=new WeakSet;var C=function e(t,r,n){var o;(o=n)!=null?o:n={};n.level=t;n.message=r!=null?r:"";console.log(JSON.stringify(n))};var R={fiber_wrapper:function e(t){return t},log:function e(t,r,n){C("error","Logging Error: must call logger.register_logger before logging",{});C(t,r,n)}};var N=R;function L(e){N=e}var z="log message";r.LOG_MESSAGE=z;var D=o.AREAS;r.AREAS=D;var q=o.STACK_OMITTED;r.STACK_OMITTED=q;var B="NO_MESSAGE";function U(e){return e instanceof a.NotReadyError}function W(e){return e!=null&&T(e)==="object"&&typeof e.suggested_level==="string"}function F(e){var t=o.ALL_LEVELS;return t.includes(e)}function G(e){var t=[].concat(k(a.ERROR_LEVELS),["owner_warn"]);return t.includes(e)}function X(e){if(W(e)){var t=e.suggested_level;if(F(t)){return te[t]}else if(G(t)){return ie[t]}}return Q}var $=N.fiber_wrapper((function(e,t,r){if(e instanceof Error||U(e)){var s=X(e);return s(a.ensure_bubble_error(e))}else if(e==null&&t==null){return Y(B)}else if(typeof e!=="string"){throw new a.UnexpectedError("Expected logger.log(err) or logger.log(level, message, data), but got a non-string level",{level:e})}if(r==null){r={}}else if(typeof r==="string"){r={data:r}}if(!F(e)){throw new a.UnexpectedError("unknown level",{level:e})}var u=t;if(t instanceof a.NotReadyError){t=a.ensure_bubble_error(t)}if(t instanceof Error){var f,d,p;if(I.has(t)){return}I.add(t);var _=(f=t.args)!=null?f:{};for(var m in _){var y=_[m];if(typeof y==="function"){r[m]=y()}else{r[m]=(0,c.to_loggable)(y)}}r.stack=t.stack;(p=(d=r).tags)!=null?p:d.tags={};r.tags.error_class=t.error_class;if(r.tags.user_level&&!r.display){r.display=t.display()}if(r.display&&typeof r.display!=="string")r.display=String(r.display);t=t.message}else if(typeof t==="string"){var v,b,h,j;(b=(v=r).stack)!=null?b:v.stack=a.capture_stack(t,1);(j=(h=r).tags)!=null?j:h.tags={};r.tags.error_class=z}else if(t==null){t=B}else{throw new a.UnexpectedError("invalid message format, must be error or string",{message:n.inspect(t)})}if(r!=null&&T(r)!=="object"){throw new a.UnexpectedError("invalid data format, object, error, or undefined",{data:n.inspect(r)})}N.log(e,t,r);function g(e,t){return i.running_test()&&l.level_gte(t,"error")&&(e instanceof Error||typeof e==="string"&&!o.ALLOWED_ERRORS_IN_TESTS.includes(e))}if(u!==undefined&&g(u,e)){console.log(t,r);throw new a.UnexpectedError("log with level >= error while running test",{level:e,original:t,data:(0,c.to_loggable)(r)})}}));r.log=$;function V(e){if(!window.headers_source_maps){return null}var t=S(window.headers_source_maps),r;try{for(t.s();!(r=t.n()).done;){var n=j(r.value,3),o=n[0],s=n[1],i=n[2];if(e>Number(s)&&e<=Number(i)){return o}}}catch(e){t.e(e)}finally{t.f()}return null}function H(e){var t=e.Lib;window.onerror=function(e,r,n,l,u){var c,d,p,_;if(!u){return}var m=a.ensure_bubble_error(u);var y="\n    at root (".concat(r!=null?r:"",":").concat(n!=null?n:-1,":").concat(l!=null?l:-1,")");m.stack=((c=m.stack)!=null?c:"")+y;var v=(d=r==null?void 0:r.startsWith((p=(_=t())==null?void 0:_.location.get_server_base())!=null?p:""))!=null?d:false;var b=n?V(n):null;var h=false;var j=false;if(v&&b){h=[o.CUSTOM_PAGE_HEADER_TAG,o.CUSTOM_APP_HEADER_TAG].includes(b);j=b.startsWith(o.PLUGIN_MAIN_HEADER_PREFIX)||b.startsWith(o.PLUGIN_PAGE_HEADER_PREFIX);if(m instanceof a.BubbleError){m.extend({html_section:b})}}var g=j||m.stack.includes(s.PLUGIN_CODE_SRC_PREFIX);var w=5;var O=!i.is_edit_mode()&&!i.is_plugin_edit_mode();var S=O&&!f.is_local()&&!m.stack.split("\n").filter((function(e){var t,r;e=(t=(r=e.match(/\/package\/.+(?:run|run_debug)\.js:(\d+):/))==null?void 0:r[1])!=null?t:"";return parseInt(e)>w})).join("\n").includes("/package/");var k=S&&m.stack.includes("/package/");var A=h||m.stack.includes("UNMANGLED_html_wrap");var E=m.stack.includes("chrome-extension://");if(m instanceof a.BubbleError){m.extend({UNCAUGHT:"caught by window.onerror",is_plugin_code:g,is_3rd_party_code:g||A,is_outside_package:S})}if(A){oe("html bug",{display:"Bug in custom html:\n"+m.stack})}else if(!r||E){return}else if(g||S){if(k){re("Error in jQuery code -- likely a plugin",{display:"Bug in custom code "+m.stack,original:m})}else{re("Error in custom code",{display:"Bug in custom code "+m.stack,original:m})}}else{Q(m)}return true}}function Y(e,t){$("debug",e,t)}function K(e,t){$("verbose",e,t)}function J(e,t){$("info",e,t)}function Z(e,t){$("warn",e,t)}function Q(e,t){$("error",e,t)}function ee(e,t){$("debug",e,t)}var te={debug:Y,verbose:K,info:J,warn:Z,error:Q,fatal:ee};function re(e,t){var r;(r=t)!=null?r:t={};t=le(t,"owner_error");J(e,t)}function ne(e,t){var r;(r=t)!=null?r:t={};t=le(t,"owner_warn");J(e,t)}function oe(e,t){var r;(r=t)!=null?r:t={};t=le(t,"owner_error");K(e,t)}function se(e,t){var r;(r=t)!=null?r:t={};t=le(t,"user_error");J(e,t)}var ie={owner_error:re,owner_warn:ne,user_error:se,error:Q};function ae(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var n=X(t);n(e,y({inner_error:t},r))}function le(e,t){e=y({},e);if(T(e.tags)==="object"){e.tags=y({},e.tags)}else{e.tags={}}e.tags.user_level=t;return e}function ue(e){if(e==null){return""}$(e);return a.ensure_bubble_error(e).display()}},{"./constants/logging":83,"./constants/plugin":86,"./safe_require":643,"./shared/environment_utilities":658,"./u/shared/errors":708,"./u/shared/loggable":711,"./u/shared/logging":712,"./u/shared/mode_check":713,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/es.weak-set.js":989,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,util:1301}],618:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.assign.js");var n,o;function s(){if(typeof Reflect!=="undefined"&&Reflect.get){s=Reflect.get.bind()}else{s=function e(t,r,n){var o=i(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return s.apply(this,arguments)}function i(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=p(e);if(e===null)break}return e}function a(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)l(e,t)}function l(e,t){l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return l(e,t)}function u(e){var t=d();return function r(){var n=p(e),o;if(t){var s=p(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return c(this,o)}}function c(e,t){if(t&&(_(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return f(e)}function f(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function d(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function _(e){"@babel/helpers - typeof";return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,b(n.key),n)}}function v(e,t,r){if(t)y(e.prototype,t);if(r)y(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function b(e){var t=h(e,"string");return _(t)==="symbol"?t:String(t)}function h(e,t){if(_(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(_(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j=r;var g=e("../../logger");var w;var O={currentTransaction:null,completedTransactions:[]};var S=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;m(this,e);this.name=t;this.labels=r;this.sync=n;this.start=Date.now()}v(e,[{key:"end",value:function e(){this.end=Date.now()}},{key:"setStart",value:function e(t){this.start=t}}]);return e}();var k=function(e){a(r,e);var t=u(r);function r(e,n){var o;m(this,r);o=t.call(this,e,n);o.spans=[];return o}v(r,[{key:"startSpan",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var o=new S(t,r,n);this.spans.push(o);return o}},{key:"end",value:function e(){s(p(r.prototype),"end",this).call(this);O.completedTransactions.push(O.currentTransaction);O.currentTransaction=null}}]);return r}(S);j.startTransaction=function(e,t){if(O.currentTransaction){g.warn("APM: Only one transaction can exist at a time");return}O.currentTransaction=new k(e,t);return O.currentTransaction};j.endTransaction=function(e){if(e)e.end()};j.addTransactionLabels=function(e){if(O.currentTransaction){Object.assign(O.currentTransaction.labels,e)}};if(w!=null&&w.trace){j.addTransactionLabels=w.addSpanAttributes}j.startSpan=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(!O.currentTransaction){g.warn("APM: A transaction must exist to create a span");return}return O.currentTransaction.startSpan(e,t,r)};j.endSpan=function(e){if(e)e.end()};j._traceSpanCb=function(e,t,r){var n=j.startSpan(e,t,true);try{return r()}finally{j.endSpan(n)}};j.traceSpan=j._traceSpanCb;if(w!=null&&w.trace){j.traceSpan=w.trace}j.getCompletedTransactions=function(){return O.completedTransactions};j.clearCompletedTransactions=function(){return O.completedTransactions=[]};j.getBaggageEntry=(n=w==null?void 0:w.getBaggageEntry)!=null?n:function(){return undefined};j.withBaggageEntries=(o=w==null?void 0:w.withBaggageEntries)!=null?o:function(e,t){return t()}},{"../../logger":617,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],619:[function(e,t,r){"use strict";var n=e("../../u/shared/mode_check");var o=e("../../safe_require");var s=e;if(n.on_server()){t.exports=s("./serverApm")}else{t.exports=e("./clientApm")}o.safe_register("./monitoring/apm",t.exports)},{"../../safe_require":643,"../../u/shared/mode_check":713,"./clientApm":618}],620:[function(e,t,r){(function(t){(function(){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.get_server_time_offset=A;r.watch=O;e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.join.js");e("core-js/modules/web.immediate.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");var o=u(e("../u"));var s=u(e("../u/shared/errors"));var i=u(e("../logger"));var a=u(e("../client_config"));function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=l(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function c(e){return d(e)||b(e)||y(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e){if(Array.isArray(e))return v(e)}function p(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function _(e){return h(e)||b(e)||y(e)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function b(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h(e){if(Array.isArray(e))return e}var j={};var g=23*60*60*1e3;var w=25;function O(e,r,n){var o;var l=_(e),u=l[0],c=l.slice(1);if(!a.notifier_host){return}var f="".concat(u).concat(c.join("-"));(o=j[f])!=null?o:j[f]={watchers:[],last_msg:null,subscribed_version:null};j[f].watchers.push({version_fn:r,on_update:n});var d=j[f],p=d.last_msg,m=d.subscribed_version;if(m!=null){var y;var v=r();if(typeof v!=="number"){i.error("non-numeric version",{version:v,topic:f})}if(v<m){throw new s.UnexpectedError("Watching Notifier topic that has been subscribed to with a newer version",{topic:f,version:v,subscribed_version:m})}if(p!=null&&v<((y=p.version)!=null?y:-Infinity)){n(p)}}else{j[f].subscribed_version=-Infinity;t((function(){return q(f)}))}}var S=null;var k=null;function A(e){W();function t(){if(P()&&S==null){var r;var n=Date.now();S=function t(r){var o=Date.now();var s=Math.round((n+o)/2);var i=r-s;e(i);S=null;k=null};k=function e(){S=null;setTimeout(t,100);k=null};(r=x)==null?void 0:r.send("ts")}else{setTimeout(t,100)}}t()}var E=false;var x=null;var M=false;function P(){var e;return M&&((e=x)==null?void 0:e.readyState)===1}var T=null;var I=0;var C=false;var R=0;var N;if(typeof window!=="undefined"&&window!==null){N=false;window.kill_notifier_socket=function(){var e;N=true;(e=x)==null?void 0:e.close()};window.restore_notifier_socket=function(){N=false;L()}}function L(){var e,t,r;if(N){return}if(window.WebSocket==null){console.log("No window.WebSocket class defined: real time updates are disabled");return}(e=k)==null?void 0:e();M=false;var n;var s=(t=a.notifier_host)!=null?t:"";var l=(r=a.notifier_port)!=null?r:"";if(s){n="".concat(s,":").concat(l)}else{n=s}x=new window.WebSocket("wss://".concat(n));var u=null;x.onclose=function(e){var t;(t=T)!=null?t:T=Date.now();C=false;setTimeout(L,Math.min(6e4,I*I*1e3));I++;if(I===10){i.error("notifier_client: socket closed after 10 retries",{last_error:u,close_code:e==null?void 0:e.code,close_reason:e==null?void 0:e.reason})}};x.onerror=function(e){var t;u=e;console.log("notifier_client.coffee: got error from socket: ".concat((t=u.stack)!=null?t:""))};x.onopen=function(){var e;x.send("s ".concat((e=a.notifier_domain)!=null?e:String(new o.UnexpectedError("no notifier domain set"))))};x.onmessage=function(e){var t=e.data;if(t==="ok"){if(!M){M=true;I=0;D()}}else if(t.slice(0,2)==="h "){var r=t.split(" ");var n=r[1];var o=r[2]?parseInt(r[2]):-Infinity;var s=r[3];if(j[n]!=null){j[n].last_msg={topic:n,version:o,message:s};j[n].watchers.forEach((function(e){return e.on_update({topic:n,version:o,message:s})}))}}else if(t.slice(0,2)==="i "){var a=t.split(" ")[1];if(a!==String(R)){i.error("Got a bad subscription ack!",{ack_counter:R,msg:t,msg_id:a});x.close();return}C=false;B()}else if(t.slice(0,3)==="ts "){var l;(l=S)==null?void 0:l(parseInt(t.slice(3)))}else{i.error("unrecognized message from notifier",{msg:t})}}}var z=[];function D(){z=Object.keys(j);B()}function q(e){z.push(e);B()}function B(){var e;if(z.length===0){U();return}if(!P()||C){W();return}C=true;var t=z.slice(0,w);z=z.slice(w);R++;var r="g "+String(R);var n=p(t),o;try{var s=function e(){var t=o.value;var n=j[t].watchers.map((function(e){return e.version_fn()})).filter((function(e){if(typeof e!=="number"){i.error("non-numeric version",{version:e,topic:t});return false}return true}));if(n.length===0){return"continue"}var s=Math.min.apply(Math,c(n));j[t].subscribed_version=s;r+=" "+t+" "+String(s)};for(n.s();!(o=n.n()).done;){var a=s();if(a==="continue")continue}}catch(e){n.e(e)}finally{n.f()}(e=x)==null?void 0:e.send(r)}function U(){if(T){if(Date.now()-T>g){for(var e in j){j[e].watchers.forEach((function(e){var t=e.on_update;return t({stale:true})}))}}T=null}}function W(){if(!E){E=true;L()}}}).call(this)}).call(this,e("timers").setImmediate)},{"../client_config":55,"../logger":617,"../u":687,"../u/shared/errors":708,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.immediate.js":992,timers:1289}],621:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("./lang/appquery");var p=e("./constants/app_json");var _=e("./lang/btype_ids");r.get_safe_id=function(e,t){var r,n,o;(r=t)!=null?r:t={};var s=(n=t.reserved)!=null?n:[];var i=(o=t.exists)!=null?o:function(){return false};var a=m(e);function l(e){if(p.PROTECTED_KEYS.has(e)){return true}if(p.BUBBLE_RESERVED_KEYS.has(e)){return true}return s.includes(e)||i(e)}var u=a;var c=0;while(l(u)){u=a+c;c++}return u};function m(e){var t=e.replace(/[^a-zA-Z0-9]/g,"_").toLowerCase();if(/^\d+$/.test(t)){return"".concat(t,"_")}return t}r.sort_options_fn=function(e,t){return e.sort_factor()-t.sort_factor()};r.sort_attributes_fn=function(e,t){var r,n;if(((r=e.display())==null?void 0:r.toLowerCase())<((n=t.display())==null?void 0:n.toLowerCase())){return-1}else{return 1}};r.sort_types_fn=function(e,t){var r,n;if(((r=e.display())==null?void 0:r.toLowerCase())<((n=t.display())==null?void 0:n.toLowerCase())){return-1}return 1}},{"./constants/app_json":58,"./lang/appquery":535,"./lang/btype_ids":536,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],622:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.filter.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=e("./u");function a(e,t){var r;(r=t.inset)!=null?r:t.inset="";var n="".concat(t.horizontal,"px ").concat(t.vertical,"px ").concat(t.blur,"px ").concat(t.spread,"px ").concat(t.color," ").concat(t.inset);e.css({"-webkit-box-shadow":n,"-moz-box-shadow":n,"box-shadow":n})}function l(e){var t=e.data("__outline_stack");if(!t){t=[];e.data("__outline_stack",t)}return t}function u(e,t){l(e).push(t)}function c(e,t){var r;var o=l(e);var s=o.filter((function(e){return e.key===t}));var a=n(s),u;try{for(a.s();!(u=a.n()).done;){r=u.value;i.array_remove(o,r)}}catch(e){a.e(e)}finally{a.f()}}function f(e){var t=null;var r=-2;var o=n(l(e)),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(i.priority>r){r=i.priority;t=i}}}catch(e){o.e(e)}finally{o.f()}return t}function d(e){var t=f(e);p(e,t)}function p(e,t){var r;if((r=!(t!=null&&t.box_shadow_properties))!=null?r:false){e.css({"-webkit-box-shadow":"none","-moz-box-shadow":"none","box-shadow":"none"})}else{a(e,t.box_shadow_properties)}}r.add_outline=function(e,t,r,n,o,s,i,a){var l;if(!e){console.log("called add_outline without a div");return}if(o===undefined){l=n}else{l={horizontal:n,vertical:o,blur:s,spread:i,color:a}}c(e,t);u(e,{key:t,priority:r,box_shadow_properties:l});d(e)};r.remove_outline=function(e,t){if(!e){return}c(e,t);d(e)};r.get_default_shadow=function(e){if(!e){throw new i.UnexpectedError("called get_default_shadow without a div")}var t=n(l(e)),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;if(o.key==="default"){return o.box_shadow_properties}}}catch(e){t.e(e)}finally{t.f()}}},{"./u":687,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],623:[function(e,t,r){"use strict";var n=r;var o=e("./lib");var s=e("./shared/slug");n.get_page_thing_id=function(e){var t;var r=e.get_unique_id_in_url();if(r!=null){return r}var o=n.get_unique_id_from_slug_in_url(e);if(o!=null){return o}var s=e.get_pieces(),i=s.path;if(i&&i[1]!=null){return i[1]}return(t=e.get_query())==null?void 0:t.id};n.page_has_a_thing=function(e){if(e.get_unique_id_in_url()!=null||e.get_slug_in_url()!=null){return true}return false};n.get_unique_id_from_slug_in_url=function(e){var t=e.get_slug_in_url();if(t!=null){var r,n;var i=(r=o().app().get_page_by_name(e.get_underlying_page()))==null?void 0:r.get_static_property("page_item_type");var a=(n=s.get_thing_id_from_slug({appname:o().appname(),app_version:o().app_version(),type:i,slug_value:t}))!=null?n:null;return a}return null};n.get_page_thing=function(e){return o().db_instance().get(n.get_page_thing_id(e))}},{"./lib":614,"./shared/slug":673}],624:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.flat-map.js");e("core-js/modules/es.array.unscopables.flat-map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.find.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptor.js");var n,o,s;function i(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=I(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e){return f(e)||c(e)||I(e)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f(e){if(Array.isArray(e))return C(e)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){E(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,x(n.key),n)}}function y(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(){if(typeof Reflect!=="undefined"&&Reflect.get){v=Reflect.get.bind()}else{v=function e(t,r,n){var o=b(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return v.apply(this,arguments)}function b(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=k(e);if(e===null)break}return e}function h(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)j(e,t)}function j(e,t){j=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return j(e,t)}function g(e){var t=S();return function r(){var n=k(e),o;if(t){var s=k(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return w(this,o)}}function w(e,t){if(t&&(a(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return O(e)}function O(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function S(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}function A(e,t,r,n,o){var s={};Object.keys(n).forEach((function(e){s[e]=n[e]}));s.enumerable=!!s.enumerable;s.configurable=!!s.configurable;if("value"in s||s.initializer){s.writable=true}s=r.slice().reverse().reduce((function(r,n){return n(e,t,r)||r}),s);if(o&&s.initializer!==void 0){s.value=s.initializer?s.initializer.call(o):void 0;s.initializer=undefined}if(s.initializer===void 0){Object.defineProperty(e,t,s);s=null}return s}function E(e,t,r){t=x(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function x(e){var t=M(e,"string");return a(t)==="symbol"?t:String(t)}function M(e,t){if(a(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(a(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function P(e,t){return N(e)||R(e,t)||I(e,t)||T()}function T(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function I(e,t){if(!e)return;if(typeof e==="string")return C(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return C(e,t)}function C(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function R(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function N(e){if(Array.isArray(e))return e}var L=r;var z=e("base64url");var D=e("./u");var q=e("./u/shared/b_object");var B=e("./u/shared/errors");var U=e("./u/shared/mode_check");var W=e("./u/shared/async/b_async");var F=e("./u/shared/async/autorun");var G=e("./u/client/b_ui");var X=e("./u/shared/incremental");var V=e("./lang/caching");var H=e("./external");var Y=e("./apiconnectorbase");var K=e("./lib");var J=e("./lang/appquery");var Z=e("./pv/plugin_versioning");var Q=e("./core/property_applications");var ee=e("./core/core_actions");var te=e("./core/shared_fields");var re=e("./core/core_elements/shared/inputs");var ne=e("./core/core_elements/core_elements_utilities/element_workflows");var oe=e("./lang/btypes");var se=e("./core/widgets");var ie=e("./core/widgets/fileupload");var ae=e("./geolocation/b_location");var le=e("./services/shared/service_type_parser");var ue=e("./logger");var ce=e("./constants/plugin");var fe=e("./shared/external_api_utilities");var de=e("./shared/responsive/responsive_layout");var pe=e("./lang/evaluation/element_eval");var _e=e("./lang/evaluation/element_props");var me=e("./u/shared/decaf");var ye=e("./lang/btype_ids");var ve=/function\(([\w,\s?]*)\)/;var be=e("./lang/color_tokens");var he;L.MAX_LENGTH_SERVER_SIDE=2e6;L.MAX_LENGTH_PACKAGE=5e5;L.PREDEFINED_BTYPE_TYPES=["text","number","number_range","boolean","image","file","geographic_address","date","date_range","user"];L.can_use_message=function(e,t){var r=oe.get(e);var n=r.get_message(t);return(n.is_lookup()||n.public_for_plugins())&&!n.is_not_found()};L.get_ListProperties=function(e){var t=oe.get(e);return t.plugin.get_message_names().filter(X.with_pause_tick((function(t){return L.can_use_message(e,t)})),5)};var je={StaticText:true,StaticNumber:true,Checkbox:true,Color:true,Dropdown:true,Image:true,key_value_list:false};var ge={text:true,number:true,boolean:true,image:true,file:true,geographic_address:false};L.property_uses_default=function(e,t,r){var n;if(je[e]!=null){return je[e]}if(r){return false}return(n=ge[t])!=null?n:false};L.extract_code=function(e,t){var r,n,o;e=(r=e)==null?void 0:r.trim();var s=(n=(o=e)==null?void 0:o.match(ve))!=null?n:[],i=P(s,2),a=i[0],l=i[1];var u=e.split(a).slice(1).join(a);u=u.split("{").slice(1).join("{").split("}").slice(0,-1).join("}");u+="\n//# sourceURL=".concat(ce.PLUGIN_CODE_SRC_PREFIX).concat(t.replace(/[^\w/]/g,"-"),".js");return{vars:l,code:u}};L.create_code=function(e,t,r,n){try{var o=L.extract_code(e,t),s=o.vars,i=o.code;if(n){i=n(i)}return new Function(s,i)}catch(e){r(e);return null}};L.get_keys=function(e,t,r){var n={};switch(e==null?void 0:e.auth){case"private_key_url":case"private_key_header":Object.assign(n,{appsecret:{caption:"API Key",type:"secure"}});break;case"oauth2_pw":case"basic_auth":Object.assign(n,{appid:{caption:"Username",type:"client_safe"},appsecret:{caption:"Password",type:"secure"}});break;case"jwt":Object.assign(n,{iss:{caption:"Iss (account email)",type:"client_safe"},private_key:{caption:"Private key (between -----BEGIN RSA PRIVATE KEY----- and -----END RSA PRIVATE KEY-----)",type:"secure",editor:"MultilineTextBox"}});break;case"cert_key":Object.assign(n,{cert_file:{caption:"Certificate file content",type:"secure",editor:"MultilineTextBox"},key_file:{caption:"Key file content",type:"secure",editor:"MultilineTextBox"}});break;case"oauth2_custom":{for(var o=0,s=["body_params","headers"];o<s.length;o++){var i=s[o];for(var a in(l=e.calls)==null?void 0:(u=l.token_call)==null?void 0:u[i]){var l,u,c,f;var d=(c=e.calls)==null?void 0:(f=c.token_call)==null?void 0:f[i][a],p=d.key,_=d.visibility;if(p!=null&&_==="secret"){var m=Y.user_friendly_parameter_names[i];Object.assign(n,E({},"token_call_".concat(i,"_").concat(a),{caption:"".concat(p," ").concat(m," (token call)"),type:"secure"}))}}}break}case"oauth2_user":Object.assign(n,{appid:{caption:"App ID/API Key",type:"client_safe"},appsecret:{caption:"App Secret",type:"secure"}});break}for(var y in t==null?void 0:t.params){var v=t==null?void 0:t.params[y],b=v.key;Object.assign(n,E({},"header_".concat(y),{caption:b+" (headers)",type:"client_safe"}))}Object.assign(n,r);for(var h=0,j=["shared_headers","shared_params"];h<j.length;h++){var g=j[h];for(var w in e==null?void 0:e[g]){var O=e==null?void 0:e[g][w];if((O==null?void 0:O.visibility)==="secret"&&O.key){n[g+"_"+w]={caption:O.key+" "+Y.user_friendly_parameter_names[g],type:"secure"}}}}for(var S in e==null?void 0:e.calls){var k=e==null?void 0:e.calls[S];if(k.initialized&&S!=="token_call"){for(var A=0,x=["url_params","headers","params","body_params"];A<x.length;A++){var M=x[A];for(var P in k[M]){var T=k[M][P];if((T==null?void 0:T.visibility)==="secret"&&T.key){n[S+"_"+M+"_"+P]={caption:k.name+" - "+T.key+" "+Y.user_friendly_parameter_names[M],type:"secure"}}}}}}return n};var we=false;function Oe(e){try{var t;we=true;return e==null?void 0:(t=e.__original)==null?void 0:t.call(e)}finally{we=false}}L.api_key_prefix="_p_";var Se={};var ke={};var Ae={};function Ee(e){var t,r;var n=e.file,o=e.fileName,s=e.contents,i=e.attach_to;var a=n?n.name+"_"+n.lastModified:o+"_"+s;return a+"_"+((t=Oe(i))==null?void 0:(r=t._id)==null?void 0:r.call(t))}function xe(e,t){var r;var n=e+"_"+Ee(t);if(Se[n]){var o;(o=t.callback)==null?void 0:o.call(t,null,Se[n]);return}(r=ke[e])!=null?r:ke[e]=[];ke[e].push(t);Me(e)}function Me(e){if(!Ae[e]&&ke[e].length){var t=function t(){ke[e]=ke[e].slice(1);if(ke[e].length<50){Ae[e]=false;Me(e)}else{setTimeout((function(){Ae[e]=false;Me(e)}),1e3*ke[e].length*100)}};var r=ke[e][0];var n=r.file,o=r.fileName,s=r.contents,i=r.callback,a=r.attach_to,l=r.callback_progress,u=r.instance;var c=e+"_"+Ee(r);if(Se[c]){i==null?void 0:i(null,Se[c]);t()}else{var f=function e(t){if(a){var r,n;var o=(r=Oe(a))==null?void 0:(n=r._id)==null?void 0:n.call(r);if(!o){var s=new B.UnexpectedError("Trying to attach an upload to a non Bubble thing");t(s);throw s}else{t(null,{attach_to:o})}}else{t(null,{})}};var d=function r(n){Se[e+"_"+o+"+"+s]=n;i==null?void 0:i(null,n);t()};var p=function e(r){i==null?void 0:i(r);t()};Ae[e]=true;var _=undefined;if(n){ie.upload_file(n,u,f,d,_,p,(function(e){return l==null?void 0:l(e)}))}else{se.upload_file({contents:s},undefined,f,d,_,p,undefined,o)}}}}var Pe=(n=V.cached({type:V.AUTORUN}),o=V.cached({type:V.AUTORUN}),s=function(e){h(r,e);var t=g(r);function r(e,n,o){var s;var i;_(this,r);i=t.call(this);i.name=e;i.version=n;i.raw=o;i.human=(s=i.raw.human)!=null?s:i.get_api().human;if(i.is_testing()){i.human+=" (testing)"}i.pv=Z.get_pv(i.get_plugin_api_version());return i}y(r,[{key:"calls",value:function e(){var e={};var t=this.get_api();var r=this.name;if(t.auth==="oauth2_user"){e.oauth_user_data_call=function(e){h(o,e);var n=g(o);function o(){_(this,o);return n.apply(this,arguments)}y(o,[{key:"human",get:function e(){return t.human}},{key:"_must_proxy",get:function e(){return true}},{key:"value_id",get:function e(){return ye.api_type("".concat(r,".oauth_profile"))}},{key:"build",value:function e(r,n){var o=t.oauth_user_data_call;return{path:o}}}]);return o}(H.Call)}for(var n in t.calls){var o=t.calls[n];e[n]=o;if(this.is_testing()){e[n].api_human=t.human+" (testing)"}else{e[n].api_human=t.human}e[n].api_id=this.name}return e}},{key:"get_call_class",value:function e(t){var r=this.calls()[t];if(t==="oauth_user_data_call"){return r}return Y.get_call_from_raw(t,r)}},{key:"handle_request_failures",value:function e(t){return fe.handle_request_failures(t)}},{key:"get_error_message",value:function e(t,r){return Y.get_error_message(t,r,true)}},{key:"dynamic_calls",get:function e(){return true}},{key:"get_plugin_api_version",value:function e(){var t;var r=(t=this.raw.dependencies)==null?void 0:t.plugin_api_version;if(r){return String(r)}return"0"}},{key:"is_testing",value:function e(){return this.version==="current"}},{key:"response_to_data",value:function e(t,n,o,s){var i;(i=o)!=null?i:o="json";var a=v(k(r.prototype),"response_to_data",this).call(this,t,n,o,s,s==null?void 0:s.wrap_error);if(s!=null&&s.get_headers||s!=null&&s.wrap_error){var l=n.headers;return{body:a,headers:l}}return a}},{key:"get_api",value:function e(){if(!this._processed_raw_api){var t;this._processed_raw_api=q.deep_copy((t=this.raw.plugin_api)!=null?t:{});var r=le.get_plugin_id(this.name);var n=new RegExp(r,"g");for(var o in this._processed_raw_api.calls){var s=this._processed_raw_api.calls[o];for(var i=0,a=["types","data_container"];i<a.length;i++){var l=a[i];if(s[l]&&typeof s[l]==="string"){if(this.is_testing()&&l==="types"){s[l]=s[l].replace(n,this.name)}s[l]=q.json_parse(s[l])}}}}return this._processed_raw_api}},{key:"has_html_header",value:function e(){var t,r;return((t=(r=this.get_html_header())==null?void 0:r.snippet)!=null?t:"")!==""}},{key:"get_html_header",value:function e(){return this.raw.html_header}},{key:"get_keys",value:function e(){var t,r;var n=L.get_keys(this.get_api(),this.get_html_header(),this.raw.shared_keys);(t=(r=this.get_authenticator()).add_generic_authenticator_keys)==null?void 0:t.call(r,n);return n}},{key:"get_keys_for_context",value:function e(){var t={};var r=this.get_keys();for(var n in r){var o=r[n].caption;var s=this.get_key(n);if(s!=null){t[o]=s}}return t}},{key:"authenticator",value:function e(){var t=this;var r=this.get_api();var n;switch(r.auth){case null:case undefined:case"none":n=new H.NoAuth;break;case"private_key_url":case"private_key_header":if(!r.token_param_name){if(r.auth==="private_key_url"){r.token_param_name="private_key"}else{r.token_param_name="Authorization"}}n=new H.PrivateKey(Y.get_private_key_auth_params(r));break;case"basic_auth":n=new H.BasicAuth;break;case"oauth2_pw":n=new H.Oauth2PWFlow(Y.get_oauth2_pw_auth_params(r));break;case"oauth2_custom":n=new H.Oauth2Custom;break;case"jwt":n=new H.JWT(Y.get_jwt_auth_params(r));break;case"cert_key":n=new H.SSLProtocol;break;case"oauth2_user":{var o=p(p({},Y.get_oauth2_user_auth_params(r)),{},{_id:this.name});n=new H.Oauth2(o)}}n._service=this;n._display=r.human;n.add_shared_params_and_headers=function(e){Y.add_shared_params_and_headers(r,e,t.name,(function(e,r){if(r.visibility==="secret"){return t.get_key("shared_headers_"+e)}else{return r.value}}),(function(e,r){if(r.visibility==="secret"){return t.get_key("shared_params_"+e)}else{return r.value}}))};return n}},{key:"public_values",value:function e(){return me.object_values(this.get_api().calls).filter((function(e){return e.publish_as==="data"&&e.initialized})).flatMap((function(e){return me.object_keys(e.types)}))}},{key:"values",value:function e(){var t={};var r=this.get_api();if(r.auth==="oauth2_user"){t.oauth_profile=new H.StructValue("Profile "+r.human,{id:{path:r.id_path!=null?r.id_path.split("."):undefined},email:{path:r.email_path!=null?r.email_path.split("."):undefined}})}Y.get_btypes_from_call(this.name,r,t,L.api_key_prefix);for(var n=0,o=Object.values(t);n<o.length;n++){var s=o[n];s.human+=" ("+r.human+")"}return t}},{key:"_get_sorted_list",value:function e(t){return me.object_entries(this.get_api().calls).filter((function(e){var r=P(e,2),n=r[0],o=r[1];return o.publish_as===t&&Y.is_call_initialized(o)})).map((function(e,t){var r;var n=P(e,2),o=n[0],s=n[1];return{call_id:o,rank:(r=s.rank)!=null?r:t}})).sort((function(e,t){return e.rank-t.rank})).map((function(e){var t=e.call_id;return t}))}},{key:"public_calls",value:function e(){return this._get_sorted_list("data")}},{key:"action_calls",value:function e(){return this._get_sorted_list("action")}},{key:"user_calls",value:function e(){var t=this.get_api();if(t.auth==="oauth2_user"){return["oauth_user_data_call"]}else{return[]}}},{key:"oauth_providers",value:function e(){var t=this.get_api();if(t.auth==="oauth2_user"){return[{id:this.name,display:t.human}]}else{return[]}}},{key:"base_url",value:function e(){return""}},{key:"_get_processed_elements_raw",value:function e(){if(!this._processed_raw_elements){this._processed_raw_elements=this._interpret_raw_plugin_def()}return this._processed_raw_elements}},{key:"actions",value:function e(){return this._get_processed_elements_raw().actions}},{key:"elements",value:function e(){return this._get_processed_elements_raw().elements}},{key:"events",value:function e(){return this._get_processed_elements_raw().events}},{key:"_interpret_raw_plugin_def",value:function e(){var t=this,r;var n={};var o={};var s={};var l=this.version;var u=this.name;var c=this.human;var f=this.pv;function d(e,t,r){var n;var o;(n=t)!=null?n:t="null";if(t.startsWith("custom_data_")){if(t.startsWith("custom_data_element_")){var s=J.element(e.get_static_property("element_id"));if(s!=null&&s.exists()){o=s.get_static_property(t.split("custom_data_element_")[1])}}else{o=e.get_static_property(t.split("custom_data_")[1])}}else if(t==="_any_thing"){if(r){return"list*"}else{return oe.any}}else if(t==="_any_thing_bindable"){if(r){return"list*bindable"}else{return oe.compound}}else{o=t}if(typeof o!=="string"){return"null"}if(r){return ye.list_type(o)}else{return o}}function p(e,t){var r=e.fields,n=e.support_autobinding,o=e.autobinding_value,s=e.add_large_file_upload_properties;var i={};if(t){i.element_id={}}for(var a in r){var l=r[a];var u=l.caption,c=l.editor,f=l.optional,d=l.in_style,p=l.value,_=l.is_list;var m=l.default_val;if(!L.property_uses_default(c,p,_)){m=null}if(u&&c){i[a]={};if(f){i[a].optional=f}if(m!=null){i[a].default=m}if(["custom_type","Label"].includes(c)||c.indexOf("custom_field_")===0){i[a].no_states=true}if(["StaticText","StaticNumber","Checkbox","Color","Dropdown","Image"].includes(c)&&d){i[a].in_style=true}}}if(n&&o){Object.assign(i,re.get_auto_binding_field_names)}if(s){Object.assign(i,re.get_max_file_size_field_name);Object.assign(i,re.get_file_upload_condition_field_name)}return i}var _=function e(t,r){var n=t.fn,o=t.add_debugger;if(K().is_edit_mode()){throw new B.UnexpectedError("running plugin code in edit mode!!!!")}if(U.on_server()){throw new B.UnexpectedError("running plugin code on the server!!!! TO REMOVE WHEN WE HAVE SERVER ACTIONS")}return L.create_code(n,"".concat(u,"/").concat(c," ").concat(r),(function(e){var t="WARNING: Error parsing plugin code for "+r+". Please check \n"+(n!=null?n:"missing function");var o=t.slice(0,8191);ue.owner_error("error parsing plugin code",{display:o,original_error:e})}),(function(e){if(l==="current"&&o){e="  debugger; // Debugger entry point for Bubble Plugin // \n"+e}return e}))};var m=function e(r,n,o,s){try{return n()}catch(e){var i,a,u,c,f,d;if(e instanceof B.NotReadyError){throw e}var p="The plugin "+t.display();if(o==="element"&&((i=r.element)==null?void 0:(a=i.E)==null?void 0:a.display)!=null){var _,m;p+=" / element "+((_=r.element)==null?void 0:(m=_.E)==null?void 0:m.display)}else if(o==="action"&&((u=r.A)==null?void 0:(c=u.display)==null?void 0:c.call(u))!=null){var y,v;p+=" / action "+((y=r.A)==null?void 0:(v=y.display)==null?void 0:v.call(y))}p+=" threw the following error: ";p+=((f=(d=e.stack)!=null?d:e.message)!=null?f:"").split("\n").slice(0,3).join("\n");if(l==="current"){p+=" (please check your plugin's code)"}else{p+=" (please report this to the plugin author)"}var b=new B.OwnerError("plugin evaluation error",{display:p,original_error:e,element_instance:o==="element"?r:null,action:o==="action"?r:null});ue.log(b);s==null?void 0:s(b)}};function y(e,t,r){if(e==null){return null}var n=function e(t){var r;if(t==null){return null}if((r=t._type)!=null&&r.call(t)){var n;return(n=t._type)==null?void 0:n.call(t)}else{if(t.getTime!=null){return"date"}if(ae.ensure_valid_location(t)){return"geographic_address"}else if(Array.isArray(t)){if(typeof t[0]==="number"){return"number_range"}else if(t[0].getTime!=null){return"date_range"}}else{switch(a(t)){case"string":return"text";case"number":return"number";case"boolean":return"boolean"}}}};if(typeof t==="function"){t=n(e)}else if(["list*","list*bindable"].includes(t)){var o,s;var l=(o=(s=e.all)==null?void 0:s.call(e))!=null?o:[];if(l.length===0){return{length:function e(){return 0},get:function e(){return[]}}}var u;var c=i(l),d;try{for(c.s();!(d=c.n()).done;){var p=d.value;if(p!=null){u=p;break}}}catch(e){c.e(e)}finally{c.f()}var _=n(u);if(!_){return null}t=ye.list_type(_)}if(!t){return null}var m=oe.get(t);var v=L.PREDEFINED_BTYPE_TYPES.includes(t)&&t!=="user";if(v){if(r&&f.fix_server_dates){if(t==="date"){var b;return{date:true,val:(b=m.get_JS_object(e))==null?void 0:b.getTime()}}else if(t==="date_range"){var h;return{date_range:true,val:(h=m.get_JS_object(e))==null?void 0:h.map((function(e){return e.getTime()}))}}}return m.get_JS_object(e)}if(r){if(ye.is_list(t)){var j=m.inner();return{list:true,val:e.all().map((function(e){return y(e,j.id(),true)}))}}else if(ye.is_option_set(t)){return m.get_JS_object(e)}else{return{object:true,type:t,val:m.get_JS_object(e)}}}else{if(ye.is_list(t)){return{length:function t(){return e.length()},get:function t(r,n){if(r==null){throw new B.UnexpectedError("Invalid from: "+r)}if(n==null){throw new B.UnexpectedError("Invalid from: "+n)}return e.get_children(r,n).map((function(e){return y(e,m.inner().id())}))}}}else{return{get:function r(n){if(!n){throw new B.UnexpectedError("Invalid fieldName: "+n)}var o=m.get_message(n);if(!L.can_use_message(t,n)){throw new B.UnexpectedError("This fieldName does not exist: "+n)}return y(o.evaluate(e),o.ret_btype_id())},listProperties:function e(){return L.get_ListProperties(t)},__original:function t(){if(!we){throw new B.UnexpectedError("Forbidden function")}return e}}}}}function v(e,t,r,n,o,s){if(!n){if(r==="Color"){return be.color_property_to_rgba(e)}return e}if(r==="custom_type"){return oe.get(e).display()}if(r!=null&&r.indexOf("custom_field_")===0){var i=t.get_static_property(r.split("custom_field_")[1]);var a=oe.get(i).get_message(e);if(a.is_not_found()){return null}return a.name()}if(r==="key_value_list"){return me.object_values(e).map((function(e){delete e.action;e.value=y(e.value,n,s);return e}))}return y(e,d(t,n,o),s)}function b(e,t,r,n){var o={};for(var s in r){var i=r[s],a=i.name,l=i.value,u=i.is_list,c=i.editor;o[a]=v(t[s],e,c,l,u,n)}return o}var h=(r=this.raw.dependencies)==null?void 0:r.use_jquery;var j={};var g={};var w={};var O=function e(r){var n=r.instance,o=r.action,s=r.bubble_context;var i={currentUser:v(K().current_user(),undefined,undefined,"user")};if(h){i.jQuery=$}i.uploadContent=function(e,t,r,n){if(!t){return null}xe(u,{fileName:e,contents:t,callback:r,attach_to:n});return null};i.keys=t.get_keys_for_context();i.async=function(e){var t,r;var o=e.toString()+((t=n==null?void 0:n.toUniqueString())!=null?t:s==null?void 0:s.run_id);if(j[o]==null){j[o]=W.MakeKey(null,"Pluginservice.context.async "+o);e((function(e,t){if(e){g[o]=e}else{w[o]=t}return j[o].turn()}))}W.ensure_ready(j[o]);return(r=g[o])!=null?r:w[o]};i.onCookieOptIn=function(e){if(typeof e!=="function"){ue.owner_error("Calling onCookieOptIn without a function");return}return K().user.on_cookie_opt_in((function(){return m(undefined,e,"general")}))};i.reportDebugger=function(e){return ue.owner_error("plugin reported a message",{display:String(e),element_instance:n,action:o})};return i};var S=function e(r){var i,a,l,c,y;var j=t.raw.plugin_elements[r];var g={is_non_hardcoded_plugin:true,display:j.display,category:j.category,icon:j.icon,get_html:function e(){return"<div></div>"},add_an_invisible_div_on_the_top:true,is_input:false,is_container:false,change_cursor_style_if_clickable:false,mandatory_sections:function e(){return["PluginElement"]},defaults:j.default_dim,uses_css_responsive:f.responsive_version>0,can_fit_width:j.can_fit_width,can_fit_height:j.can_fit_height};g.field_names=p(j);g.styleable_properties={};for(var w in g.field_names){var S=g.field_names[w];if(S.in_style){g.styleable_properties[w]=true}}g._fields=function(e){return get_fields(e,j)};var k=[];for(var A in j.property_applications){var x=j.property_applications[A];if(x&&!["resizable","Font"].includes(A)){k.push(new Q[A])}}if((i=j.property_applications)!=null&&i.resizable){k.push(new Q.Dimensions)}else{k.push(new Q.PositionOnly);g.not_resizable=function(){return true}}g.property_applications=function(e){var t;var r=[].concat(k);if((t=j.property_applications)!=null&&t.Font){r.push(new Q.Font)}if(f.responsive_version>0){r.push(new Q.ResponsiveElement(e))}return r};if((a=j.property_applications)!=null&&a.MinWidth){g.get_min_width=function(){return 0}}g.dont_add_hover_pressed=!j.add_hover_pressed;g.starts_hidden=!j.add_is_visible;var M=(l=(c=j.headers)==null?void 0:(y=c.snippet)==null?void 0:y.trim())!=null?l:"";if(M!==""){g.element_html_header=function(){return M.replace(/\r?\n|\r/g,"")}}g.get_states=function(){var e;return Object.keys((e=j.states)!=null?e:{})};g.add_specific_messages=function(e,t){var r=function r(n){var o=j.states[n];if(o.value!=null){Object.assign(e,E({},"get_".concat(n),{description:"'s "+o.caption,ret_btype:d(t,o.value,o.is_list),fn:function e(t,r){return this.ret_btype().cast(t==null?void 0:t.state(n))}}))}};for(var n in j.states){r(n)}};g.get_state_value=function(e,t){for(var r in j.states){var n=j.states[r];if(n.value!=null){if(n.caption===t){return d(e,n.value,n.is_list)}}}};var P=[];var T=j.has_reset_fn&&j.code.reset;if(T){P.push("reset_input")}g.get_messages=function(){return P};function I(e,t,r){for(var n in r[t]){var o=r[t][n].name;if(o===e){return n}}}function C(e){var t=e.thing,r=e.node,n=e.value,o=e.is_list;if(t==null){return null}var s=d(r,n,o);if(ye.is_list(s)){if(!Array.isArray(t)){ue.owner_error("Trying to send an invalid array to Bubble",{array_sent:t,element_instance:r})}var i=oe.get(s).inner().id();return t.map((function(e){return C({thing:e,node:r,value:i})}))}var a=oe.get(s);if(t.__original!=null){return Oe(t)}if(a.can_JS_to_bubble()){return a.JS_to_bubble(t)}ue.owner_error("Trying to convert an invalid object to Bubble",{object_sent:t,element_instance:r})}var R=function e(t){var r;var n={};if(h){n.canvas=t.get_canvas();n.jQuery=$}else{n.canvas=t.get_canvas()[0]}n.publishState=function(e,r){var n=I(e,"states",j);if(n){if(!j.states[n].value){ue.owner_error("state does not have defined value",{display:"State "+e+" does not have a defined value",element_instance:t});return}return m(t,(function(){var e=C({thing:r,node:t,value:j.states[n].value,is_list:j.states[n].is_list});return t.state(n,e)}),"element")}else{return ue.owner_error("state is not defined in the plugin",{display:"State "+e+" is not defined in the plugin",element_instance:t})}};n.triggerEvent=function(e,r){var n=I(e,"events",j);if(n){var o=ne.run_element_workflow(t,u+"-"+n,undefined,undefined,undefined,true);if(r!=null){return o==null?void 0:o.callback(r)}}else{return ue.owner_error("event is not defined in the plugin",{display:"Event "+e+" is not defined in the plugin",element_instance:t})}};if(f.responsive_version===0){n.setHeight=function(e){if(typeof e!=="number"||e<0||isNaN(e)){ue.owner_error("Trying to set a negative or non-number height",{display:"Trying to set a negative or non-number height: "+e,element_instance:t});return}return t.set_height(e)}}if(!j.add_is_visible){n.show=function(){t.canvas[0].style.display="block";t._is_visible_me=true;return t._update_visible()};n.hide=function(){t.canvas[0].style.display="none";t._is_visible_me=false;return t._update_visible()}}(r=t._plugin_data)!=null?r:t._plugin_data={};n.data=t._plugin_data;if(j.support_autobinding&&j.autobinding_value){n.publishAutobinding=function(e){var r=C({thing:e,node:t,value:j.autobinding_value,is_list:j.autobinding_is_list});return re.run_auto_binding(t,r,true)}}if(j.add_large_file_upload_properties){n.uploadFile=function(e,r,n,o){if(!e){return null}xe(u,{instance:t,file:e,callback:r,attach_to:n,callback_progress:o});return null};n.canUploadFile=function(e){if(!e){return false}return pe.evaluate_property(t,"file_upload_condition")&&e.size<=pe.evaluate_property(t,"max_size")*1e3*1e3||false}}return n};var N=function e(t,r){var n;(n=r)!=null?n:r={};var o=r,s=o.recursion_checker,i=o.no_sizing_props;function a(e){if(!m.bubble[e].exists){m.bubble[e].exists=true;m.bubble[e].cache=_(e)}return m.bubble[e].cache}var l=function e(t){if(i&&["width","height"].includes(t)){return 0}if(K().is_edit_mode()||!f.bubble_props_as_functions){return _(t)}return function(){return a(t)}};var u=function e(t){var r;return((r=t.element.parent())==null?void 0:r.container_layout())===de.FIXED_LAYOUT};var c=function e(t){var r;return((r=t.element.root())==null?void 0:r.get_responsive_version())===0};var d={min_width_css:function e(t){if(c(t)){return"".concat(t.element.get_min_width(),"px")}else if(u(t)){return"".concat(t.element.get_width(),"px")}else{return _e.min_width_css(t)}},max_width_css:function e(t){if(c(t)){var r=t.element.get_max_width();if(r!=null){return"".concat(r,"px")}else{return null}}if(u(t)){return"".concat(t.element.get_width(),"px")}else{return _e.max_width_css(t)}},fit_width:function e(t){if(c(t)){return false}else{return _e.is_fitting_width(t)}},min_height_css:function e(t){if(c(t)){return"0px"}else if(u(t)){return"".concat(t.element.get_height(),"px")}else{return _e.min_height_css(t)}},max_height_css:function e(t){if(c(t)){return null}else if(u(t)){return"".concat(t.element.get_height(),"px")}else{return _e.max_height_css(t)}},fit_height:function e(t){if(c(t)){return true}else{return _e.is_fitting_height(t)}},font_face:function e(t){return _e.get_font_face(t)}};var p=function e(r){var n,o;return(n=(o=d[r])==null?void 0:o.call(d,t))!=null?n:pe.evaluate_property(t,r)};function _(e){if(!s){return p(e)}if(s[e]){ue.owner_error("Property contains circular reference to this element",{element_instance:t,prop_name:e});return null}try{s[e]=true;return p(e)}finally{delete s[e]}}var m={bubble:{}};for(var y in j.fields){var b=j.fields[y],h=b.name,g=b.editor,w=b.value,O=b.is_list;var S=_(y);m[h]=v(S,t,g,w,O)}if(j.support_autobinding&&j.autobinding_value){var k=re.get_input_parent_thing_field(t);m.autobinding=v(k,t,undefined,j.autobinding_value,j.autobinding_is_list)}var A=t.element.field_names();for(var E in A){var x;var M=A[E];if(((x=j.fields)==null?void 0:x[E])==null&&!M.only_edit_mode){if(E==="font_family"){E="font_face"}if(E==="font_weight"){continue}m.bubble[E]=l(E)}}return m};g.can_defer_drawing=function(){return true};g.register=function(e){e.is_getting_property={};if(!e.run_mode()){return}e.initialize_fn=_(j.code.initialize,"initialize ("+j.display+")");if(T){e.reset_fn=_(j.code.reset,"reset ("+j.display+")")}var t=O({instance:e});var r=function r(n){var o=j.states[n],s=o.caption,i=o.initialization_code;if((i==null?void 0:i.fn)!=null&&s!=null){var a=function r(){var n=_(i,"initializeState_"+s+"("+j.display+")");var o=N(e,{recursion_checker:e.is_getting_property});return n==null?void 0:n(o,t)};e.state(n,(function(){return m(e,a,"element")}))}};for(var n in j.states){r(n)}};g.initialize=function(e){var t=e.get_canvas();var r=R(e);var n=O({instance:e});if(T){e.on_message("reset_input",(function(){return m(e,(function(){return e.reset_fn(r,n)}))}))}e.wait_for_visible((function(){var o;var s=f.responsive_version>0&&((o=e.element.root())==null?void 0:o.get_responsive_version())===0;if(s&&j.can_fit_height){t.css("height","max-content")}m(e,(function(){var t;(t=e.initialize_fn)==null?void 0:t.call(e,r,n)}),"element");var i=_(j.code.update,"update ("+j.display+")");e.autorun((function(){var t=N(e);if(f.bubble_props_as_functions){for(var o in t.bubble){t.bubble[o]()}}r=R(e);n=O({instance:e});W.run_without_catching_not_ready((function(){return m(e,(function(){return i==null?void 0:i(r,t,n)}),"element")}))}));if(s&&j.can_fit_height){e.autorun((function(){var t=e.current_height();e.set_height(t,{no_css_update:true});e.canvas.css("height","max-content")}))}}))};for(var L=0,z=["events","actions"];L<z.length;L++){var D;var q=z[L];g[q]=Object.keys((D=j[q])!=null?D:{}).map((function(e){return"".concat(u,"-").concat(e)}))}var B=function e(t){var r=j.events[t];o[t]={_display:function e(){return" "+r.caption},element_name:"A "+j.display}};for(var G in j.events){B(G)}function X(e,t){var r=J.element(e==null?void 0:e.element_id());var n;if(r){n=r.get_name()}else{n="a "+j.display}return t+" "+n}var V=function e(t){var r=j.actions[t];var n=void 0;if(!K().is_edit_mode()&&!U.on_server()){n=_(r.code,"element_action ("+j.display+"-"+r.caption+")")}s[t]={category:"Element Actions",display:function e(t){return X(t,r.caption)},field_names:p(r,true),fields:function e(t){return ee.get_element_id_field(t).concat(get_fields(t,r,true))},run:function e(t,o,s,i){return F.run_once(30,(function(){var e=b(t,o,r.fields);var n=s.element.find_instance_by_id(o.element_id);return{properties:e,instance:n}}),(function(e,r){if(e){i(e);return}var o=r.properties,a=r.instance;a.with_canvas((function(e){var r=R(a);var l=O({instance:a,action:t,bubble_context:s});return F.run_once(30,(function(){return W.run_without_catching_not_ready((function(){return m(t,(function(){var e;return(e=n)==null?void 0:e(r,o,l)}),"action",(function(e){return i(e)}))}))}),i)}))}))}}};for(var H in j.actions){V(H)}n[r]=g};for(var k in this.raw.plugin_elements){S(k)}var A=function e(r){var n;var o=t.raw.plugin_actions[r];var i=o.type==="server_side";var a={display:function e(){return o.display},category:(n=o.category)!=null?n:"plugins",data_to_refresh:null,not_api:o.type==="client_side"};a.field_names=p(o,true);a._fields=function(e){return get_fields(e,o,true)};if(i){var u,c,f,y,v,h,j;var g=o==null?void 0:(u=o.code)==null?void 0:u.package_used;if((o==null?void 0:(c=o.code)==null?void 0:c.package_status)==="empty"){g=false}var w;if(g){var S;w=o==null?void 0:(S=o.code)==null?void 0:S.package_hash}a.server_method="custom_plugin_code";a.code=o==null?void 0:(f=o.code)==null?void 0:(y=f.server)==null?void 0:y.fn;a.package=o==null?void 0:(v=o.code)==null?void 0:(h=v.package)==null?void 0:h.fn;a.package_used=g;a.package_hash=w;a.node_version=(j=t.raw.meta_data)==null?void 0:j.sa_node_version;a.plugin_api_version=t.get_plugin_api_version();a._transform_properties=function(e,t){return b(t,e,o.fields,i)};a.return_value=function(e){if(q.not_empty(o.return_value)){var t={};me.object_entries(o.return_value).map((function(e,t){var r;var n=P(e,2),o=n[0],s=n[1];return{key_id:o,key_data:s,rank:(r=s.rank)!=null?r:t}})).sort((function(e,t){return e.rank-t.rank})).forEach((function(r){var n=r.key_data;t[n.name]=[n.caption,d(e,n.value,n.is_list),true]}));var r=oe.get("struct."+D.base64(JSON.stringify({definition:t,caption:e.display()})));return r}else{return oe.get("null")}};a.run=function(e,t,r,n){return r.get_server_outcome(e,(function(t,r){if(t){t.pluginservice_action=o.display;t=B.ensure_bubble_error(t).extend({action:e})}n(t,r);if(l==="current"&&r){console.log("Result of "+o.display);var s=a.return_value(e);F.run_once(30,(function(){var e;return{val:(e=s==null?void 0:s.get_JS_object(r))!=null?e:r}}),(function(e,t){if(e){ue.log(e);return}console.log(t)}))}}))}}else{var k;if(!K().is_edit_mode()&&!U.on_server()){k=_(o.code.client,"action ("+o.display+")")}a.run=function(e,t,r,n){var s=O({action:e,bubble_context:r});F.run_once(30,(function(){return W.run_without_catching_not_ready((function(){var r=b(e,t,o.fields,i);m(e,(function(){var e;return(e=k)==null?void 0:e(r,s)}),"action",(function(e){return n(e)}))}))}),n)}}s[r]=a};for(var x in this.raw.plugin_actions){A(x)}return{elements:n,events:o,actions:s}}}]);return r}(H.Service),A(s.prototype,"calls",[n],Object.getOwnPropertyDescriptor(s.prototype,"calls"),s.prototype),A(s.prototype,"get_call_class",[o],Object.getOwnPropertyDescriptor(s.prototype,"get_call_class"),s.prototype),s);L.ThirdPartyPluginWrapper=Pe},{"./apiconnectorbase":7,"./constants/plugin":86,"./core/core_actions":165,"./core/core_elements/core_elements_utilities/element_workflows":284,"./core/core_elements/shared/inputs":360,"./core/property_applications":405,"./core/shared_fields":406,"./core/widgets":411,"./core/widgets/fileupload":410,"./external":502,"./geolocation/b_location":505,"./lang/appquery":535,"./lang/btype_ids":536,"./lang/btypes":537,"./lang/caching":539,"./lang/color_tokens":540,"./lang/evaluation/element_eval":567,"./lang/evaluation/element_props":568,"./lib":614,"./logger":617,"./pv/plugin_versioning":631,"./services/shared/service_type_parser":651,"./shared/external_api_utilities":659,"./shared/responsive/responsive_layout":669,"./u":687,"./u/client/b_ui":677,"./u/shared/async/autorun":693,"./u/shared/async/b_async":695,"./u/shared/b_object":702,"./u/shared/decaf":706,"./u/shared/errors":708,"./u/shared/incremental":710,"./u/shared/mode_check":713,base64url:724,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.flat-map.js":930,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.array.unscopables.flat-map.js":940,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],625:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=r;u.message="Initial API Version";u.changelog=[];u.date=1477087595e3;u.fix_server_dates=false;u.fix_server_field_types=function(e){Object.entries(e).forEach((function(t){var r=n(t,2),o=r[0],s=r[1];e[o]=s.replace("Date","String")}))};u.old_server_list=true},{"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],626:[function(e,t,r){"use strict";var n=r;n.bubble_props_as_functions=false;n.message="Updated server-side actions API to match client-side one";n.changelog=["Changed List.get() for server-side actions to be (start, length), just like client-side actions, instead of (start, end)","Dates now get correctly passed in as Javascript Date objects on the server, instead of Strings"];n.date=1598479637e3},{}],627:[function(e,t,r){"use strict";var n=r;n.message="Changed properties object from static properties to functions";n.changelog=["Changed properties object from static properties to get functions; this allows plugin elements ","to be defined with conditional properties that depend on the element's own states","state without throwing a recursion error."];n.date=1605784035408;n.responsive_version=0},{}],628:[function(e,t,r){"use strict";var n=r;n.message="Updated plugin editor to the new responsive engine";n.changelog=["Changed the properties exposed on properties.bubble to the new responsive properties","Added options for elements to fit width or fit height","Can still access width/height to re-run update function on resize","On legacy engine, plugin elements should still work"];n.date=1648335983613},{}],629:[function(e,t,r){"use strict";var n=r;n.message="Updated plugins to run on node 16";n.changelog=["Moved context.request and context.async to context.v3 and they now return promises","Modified .get and .length to return promises","Added two utility methods id() and getAll()","Made lists implement AsyncIterable interface","Addded isBubbleThing and isBubbleList in place of single_api and list_api. single_api and list_api are still present","Added getThingById and getThingsById to the context object"];n.date=1680546487e3},{}],630:[function(e,t,r){"use strict";var n=r;n.fix_server_dates=true;n.fix_server_field_types=function(e){return e};n.old_server_list=false;n.bubble_props_as_functions=true;n.responsive_version=1},{}],631:[function(e,t,r){"use strict";var n=e("../u");var o=e("./0");var s=e("./1");var i=e("./2");var a=e("./3");var l=e("./4_alpha");var u=r;u.LATEST_VERSION="4_alpha";u.LATEST_PUBLIC_VERSION=3;var c=null;var f=["0","1","2","3","4_alpha"];var d={0:{display_name:"0",node_version:14,is_public:true,can_upgrade:true},1:{display_name:"1",node_version:14,is_public:true,can_upgrade:true},2:{display_name:"2",node_version:14,is_public:true,can_upgrade:true},3:{display_name:"3",node_version:14,is_public:true,can_upgrade:false},"4_alpha":{display_name:"4 (alpha)",node_version:16,is_public:false,can_upgrade:false}};u.get_pv_metadata=function(e){return d[e!=null?e:"0"]};var p=null;u.get_all_version_messages=function(){if(!p){p=[];for(var e=0;e<f.length;e++){var t=m[_(e)],r=t.message,n=t.changelog,o=t.date;p.push({id:_(e),message:r,changelog:n,date:o})}}return p};function _(e){return f[e]}var m={};m["0"]=o;m["1"]=s;m["2"]=i;m["3"]=a;m["4_alpha"]=l;u.get_pv=function(e){if(!c){v()}return c[e!=null?e:"0"]};function y(e){return m[e]}function v(){var t=0;var r=e("./latest");c={};for(var o=f.length;o>=t;o--){r=c[_(o)]=n.extend({},r,y(_(o)))}}u.meta_mapping={0:0,1:1,2:2,3:3,"4_alpha":4}},{"../u":687,"./0":625,"./1":626,"./2":627,"./3":628,"./4_alpha":629,"./latest":630}],632:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/web.queue-microtask.js");e("core-js/modules/web.dom-collections.for-each.js");var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s=i(e("./PortalContext"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){"@babel/helpers - typeof";return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){return p(e)||d(e,t)||c(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function p(e){if(Array.isArray(e))return e}t.exports=function e(t){if(o.isServer){return""}var r=document.createTextNode("");function i(){if(n.sharedConfig.context){var e=(0,n.createSignal)(false),r=l(e,2),o=r[0],s=r[1];queueMicrotask((function(){return s(true)}));return function(){return o()&&t.children}}else return function(){return t.children}}var u=(0,n.useContext)(s.default);function c(e){u.addElement(e);(0,n.onCleanup)((function(){return u.removeElement(e)}))}function f(e){if(e==null)return;if(a(e)==="object"){c(e)}else{c(document.createTextNode(String(e)))}}var d=(0,n.children)(i());(0,n.createRenderEffect)((function(){var e=d();if(Array.isArray(e)){e.forEach(f)}else{f(e)}}));return r}},{"./PortalContext":635,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.queue-microtask.js":993}],633:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.default=r.EditorContext=void 0;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=(0,n.createContext)();r.EditorContext=o;var s=o;r.default=s},{}],634:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:true});r.default=m;e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=u(e("../shared/responsive/responsive_css"));var a=e("./EditorContext");var l=e("./solid_utils/autorun_signals");function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){d(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function d(e,t,r){t=p(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m(e){var t=e.instance;if(t.edit_mode()){var r=t.element.E.edit_fallback_component;if(r!=null){var n=Object.create(t.element);n.should_add_extra_wrapper=function(){return false};var u=r.buildComponent(n,undefined);(0,s.onMount)((function(){if(!t.is_drawn){t.mark_skeleton_ready();t.initialize_canvas()}}));return(0,o.createComponent)(u,{instance:t})}}var c=t.element.added_to_container();if(t.canvas==null){var d=t.edit_mode()?"inner-element":"bubble-element ".concat(t.element.type());var p=t.get_html();t.canvas=$(p);t.canvas.addClass(d);if(t.edit_mode()){t.canvas.attr("id",t.element_id().replace(/[^a-zA-Z0-9]/g,"_"))}t.canvas[0].bubble_data={bubble_instance:t};t._observe_canvas()}(0,l.onAfterMount)((function(){var e=t.canvas;if(!c){t.position_canvas(e)}if(!t.has_skeleton){t.create_child_skeletons()}var r=[];if(!t.edit_mode()&&c){r.push(t.autorun((function(){e.css(i.default.element_reset);e.css(t.container.element_css(t))})),t.autorun((function(){e.css("z-index",t.element.get_zindex())})),t.autorun((function(){if(t.get_static_property("collapse_when_hidden")){var r=t.autorun((function(){if(t.container.should_collapse(t)){e.css("display","none")}else{e.css("display","")}}));r.set_run_immediately(true)}else{e.css("display","")}})))}t.mark_skeleton_ready();if(!t.is_drawn){t.initialize_canvas()}t.get_children_drawn_key().turn();return function(){r.forEach((function(e){e.destroy()}))}}));if(t.edit_mode()){var _=(0,s.createMemo)((function(){return f(f({},t.container.element_css(t)),{},{"z-index":t.element.get_zindex(),display:t.get_static_property("collapse_when_hidden")&&t.container.should_collapse(t)?"none":""})}));var m=(0,s.useContext)(a.EditorContext).wrapper;return(0,o.createComponent)(m,{instance:t,get style(){return _()},get children(){return t.canvas[0]}})}else{return c?t.canvas[0]:document.createTextNode("")}}},{"../shared/responsive/responsive_css":668,"./EditorContext":633,"./solid_utils/autorun_signals":640,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],635:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.default=void 0;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=(0,n.createContext)({addElement:function e(t){document.body.appendChild(t)},removeElement:function e(t){document.body.removeChild(t)}});r.default=o},{}],636:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.RenderElement=d;e("core-js/modules/es.array.map.js");var o={template:function(){},createContext:function(){},delegateEvents:function(){}};var s={template:function(){},createContext:function(){},delegateEvents:function(){}};var i=f(e("../logger"));var a=e("./solid_utils/autorun_signals");var l=u(e("./LegacyComponent"));function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=c(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function d(e){var t;var r=e.instance;if(!r.is_solid_initialized){i.warn("Attempting to render an element which doesn't have solid initialized. ".concat(r.toUniqueString()));return}if(r.element.solid_component!=null||r.children.length===0){(0,a.onAfterMount)((function(){return r.mark_skeleton_ready()}))}var n=(t=r.element.solid_component)!=null?t:l.default;var u=function t(){if(r.child_container){return(0,o.createComponent)(n,(0,o.mergeProps)(e,{get children(){return r.children.map((function(e){return(0,o.createComponent)(d,{instance:e})}))}}))}else{return(0,o.createComponent)(n,e)}};if((0,s.untrack)((function(){return r.draw_signal.get()}))){return u()}return(0,o.createComponent)(s.Show,{get when(){return r.draw_signal.get()},get children(){return u()}})}},{"../logger":617,"./LegacyComponent":634,"./solid_utils/autorun_signals":640,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],637:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.default=r.TestContext=void 0;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};var o=(0,n.createContext)();r.TestContext=o;var s=o;r.default=s},{}],638:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.watchDraw=s;e("core-js/modules/web.dom-collections.for-each.js");var n=e("../u/shared/async/b_async");function o(e){if(e._is_visible||e.is_visible(true))return(0,n.FakeKey)();var t=(0,n.MakeKey)(undefined,"".concat(e.element_id()," turned visible"));e._is_visible_cbs.push((function(){t.turn()}));return t}function s(e,t){function r(e,s){var i=o(e);var a=(0,n.MakeKeyList)([s,i]);function l(t){if(!e.element.E.draw_children){var r=function r(){e.children.forEach((function(e){if(e.element.added_to_container()){t(e)}}))};if(e.child_container==null&&e.children.length>0){e.wait_for_first_draw(r)}else{r()}}}if(a.is_turned()){t.onDraw(e);l((function(e){r(e,(0,n.FakeKey)())}))}else{var u=function t(){if(e.element.ignores_child_sizes()){(0,n.WaitFor)(a,(function(){l((function(e){r(e,(0,n.FakeKey)())}))}))}else{l((function(e){r(e,a)}))}};t.onSizeDraw(e);(0,n.WaitFor)(a,(function(){return t.onDraw(e)}));if(e.element.no_size_when_hidden()){(0,n.WaitFor)(i,u)}else{u()}}}r(e,(0,n.FakeKey)())}},{"../u/shared/async/b_async":695,"core-js/modules/web.dom-collections.for-each.js":990}],639:[function(e,t,r){"use strict";var n={template:function(){},createContext:function(){},delegateEvents:function(){}},o=n.ssr;function s(e){return o(e.html)}t.exports=s},{}],640:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.createAutorun=O;r.createWatcher=S;r.onAfterMount=w;e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.promise.js");var o=f(e("../../u/shared/async/autorun"));var s=f(e("../../u/shared/mode_check"));var i={template:function(){},createContext:function(){},delegateEvents:function(){}};var a=u(e("../TestContext"));var l=e("../../u/shared/errors");function u(e){return e&&e.__esModule?e:{default:e}}function c(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(c=function e(n){return n?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=c(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function d(e,t){return m(e)||_(e,t)||b(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function m(e){if(Array.isArray(e))return e}function y(e){return j(e)||h(e)||b(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(!e)return;if(typeof e==="string")return g(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(e,t)}function h(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j(e){if(Array.isArray(e))return g(e)}function g(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function w(e,t){(0,i.createEffect)((function(){var r;var n;var o=false;var u=(r=t==null?void 0:t.map((function(e){return e()})))!=null?r:[];if(s.running_test()){var c=(0,i.useContext)(a.default);if(c==null){throw new l.UnexpectedError("Invalid test state while running solid test")}c.afterMounts.push((function(){n=e.apply(void 0,y(u))}))}else{void Promise.resolve().then((function(){if(!o){n=e.apply(void 0,y(u))}}))}(0,i.onCleanup)((function(){var e;(e=n)==null?void 0:e();o=true}))}))}function O(e){w((function(){var t=o.autorun(e);return function(){return t.destroy()}}))}function S(e,t){var r=(0,i.createSignal)(t==null?void 0:t.fallback),n=d(r,2),s=n[0],a=n[1];w((function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}var s=o.Watcher((function(){return e.apply(void 0,r)}));s.on_value(a);return function(){return s.destroy()}}),t==null?void 0:t.inputs);return s}},{"../../u/shared/async/autorun":693,"../../u/shared/errors":708,"../../u/shared/mode_check":713,"../TestContext":637,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.promise.js":962,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],641:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.OptimizedShow=o;var n={template:function(){},createContext:function(){},delegateEvents:function(){}};function o(e){if(e.isStatic){return e.when?function(){return e.children}:function(){return e.fallback}}else{return(0,n.Show)(e)}}},{}],642:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");var n=r;var o=e("./u/shared/b_string");var s="Failed to establish a connection";n.is_retryable=function(e,t,r,n){if(r){if(r(t,e)){return true}}if(e){var i;if(o.string_contains(e.message,s)){return true}switch((i=e.args)==null?void 0:i.code){case"ESOCKETTIMEDOUT":if(!n){return true}break;case"ECONNRESET":case"ECONNREFUSED":case"ETIMEDOUT":case"EHOSTUNREACH":case"ENETUNREACH":case"EPROTO":return true}if(o.string_contains(e.message,"socket hang up")){return true}if(o.string_contains(e.message,"SSL3_GET_RECORD:decryption failed or bad record mac")){return true}}if(t){if([429,502,503,504].includes(t.statusCode)){return true}}return false}},{"./u/shared/b_string":703,"core-js/modules/es.array.includes.js":933}],643:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");var o=a(e("url"));var s=a(e("querystring"));function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(i=function e(n){return n?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=i(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var l=s?Object.getOwnPropertyDescriptor(e,a):null;if(l&&(l.get||l.set)){Object.defineProperty(o,a,l)}else{o[a]=e[a]}}}o.default=e;if(r){r.set(e,o)}return o}t.exports={safe_require:u,safe_register:c};if(typeof window!=="undefined"){window.safe_require={safe_require:u,safe_register:c}}var l={url:o,querystring:s};function u(t){var r=l[t];if(r!=null){return r}var n=t.split("/");if(typeof window!=="undefined"&&n[1]==="optional"){var o=n[n.length-1];var s=window.optional_modules;if(o in s){var i=s[o];return i}else{throw new Error("could not find optional module: "+t)}}else{return e(t)}}function c(e,t){l[e]=t}},{"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,querystring:1237,url:748}],644:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.function.name.js");function n(e){return a(e)||i(e)||s(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}function i(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function a(e){if(Array.isArray(e))return l(e)}function l(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var u=r;var c=e("../../u");var f=e("../../lib");var d=e("../../editor/css");var p=e("../shared/plugin_getter");var _=e("../../safe_require");_.safe_register("./services/client/editor_utils",u);u.enter_your_api_key_button_field_names={key_info:{no_states:true}}},{"../../editor/css":481,"../../lib":614,"../../safe_require":643,"../../u":687,"../shared/plugin_getter":649,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],645:[function(e,t,r){"use strict";var n=e("../../../u");var o=e("../../../client_config");var s=e("../../../logger");var i=e("../../../pluginservice");var a=e("../../shared/utilities/get_error_message"),l=a.get_error_message;var u=false;var c=false;var f="Using plugins in testing mode can considerably slow down your application as they are not cached. You should only use a test app to test plugins.";var d="Testing plugins should not be done with an application in a dedicated cluster. Please test your plugin with an app on the main cluster.";t.exports=function e(t,r,a){var l,u;var m=(l=window)==null?void 0:(u=l.plugins)==null?void 0:u[r];if(typeof m==="string"){m=n.json_parse(m)}if(p(m)){_(r,m);return}if(a==="current"){if(!c){s.owner_warn(f);if(o.is_dedicated){s.owner_warn(d)}c=true}}return new i.ThirdPartyPluginWrapper(r,a,m)};function p(e){return e==null||n.is_empty(e)||e.forbidden}function _(e,t){if(t==null){if(window.bubble_no_third_party_plugin){if(u){return}s.owner_warn("Community plugins are not loaded in safe mode.");u=true}else{s.owner_error("Plugin could not be loaded",{display:"The plugin ".concat(e," could not be loaded. Please check it exists.")})}}else if(t.forbidden){s.owner_error(t.forbidden,{display:l(t,e)})}}},{"../../../client_config":55,"../../../logger":617,"../../../pluginservice":624,"../../../u":687,"../../shared/utilities/get_error_message":653}],646:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.keys.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=i(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}var c=r;var f=e("../u");var d=e("../lang/appquery");var p=e("../constants/plugin");var _=e("../logger");var m=e("lodash/isEqual");var y=e("./shared/service_type_parser");var v=e("./shared/plugin_getter");var b=e("../safe_require");b.safe_register("./services",c);var h;if(f.on_server()){var j=e;h=j("../u/shared/async/b_fiber")}var g={};function w(e){return JSON.stringify(e)}c.log_plugin_element_init=function(e){var t=w(e);if(!g[t]){_.verbose("plugin initialized",e);g[t]=true}};c.get_oauth_authenticator=function(e){if(!e){return null}if(e.indexOf(p.PLUGIN_SEPARATOR)===-1){var t;return(t=v.get_plugin(e))==null?void 0:t.get_authenticator()}else{var r;var n=y.get_plugin_and_type(e,"oauth"),s=o(n,2),i=s[0],a=s[1];return(r=v.get_plugin(i))==null?void 0:r.get_authenticator(a,"oauth")}};c.get_api_calls=f.autorun_cache((function(){var e={};var t=n(d.list_plugins()),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;var s=v.get_plugin(o);var i=s==null?void 0:s.get_public_calls();var a=n(i!=null?i:[]),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;var c=o+"."+u;var f=s.get_call(u);if(!f){_.error("could not find call",{name:c})}else{e[c]=f}}}catch(e){a.e(e)}finally{a.f()}}}catch(e){t.e(e)}finally{t.f()}return e}));c.get_api_calls_ids=f.autorun_cache({fn:function e(){return new Set(Object.keys(c.get_api_calls()))},compare_fn:m});c.get_user_calls=function(){var e,t;var r={};(e=h)==null?void 0:e.optional_pause();var s=n(d.get_user_calls()),i;try{for(s.s();!(i=s.n()).done;){var a;var l=i.value;(a=h)==null?void 0:a.optional_pause();var u=y.get_plugin_and_type(l),c=o(u,2),f=c[0],p=c[1];var _=v.get_plugin(f);if(_==null){continue}var m=_==null?void 0:_.get_call(p);if(m){r[p]=m}}}catch(e){s.e(e)}finally{s.f()}(t=h)==null?void 0:t.optional_pause();return r};c.get_value_ids=f.autorun_cache((function(){var e=[];var t=n(d.list_plugins()),r;try{for(t.s();!(r=t.n()).done;){var o=r.value;var s=v.get_plugin(o);if(s){var i=n(s.get_public_values()),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;e.push(s.get_values()[l].full_name)}}catch(e){i.e(e)}finally{i.f()}}}}catch(e){t.e(e)}finally{t.f()}return e}));c._last_date_generated=null},{"../constants/plugin":86,"../lang/appquery":535,"../logger":617,"../safe_require":643,"../u":687,"./shared/plugin_getter":649,"./shared/service_type_parser":651,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/isEqual":1184}],647:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=e("../lang/appquery");t.exports=function e(t){return n.list_plugins().includes(t)}},{"../lang/appquery":535,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],648:[function(e,t,r){"use strict";var n=e("./shared/registry_management");var o=e("../../safe_require");var s=r;o.safe_register("./services/shared/internal_service_registry",s);s.services={};s.add_service=function(e,t){n.add_to_registry(e,t,s.services)};s.get_service=function(e){if(e==null){return}if(s.services[e]!=null){return s.services[e]}}},{"../../safe_require":643,"./shared/registry_management":652}],649:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.entries.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=e("../../u");var c=e("../../lang/appquery");var f=e("./service_type_parser");var d=e("../../safe_require");var p=e("./plugin_registry");var _=e("./internal_service_registry");var m=e("../../logger");var y=r;y.initialize=b;y.get_plugin=g;y.get_app_plugins=j;d.safe_register("./services/shared/plugin_getter",y);var v;function b(e){if(v==null){v=e}else{throw new Error("plugin_getter: pluginservice_getter_fn already initialized")}}function h(e){if(v==null){throw new Error("plugin_getter.".concat(e," called before initialization"))}}function j(){h("get_app_plugins");return Object.entries(c.get_plugin_versions()).map((function(e){var t=n(e,2),r=t[0],o=t[1];return g(r,o)}))}function g(e,t){h("get_plugin");if(e==null){return}var r=_.get_service(e);if(r!=null){m.warn("plugin_getter: provided name is an internal service, not a plugin",{service_name:e,version:t});return r}var n=p.get_hardcoded_plugin(e,t);if(n!=null){return n}var o=e;if(e.indexOf("_current")!==-1){e=f.get_plugin_id(e);t="current"}if(!u.is_UUID(e)){return}if(!t){t=c.get_plugin_version(e);if(!t){return}}return w(e,o,t)}var w=u.autorun_cache((function(e,t,r){return v(e,t,r)}))},{"../../lang/appquery":535,"../../logger":617,"../../safe_require":643,"../../u":687,"./internal_service_registry":648,"./plugin_registry":650,"./service_type_parser":651,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],650:[function(e,t,r){(function(t){(function(){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var c=e("fs");var f=e("path");var d=e("../../u");var p=e;var _=e("./shared/registry_management");var m=e("../../lang/appquery");var y=e("../../safe_require");var v=r;y.safe_register("./services/shared/plugin_registry",v);v.register_plugin=O;v.get_hardcoded_plugin=S;v.on_plugin_registration=w;v.get_app_hardcoded_plugins=k;var b={};var h=[];var j=[];var g={};v.defaults_for_plugins_settings=g;function w(e){var t=a(h),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;e(n,b[n])}}catch(e){t.e(e)}finally{t.f()}j.push(e)}function O(e,r){if(d.on_server()){var n="../server/"+e+"_server";var o=f.join(t,"".concat(n,".js"));if(c.existsSync(o)){d.extend(r.cls.prototype,p("./"+n))}}_.add_to_registry(e,r.cls,b);h.push(e);var s=b[e];for(var i in s.keys){var l=s.keys[i];if(l.default){g[e+"_"+i]=l.default}}var u=a(j),m;try{for(u.s();!(m=u.n()).done;){var y=m.value;y(e,s)}}catch(e){u.e(e)}finally{u.f()}}function S(e){if(e==null){return}if(b[e]!=null){return b[e]}}function k(){return Object.entries(m.get_plugin_versions()).filter((function(e){var t=n(e,2),r=t[0],o=t[1];return o===true})).map((function(e){var t=n(e,1),r=t[0];return S(r)}))}}).call(this)}).call(this,"/lib-browser-old/services/shared")},{"../../lang/appquery":535,"../../safe_require":643,"../../u":687,"./shared/registry_management":652,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,fs:743,path:1226}],651:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.get_plugin_and_type=a;r.get_plugin_id=l;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");var o=i(e("../../constants/plugin"));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(s=function e(n){return n?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=s(t);if(r&&r.has(e)){return r.get(e)}var o={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;if(l&&(l.get||l.set)){Object.defineProperty(o,a,l)}else{o[a]=e[a]}}}o.default=e;if(r){r.set(e,o)}return o}function a(e){if(!e){return[null,null]}if(!e.includes(o.PLUGIN_SEPARATOR)){return[null,e]}var t=e.split(o.PLUGIN_SEPARATOR);return[t[0],t.slice(1).join(o.PLUGIN_SEPARATOR)]}function l(e){return e.split("_current")[0]}},{"../../constants/plugin":86,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],652:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");var n=e("../../../u");var o=r;o.add_to_registry=s;function s(e,t,r){if(!r[e]){var o;var s=new t;s.name=e;(o=s.human)!=null?o:s.human=n.toTitleCase(e);r[e]=s;if(!s.authenticator){throw new n.UnexpectedError("Error building service "+e+": missing authenticator")}if(typeof s.authenticator!=="function"){s.authenticator._service=s}}}},{"../../../u":687,"core-js/modules/es.function.name.js":942}],653:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.get_error_message=s;var n=o(e("../../../client_config"));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){var r,o,s,i;switch(e.forbidden){case"NOT_PAID":return"The plugin "+((r=e.caption)!=null?r:t)+" is published under a commercial license and this app does not have a subscription. Please subscribe in the editor.";case"BLOCKED":return"The plugin "+((o=e.caption)!=null?o:t)+" is blocked by Bubble.";case"NOT_AUTHORIZED":return"The plugin "+((s=e.caption)!=null?s:t)+" is published under a private license and this app is not authorized.";case"NOT_TEST_APP":return"The plugin "+((i=e.caption)!=null?i:t)+" is in test mode and the current app is not the registered test app.";case"ISSUE":{var a;var l="The plugin "+((a=e.caption)!=null?a:t)+" could not be retrieved for this app. ";if(n.default.is_dedicated){l+="Please upgrade your Dedicated Cluster and try again."}else{l+="Please make sure it exists."}return l}}}},{"../../../client_config":55}],654:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.get_hardcoded_plan=S;r.hardcoded_apps=A;r.is_app_with_testing_plan=O;r.is_blocked=y;r.is_forkable=b;r.is_hardcoded=j;r.is_local_editable=v;r.is_meta=g;r.is_test=w;r.no_issue_checker=h;e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.object.freeze.js");var o=e("../constants/apps");var s=l(e("../client_config"));var i;function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function u(e,t){return _(e)||p(e,t)||f(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){if(!e)return;if(typeof e==="string")return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function d(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function p(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function _(e){if(Array.isArray(e))return e}o.SPECIAL_APPS.meta.hard_code=(i=s.meta_hardcoded)!=null?i:false;function m(e,t){var r,n;return(r=(n=o.SPECIAL_APPS[e])==null?void 0:n[t])!=null?r:false}function y(e){return m(e,"blocked")}function v(e){return m(e,"editable")}function b(e){return m(e,"forkable")}function h(e){return m(e,"no_issue_checker")}function j(e){return m(e,"hard_code")}function g(e){return m(e,"meta")}function w(e){return m(e,"test")}function O(e){var t;return((t=o.SPECIAL_APPS[e])==null?void 0:t.plan)==="app_testing"}function S(e){if(e in o.SPECIAL_APPS){var t=o.SPECIAL_APPS[e];if(t.plan){return t.plan}if(t.hard_code){return"app_personal_2019"}}return undefined}var k;function A(){if(k==null){var e;(e=k)!=null?e:k=new Set(Object.entries(o.SPECIAL_APPS).filter((function(e){var t=u(e,2),r=t[0],n=t[1];return n.hard_code})).map((function(e){var t=u(e,2),r=t[0],n=t[1];return r})));Object.freeze(k)}return k}},{"../client_config":55,"../constants/apps":60,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.freeze.js":951,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],655:[function(e,t,r){"use strict";e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=e("../lib");var o=e("../core/core_elements/shared/links");var s=e("../u");var i=r;i.build_page_url_for_action=function(e,t,r,i,a,l,u){var c={};var f="";if(u){f=u}if(s.is_debug_mode()){c.debug_mode=true}var d={};if(t){var p=r!=null?r:{};for(var _ in p){var m=p[_];d[m.key]=m.value}}if(i){d=s.extend(n().location.get_query(),d)}for(var y in d){var v=d[y];if(!o.forbidden_url_keys.includes(y)){c[y]=v}}var b={pg_thing:f,data_fr_link:c};return b}},{"../core/core_elements/shared/links":361,"../lib":614,"../u":687,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.string.includes.js":972}],656:[function(e,t,r){"use strict";var n=r;var o=e("../constants/locations");var s=e("../client_config");n.uid_cookie_name=function(e,t,r){var n,i,a;var l=(n=(i=(a=s.cookie_name_prefix)!=null?a:s.environment_name)!=null?i:s.env)!=null?n:"";return e+"_u1"+(t!==o.LIVE_VERSION?"_"+t:"")+l+(r?"_"+r:"")};n.sid_cookie_name=function(e,t,r){var n,o,i;var a=(n=(o=(i=s.cookie_name_prefix)!=null?i:s.environment_name)!=null?o:s.env)!=null?n:"";return e+"_"+t+"_u2"+a+(r?"_"+r:"")};n.debug_mode_cookie_name=function(e){return"".concat(e,"_debug_mode")};n.firebase_cookie_name=function(e,t){return e+"-"+t}},{"../client_config":55,"../constants/locations":82}],657:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.LABEL_REGEX=void 0;r.get_dedicated_env=R;r.get_domain_from_referer=N;r.is_appname_valid=w;r.is_environment_dedicated=C;r.is_host_aws=k;r.is_host_ip_address=A;r.is_host_on_bubble=P;r.is_hostname_bubble=x;r.is_hostname_bubble_plus_subdomain=M;r.is_hostname_dedicated=I;r.is_hostname_local_bubble=S;r.is_hostname_valid=O;r.is_internal_request=E;r.is_origin_on_bubble=T;r.validate_url=L;e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.url.js");var o=l(e("../constants/domain"));var s=i(e("../safe_require"));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}s.default.safe_register("./shared/domain_utilities",r);var u=/^(?:[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?)$/;r.LABEL_REGEX=u;var c=/^(?:[a-z\d](?:[a-z\d-]{0,61}[a-z\d])?\.)+(?:xn--[a-z\d]+|[a-z]{2,})$/;var f=/^(?:https?:\/\/)?(?:[^@/\n]+@)?(?:www.)?([^:/\n]+)/;var d="bubble\\.i[so]";var p="(td|d\\d+)";var _=new RegExp("^".concat(d,"$"));var m=new RegExp("^([a-z\\d-]+\\.)?".concat(o.META_HOSTNAME,"$"));var y=new RegExp("^https:\\/\\/([a-z\\d-]+\\.)?".concat(d,"$"));var v=new RegExp("\\b".concat(d,"(?:$|/)"));var b=new RegExp("^".concat(p,"\\.").concat(d,"$"));var h=new RegExp("^".concat(p,"$"));var j=/\.amazonaws\.com(?::\d+)?$/;var g=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/;function w(e){return u.test(e)}function O(e){return c.test(e)}function S(e){return e===o.LOCAL_HOSTNAME}function k(e){return j.test(e)}function A(e){return g.test(e)}function E(e){return!!e&&(e.startsWith("localhost")||k(e)||A(e))}function x(e){return _.test(e)}function M(e){return m.test(e)}function P(e){return v.test(e)}function T(e){return y.test(e)}function I(e){return b.test(e)}function C(e){return h.test(e)}function R(e){var t;if(!e){return}return(t=e.match(b))==null?void 0:t[1]}function N(e){if(e!=null){if(e.startsWith(o.BLOG_URL)){return"bubble.io/blog"}var t=f.exec(e);if(t){return t[1]}}return"direct"}function L(e){try{return new URL(e)}catch(e){return false}}},{"../constants/domain":70,"../safe_require":643,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.url.js":995}],658:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.is_development=d;r.is_local=p;r.is_production=c;r.is_production_not_dedicated=_;r.is_test=f;var o=u(e("../constants/environment"));var s=u(e("../client_config"));var i=a(e("../safe_require"));function a(e){return e&&e.__esModule?e:{default:e}}function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=l(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}i.default.safe_register("./shared/environment_utilities",r);function c(){return s.env===o.PROD}function f(){return s.env===o.QA}function d(){return s.env===o.DEV||s.env===o.LOCAL}function p(){return s.env===o.LOCAL}function _(){return c()&&!s.is_dedicated}},{"../client_config":55,"../constants/environment":73,"../safe_require":643,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],659:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");var n=r;var o=e("../safe_require");o.safe_register("./shared/external_api_utilities",n);var s=e("../retryable");var i=e("../u/shared/errors");n.handle_request_failures=function(e){var t=String(e.message);if(t.indexOf("ENOTFOUND")!==-1){return new i.OwnerError("Could not find domain",{display:"Could not find domain:"+t.replace("ENOTFOUND","")})}else if(t.indexOf("Failed to establish a connection after")!==-1){return new i.OwnerError("Failed to establish a connection",{display:t})}else if(t.indexOf("ESOCKETTIMEDOUT")!==-1||t.indexOf("ETIMEDOUT")!==-1){return new i.OwnerError("Could not connect to remote server")}else if(t.indexOf("certificate has expired")!==-1){return new i.OwnerError("The remote server's SSL certificate has expired")}else if(t.indexOf("certificate not trusted")!==-1){return new i.OwnerError("There is an issue with the remote server's SSL certificate")}else if(t.indexOf("self signed certificate")!==-1){return new i.OwnerError("The remote server's SSL certificate is self-signed")}else if(t.indexOf("Invalid protocol")!==-1){return new i.OwnerError("The request protocol is invalid, it should only be 'http' or 'https'")}else if(t.indexOf("unable to verify the first certificate")!==-1){return new i.OwnerError("There is an issue with the remote server's SSL certificate")}else if(t.indexOf("Hostname/IP doesn't match certificate's altnames")!==-1){return new i.OwnerError("SSL Cert mismatch",{display:t})}else if(t.indexOf("Hostname/IP does not match certificate's altnames")!==-1){return new i.OwnerError("SSL Cert mismatch",{display:t})}else if(t.indexOf("Exceeded maxRedirects")!==-1){return new i.OwnerError("request maxRedirects",{display:t})}else if(s.is_retryable(e)){return new i.OwnerError("Could not connect to the remote server")}else{return e}}},{"../retryable":642,"../safe_require":643,"../u/shared/errors":708,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977}],660:[function(e,t,r){"use strict";e("core-js/modules/es.array-buffer.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");function n(){return $("body").css("imageOrientation")==="from-image"}function o(e){var t=e.orientation,r=e.canvas,o=e.context;if(n()){return}if(t>4){var s=r.width,i=r.height;r.width=i;r.height=s}switch(t){case 2:o.translate(r.width,0);o.scale(-1,1);break;case 3:o.translate(r.width,r.height);o.rotate(Math.PI);break;case 4:o.translate(0,r.height);o.scale(1,-1);break;case 5:o.rotate(.5*Math.PI);o.scale(1,-1);break;case 6:o.rotate(.5*Math.PI);o.translate(0,-r.width);break;case 7:o.rotate(.5*Math.PI);o.translate(r.height,-r.width);o.scale(-1,1);break;case 8:o.rotate(-.5*Math.PI);o.translate(-r.height,0);break}}function s(e){var t=e.image_url,r=e.file,n=e._cb;var o=new FileReader;o.onload=function(e){var t=new window.DataView(e.target.result);if(t.getUint16(0,false)!==65496){n(-2);return}var r=t.byteLength;var o=2;while(o<r){var s=t.getUint16(o,false);o+=2;if(s===65505){if(t.getUint32(o+=2,false)!==1165519206){n(-1);return}var i=t.getUint16(o+=6,false)===18761;o+=t.getUint32(o+4,i);var a=t.getUint16(o,i);o+=2;for(var l=0,u=a,c=u>=0;c?l<u:l>u;c?l++:l--){if(t.getUint16(o+l*12,i)===274){n(t.getUint16(o+l*12+8,i));return}}}else if((s&65280)!==65280){break}else{o+=t.getUint16(o,false)}}n(-1)};o.readAsArrayBuffer(r)}var i={WIDTH:800,HEIGHT:600};t.exports=function(e){var t=e.file,r=e.image_url,n=e.extension,a=e.success_callback,l=e.fail_callback,u=e.progress_bar_hide_fn;var c=n==="png"?"image/png":"image/jpeg";var f=document.createElement("img");f.src=r;f.onerror=function(){u();l==null?void 0:l()};f.onload=function(){var e=document.createElement("canvas");var r=f.width;var n=f.height;if(r>n){if(r>i.WIDTH){n*=i.WIDTH/r;r=i.WIDTH}}else{if(n>i.HEIGHT){r*=i.HEIGHT/n;n=i.HEIGHT}}s({file:t,_cb:function s(i){var l=e.getContext("2d");e.width=r;e.height=n;o({orientation:i,canvas:e,context:l});l.drawImage(f,0,0,r,n);t.contents=e.toDataURL(c,.8).split(",")[1];a()}})}}},{"core-js/modules/es.array-buffer.slice.js":925,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],661:[function(e,t,r){"use strict";var n=r;var o=e("../client_config");var s=e("../u");var i=e("../imgix");var a={};n.get_image_real_dimensions=function(e,t){if(!e){t({});return}if(a[e]){t(a[e]);return}function r(){var r=s.img(undefined,$("body"),e);r.hide();r.on("load",(function(){var n={width:r.width(),height:r.height()};r.remove();a[e]=n;t(n)}));r.on("error",(function(){r.remove();t({})}))}var n=s.fixedEncodeURIComponent(o.user_file_url);var l=e.indexOf(o.user_file_url)!==-1||e.indexOf(n)!==-1;var u=o.image_optimization_service&&e.indexOf(o.image_optimization_service)!==-1;if(l&&u){i.get_image_json_data(e,(function(n){if(!n){r()}else{a[e]=n;t(n)}}))}else{r()}}},{"../client_config":55,"../imgix":512,"../u":687}],662:[function(e,t,r){(function(e){(function(){"use strict";var t=r;t.initialize_globals=function(){if(typeof e==="undefined"){return}var t=["window","document","navigator"];for(var r=0,n=t;r<n.length;r++){var o,s;var i=n[r];(s=(o=e)[i])!=null?s:o[i]=undefined}};t.initialize=function(){Error.stackTraceLimit=1e3;t.initialize_globals()}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],663:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u=r;var c=e("../lib");var f=e("../u/shared/async/b_fiber");var d=e("../u/shared/mode_check");var p=e("./environment_utilities");var _=e("../constants/special_logging_apps");var m=e("../constants/logging");var y=e("../shared/test_apps_utilities");var v=function(){function e(t){o(this,e);this.filter=t}i(e,[{key:"active",value:function e(t){var r;(r=t)!=null?r:t={};return this.filter(t)}}]);return e}();u.Investigation=v;function b(e,t){return function(){var r;var n=(r=f.Fiber)==null?void 0:r.current;if(n!=null){var o,s,i;(o=n.investigations)!=null?o:n.investigations={};(i=(s=n.investigations)[e])!=null?i:s[e]=Math.random()<t;return n.investigations[e]}else{return false}}}function h(e){return Math.random()<e}function j(){var e,t;var r=(e=(t=c()).appname)==null?void 0:e.call(t);if(d.running_test()||y.is_e2e_test_appname(r)){return true}else{var n;return(n=_.ALL[r])!=null?n:false}}function g(e){if(h(e)){return new v((function(){return true}))}else{return new v((function(){return false}))}}u.frozen_state_discrepancies=new v((function(){var e;if(p.is_production()){e=.001}else if(d.running_test()){e=1}else{e=.1}return h(e)}));u.frozen_state_debugging=new v(j);u.workflow_execution=new v(j);u.action_update_thing=new v(j);u.postgres_dangerous_procedures=new v((function(e){var t=e.appname,r=e.proc;return _.ALL[t]&&m.SPECIAL_LOGGING_PROCS[r]}));u.fetch_bigger_chunks=g(.01)},{"../constants/logging":83,"../constants/special_logging_apps":96,"../lib":614,"../shared/test_apps_utilities":674,"../u/shared/async/b_fiber":696,"../u/shared/mode_check":713,"./environment_utilities":658,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],664:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.is_zero_decimal_currency=r.get_service_corrected_amount=r.get_bubble_corrected_amount=void 0;e("core-js/modules/es.number.to-fixed.js");e("core-js/modules/es.array.includes.js");var o=u(e("./../safe_require"));var s=l(e("../u/shared/errors"));var i=u(e("../lib"));function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function u(e){return e&&e.__esModule?e:{default:e}}o.default.safe_register("./shared/payment_converter",r);function c(e,t){if(t){return parseInt((100*e).toFixed())}return parseInt(e.toFixed())}function f(e,t){if(t){return parseFloat(String(e/100))}return parseInt(e.toFixed())}var d={stripe:function e(t,r,n){if(t==null){return null}var o;if(n&&i.default.or_throw().bubble_version()<14){o=true}else{o=!m(r)}return c(t,o)},braintree:function e(t){return parseFloat(t.toFixed(2))}};var p=function e(t){var r=t.service_name,n=t.bubble_amount,o=t.currency,i=t.only_after_bv14;if(d[r]==null){throw new s.UnexpectedError("unsupported service",{service_name:r})}return d[r](n,o,i)};r.get_service_corrected_amount=p;var _=function e(t,r,n){if(t==null){return null}var o;if(n&&i.default.or_throw().bubble_version()<14){o=true}else{o=!m(r)}return f(t,o)};r.get_bubble_corrected_amount=_;var m=function e(t){if(t==null){return false}return["BIF","CLP","DJF","GNF","JPY","KMF","KRW","MGA","PYG","RWF","UGX","VND","VUV","XAF","XOF","XPF"].includes(t.toUpperCase())};r.is_zero_decimal_currency=m},{"../lib":614,"../u/shared/errors":708,"./../safe_require":643,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.number.to-fixed.js":948,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],665:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.getPricingPlanKey=c;r.isStateR=u;r.registerIsStateRHook=f;r.registerPricingPlanKeyHook=d;var o=i(e("../logger"));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(s=function e(n){return n?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=s(t);if(r&&r.has(e)){return r.get(e)}var o={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;if(l&&(l.get||l.set)){Object.defineProperty(o,a,l)}else{o[a]=e[a]}}}o.default=e;if(r){r.set(e,o)}return o}var a;var l;function u(){if(!a){o.warn("No function registered to isStateR");return false}return a()}function c(e){if(!l){o.warn("No function registered to getPricingPlanKey");return undefined}return l(e)}function f(e){a=e}function d(e){l=e}},{"../logger":617,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],666:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=e("../../u");var p=e("../../lib");var _=e("./responsive_css");var m=e("../../lang/lang");var y=e("./responsive_layout");var v=e("../../lang/evaluation/element_eval");var b=e("../../lang/evaluation/element_props");var h=e("../../client/responsive_v0/containers");t.exports=function(){function e(t,r){var n=this;a(this,e);this.owner_instance=t;this.container_canvas=r;this._destroy_fns=[];this.instances={};this.element_autoruns={};this.child_containers=[];this.flow_created=d.MakeKey(null,"flow created");this.dependency=d.Dependency();if(this.owner_instance!=null&&this.container_canvas!=null){if(this.owner_instance.run_mode()){this.handle_extra_wrapper()}this.container_canvas.addClass("bubble-r-container");if(this.owner_instance.element.type()==="Page"){if(d.is_debug_mode()){var o=300;if(this.owner_instance.element.container_layout()==="fixed"){this.container_canvas.css("height",this.container_canvas.height()+o)}else{this.container_canvas.css("padding-bottom",o)}}}this.autorun((function(){var e=n.layout();n.container_canvas.removeClass(y.CONTAINER_CLASSES);n.container_canvas.addClass(e.classes);n.container_canvas.css(n.get_container_props())}))}}u(e,[{key:"get_container_props",value:function e(){var t=this.layout();var r={};for(var n in t.container_properties){var o=t.container_properties[n];r[o]=v.evaluate_property(this.owner_instance,n)}return _.container_properties(r)}},{key:"destroy",value:function e(){var t,r;if(this.destroyed){return}this.destroyed=true;(t=this.owner_instance)==null?void 0:t.destroy();this.owner_instance=null;var n=o((r=this.child_containers)!=null?r:[]),s;try{for(n.s();!(s=n.n()).done;){var i=s.value;i.destroy()}}catch(e){n.e(e)}finally{n.f()}var a=o(this._destroy_fns),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;u()}}catch(e){a.e(e)}finally{a.f()}this._destroy_fns=undefined}},{key:"on_destroy",value:function e(t){if(this.destroyed){t()}else{this._destroy_fns.push(t)}}},{key:"autorun",value:function e(t,r){var n=this;var o=d.autorun((function(){if(!n.destroyed){t()}}),r);this.on_destroy((function(){return o.destroy()}));return o}},{key:"handle_extra_wrapper",value:function e(){if(this.owner_instance.element.should_add_extra_wrapper()){this.container_canvas.addClass("bubble-r-container-wrapper");this.container_canvas=d.div("",this.container_canvas)}}},{key:"layout_type",value:function e(){var t;return(t=this.owner_instance.element.container_layout())!=null?t:"fixed"}},{key:"layout",value:function e(){return y.LAYOUT_PROPERTIES[this.layout_type()]}},{key:"resize_width",value:function e(){}},{key:"add_to_instances",value:function e(t){this.instances[t.element_id()]=t}},{key:"remove_from_instances",value:function e(t){delete this.instances[t.element_id()]}},{key:"ready_key",value:function e(){return this.flow_created}},{key:"get_canvas",value:function e(){return this.container_canvas}},{key:"get_owner",value:function e(){return this.owner_instance}},{key:"render",value:function e(t){var r=$(t);r.addClass("bubble-element");return r}},{key:"to_canvas",value:function e(t){return t.canvas}},{key:"set_height",value:function e(t,r){t.canvas.css("height",r)}},{key:"get_width_properties",value:function e(t){var r=t.element;var n=this.layout_type()===y.FIXED_LAYOUT;return{min_width:n?r.get_width():b.min_width_css(t),max_width:n?r.get_width():b.max_width_css(t),min_height:n?r.get_height():b.min_height_css(t),max_height:n?r.get_height():b.max_height_css(t),fit_width:b.is_fitting_width(t),fit_height:b.is_fitting_height(t),has_fixed_aspect_ratio:r.has_fixed_aspect_ratio()}}},{key:"should_collapse",value:function e(t){return!t.is_visible_me()&&!(t.is_animating()&&t._is_animating_me)}},{key:"element_css",value:function e(t){var r=t.element;var n=this.layout();var s=this.get_width_properties(t);var i=o(_.margin_properties),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;s[l]=v.evaluate_property(t,l)}}catch(e){i.e(e)}finally{i.f()}for(var u in n.element_properties){var c=n.element_properties[u];s[c]=v.evaluate_property(t,u)}var f=n.css_func(s);if(!r.E.uses_css_responsive){var d;f["min-width"]=r.get_min_width();f["max-width"]=(d=r.get_max_width())!=null?d:"";if(!t.run_mode()){f.width=r.get_width();f.height=r.get_height();f["flex-grow"]=0}else{delete f.height}f["min-height"]="";f["max-height"]=""}return f}},{key:"setup_element",value:function e(t){var r=this;var n=this.to_canvas(t);var o=t.element;t.autorun((function(){n.css("z-index",o.get_zindex())}));t.autorun((function(){r.autorun((function(){n.css(_.element_reset);n.css(r.element_css(t))}));r.autorun((function(){if(t.get_static_property("collapse_when_hidden")){var e=r.autorun((function(){if(r.should_collapse(t)){n.hide()}else{n.show()}}));e.set_run_immediately(true)}else{n.show()}}))}))}},{key:"root_css",value:function e(t){var r,n;var o=t.element;return{width:t.run_mode()?"100%":p().visual_edit.root_width(),"min-width":o.root_min_width(),"max-width":(r=o.root_max_width())!=null?r:"","min-height":o.root_min_height(),"max-height":(n=o.root_max_height())!=null?n:""}}},{key:"setup_root",value:function e(t){var r=this;var n=this.to_canvas(t);n.css({"z-index":2,position:"relative"});this.autorun((function(){n.css(r.root_css(t))}))}},{key:"add",value:function e(t){var r=this;var n=t.element;var o=this.to_canvas(t);if(n instanceof m.Root){this.autorun((function(){r.setup_root(t)}));this.container_canvas.append(o);return}else if(!n.added_to_container()){return}var s=t.element.id();this.instances[s]=t;this.element_autoruns[s]=this.autorun((function(){r.setup_element(t)}));this.container_canvas.append(o)}},{key:"create_child",value:function t(r,n){var o=r.element.E.custom_definition;if(o){if(o().get_responsive_version()>0){return new e(r,n)}else if(!o().use_responsive_algorithm()){return new h.OldContainer(r,n)}else{return new h.Container(r,n,r.element.get_responsive_data())}}else{var s=new e(r,n);this.child_containers.push(s);return s}}},{key:"initialize",value:function e(){this.flow_created.turn()}},{key:"detach",value:function e(t){this.to_canvas(t).detach()}}]);return e}()},{"../../client/responsive_v0/containers":48,"../../lang/evaluation/element_eval":567,"../../lang/evaluation/element_props":568,"../../lang/lang":590,"../../lib":614,"../../u":687,"./responsive_css":668,"./responsive_layout":669,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],667:[function(e,t,r){"use strict";e("core-js/modules/es.array.sort.js");var n=r;var o=e("../../lang/evaluation/element_edit_eval");n.get_default_sizing=function(e){var t=e.width,r=e.height,n=e.can_fit_height;return{single_width:true,min_width_css:"".concat(t,"px"),horiz_alignment:"flex-start",min_height_css:"".concat(r,"px"),fit_height:n,single_height:!n}};n.on_container_layout_change_from_fixed=function(e){var t;if(e.is_root()){t=n.get_default_root_sizing({width:e.get_width(),height:e.get_height()})}else{t=n.get_default_sizing({width:e.get_width(),height:e.get_height(),can_fit_height:e.can_fit_height()})}for(var r in t){var o=t[r];e.set_property(r,o)}};n.get_default_root_sizing=function(e){var t=e.width,r=e.height;return{default_width:t,min_width_px:0,min_height_px:r}};n.calculate_flexbox=function(e){var t=e.container_height,r=e.container_width,n=e.element_data,o=e.layout_type,s=e.only_order;var i={};function a(e){delete e.cross_base;delete e.cross_size;delete e.cross_end;delete e.main_base;delete e.main_size;delete e.main_end;if(s){delete e.margin_left;delete e.margin_right;delete e.margin_top;delete e.margin_bottom}}var l,u,c,f,d,p,_;if(o==="row"){d="margin_left";f="margin_right";c="margin_top";u="margin_bottom";l=true;p=t;_=r}else if(o==="column"){c="margin_left";u="margin_right";d="margin_top";f="margin_bottom";l=false;_=t;p=r}else{return i}var m=[];for(var y in n){var v=n[y];var b=v.ih,h=v.it,j=v.il,g=v.iw;m.push(y);if(o==="row"){i[y]={cross_size:b,cross_base:h,cross_end:h+b,main_base:j,main_size:g,main_end:j+g}}else{i[y]={main_size:j,main_base:h,main_end:h+b,cross_base:j,cross_size:g,cross_end:j+g}}}if(m.length===0){return i}m.sort((function(e,t){return i[e].cross_base-i[t].cross_base}));var w=[];var O=null;for(var S=0,k=m;S<k.length;S++){var A=k[S];if(O==null||l&&i[A].cross_base>O.end){O={elements:[A],base:i[A].cross_base,end:i[A].cross_end};w.push(O)}else{O.elements.push(A);O.end=Math.max(O.end,i[A].cross_end)}}var E=0;var x=0;var M=1;for(var P=0;P<w.length;P++){var T=w[P];T.elements.sort((function(e,t){return i[e].main_base-i[t].main_base}));for(var I=0;I<T.elements.length;I++){var C=T.elements[I];var R=i[C];R[c]=R.cross_base-E;R[d]=R.main_base-x;if(I===T.elements.length-1){R[f]=_-R.main_end}else{R[f]=0}if(P===w.length-1){R[u]=p-R.cross_end}else{R[u]=0}x=R.main_end;R.order=M;M+=1;a(R)}E=T.end}return i};n.calculate_nonant=function(e){var t=e.left,r=e.top,n=e.width,o=e.height,s=e.margins,i=e.container_width,a=e.container_height;function l(e){var t=e.dist_start,r=e.dist_end;if(t<r/2){return"a"}else if(r<t/2){return"c"}else{return"b"}}return l({dist_start:t-s.left,dist_end:i-(t+n+s.right)})+l({dist_start:r-s.top,dist_end:a-(r+o+s.bottom)})};n.calculate_instance_nonant=function(e,t){var r=e.to_canvas(t);var s=r.offset();var i=e.container_canvas.offset();var a={};for(var l=0,u=["top","left","right","bottom"];l<u.length;l++){var c=u[l];a[c]=o.edit_eval("margin_".concat(c),t)}return n.calculate_nonant({left:s.left-i.left,top:s.top-i.top,width:r.outerWidth(),height:r.outerHeight(),margins:a,container_width:e.container_canvas.innerWidth(),container_height:e.container_canvas.innerHeight()})};n.calculate_nonants=function(e){var t={};for(var r in e.instances){var o=e.instances[r];if(o.element.added_to_container()){t[r]={nonant_alignment:n.calculate_instance_nonant(e,o)}}}return t};n.calculate_fixed_positions=function(e){var t=e.container_canvas.offset();var r={};for(var n in e.instances){var o=e.instances[n];if(o.element.added_to_container()){var s=e.to_canvas(o);var i=s.offset();r[n]={top:i.top-t.top,left:i.left-t.left,width:parseInt(s.outerWidth()),height:parseInt(s.outerHeight())}}}return r}},{"../../lang/evaluation/element_edit_eval":566,"core-js/modules/es.array.sort.js":938}],668:[function(e,t,r){"use strict";var n=r;n.margin_properties=["margin_left","margin_right","margin_top","margin_bottom"];n.container_properties=function(e){var t,r,n;return{"justify-content":(t=e.container_alignment)!=null?t:"","row-gap":e.use_gap?(r=e.row_gap)!=null?r:"":"","column-gap":e.use_gap?(n=e.column_gap)!=null?n:"":""}};function o(e,t){for(var r=0,n=["left","top","right","bottom"];r<n.length;r++){var o=n[r];var s=t["margin_".concat(o)];e["margin-".concat(o)]=s!=null?"".concat(s,"px"):""}}n.flex_element_properties=function(e){return function(t){var r,n,s,i;var a={"align-self":(r=t.align_self)!=null?r:"","min-width":t.min_width,"max-width":(n=t.max_width)!=null?n:"",order:(s=t.order)!=null?s:"","min-height":t.has_fixed_aspect_ratio?"":t.min_height,"max-height":t.has_fixed_aspect_ratio?"":(i=t.max_height)!=null?i:""};if(e==="row"){if(t.fit_width){a.width="max-content";a["flex-grow"]=0}else{a.width=t.min_width;a["flex-grow"]=1}if(t.fit_height||t.has_fixed_aspect_ratio){a.height="max-content"}else if(t.min_height===t.max_height){a.height=t.min_height}else if(t.align_self==="stretch"){a.height="auto"}else{a.height=t.min_height}}else{if(t.fit_height||t.has_fixed_aspect_ratio){a.height="max-content";a["flex-grow"]=0;a["flex-shrink"]=0}else{a.height=t.min_height;a["flex-grow"]=1}if(t.min_width===t.max_width){a.width=t.min_width}else if(t.align_self==="stretch"||t.fit_width){a.width="auto"}else{a.width="calc(100% - ".concat(t.margin_left+t.margin_right,"px)")}}o(a,t);return a}};var s={a:"start",b:"center",c:"end"};n.relative_element_properties=function(e){var t,r,n,i;var a={"align-self":s[(t=e.nonant_alignment)==null?void 0:t.charAt(1)],"justify-self":s[(r=e.nonant_alignment)==null?void 0:r.charAt(0)],"min-width":e.min_width,"max-width":(n=e.max_width)!=null?n:"","min-height":e.has_fixed_aspect_ratio?"":e.min_height,"max-height":e.has_fixed_aspect_ratio?"":(i=e.max_height)!=null?i:""};if(e.min_width===e.max_width){a.width=e.min_width}else if(e.fit_width){a.width="max-content"}else{a.width="calc(100% - ".concat(e.margin_left+e.margin_right,"px)")}if(e.fit_height||e.has_fixed_aspect_ratio){a.height="max-content"}else if(e.min_height===e.max_height){a.height=e.min_height}else{a.height="calc(100% - ".concat(e.margin_top+e.margin_bottom,"px)")}o(a,e);return a};n.fixed_element_properties=function(e){return{top:"".concat(e.top,"px"),left:"".concat(e.left,"px"),width:"".concat(e.min_width,"px"),height:"".concat(e.min_height,"px")}};n.element_reset={margin:"","align-self":"","justify-self":"","min-width":"","max-width":"",width:"","min-height":"","max-height":"","flex-grow":"",top:"",left:"",right:"",bottom:"",position:""}},{}],669:[function(e,t,r){"use strict";var n=e("./responsive_css");var o=e("../../lang/appquery");var s=r;s.CONTAINER_CLASSES="fixed relative flex row column";function i(e){return function(t,r){return t.get_static_property(e)-r.get_static_property(e)}}s.LAYOUT_PROPERTIES={fixed:{classes:"fixed",css_func:n.fixed_element_properties,container_properties:{},element_properties:{top:"top",left:"left"},sort_fn:i("zindex")},relative:{classes:"relative",css_func:n.relative_element_properties,container_properties:{},element_properties:{nonant_alignment:"nonant_alignment"},sort_fn:i("zindex")},row:{classes:"flex row",css_func:n.flex_element_properties("row"),container_properties:{container_horiz_alignment:"container_alignment",use_gap:"use_gap",row_gap:"row_gap",column_gap:"column_gap"},element_properties:{vert_alignment:"align_self",order:"order"},sort_fn:i("order")},column:{classes:"flex column",css_func:n.flex_element_properties("column"),container_properties:{container_vert_alignment:"container_alignment",use_gap:"use_gap",row_gap:"row_gap"},element_properties:{horiz_alignment:"align_self",order:"order"},sort_fn:i("order")},table:{classes:"table",css_fnc:function e(){},container_properties:{},element_properties:{},sort_fn:i("axis_index")},table_cross_axis:{classes:"axis",css_fnc:function e(){},container_properties:{},element_properties:{},sort_fn:function e(t,r){var n=o.element(t.get_static_property("cell_main_axis_id"));var s=o.element(r.get_static_property("cell_main_axis_id"));return n.get_static_property("axis_index")-s.get_static_property("axis_index")}}};s.LAYOUT_NAMES={fixed:"Fixed",relative:"Align to parent",row:"Row",column:"Column"};s.FLEX_LAYOUTS=["row","column"];s.NON_FIXED_LAYOUTS=["row","column","relative"];s.FIXED_LAYOUT="fixed";s.DIMENSION_TO_CROSS_AXIS={width:"column",height:"row"};s.CONTAINER_PROPERTIES=["container_layout","container_horiz_alignment","container_vert_alignment","use_gap","row_gap","column_gap"]},{"../../lang/appquery":535,"./responsive_css":668}],670:[function(e,t,r){"use strict";e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.string.includes.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r},{"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],671:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.getPropertyCache=n;function n(e){var t;return(t=window._bubble_watcher_cache)==null?void 0:t[e]}},{}],672:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.fixValue=l;r.toCamelCase=i;r.toClass=o;r.toClassDef=u;r.toDashes=s;e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.starts-with.js");var n=e("../../constants/server_rendering");function o(e){return e.replace(/^[\d]|[A-Z]/g,"a$&")}function s(e){return e.replace(/[A-Z]/g,(function(e){return"-".concat(e.toLowerCase())}))}function i(e){return e.replace(/-./g,(function(e){return e[1].toUpperCase()}))}var a=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function l(e,t){if(typeof t==="number"&&!a.test(i(e)))return"".concat(t,"px");return t}function u(e,t,r){var s="";function i(e,t){s+="  ".concat(e,": ").concat(l(e,t),";\n")}function a(e,t){s+="".concat(e," {\n");for(var r in t){var n=t[r];if(n!=null&&n!==""){if(Array.isArray(n)){for(var o=n.length-1;o>=0;o--){var a=n[o];if(a!=null&&a!==""){i(r,a)}}}else{i(r,n)}}}s+="}\n"}var u=o(e);a(".b-root .bubble-element.".concat(u),t);if(r){for(var c in r){var f=void 0;if(c.startsWith(n.AT_ROOT)){f=c.replace(n.AT_ROOT,".".concat(n.ROOT_CLASS))}else{f=".".concat(n.ROOT_CLASS," .").concat(u).concat(c)}a(f,r[c])}}return s}},{"../../constants/server_rendering":94,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.starts-with.js":980}],673:[function(e,t,r){"use strict";e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.find.js");var n=r;var o=e("../lib");var s=e("../u/shared/async/autorun");var i=e("../core/url_data");var a=e("../lang/btypes");n.MAX_SLUG_LENGTH=250;n.bad_slug_formatting_message=function(e){if(e.length>n.MAX_SLUG_LENGTH){return"The Slug value that you have entered contains more than ".concat(n.MAX_SLUG_LENGTH," characters. A slug should have less than ").concat(n.MAX_SLUG_LENGTH," characters.")}if(i.make_URL_friendly_string(e,n.MAX_SLUG_LENGTH)!==e){return"The Slug value that you have entered is not correctly formatted. A slug should be composed of only lowercase letters, digits, or hyphens."}return null};n.format_correctly=function(e){e=i.make_URL_friendly_string(e,n.MAX_SLUG_LENGTH);if(e.length>n.MAX_SLUG_LENGTH){e=e.substring(0,n.MAX_SLUG_LENGTH)}return e};n.get_thing_from_slug=function(e){var t=e.appname,r=e.app_version,n=e.type,s=e.slug_value,i=e.ignore_privacy_rules;if(n==null||s==null){return null}return o.extend({appname:t,app_version:r,ignore_privacy_rules:i},(function(){var e,t;var r=a.get(n);if(!(r!=null&&(e=r.custom_type())!=null&&e.exists())){return null}var i=o().db_instance().find(n,[{key:"Slug",constraint_type:"equals",value:s}]).get_children(0,1);return(t=i==null?void 0:i[0])!=null?t:null}))};n.get_thing_id_from_slug=function(e){var t=e.appname,r=e.app_version,o=e.type,s=e.slug_value,i=e.ignore_privacy_rules;var l=n.get_thing_from_slug({appname:t,app_version:r,type:o,slug_value:s,ignore_privacy_rules:i});if(l!=null){return l.id}var u=a.get(o);var c=u.get_sample();if(s===(c==null?void 0:c.child("Slug").get())){return c._id()}return null};n.is_slug_unique=function(e){var t=e.appname,r=e.app_version,o=e.type,s=e.slug_value,i=e.thing,a=e.ignore_privacy_rules;if(s==null||s===""){return true}var l=n.get_thing_id_from_slug({appname:t,app_version:r,type:o,slug_value:s,ignore_privacy_rules:a});if(l!=null){return(i==null?void 0:i._id())===l}return true};n.is_slug_valid=function(e,t,r,o,s){if(o==null||o===""){return true}var i=n.bad_slug_formatting_message(o);if(i!=null){return false}var a=n.is_slug_unique({appname:e,app_version:t,type:r,slug_value:o,thing:s});return a};n.create_slug_watcher=function(){var e=s.Watcher((function(){return o().pageparam.get()}));var t=null;var r=null;e.on_value((function(e){var n;(n=r)==null?void 0:n.destroy();if(e!=null&&o().location.get_slug_in_url()!=null){t=e.id;r=s.Watcher((function(){return e.child("Slug").get()}));r.on_value((function(n){var s;if(t!==e.id){return}if(n!=null&&n!==""){s=n}else{var a;var l=o().location.get_underlying_page();var u=o().app().get_page_by_name(l);s=i.get_data_to_send(e,u.get_static_property("readable_field"));(a=r)==null?void 0:a.destroy();t=null;r=null}var c=o().location.get_pieces();if(c.path[1]!==s){c.path[1]=s;var f=o().location.format_pieces(c);o().location.set_url_without_refresh({url:f})}}))}else{t=null;r=null}}))}},{"../core/url_data":408,"../lang/btypes":537,"../lib":614,"../u/shared/async/autorun":693,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929}],674:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");Object.defineProperty(r,"__esModule",{value:true});r.is_e2e_test_appname=d;r.is_functional_test_appname=f;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.string.starts-with.js");var n=e("./apps_utilities");var o=e("../constants/test_apps");function s(e){return u(e)||l(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function l(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function u(e){if(Array.isArray(e))return c(e)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e){return[o.TEST_APP_KEY,o.OLD_TEST_APP_KEY].concat(s(o.FUNCTIONAL_TEST_APPNAME_PREFIXES)).some((function(t){return e.includes(t)}))}function d(e){return(0,n.hardcoded_apps)().has(e)&&e.startsWith(o.E2E_TEST_APPS_PREFIX)}},{"../constants/test_apps":98,"./apps_utilities":654,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],675:[function(e,t,r){"use strict";var n=r;n.MISSING_PLUGIN="could not find plugin"},{}],676:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=c(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e,t){if(!e)return;if(typeof e==="string")return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}function f(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var d=t.exports;var p=e("../u");var _=e("../assert");var m=e("../u/client/test_state");var y=e("../safe_require");y.safe_register("./test_utilities/testing",d);var v=e("../core/status_bar");var b=e("../webfonts");var h=e("fast-deep-equal");var j=e("../shared/domain_utilities");var g=y.safe_require("./lib");if(p.on_server()){var w=e;p.extend(d,w("./test_lib"))}var O;if(typeof window!=="undefined"&&window!==null){window.testing=d;O=p.MakeSwitch(null,"server_running_key");O.turn_on();$(document).ajaxStart((function(){return O.turn_off()}));$(document).ajaxStop((function(){return O.turn_on()}))}d.initialize=function(){var e=p.MakeKeyList([g().workflow.everything_done_key(),O,g().location.open_requests,p.scheduled_key,p.no_outstanding_run_once,v.no_status_bar,b.active_key]);window.everything_ready=function(){return e};window.wait_for_everything=function(t){return setTimeout((function(){if(e.is_turned()){return t()}else{return window.wait_for_everything(t)}}),100)}};d.fail=_.fail;d.assert=_.assert;d.assert_equals=function(e,t,r){console.log("Asserting equals: ".concat(e,", ").concat(t));if(e!==t){d.fail(r!=null?r:"expected:\n".concat(e,"\nbut got:\n").concat(t))}};d.assert_deep_equals=function(e,t,r){if(!h(e,t)){d.fail(r!=null?r:"expected:\n".concat(JSON.stringify(e),"\nbut got:\n").concat(JSON.stringify(t)))}};d.assert_set_equals=function(e,t,r){console.log("Asserting set equals: [".concat(e.join(", "),"], [").concat(t.join(", "),"]"));var n=[];var o=u(e),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(!t.includes(i)){n.push(i)}}}catch(e){o.e(e)}finally{o.f()}var a=[];var l=u(t),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;if(!e.includes(f)){a.push(f)}}}catch(e){l.e(e)}finally{l.f()}if(n.length!==0||a.length!==0){var p=(r!=null?r:"Sets are not equal")+"\n";p+="Expected: "+e.join(", ")+"\n";p+="Got: "+t.join(", ")+"\n";if(n.length!==0){p+="Missing Items: "+n.join(", ")+"\n"}if(a.length!==0){p+="Extra Items: "+a.join(", ")+"\n"}d.fail(p)}};d.assert_contains=function(e,t,r){console.log("Asserting contains: ".concat(e,", ").concat(t));if(t.indexOf(e)===-1){d.fail(r!=null?r:"expected it to contain ".concat(e," but got ").concat(t))}};d.assert_error=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=Math.max(t.length,1);var o=t.slice(0,n-1);var s=t[n-1];console.log("asserting there is an error...");var i=false;try{s();i=true}catch(e){if(o[0]){if(!(e instanceof o[0])){var a;console.log(e.stack);d.fail("Expected an instance of ".concat(o[0].prototype.error_class," but got ").concat(e==null?void 0:(a=e.constructor)==null?void 0:a.name))}}return e}if(i){d.fail("Expected an error but did not get one")}};d.wait_for=function(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:3e4;var n=setInterval((function(){if(e()){clearInterval(n);clearTimeout(o);t()}}),500);var o=setTimeout((function(){clearInterval(n);throw new p.UnexpectedError("Timed out after 30 seconds of waiting for: "+e)}),r)};d.set_domain=function(e){d.DOMAIN=e;var t=j.is_host_aws(e)?"http":"https";d.DOMAIN_PREFIX="".concat(t,"://").concat(d.DOMAIN,"/");d.DOMAIN_PREFIX_DIRECT="".concat(t,"://").concat(d.DOMAIN)};var S=[];d.log=function(e){return S.push(e)};d.get_log=function(){var e=S;S=[];return e};function k(){if(m.all_page_errors.length>0){var e;var t=m.all_page_errors[0];m.all_page_errors=[];return(e=t.stacktrace)!=null?e:JSON.stringify(t)}return null}var A=null;function E(e){clearInterval(A);A=setInterval((function(){var t=k();if(t){e(t);clearInterval(A)}}),1e3)}d.SimpleTest=function(){function e(t,r,n){o(this,e);this._name=t;this.fn=r;this.setup=n}i(e,[{key:"name",value:function e(){return this._name}},{key:"run",value:function e(t){E(t);try{return this.fn((function(e){return t(e!=null?e:k())}))}catch(e){return t(e)}}}]);return e}()},{"../assert":11,"../core/status_bar":407,"../safe_require":643,"../shared/domain_utilities":657,"../u":687,"../u/client/test_state":685,"../webfonts":719,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,"fast-deep-equal":1056}],677:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.all_transition_names=void 0;r.apply_css_fallbacks=I;r.apply_scale=T;r.are_animations_running=B;r.bbcode_to_html=Y;r.build_key_combo_string=ce;r.console_with_styling=le;r.create_style_sheet=ie;r.custom_transitions=void 0;r.delay=U;r.did_event_pass_through=N;r.escape=r.div=void 0;r.get_element=de;r.has_bbcode=K;r.highlight_dom_changes=g;r.img=M;r.input=k;r.isScrolledIntoView=ee;r.is_attached=R;r.is_fixed=C;r.make_key_combo_listener=fe;r.make_numeric=ae;r.make_zindex=re;r.meta=X;r.pre_json=r.page_loaded_key=r.page_is_loaded=void 0;r.real_inner_width=oe;r.real_inner_width_slow=ne;r.real_inner_width_superfast=se;r.remove_global_cursor=G;r.revealInScreen=te;r.scroll_freeze=Z;r.scroll_unfreeze=Q;r.set_global_cursor=F;r.span=void 0;r.text=x;r.textarea=A;r.trigger_blur=L;r.unescape=void 0;r.velocity=q;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.array.join.js");var n=m(e("../shared/async/b_async"));var o=p(e("./bbcodeparser"));var s=p(e("./customVelocityAnimations"));var i=m(e("../shared/errors"));var a=m(e("../shared/mode_check"));var l=m(e("../shared/uuid"));var u=m(e("./b_window"));var c=m(e("../../constants/workflow"));var f=p(e("lodash/escape"));var d=p(e("lodash/unescape"));function p(e){return e&&e.__esModule?e:{default:e}}function _(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(_=function e(n){return n?r:t})(e)}function m(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||y(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=_(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function y(e){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=b(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function b(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var j=false;function g(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;j=e}if(typeof window!=="undefined"){window.highlight_dom_changes=g}var w=function e(t,r,n,o){return P("div",t,r,n,o)};r.div=w;var O=function e(t,r,n,o){return P("pre",t,r,n,o)};r.pre_json=O;var S=function e(t,r,n,o){return P("span",t,r,n,o)};r.span=S;function k(e,t,r,n,o){var s=P("input",e,t,"",o);s.attr("type",r);s.attr("placeholder",n);if(a.is_edit_mode()||a.is_plugin_edit_mode()){s.attr("autocomplete","new-password");s.attr("name",l.LUID())}return s}function A(e,t,r,n,o){var s=P("textarea",e,t,"",o);s.attr("name",r);s.attr("placeholder",n);return s}function E(e,t){return e.includes(t)}function x(e,t,r,n){var o=["h1","h2","h3","h4","h5"];if(E(o,e)){return P(e,n,t,r)}var s=e;if(n)n=n+" "+(s!=null?s:"");return P("p",n,t,r)}function M(e,t,r,n){var o=P("img",e,t,undefined,n);if(r){o[0].src=r}return o}function P(e,t,r,n,o){if(t==null||t===""){t=[]}if(!Array.isArray(t)){t=[t]}t=t.map((function(e){return e.replace(".","")}));var s=$("<"+e+"></"+e+">");var i=v(t),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(l){s.addClass(l.toLowerCase())}}}catch(e){i.e(e)}finally{i.f()}if(y(o)==="object"){s.css(o)}if(j){s[0].classList.add("highlight-dom-changes");s.one("animationend",(function(){s[0].classList.remove("highlight-dom-changes")}))}if(r){r.append(s)}if(n!=null){s.text(n)}return s}function T(e,t){var r="scale(".concat(t,",").concat(t,")");var n="0 0";e.css({transform:r,"-ms-transform":r,"-webkit-transform":r,"-o-transform":r,"-moz-transform":r,"tranform-origin":n,"-ms-transform-origin":n,"-webkit-transform-origin":n,"-o-transform-origin":n,"-moz-transform-origin":n})}function I(e,t){var r;if(typeof CSS==="undefined"||typeof CSS.supports!=="function"){return t[t.length-1]}return(r=t.find((function(t){return typeof t!=="string"||CSS.supports(e,t)})))!=null?r:t[t.length-1]}function C(e){var t=e;while(t.length&&!t.is("body")){if(t.css("position")==="fixed"){return true}t=t.parent()}return false}function R(e){return e.closest("html").length>0}function N(e,t){var r;if(e.currentTarget===null)return false;var n;if(typeof t==="string"){n=function e(r){return r.is(t)}}else{n=t}var o=$((r=e.target)!=null?r:undefined);while(o[0]!=null&&o[0]!==e.currentTarget){if(n(o)){return true}o=o.parent()}return false}function L(e){var t,r;if(((t=window.BrowserDetect)==null?void 0:t.OS)==="iPhone/iPod"&&((r=window.BrowserDetect)==null?void 0:r.browser)==="Safari"){e.blur();return}var n=$('<input class="fake-input"></input>');if(u.is_on_mobile_or_tablet()){n.attr("readonly","true")}n.css({top:$(window).scrollTop()+5,left:10,position:"absolute",overflow:"hidden",width:0,"font-size":"40px"});$("body").append(n);n.focus();n.blur();n.remove()}var z=false;var D=false;function q(e,t,r){if(!e||!e.length){var n;(n=r.complete_cb)==null?void 0:n.call(r);return}if(e.velocity==null){if(!D){D=true;window.alert("Some code is overwriting jQuery which prevents your app from working normally. Please check your application in the editor and make sure you are not requiring a version of jQuery in the page/app headers or in a plugin. \n\nYou can use Bubble safe mode to test your application (hover on PREVIEW).")}return}if(r.complete){throw new i.UnexpectedError("b_ui.velocity called with complete, it should be complete_cb not to be overwritten")}if(y(r)!=="object"){throw new i.UnexpectedError("b_ui.velocity called with options not being an object, will break ".concat(String(r)))}if($.fx.off){r.duration=0}r.complete=function(){var e;(e=r.complete_cb)==null?void 0:e.call(r);z=false};z=true;return e.velocity(t,r)}function B(){return z}function U(e,t){e.css("fake_css_nonsense",100);void q(e,{fake_css_nonsense:0},{duration:t})}var W;function F(e){if(!W){W=$("<style></style>")}W.text("* { cursor: ".concat(e," !important; }"));$(document.head).append(W)}function G(){var e;(e=W)==null?void 0:e.remove()}function X(e){return e.metaKey||e.ctrlKey}var V=f.default;r.escape=V;var H=d.default;r.unescape=H;function Y(e,t){var r,n,s,i;var a;(r=e)!=null?r:e="";(n=t)!=null?n:t=false;var l=e;l=l.replace(/&#x2F;/g,"/");if(((s=window)==null?void 0:(i=s.BrowserDetect)==null?void 0:i.browser)==="Explorer"){a=window.BrowserDetect.version}return o.default.fromBB_to_HTML(l,a,t)}function K(e){var t;(t=e)!=null?t:e="";return o.default.probably_has_bbcode(e)}var J;function Z(){J=$(document).scrollTop()}function Q(){$(document).scrollTop(J)}function ee(e,t){var r;var n,o,s;(r=t)!=null?r:t=window;if(e.length===0){return{status:true}}if(t===window||!e.parents(t+":visible").length){s=$(window);o=$(s).scrollTop();n=o+s.height()-30}else{s=e.parents(t+":visible");o=Math.max(s.offset().top,$(window).scrollTop());n=Math.min(o+s.height(),$(window).scrollTop()+$(window).height()-40)}var i=$(e).offset().top;var a=i+$(e).height();if(a<=n&&i>=o){return{status:true}}else{return{status:false,side:a>n?"bottom":"top"}}}function te(e,t,r){var n;(n=t)!=null?n:t=window;if(e==null||!e.length||e==="destroyed"){return}if(r==null){var o,s;r=(o=e.offset)==null?void 0:(s=o.call(e))==null?void 0:s.top;if(r==null){return}if(t!==window){var i=$(t+":visible");r=r+i.scrollTop()-i.offset().top}}if(!ee(e,t).status){try{if(t!==window){$(t+":visible").scrollTop(r-20)}else{$(document).scrollTop(r-100)}}catch(e){}}}function re(e){var t=20;var r=e;while(r.length>0&&r[0]!==document){var n=parseFloat(r.css("z-index"));if(isNaN(n)){n=0}if(n>t){t=n}r=r.parent()}return t+1}function ne(e){if(e==="destroyed"){return}var t=w("measure",e);var r=t.width();t.remove();if(r===0){var n=e.width();if(n===100&&e.css("width")==="100%"){return}return e.width()}else{return r}}function oe(e){if(e==="destroyed")return;var t=e[0].clientWidth;if(t===0)return e.innerWidth();var r=e[0].scrollHeight>e[0].clientHeight;var n=window.getComputedStyle(e[0]),o=n.overflowY;var s=o==="scroll"||r&&o==="auto";if(s)return t;var i=e[0].getBoundingClientRect(),a=i.width;var l=window.getComputedStyle(e[0]),u=l.borderRightWidth,c=l.borderLeftWidth,f=l.paddingLeft,d=l.paddingRight;var p=parseFloat(u)+parseFloat(c);var _=parseFloat(f)+parseFloat(d);return a-p-_}function se(e){if(e==="destroyed")return;var t=e[0].clientWidth;if(t>0)return t;return Math.round(e.innerWidth())}function ie(e){var t=document.createElement("style");t.type="text/css";t.innerHTML=e;document.getElementsByTagName("head")[0].appendChild(t)}function ae(e,t){e.keydown((function(e){var r;if((e.keyCode>=65&&e.keyCode<=90||[186,191,219,220,221,222,187].includes(e.keyCode))&&!e.ctrlKey&&!e.altKey&&!e.metaKey){r=true}if(t&&e.keyCode===190){r=true}if(r){e.preventDefault()}}))}function le(e){console.log("");console.log("%c"+e,["background: #0205D3","color: white","display: block","text-align: center","font-weight: bold","padding: 7px","border-radius: 2px"].join(";"));console.log("")}function ue(e){return e==="Shift"||e==="Alt"||e==="Meta"||e==="Control"}function ce(e){var t=[];if(e.ctrlKey){t.push("Ctrl")}if(e.metaKey){t.push("Meta")}if(e.shiftKey){t.push("Shift")}if(e.altKey){t.push("Alt")}var r=function e(t){return/^([a-z0-9A-Z\\\][';/.,`]{1}$)/.test(t)};if(!ue(e.key)){if(r(e.key)){t.push(e.key)}else if(c.KEY_CODE_TO_CHAR[e.key]){t.push(c.KEY_CODE_TO_CHAR[e.key])}else if(c.KEY_CODE_TO_CHAR[e.code]){t.push(c.KEY_CODE_TO_CHAR[e.code])}else if(r(String.fromCharCode(e.keyCode))&&e.key!=="Dead"){t.push(String.fromCharCode(e.keyCode))}}var n="";for(var o=0;o<t.length;o++){var s=t[o];if(s==="Meta"){var i,a;if(((i=window)==null?void 0:(a=i.BrowserDetect)==null?void 0:a.OS)==="Windows"){s="WindowsKey"}else{s="Command"}}else if(s==="Alt"){var l,u;if(((l=window)==null?void 0:(u=l.BrowserDetect)==null?void 0:u.OS)==="Windows"){s="Alt"}else{s="Option"}}if(o>0){n+="+"+s}else{n+=s}}return n}function fe(e){var t=function t(r){r.stopPropagation();r.preventDefault();e.val(ce(r));e.on("blur",(function(){return e.trigger("change")}))};e[0].addEventListener("keydown",t)}function de(e){if(typeof e==="string"){e=$(e)}if(a.is_edit_mode()){if(!e.hasClass("inner-element")){e=e.parents(".inner-element").first()}var t=e.attr("id");if(!t){return"not found -- should be a div with the inner-element class"}return window.appquery.element(t)}else{var r,n,o;if(!e.hasClass("bubble-element")){e=e.parents(".bubble-element").first()}return(r=(n=e[0])==null?void 0:(o=n.bubble_data)==null?void 0:o.bubble_instance)!=null?r:"not found -- should be a div with the bubble-element class"}}var pe=s.default.customTransitions;r.custom_transitions=pe;var _e=s.default.allTransitionNames;r.all_transition_names=_e;var me;r.page_loaded_key=me;var ye;r.page_is_loaded=ye;if(typeof window!=="undefined"){var ve=r.page_loaded_key=me=n.MakeKey(undefined,"b_ui.page_loaded_key");var be=Date.now();r.page_is_loaded=ye=function e(){ve.turn();$(document.body).append(w("page-is-loaded"));console.log("page is loaded after ".concat((Date.now()-be)/1e3," seconds"))}}},{"../../constants/workflow":101,"../shared/async/b_async":695,"../shared/errors":708,"../shared/mode_check":713,"../shared/uuid":716,"./b_window":678,"./bbcodeparser":679,"./customVelocityAnimations":682,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,"lodash/escape":1176,"lodash/unescape":1202}],678:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.get_source_appname_from_data=r.base64decode=r.base64=r.add_source_appname_tracker_to_change_args=r.add_source_appname_tracker=void 0;r.is_android=f;r.is_fullscreen=_;r.is_ie=d;r.is_on_mobile_or_tablet=p;r.maybe_add_source_appname_to_object=void 0;e("core-js/modules/es.number.is-nan.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=i(e("./customVelocityAnimations"));var o=e("js-base64");var s;function i(e){return e&&e.__esModule?e:{default:e}}if(typeof window!=="undefined"){e("../../../vendor/jquery_plugins/jquery.dotdotdot-1.5.6.js");e("../../../vendor/jquery_plugins/jquery.velocity.min.js");e("../../../vendor/jquery_plugins/jquery.velocity.ui.min.js");n.default.injectTransitions()}(s=Number.isNaN)!=null?s:Number.isNaN=function(e){return typeof e==="number"&&isNaN(e)};var a=false;var l=false;var u=false;function c(){if(typeof window!=="undefined"&&typeof navigator!=="undefined"){var e=function e(){var t=navigator.userAgent||navigator.vendor;if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ipad|playbook|silk|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(t.substr(0,4))){return true}return false};l=e();var t=navigator.userAgent;var r=/iemobile/i.test(t);a=/android/i.test(t)&&!r;u=/MSIE|Trident/i.test(t)}}c();function f(){return a}function d(){return u}function p(){return l}function _(){return Boolean(typeof document!=="undefined"&&(document.fullscreenElement!=null||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement))}function m(){window.BrowserDetect={browser:"",version:0,OS:"",versionSearchString:"",init:function e(){this.browser=this.searchString(this.dataBrowser)||"An unknown browser";this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version";this.OS=this.searchString(this.dataOS)||"an unknown OS"},searchString:function e(t){for(var r=0;r<t.length;r++){var n=t[r].string;var o=t[r].prop;this.versionSearchString=t[r].versionSearch||t[r].identity;if(n){if(n.includes(t[r].subString)){return t[r].identity}}else if(o){return t[r].identity}}return undefined},searchVersion:function e(t){var r=t.indexOf(this.versionSearchString);if(r===-1)return;return parseFloat(t.substring(r+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],dataOS:[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone/iPod"},{string:navigator.platform,subString:"Linux",identity:"Linux"}]};window.BrowserDetect.init()}if(typeof window!=="undefined"){m()}var y;r.base64=y;var v;r.base64decode=v;var b;r.add_source_appname_tracker=b;var h;r.maybe_add_source_appname_to_object=h;var j;r.get_source_appname_from_data=j;var g;r.add_source_appname_tracker_to_change_args=g;if(typeof window!=="undefined"){r.base64=y=function e(t){return o.Base64.encode(t)};r.base64decode=v=function e(t){return o.Base64.decode(t)};r.add_source_appname_tracker=b=function e(t,r){if(t){t.said=y(r)}};r.maybe_add_source_appname_to_object=h=function e(t,r,n){if(!t||!n){return}if(n!==r){t.source_appname=n}};var w=function e(t){if(t){delete t.said}};r.get_source_appname_from_data=j=function e(t){return t!=null&&t.said?v(t.said):undefined};r.add_source_appname_tracker_to_change_args=g=function e(t,r,n){var o=j(t);h(r,n,o);w(t)}}},{"../../../vendor/jquery_plugins/jquery.dotdotdot-1.5.6.js":1302,"../../../vendor/jquery_plugins/jquery.velocity.min.js":1303,"../../../vendor/jquery_plugins/jquery.velocity.ui.min.js":1304,"./customVelocityAnimations":682,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.number.is-nan.js":947,"core-js/modules/es.string.includes.js":972,"js-base64":1062}],679:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.splice.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.string.split.js");var n;var o=true,s=false,i=false,o=false,a=true,l=true,u=true;var c=false;var f={always:1,never:2,auto:3};var d=function e(t){return t?t.replace(/\\(.)/g,"$1").replace(/^(["'])(.*?)\1$/,"$2"):t};var p=function e(){var t=arguments;return t[0].replace(/\{(\d+)\}/g,(function(e,r){return typeof t[r-0+1]!=="undefined"?t[r-0+1]:"{"+r+"}"}))};var _=function e(t){var r,n;n=function e(t){t=parseInt(t,10);if(isNaN(t))return"00";t=Math.max(0,Math.min(t,255)).toString(16);return t.length<2?"0"+t:t};t=t||"#000";if(r=t.match(/rgb\((\d{1,3}),\s*?(\d{1,3}),\s*?(\d{1,3})\)/i))return"#"+n(r[1])+n(r[2]-0)+n(r[3]-0);if(r=t.match(/#([0-f])([0-f])([0-f])\s*?$/i))return"#"+r[1]+r[1]+r[2]+r[2]+r[3]+r[3];return t};var m=["decimal","lower-alpha","lower-roman"];var y=function e(t){while(m.length<=t){m.push("decimal","lower-alpha","lower-roman")}return m[t]};var v=function e(t){if(!t)return t;return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/\r\n|\r/g,"\n").replace(/\n/g,"<br />")};var b=function e(t,r){var n=k(w(t));if(a)I(n);if(l)C(n);if(u)R(n);P(n,null,r);if(l)C(n);return n};var h={open:"open",content:"content",newline:"newline",close:"close"};var j=function e(t,r,n){var o=n.length;while(o--){if(n[o].type===r&&n[o].name===t)return true}return false};var g=function e(t,r,n,o,s,i){var a=this;a.type=t;a.name=r;a.val=n;a.attrs=o||{};a.children=s||[];a.closing=i||null};g.prototype={clone:function e(t){var r=this;return new g(r.type,r.name,r.val,r.attrs,t?r.children:[],r.closing?r.closing.clone():null)},splitAt:function e(t){var r,n=this,o=0,s=n.children.length;if(typeof object!=="number")t=n.children.indexOf(t);if(t<0||t>s)return null;while(s--){if(s>=t)o++;else s=0}r=n.clone();r.children=n.children.splice(t,o);return r}};var w=function e(t){var r,n,o,s=[],i=[{type:"close",regex:/^\[\/[^\[\]]+\]/},{type:"open",regex:/^\[[^\[\]]+\]/},{type:"newline",regex:/^(\r\n|\r|\n)/},{type:"content",regex:/^([^\[\r\n]+|\[)/}];i.reverse();e:while(t.length){o=i.length;while(o--){n=i[o].type;if(!(r=t.match(i[o].regex))||!r[0])continue;s.push(O(n,r[0]));t=t.substr(r[0].length);continue e}if(t.length)s.push(O(h.content,t));t=""}return s};var O=function e(t,r){var n,o,s;if(t==="open"&&(n=r.match(/\[([^\]\s=]+)(?:([^\]]+))?\]/))){s=M(n[1]);if(n[2]&&(n[2]=n[2].replace(/^\s\s*/,"").replace(/\s\s*$/,"")))o=S(n[2])}else if(t==="close"&&(n=r.match(/\[\/([^\[\]]+)\]/)))s=M(n[1]);else if(t==="newline")s="#newline";if(!s||(t==="open"||t==="close")&&!L()[s]){t="content";s="#"}return new g(t,s,r,o)};var S=function e(t){var r,n=/([^\s=]+)=(?:(?:(["'])((?:\\\2|[^\2])*?)\2)|((?:.(?!\s\S+=))*.))/g,o=d,s={};if(t.charAt(0)==="="&&t.indexOf("=",1)<0)s.defaultattr=o(t.substr(1));else{if(t.charAt(0)==="=")t="defaultattr"+t;while(r=n.exec(t)){s[M(r[1])]=o(r[3])||r[4]}}return s};var k=function e(t){var r,n,s,i,a,l,u,c=[],f=[],d=[],p=function e(){return x(d)},_=function e(t){if(p())p().children.push(t);else f.push(t)},m=function e(t){return p()&&(n=L()[p().name])&&n.closedBy&&n.closedBy.indexOf(t)>-1};while(r=t.shift()){u=t[0];switch(r.type){case h.open:if(m(r.name))d.pop();_(r);n=L()[r.name];if((!n||!n.isSelfClosing)&&(n.closedBy||j(r.name,h.close,t)))d.push(r);else if(!n||!n.isSelfClosing)r.type=h.content;break;case h.close:if(p()&&r.name!==p().name&&m("/"+r.name))d.pop();if(p()&&r.name===p().name){p().closing=r;d.pop()}else if(j(r.name,h.open,d)){while(s=d.pop()){if(s.name===r.name){s.closing=r;break}i=s.clone();if(c.length>1)i.children.push(x(c));c.push(i)}_(x(c));a=c.length;while(a--){d.push(c[a])}c.length=0}else{r.type=h.content;_(r)}break;case h.newline:if(p()&&u&&m((u.type===h.close?"/":"")+u.name)){if(!(u.type===h.close&&u.name===p().name)){n=L()[p().name];if(n&&n.breakAfter)d.pop();else if(n&&n.isInline===false&&o&&n.breakAfter!==false)d.pop()}}_(r);break;default:_(r);break}l=r}return f};var A={always:1,never:2,auto:3};var E=function e(t,r,n){var o=/\s|=/.test(t);if(typeof r=="function")return r(t,n);if(r===A.never||r===A.auto&&!o)return t;return'"'+t.replace("\\","\\\\").replace('"','\\"')+'"'};var x=function e(t){if(t.length)return t[t.length-1];return null};var M=function e(t){return t.toLowerCase()};var P=function e(t,r,n){var a,l,u,c,f,d,p,_,m=t.length,y=m;if(r)c=L()[r.name];while(y--){if(!(a=t[y]))continue;if(a.type===h.newline){l=y>0?t[y-1]:null;u=y<m-1?t[y+1]:null;_=false;if(!n&&c&&c.isSelfClosing!==true){if(!l){if(c.isInline===false&&s&&c.breakStart!==false)_=true;if(c.breakStart)_=true}else if(!d&&!u){if(c.isInline===false&&i&&c.breakEnd!==false)_=true;if(c.breakEnd)_=true;d=_}}if(l&&l.type===h.open){if(f=L()[l.name]){if(!n){if(f.isInline===false&&o&&f.breakAfter!==false)_=true;if(f.breakAfter)_=true}else if(f.isInline===false)_=true}}if(!n&&!p&&u&&u.type===h.open){if(f=L()[u.name]){if(f.isInline===false&&false&&f.breakBefore!==false)_=true;if(f.breakBefore)_=true;p=_;if(_){t.splice(y,1);continue}}}if(_)t.splice(y,1);p=false}else if(a.type===h.open)e(a.children,a,n)}};var T=function e(t,r){var o,s,i,a,l,u,f,d,_=[];f=function e(t){return(!t||(typeof t.isHtmlInline!=="undefined"?t.isHtmlInline:t.isInline))!==false};while(t.length>0){if(!(o=t.shift()))continue;if(o.type===h.open){d=o.children[o.children.length-1]||{};s=L()[o.name];l=r&&f(s);i=e(o.children,false);if(s&&s.html){if(!f(s)&&f(L()[d.name])&&!s.isPreFormatted&&!s.skipLastLineBreak){if(!n)i+="<br />"}if(typeof s.html=="function")a=s.html(o,o.attrs,i);else a=p(s.html,i)}else a=o.val+i+(o.closing?o.closing.val:"")}else if(o.type===h.newline){if(r&&u==false){_.push("<br />");continue}if(!u&&!c){_.push("<div>");if(n<8)_.push("");u=true}if(u)_.push("</div>");_.push("\n");u=false;continue}else{l=r;a=v(o.val)}if(!l&&u){_.push("</div>\n");u=false}_.push(a)}if(u)_.push("</div>\n");return _.join("")};var I=function e(t,r){var n,o,s=t.length;while(s--){if(!(n=t[s]))continue;if(!N(r,n)){n.name=null;n.type=h.content;if(N(r,n)){o=[s+1,0].concat(n.children);if(n.closing){n.closing.name=null;n.closing.type=h.content;o.push(n.closing)}s+=o.length-1;Array.prototype.splice.apply(t,o)}else r.children.splice(s,1)}if(n.type===h.open)e(n.children,n)}};var C=function e(t){var r,n,o,s=t.length;o=function e(t){var r=t.length;while(r--){if(t[r].type===h.open)return false;if(t[r].type===h.close)return false;if(t[r].type===h.content&&t[r].val&&/\S|\u00A0/.test(t[r].val))return false}return true};while(s--){if(!(r=t[s])||r.type!==h.open)continue;n=L()[r.name];e(r.children);if(o(r.children)&&n&&!n.isSelfClosing&&!n.allowsEmpty)t.splice.apply(t,[s,1].concat(r.children))}};var R=function e(t,r,n,o){var s,i,a,l,u,c,f=function e(t){var r=L()[t.name];return!r||r.isInline!==false};r=r||[];o=o||t;for(i=0;i<t.length;i++){if(!(s=t[i])||s.type!==h.open)continue;if(!f(s)&&n){a=x(r);c=a.splitAt(s);u=r.length>1?r[r.length-2].children:o;if((l=u.indexOf(a))>-1){c.children.splice(c.children.indexOf(s),1);u.splice(l+1,0,s,c);return}}r.push(s);e(s.children,r,n||f(s),o);r.pop(s)}};var N=function e(t,r){var n=t?L()[t.name]:null,o=n?n.allowedChildren:null;if(!a||!o)return true;if(o&&o.indexOf(r.name||"#")<0)return false;return true};var L=function e(){return{b:{tags:{b:null,strong:null},styles:{"font-weight":["bold","bolder","401","700","800","900"]},format:"[b]{0}[/b]",html:"<strong>{0}</strong>"},em:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},i:{tags:{i:null,em:null},styles:{"font-style":["italic","oblique"]},format:"[i]{0}[/i]",html:"<em>{0}</em>"},u:{tags:{u:null},styles:{"text-decoration":["underline"]},format:"[u]{0}[/u]",html:"<u>{0}</u>"},s:{tags:{s:null,strike:null},styles:{"text-decoration":["line-through"]},format:"[s]{0}[/s]",html:"<s>{0}</s>"},sub:{tags:{sub:null},format:"[sub]{0}[/sub]",html:"<sub>{0}</sub>"},sup:{tags:{sup:null},format:"[sup]{0}[/sup]",html:"<sup>{0}</sup>"},font:{tags:{font:{face:null}},styles:{"font-family":null},quoteType:f.never,format:function e(t,r){var n;if(t[0].nodeName.toLowerCase()!=="font"||!(n=t.attr("face")))n=t.css("font-family");return"[font="+d(n)+"]"+r+"[/font]"},html:function e(t,r,n){return'<font face="'+r.defaultattr+'">'+n+"</font>"}},h1:{tags:{h1:null},styles:{"font-size":null},format:"[h1]{0}[/h1]",html:function e(t,r,n){return'<span style="font-size:2.2em">'+n+"</span>"}},h2:{tags:{h2:null},styles:{"font-size":null},format:"[h2]{0}[/h2]",html:function e(t,r,n){return'<span style="font-size:1.7em">'+n+"</span>"}},h3:{tags:{h3:null},styles:{"font-size":null},format:"[h3]{0}[/h3]",html:function e(t,r,n){return'<span style="font-size:1.17em">'+n+"</span>"}},h4:{tags:{h4:null},styles:{"font-size":null},format:"[h4]{0}[/h4]",html:function e(t,r,n){return'<span style="font-size:1em">'+n+"</span>"}},size:{tags:{font:{size:null}},styles:{"font-size":null},format:function e(t,r){var n=t.attr("size"),o=1;if(!n)n=t.css("fontSize");if(n.indexOf("px")>-1){n=n.replace("px","")-0;if(n>12)o=2;if(n>15)o=3;if(n>17)o=4;if(n>23)o=5;if(n>31)o=6;if(n>47)o=7}else o=n;return"[size="+o+"]"+r+"[/size]"},html:function e(t,r,n){return'<font size="'+r.defaultattr+'">'+n+"</font>"}},color:{tags:{font:{color:null}},styles:{color:null},quoteType:f.never,html:function e(t,r,n){return'<font color="'+_(r.defaultattr)+'">'+n+"</font>"}},highlight:{tags:{font:{color:null}},styles:{color:null},quoteType:f.never,html:function e(t,r,n){return'<span style="background:'+_(r.defaultattr)+'">'+n+"</span>"}},ul:{tags:{ul:null},breakStart:true,isInline:false,skipLastLineBreak:true,html:"<ul>{0}</ul>"},ml:{tags:{ml:null},html:""},list:{breakStart:true,isInline:false,skipLastLineBreak:true,html:function e(t,r,n){var o={1:"decimal",a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};if(r.defaultattr!=null&&o[r.defaultattr]!=null){var s=o[r.defaultattr];return'<ol style="list-style-type:'+s+'">'+n+"</ol>"}return"<ul>"+n+"</ul>"}},ol:{tags:{ol:null},breakStart:true,isInline:false,skipLastLineBreak:true,html:function e(t,r,n){if(typeof r.data!=="undefined"){var o=Number(r.data);return'<ol style="list-style-type:'+y(o)+';">'+n+"</ol>"}else{return"<ol>"+n+"</ol>"}}},li:{tags:{li:null},isInline:false,closedBy:["/ul","/ol","/list","*","li"],html:function e(t,r,n){if(typeof r.align!=="undefined"){return'<li style="text-align:'+r.align+';">'+n+"</li>"}else{return"<li>"+n+"</li>"}}},"*":{isInline:false,closedBy:["/ul","/ol","/list","*","li"],html:"<li>{0}</li>"},table:{tags:{table:null},isInline:false,isHtmlInline:true,skipLastLineBreak:true,html:"<table>{0}</table>"},tr:{tags:{tr:null},isInline:false,skipLastLineBreak:true,html:"<tr>{0}</tr>"},th:{tags:{th:null},allowsEmpty:true,isInline:false,html:"<th>{0}</th>"},td:{tags:{td:null},allowsEmpty:true,isInline:false,html:"<td>{0}</td>"},emoticon:{allowsEmpty:true,tags:{img:{src:null,"data-sceditor-emoticon":null}},html:"{0}"},hr:{tags:{hr:null},allowsEmpty:true,isSelfClosing:true,isInline:false,html:"<hr />"},img:{allowsEmpty:true,tags:{img:{src:null}},quoteType:f.never,html:function e(t,r,n){var o,s="";if(typeof r.width!=="undefined")s+=' width="'+r.width+'"';if(typeof r.height!=="undefined")s+=' height="'+r.height+'"';if(r.defaultattr){o=r.defaultattr.split(/x/i);s=' width="'+o[0]+'"'+' height="'+(o.length===2?o[1]:o[0])+'"'}if(r.alt){s+=' alt="'+r.alt+'"'}if(typeof window==="undefined"&&n.indexOf("http:")===-1&&n.indexOf("https:")===-1){n="http:"+n}return"<img"+s+' src="'+n+'" />'}},link:{allowsEmpty:true,tags:{a:{href:null}},quoteType:f.never,html:function e(t,r,n){return'<a href="'+encodeURI(r.defaultattr||n)+'" target="_blank">'+n+"</a>"}},url:{allowsEmpty:true,tags:{a:{href:null}},quoteType:f.never,html:function e(t,r,n){var o,s;if(typeof r.target=="undefined")o="_blank";else o=r.target;s='<a href="'+(r.defaultattr||n)+'" target='+o;if(typeof r.nofollow!="undefined")s=s+' rel="nofollow"';s=s+">"+n+"</a>";return s}},email:{quoteType:f.never,html:function e(t,r,n){return'<a href="mailto:'+(r.defaultattr||n)+'" target = "_blank">'+n+"</a>"}},quote:{tags:{blockquote:null},isInline:false,quoteType:f.never,html:function e(t,r,n){if(r.defaultattr)n='<cite style="border-left: 4px solid #ccc;margin-bottom: 5px;margin-top: 5px;padding-left: 16px;">'+r.defaultattr+"</cite>"+n;return'<blockquote style="border-left: 4px solid #ccc;margin-bottom: 5px;margin-top: 5px;padding-left: 16px;">'+n+"</blockquote>"}},indent:{tags:{indent:null},isInline:true,html:function e(t,r,n){var o="<span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span>";if(typeof r.data!=="undefined"){var s=Number(r.data);var i="";var a=1;while(a<=s){i+=o;a+=1}return i+n}else{return n}}},code:{tags:{code:null},isInline:false,allowedChildren:["#","#newline"],html:"<code>{0}</code>"},left:{styles:{"text-align":["left","-webkit-left","-moz-left","-khtml-left"]},isInline:false,html:'<div align="left">{0}</div>'},center:{styles:{"text-align":["center","-webkit-center","-moz-center","-khtml-center"]},isInline:false,html:'<div align="center">{0}</div>'},right:{styles:{"text-align":["right","-webkit-right","-moz-right","-khtml-right"]},isInline:false,html:'<div align="right">{0}</div>'},justify:{styles:{"text-align":["justify","-webkit-justify","-moz-justify","-khtml-justify"]},isInline:false,html:'<div align="justify" '+(c?'style="white-space: pre-line"':"")+">{0}</div>"},youtube:{allowsEmpty:true,tags:{iframe:{"data-youtube-id":null}},html:'<iframe width="560" height="315" src="//www.youtube.com/embed/{0}?wmode=opaque'+'" data-youtube-id="{0}" frameborder="0" allowfullscreen></iframe>'},video:{allowsEmpty:true,html:'<iframe width="560" height="315" src="{0}" frameborder="0" allowfullscreen></iframe>'},rtl:{styles:{direction:["rtl"]},html:'<div style="direction: rtl">{0}</div>'},ltr:{styles:{direction:["ltr"]},html:'<div style="direction: ltr">{0}</div>'},fa:{quoteType:f.never,html:function e(t,r,n){return'<div class="fa fa-'+(r.defaultattr||n)+'"></div>'}},ignore:{}}};var z=function e(t){var r,n,o,s=$("<div />").hide().appendTo(document.body),i=s[0];o=function e(t,r){if(t.childNodes.length!==1||!$(t.firstChild).is("br")){while(n=t.firstChild){i.insertBefore(n,t)}}if(r){var o=i.lastChild;if(t!==o&&$(o).is("div")&&t.nextSibling===o)i.insertBefore(document.createElement("br"),t)}i.removeChild(t)};i.innerHTML=t.replace(/<\/div>\n/g,"</div>");if((r=i.firstChild)&&$(r).is("div"))o(r,true);if((r=i.lastChild)&&$(r).is("div"))o(r);i=i.innerHTML;s.remove();return i};var D=function e(t,r){return T(b(t,r),true)};var q=D;r.fromBB_to_HTML=function(e,t,r){n=t;c=r;return q(e,true)};var B=/\[\/([^\]]{1,20})\]/;r.probably_has_bbcode=function(e){return!!e.match(B)}},{"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.splice.js":939,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979}],680:[function(e,t,r){(function(t){(function(){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.approve_global_clipboard=re;r.clipboard_script=void 0;r.cookies_enabled=J;r.copy_on_click=ie;r.createCookie=H;r.eraseCookie=K;r.events=void 0;r.get_active_epoch=le;r.get_all_cookies=Z;r.handle_clipboard_message=se;r.initialize_global_clipboard=oe;r.local_data_retrieve=T;r.local_data_store=P;r.local_storage_get=N;r.local_storage_is_available=I;r.local_storage_put=C;r.local_storage_put_object=R;r.readCookie=Y;r.rebuild_cookies=V;r.session_storage=void 0;r.set_active_epoch=ue;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.object.keys.js");var o=m(e("events"));var s=_(e("../shared/b_string"));var i=_(e("../../constants/domain"));var a=_(e("../../shared/domain_utilities"));var l=_(e("../shared/errors"));var u=_(e("../../logger"));var c=_(e("../shared/mode_check"));var f=_(e("../shared/uuid"));var d=e("../../constants/time");function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(p=function e(n){return n?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=p(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function m(e){return e&&e.__esModule?e:{default:e}}function y(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=O(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function v(e){return j(e)||h(e)||O(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j(e){if(Array.isArray(e))return S(e)}function g(e,t){return A(e)||k(e,t)||O(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function O(e,t){if(!e)return;if(typeof e==="string")return S(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return S(e,t)}function S(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function k(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function A(e){if(Array.isArray(e))return e}var E=new o.default.EventEmitter;r.events=E;var x;r.session_storage=x;try{var M;r.session_storage=x=(M=window)==null?void 0:M.sessionStorage}catch(e){}function P(e,t){var r=f.LUID();C(r,e,t);return r}function T(e){var r;var n=N(e);if(((r=window)==null?void 0:r.localStorage)==null){t.local_storage_fallback(e,null,true)}else{window.localStorage.removeItem(e)}return n}t.local_storage_fallback=function(e,t,r){throw new l.UnexpectedError("trying to store into localstorage, but it does not exist")};function I(){var e;var t=f.LUID();if(((e=window)==null?void 0:e.localStorage)!=null){try{window.localStorage.setItem(t,"testing-localstorage");window.localStorage.removeItem(t);return true}catch(e){return false}}return false}function C(e,t,r,n){R({key:e,data:t,show_warning:r,skip_global:n})}function R(e){var r;var n=e.key,o=e.data,s=e.show_warning,i=e.skip_global,a=e.on_quota_exceeded_fn;if(!i&&Q(n)){te(n,o)}var u=JSON.stringify(o);if(((r=window)==null?void 0:r.localStorage)==null){t.local_storage_fallback(n,u)}else{try{window.localStorage.setItem(n,u)}catch(e){var c=e;if(a&&c.message.includes("exceeded the quota")){var f=window.localStorage.getItem(n);var d=f?f.length+n.length:0;var p=U();a(p+d);return}console.log(c.stack);console.log("clearing local storage");E.emit("pre_clear");window.localStorage.clear();E.emit("clear");try{window.localStorage.setItem(n,u)}catch(c){if(s){var _,m;var y;if(((_=window)==null?void 0:(m=_.BrowserDetect)==null?void 0:m.browser)==="Safari"){y="Safari in private mode does not support local storage, which prevents the workflow from running properly."}else{y="This browser does not support local storage, which prevents the workflow from running properly."}throw new l.UserError(undefined,y)}else{throw new l.UnexpectedError("Second local storage failure.  Encoded size is ".concat(u.length,", and message was: ").concat(c.message,". key was ' +\n              ").concat(n," and data was: ").concat(u.slice(0,2e3)))}}}}}function N(e){try{if(typeof window==="undefined"){return JSON.parse(t.local_storage_fallback(e))}if(window.localStorage==null){u.info("no local storage present");return null}else{var r;return JSON.parse((r=window.localStorage.getItem(e))!=null?r:"null")}}catch(e){u.info("cannot read local storage",{error:l.ensure_bubble_error(e)});return null}}var L=function e(){return Object.entries(window.localStorage).reduce((function(e,t){var r=g(t,2),n=r[0],o=r[1];return e+n.length+o.length}),0)};var z=1e3;var D=10*1e3*1e3;var q;var B=function e(){if(!q){var t=L();var r=D;var n=Array(r-t+1).join("0");var o=f.LUID();var s;while(r-t>z){s=Math.floor((r+t)/2);try{window.localStorage.setItem(o,n.slice(0,s));t=s}catch(e){r=s}}window.localStorage.removeItem(o);q=t}return q};var U=function e(){return B()-L()};function W(e,t,r){var n=e.split(t);var o=[];o.push.apply(o,v(n.slice(0,r)));o.push(n.slice(r).join(t));return o}var F=null;var G=false;var X=false;function V(){F={};if(c.on_phonegap()){for(var e in window.localStorage){var t=window.localStorage[e];F[e]=t}}else{var r;var n=y(document.cookie.split(";")),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;var i=W(s.trim(),"=",1),a=g(i,2),l=a[0],u=a[1];F[l]=u}}catch(e){n.e(e)}finally{n.f()}G=((r=document.cookie)==null?void 0:r.length)>0;if(!G){document.cookie="testcookie=hello";G=document.cookie.includes("testcookie");document.cookie="testcookie=; expires=Thu, 01 Jan 1970 00:00:01 GMT"}}X=true}function H(e,t,r){if(c.on_phonegap()){window.localStorage.setItem(e,t)}else{var n,o;if(r===-1){n="; expires=Thu, 01 Jan 1970 00:00:01 GMT"}else if(r){var i=new Date(Date.now()+r*d.DAY_MS);n="; expires="+i.toUTCString()}else{n=""}if(s.starts_with(window.document.location.href,"https://")){o="; secure; SameSite=Lax"}else{o=""}document.cookie=e+"="+t+n+"; path=/"+o}F=null}function Y(e){var t;if(!F){V()}return(t=F[e])!=null?t:null}function K(e){H(e,"",-1)}function J(){if(!X){V()}return c.on_phonegap()||G}function Z(){if(!F){V()}return Object.keys(F)}function Q(e){return c.is_edit_mode()&&e.includes("clipboard")}var ee;function te(e,t){var r,n;oe();var o=Date.now();window.localStorage["_this_session_clipboard_"+e]=o;(r=ee)==null?void 0:(n=r[0].contentWindow)==null?void 0:n.postMessage({action:"global_clipboard_put",key:e,data:t,timestamp:o,id:f.UUID()},i.META_ORIGIN)}function re(e){var t=window.localStorage.global_clipboard_approved?JSON.parse(window.localStorage.global_clipboard_approved):[];t.push(e);console.log("Approved origin "+e+" on this computer.  Please refresh your editor window");window.localStorage.global_clipboard_approved=JSON.stringify(t)}var ne="\nvar _dead = false;\nfunction receiveMessage(event) {\nif (_dead) { return; }\n\nif (!isOkay(event.origin)) {\n    _dead = true;\n    console.log('Note: an unrecognized domain, ' + event.origin + ', is trying to access your global Bubble editor clipboard.  If you would like to grant access, go to https://bubble.io, and in the javascript console, type client_storage.approve_global_clipboard(\\'' + event.origin + '\\'); and then refresh the editor window.');\n    return;\n}\n\nvar parentOrigin = event.origin;\n\nif (event.data.action === 'init_sync') {\n    function handleStoragePut(event) {\n        if (!event.key) { return; }\n        if (event.key.indexOf('global_clipboard_message_') != 0) { return; }\n        if (!event.newValue) { return; }\n        var message = JSON.parse(event.newValue);\n        parent.postMessage({\n            'action': 'new_clipboard_item',\n            'key': message.key,\n            'data': message.data,\n            'timestamp': message.timestamp\n        }, parentOrigin);\n    }\n\n    window.addEventListener(\"storage\", handleStoragePut, false);\n}\n\nif (event.data.action === 'global_clipboard_put') {\n    var message_key = 'global_clipboard_message_' + event.data.id;\n    window.localStorage[message_key] = JSON.stringify(event.data);\n    setTimeout(function() {\n        delete window.localStorage[message_key];\n    }, 10000);\n}\n}\n\nfunction isOkay(origin) {\nif (window.localStorage.global_clipboard_approved && JSON.parse(window.localStorage.global_clipboard_approved).indexOf(event.origin) > -1) {\n    return true;\n}\nif (/^https:\\/\\/([^\\.]+\\.)?bubble\\.i[so]$/.test(origin)) {\n    return true;\n}\nreturn false;\n}\n\nwindow.addEventListener(\"message\", receiveMessage, false);\n\nparent.postMessage({'action': 'init_me'}, '*');";r.clipboard_script=ne;function oe(){if(!ee){window.addEventListener("message",se,false);ee=$('<iframe\n     src="'.concat(i.META_ORIGIN,'/appeditor/clipboard"\n     style="position: absolute; left: -2px; width: 1px; height: 1px"\n></iframe>"'));$("body").append(ee)}}function se(e){var t,r;if(!a.is_origin_on_bubble(e.origin)){return}if(((t=e.data)==null?void 0:t.action)==="init_me"){var n,o;(n=ee)==null?void 0:(o=n[0].contentWindow)==null?void 0:o.postMessage({action:"init_sync",url:window.location.href},i.META_ORIGIN);return}if(((r=e.data)==null?void 0:r.action)!=="new_clipboard_item"){return}var s=e.data.key;if(window.localStorage["_this_session_clipboard_"+s]>=e.data.timestamp){return}window.localStorage["_this_session_clipboard_"+s]=e.data.timestamp;C(e.data.key,e.data.data,false,true)}function ie(e,t,r){if(!r){e.css({"-webkit-user-select":"all","-moz-user-select":"all","-ms-user-select":"all","user-select":"all",cursor:"pointer"})}var n="(copied)";e.on("vclick",(function(){if(e.text().includes(n)){return}setTimeout((function(){var r;document.execCommand("copy");var o=e.html();if(t){r=n+"  "+o}else{r=o+"  "+n}e.html(r);setTimeout((function(){e.html(o)}),1e3)}),100)}))}var ae={epoch:{active:undefined}};function le(){return ae.epoch.active}function ue(e){ae.epoch.active=e}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../../constants/domain":70,"../../constants/time":99,"../../logger":617,"../../shared/domain_utilities":657,"../shared/b_string":703,"../shared/errors":708,"../shared/mode_check":713,"../shared/uuid":716,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,events:745}],681:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");Object.defineProperty(r,"__esModule",{value:true});r.HexToNumber=m;r.NumberToHex=y;r.RGBA_to_ARGB=v;r.RGBA_to_RGB=O;r.RGBToHex=_;r.decimal_to_percent=h;r.hexToRGB=p;r.hex_to_rgb=g;r.lighten_color=A;r.lighten_rgb_color=void 0;r.percent_to_decimal=j;r.rgb_color_to_rgb_string=void 0;r.rgb_to_hex=b;r.rgba_to_array=w;e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.array.join.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}function u(e){return parseInt(d(e).substring(0,2),16)}function c(e){return parseInt(d(e).substring(2,4),16)}function f(e){return parseInt(d(e).substring(4,6),16)}function d(e){return e.charAt(0)==="#"?e.substring(1,7):e}function p(e){return[u(e),c(e),f(e)]}function _(e){return"#"+(e[0]*256*256+e[1]*256+e[2]).toString(16)}function m(e){return parseInt(d(e),16)}function y(e){return"#"+e.toString(16)}function v(e){if(!e||e.split==null){return""}var t=e.split("rgba(");if(t.length===1){return e}e=t[t.length-1];e=e.slice(0,e.length-1).replace(/\s/g,"");var r=e.split(","),o=n(r,4),s=o[0],i=o[1],a=o[2],l=o[3];return"#"+Math.floor(parseFloat(l)*255).toString(16)+parseInt(s).toString(16)+parseInt(i).toString(16)+parseInt(a).toString(16)}function b(e){var t=e.split("rgba(");if(t.length===1){return{code:e,opacity:1}}e=t[t.length-1];e=e.slice(0,e.length-1).replace(/\s/g,"");var r=e.split(","),o=n(r,4),s=o[0],i=o[1],a=o[2],l=o[3];return{opacity:parseFloat(l),code:"#"+((1<<24)+(parseInt(s)<<16)+(parseInt(i)<<8)+parseInt(a)).toString(16).substr(1)}}function h(e){return"".concat(Math.round(e*100),"%")}function j(e){return parseFloat(e)/100}function g(e,t){e=e.replace("#","");var r=u(e);var n=c(e);var o=f(e);return"rgba(".concat(r,",").concat(n,",").concat(o,",").concat(t/100,")")}function w(e){return e.match(/[.?\d]+/g)}function O(e){if(!e||e.split==null){return""}var t=e.split("rgba(");if(t.length===1){return e}var r=t[1].split(",");return"rgb("+r.slice(0,r.length-1).join(",")+")"}var S=function e(t,r){var o=n(t,3),s=o[0],i=o[1],a=o[2];var l=function e(t){return Math.round(t*r+255*(1-r))};return[l(s),l(i),l(a)]};r.lighten_rgb_color=S;var k=function e(t){var r=n(t,3),o=r[0],s=r[1],i=r[2];return"rgb(".concat(o,", ").concat(s,", ").concat(i,")")};r.rgb_color_to_rgb_string=k;function A(e,t){try{var r=p(e);return _(S(r,t))}catch(e){return"#FFFFFF"}}},{"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],682:[function(e,t,r){"use strict";e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.concat.js");var n={"transition.noBounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[0,1e3]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceUpOut":{defaultDuration:1e3,calls:[[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.noBounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[0,-1e3]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceDownOut":{defaultDuration:1e3,calls:[[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.noBounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[0,-1250]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceLeftOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.noBounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[0,1250]},.6,{easing:"easeOutCirc"}]]},"transition.noBounceRightOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}}};var o=["callout.bounce","callout.shake","callout.flash","callout.pulse","callout.swing","callout.tada","transition.fadeIn","transition.fadeOut","transition.flipXIn","transition.flipXOut","transition.flipYIn","transition.flipYOut","transition.flipBounceXIn","transition.flipBounceXOut","transition.flipBounceYIn","transition.flipBounceYOut","transition.swoopIn","transition.swoopOut","transition.whirlIn","transition.whirlOut","transition.shrinkIn","transition.shrinkOut","transition.expandIn","transition.expandOut","transition.bounceIn","transition.bounceOut","transition.bounceUpIn","transition.bounceUpOut","transition.bounceDownIn","transition.bounceDownOut","transition.bounceLeftIn","transition.bounceLeftOut","transition.bounceRightIn","transition.bounceRightOut","transition.slideUpIn","transition.slideUpOut","transition.slideDownIn","transition.slideDownOut","transition.slideLeftIn","transition.slideLeftOut","transition.slideRightIn","transition.slideRightOut","transition.slideUpBigIn","transition.slideUpBigOut","transition.slideDownBigIn","transition.slideDownBigOut","transition.slideLeftBigIn","transition.slideLeftBigOut","transition.slideRightBigIn","transition.slideRightBigOut","transition.perspectiveUpIn","transition.perspectiveUpOut","transition.perspectiveDownIn","transition.perspectiveDownOut","transition.perspectiveLeftIn","transition.perspectiveLeftOut","transition.perspectiveRightIn","transition.perspectiveRightOut"];var s=function e(){if(typeof window==="undefined"||typeof window.$==="undefined"||typeof window.$.Velocity==="undefined"||typeof window.$.Velocity.RegisterEffect==="undefined"){console.log("Cannot load extra transitions before window, jQuery, Velocity or VelocityUI");return}Object.keys(n).forEach((function(e){window.$.Velocity.RegisterEffect(e,n[e])}))};t.exports={injectTransitions:s,customTransitions:n,allTransitionNames:o.concat(Object.keys(n))}},{"core-js/modules/es.array.concat.js":926,"core-js/modules/es.object.keys.js":957,"core-js/modules/web.dom-collections.for-each.js":990}],683:[function(e,t,r){"use strict";t.exports={ar:["ar"],bg:["bg_BG"],bs:["bs_BA"],ca:["ca_ES"],cs:["cs_CZ"],da:["da_DK"],de:["de_DE"],el:["el_GR"],es:["es_ES"],et:["et_EE"],eu:["eu_ES"],fa:["fa_ir"],fi:["fi_FI"],fr:["fr_FR"],gl:["gl_ES"],he:["he_IL"],hi:["hi_IN"],hr:["hr_HR"],hu:["hu_HU"],id:["id_ID"],is:["is_IS"],it:["it_IT"],ja:["ja_JP"],ko:["ko_KR"],lt:["lt_LT"],lv:["lv_LV"],nb:["nb_NO"],ne:["ne_NP"],nl:["nl_NL"],no:["no_NO"],pl:["pl_PL"],pt:["pt_PT","pt_BR"],ro:["ro_RO"],ru:["ru_RU"],sk:["sk_SK"],sl:["sl_SI"],sv:["sv_SE"],th:["th_TH"],tr:["tr_TR"],uk:["uk_UA"],vi:["vi_VN"],zh:["zh_CN","zh_TW"]}},{}],684:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.observe=l;r.unobserve=u;function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=null;function a(e){var t=n(e),r;try{for(t.s();!(r=t.n()).done;){var o,s;var i=r.value;(o=(s=i.target)._b_resize_fn)==null?void 0:o.call(s,i)}}catch(e){t.e(e)}finally{t.f()}}function l(e,t){if(typeof ResizeObserver!=="undefined"){var r;e._b_resize_fn=t;(r=i)!=null?r:i=new ResizeObserver(a);i.observe(e)}}function u(e){var t;(t=i)==null?void 0:t.unobserve(e);delete e._b_resize_fn}},{"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],685:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.all_page_errors=void 0;var n=[];r.all_page_errors=n},{}],686:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.find.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)p(e,t)}function p(e,t){p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return p(e,t)}function _(e){var t=v();return function r(){var n=b(e),o;if(t){var s=b(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return m(this,o)}}function m(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return y(e)}function y(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function b(e){b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return b(e)}var h=r;var j=e("../shared/b_array");var g=e("../client/b_ui");var w=e("events");var O=e("../shared/mode_check");var S=e("../client/b_window");var k=null;h.add_finish_cb_to_vimeo=function(e,t,r){var n,o,s,i;var a;var l=function r(n,o){var s={method:n};if(o){s.value=o}$(e.find("iframe"))[0].contentWindow.postMessage(JSON.stringify(s),"https://player.vimeo.com/video/"+t)};(n=(o=window).removeEventListener)==null?void 0:n.call(o,"message",k);(s=(i=window).detachEvent)==null?void 0:s.call(i,"onmessage",k);k=a=function e(t){var n;if((n=t)!=null&&n.data){try{var o=JSON.parse(t.data);if(o.event==="finish"){r()}if(o.event==="ready"){l("addEventListener","finish")}}catch(e){t=e}}};if(window.addEventListener){window.addEventListener("message",a,false)}else{window.attachEvent("onmessage",a,false)}}},{"../client/b_ui":677,"../client/b_window":678,"../shared/b_array":698,"../shared/mode_check":713,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.find.js":929,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991,events:745}],687:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});var o=i(e("./u"));Object.keys(o).forEach((function(e){if(e==="default"||e==="__esModule")return;if(e in r&&r[e]===o[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return o[e]}})}));function s(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(s=function e(n){return n?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=s(t);if(r&&r.has(e)){return r.get(e)}var o={};var i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e){if(a!=="default"&&Object.prototype.hasOwnProperty.call(e,a)){var l=i?Object.getOwnPropertyDescriptor(e,a):null;if(l&&(l.get||l.set)){Object.defineProperty(o,a,l)}else{o[a]=e[a]}}}o.default=e;if(r){r.set(e,o)}return o}if(typeof window!=="undefined"){window.u=o}},{"./u":717,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],688:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.concat.js");var o,s,i,a;function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return n(t)==="symbol"?t:String(t)}function f(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)_(e,t)}function _(e,t){_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return _(e,t)}function m(e){var t=b();return function r(){var n=h(e),o;if(t){var s=h(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return y(this,o)}}function y(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return v(e)}function v(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function b(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function h(e){h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return h(e)}var j=r;var g=e("../shared/errors");j.Redirect=(o=function(e){p(r,e);var t=m(r);function r(e,n){var o;d(this,r);o=t.call(this,"redirect");o.statusCode=e;o.url=n;return o}return r}(g.ExpectedError),o.prototype.error_class="Redirect",o);j.Redirect.prototype.toString=function(){return"Redirect (".concat(this.statusCode,") to ").concat(this.url)};j.NotFound=(s=function(e){p(r,e);var t=m(r);function r(){d(this,r);return t.apply(this,arguments)}return r}(g.ExpectedError),s.prototype.error_class="NotFound",s);j.ServerResponse=(i=function(e){p(r,e);var t=m(r);function r(e,n,o){var s;d(this,r);s=t.call(this,"server_response");s.statusCode=e;s.headers=n;s.body=o;return s}u(r,[{key:"toString",value:function e(){return"ServerResponse ".concat(this.statusCode)}}]);return r}(g.ExpectedError),i.prototype.error_class="ServerResponse",i);j.ClientError=(a=function(e){p(r,e);var t=m(r);function r(){d(this,r);return t.apply(this,arguments)}u(r,[{key:"display",value:function e(){return"Invalid request: see error code for details"}}]);return r}(g.UnexpectedError),function(){a.prototype.error_class="ClientError";a.prototype.suggested_level="owner_error"}(),a)},{"../shared/errors":708,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],689:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var i=r;var a=e("../shared/async/b_fiber");i.with_fiber_notifier=function(e,t){var r=a.Fiber.current._u_with_fiber_notifier;a.Fiber.current._u_with_fiber_notifier=e;try{return t()}finally{a.Fiber.current._u_with_fiber_notifier=r}};i.no_fiber_notifier=function(e){function t(){}return i.with_fiber_notifier(t,e)};i.publish_fiber_notification=function(e){var t,r;(t=a.Fiber.current)==null?void 0:(r=t._u_with_fiber_notifier)==null?void 0:r.call(t,e)};i.notification_capturer=function(e){var t=[];var r=function e(r){return t.push(r)};var o=i.with_fiber_notifier(r,e);function s(){var e=n(t),r;try{for(e.s();!(r=e.n()).done;){var o=r.value;i.publish_fiber_notification(o)}}catch(t){e.e(t)}finally{e.f()}}return[o,s]};i.with_flush_caches=function(e){var t=a.Fiber.current._u_with_flush_caches;a.Fiber.current._u_with_flush_caches=true;try{return e()}finally{a.Fiber.current._u_with_flush_caches=t}};i.flushing_caches=function(){return a.Fiber.current._u_with_flush_caches}},{"../shared/async/b_fiber":696,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],690:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.weak-map.js");Object.defineProperty(r,"__esModule",{value:true});r.default=r.DummyCounter=void 0;e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n=s(e("./mode_check"));function o(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(o=function e(n){return n?r:t})(e)}function s(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||p(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=o(t);if(r&&r.has(e)){return r.get(e)}var n={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(n,i,a)}else{n[i]=e[i]}}}n.default=e;if(r){r.set(e,n)}return n}function i(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)a(e,t)}function a(e,t){a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return a(e,t)}function l(e){var t=f();return function r(){var n=d(e),o;if(t){var s=d(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return u(this,o)}}function u(e,t){if(t&&(p(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return c(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function p(e){"@babel/helpers - typeof";return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function _(e,t){return h(e)||b(e,t)||y(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function b(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function h(e){if(Array.isArray(e))return e}function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function w(e,t,r){t=A(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function O(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,A(n.key),n)}}function k(e,t,r){if(t)S(e.prototype,t);if(r)S(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function A(e){var t=E(e,"string");return p(t)==="symbol"?t:String(t)}function E(e,t){if(p(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(p(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var x=function(){function e(t){O(this,e);this._map=void 0;this._total=undefined;if(typeof t==="number"||!t){this._total=t!=null?t:0}else{this._map=g({},t)}}k(e,[{key:"withTotal",value:function e(){var t;(t=this._total)!=null?t:this._total=0;return this}},{key:"total",get:function e(){var t;return(t=this._total)!=null?t:0}},{key:"get",value:function e(t){if(t===undefined){var r;return(r=this._total)!=null?r:0}else{var n,o;return(n=(o=this._map)==null?void 0:o[t])!=null?n:0}}},{key:"add",value:function e(t,r){var n=typeof t==="number"?[undefined,t!=null?t:1]:[t,r!=null?r:1],o=_(n,2),s=o[0],i=o[1];if(typeof this._total==="number"){this._total+=i}if(typeof s!=="undefined"){var a,l;(a=this._map)!=null?a:this._map={};this._map[s]=((l=this._map[s])!=null?l:0)+i}}},{key:"toJSON",value:function e(){if(this._total!==undefined&&this._map!==undefined){return g({total:this.total},this._map)}else if(this._total!==undefined){return this._total}else if(this._map!==undefined){return g({},this._map)}else{return 0}}}],[{key:"onClient",value:function t(r){if(n.on_client()){return new e(r)}else{return new M}}}]);return e}();r.default=x;var M=function(e){i(r,e);var t=l(r);function r(){O(this,r);return t.apply(this,arguments)}k(r,[{key:"get",value:function e(){return 0}},{key:"add",value:function e(){return undefined}}]);return r}(x);r.DummyCounter=M},{"./mode_check":713,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],691:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.number.to-fixed.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){return u(e)||l(e,t)||i(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function u(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,p(n.key),n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function p(e){var t=_(e,"string");return n(t)==="symbol"?t:String(t)}function _(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var m=e("./errors");var y=e("./b_string");var v=e("./b_number");var b=e("./mode_check");var h=20;var j={posix:{},ietf:{}};function g(e,t,r){if(b.on_server()){return r()}var n=j[e][t];if(n!=null){return n}else{var o=j[e][t]=r();return o}}t.exports=function(){function e(t){c(this,e);var r=t.posix_code,n=t.ietf_code;this.posix_code=r;this.ietf_code=n;if(this.posix_code&&this.ietf_code){throw new m.UnexpectedError("Can't provide two codes for a Locale")}else if(this.posix_code){this.ietf_code=e.posix_to_ietf(this.posix_code)}else if(this.ietf_code){this.posix_code=e.ietf_to_posix(this.ietf_code)}else{throw new m.UnexpectedError("Must provide a code to construct a Locale")}}d(e,[{key:"get_regional_separators",value:function e(){if(this.decimal_separator==null||this.group_separator==null||this.decimal_digits==null){var t=this.format_number(111111111.1111111);var r=t[0];for(var n=t.length-1;n>=0;n--){var o=t.charAt(n);if(o!==r){this.decimal_separator=o;this.decimal_digits=t.length-n-1;break}}for(var s=0;s<t.length;s++){var i=t.charAt(s);if(i!=="1"&&i!==this.decimal_separator){this.group_separator=i;break}this.group_separator=""}}return{decimal_separator:this.decimal_separator,group_separator:this.group_separator,decimal_digits:this.decimal_digits}}},{key:"format_number",value:function e(t,r){var n,o;if(r!=null){r=Math.max(0,Math.min(h,r))}if(typeof Intl==="undefined"||Intl===null){if(r!=null){return t.toFixed(r)}else{return t.toString()}}if(r!=null){o={maximumFractionDigits:r,minimumFractionDigits:r}}else{o={maximumFractionDigits:h}}try{n=new Intl.NumberFormat(this.ietf_code+"-u-nu-latn",o)}catch(e){n=new Intl.NumberFormat(this.ietf_code,o)}return n.format(t)}},{key:"format_decimal",value:function e(t){var r=this.get_regional_separators(),n=r.decimal_separator;return v.dec_to_string(t).replace(".",n)}},{key:"parse_float",value:function e(t){if(typeof t!=="string"){return parseFloat(t)}t=t.trim();var r=S(t,this.get_regional_separators()),n=r.decimal_separator,o=r.group_separator;if(o!=null&&o.charCodeAt(0)===160){t=y.replace_all(t,o," ");o=" "}var s=[",","."," "];for(var i=0,a=s;i<a.length;i++){var l=a[i];if(l!==n&&l!==o){if(y.safe_contains(t,l)){return NaN}}}var u=false;for(var c=t.length-1;c>=0;c--){var f=t.charAt(c);if(u){if(f===n){return NaN}}else{if(f===o||f===n){u=true}}}t=y.replace_all(t,o,"");if(n!=="."){t=y.replace_all(t,n,".")}return parseFloat(t)}}],[{key:"from_posix",value:function t(r){return g("posix",r,(function(){return new e({posix_code:r})}))}},{key:"from_ietf",value:function t(r){return g("ietf",r,(function(){return new e({ietf_code:r})}))}},{key:"posix_to_ietf",value:function e(t){var r=t.split("_"),n=o(r,2),s=n[0],i=n[1];if(s&&i){return"".concat(s,"-").concat(i.toUpperCase())}else{return s}}},{key:"ietf_to_posix",value:function e(t){var r=t.split("-"),n=o(r,2),s=n[0],i=n[1];if(s&&i){return"".concat(s,"_").concat(i.toLowerCase())}else{return s}}}]);return e}();function w(e){var t=null;var r=null;var n=[",","."];var o=e.length-1;while(o>=0){var s=e.charAt(o);if(n.includes(s)){t=s;break}o-=1}for(var i=0;i<o;i++){var a=e.charAt(i);if(a===t){r=a;t=null;break}else if(n.includes(a)){r=a;break}r=null}return{interpreted_decimal_separator:t,interpreted_group_separator:r}}function O(e,t){var r=e.charAt(0);if(r===t){return false}var n=null;var o=0;while(o<e.length){var s=e.charAt(o);if(s!==t){o+=1;continue}if(n==null&&o>3){return false}if(n!=null&&o-n!==4){return false}n=o;o+=1}if(n==null||o-n!==4){return false}return true}function S(e,t){var r=t.decimal_separator,n=t.group_separator;var o=r;var s=n;var i=w(e),a=i.interpreted_decimal_separator,l=i.interpreted_group_separator;if(a!=null&&l!=null){return{decimal_separator:a,group_separator:l}}if(a==null&&l==null){return{decimal_separator:o,group_separator:s}}if(O(e,l)){return{decimal_separator:a,group_separator:l}}if(O(e,s)&&a===s){return{decimal_separator:o,group_separator:s}}return{decimal_separator:a,group_separator:null}}},{"./b_number":701,"./b_string":703,"./errors":708,"./mode_check":713,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.number.to-fixed.js":948,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],692:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n={CurrentAutoRun:null,CurrentNotReadyCatcher:null,server_connection_problems:false};t.exports=n},{}],693:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.Autorun=r.AlwaysErrorWatcher=void 0;r.Box=re;r.BoxClass=void 0;r.FakeWatcher=L;r.Watcher=C;r.autorun=F;r.autorun_once=V;r.autorun_return=oe;r.autorun_top=H;r.autorun_watch=te;r.autotop=Y;r.mock_auto_run=K;r.no_outstanding_run_once=void 0;r.run_once=M;r.scheduled_key=r.schedule=void 0;r.singleton=P;r.wait_for_attached=U;r.wait_for_element=B;r.wait_for_updates=q;r.wait_for_updates_keys=void 0;r.wait_for_visible=W;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.promise.js");e("core-js/modules/es.promise.finally.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/web.queue-microtask.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.assign.js");var n=b(e("./async_state"));var o=e("./b_async");var s=v(e("../b_object"));var i=v(e("../../client/b_ui"));var a=e("./dependency");var l=e("../errors");var u=v(e("../../../logger"));var c=v(e("../mode_check"));var f=e("../uuid");var d=b(e("../../../client/epoch"));var p=e("../../../constants/epoch");var _={template:function(){},createContext:function(){},delegateEvents:function(){}};var m=b(e("../../../safe_require"));function y(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(y=function e(n){return n?r:t})(e)}function v(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||h(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=y(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function b(e){return e&&e.__esModule?e:{default:e}}function h(e){"@babel/helpers - typeof";return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h(e)}function j(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=g(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function g(e,t){if(!e)return;if(typeof e==="string")return w(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return w(e,t)}function w(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function O(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,A(n.key),n)}}function k(e,t,r){if(t)S(e.prototype,t);if(r)S(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function A(e){var t=E(e,"string");return h(t)==="symbol"?t:String(t)}function E(e,t){if(h(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(h(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}m.default.safe_register("./u/shared/async/autorun",t.exports);var x=(0,o.MakeKeyList)();r.no_outstanding_run_once=x;function M(e,t,r){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i;if(typeof e!=="number"){throw new l.UnexpectedError("calling run_once with non-numeric value for timeout_seconds")}if(c.on_server()){i=(0,o.Promise)(t)}else{var a=function e(){var t;if(f.is_turned()){return}var r=d.max_expected_time();(t=r)!=null?t:r=p-Date.now();if(r<0){u()}else{setTimeout(e,Math.min(1e4,r))}};var u=function r(){var o;var s=d.get_current_status();if(s.status==="error"){o="WAS AN ERR, WHY DID WE NOT CALL ERROR HANDLER?"}else if(s.status==="ready"){o="WATCHER IS READY, WHY DID WE NOT CALL ONCE_VALUE: ".concat(String(s.value))}else{if(!s.ready_keys){o="<NO READY KEYS>"}else if(s.ready_keys.is_turned()){o="Watcher is marked not ready but keys are turned. _debug_turned_key = ".concat(String(d._debug_turned_key),". IS SCHEDULED: ").concat(String(!!d._is_scheduled))}else{o="waiting on ".concat(String(s.ready_keys))}}if(n.default.server_connection_problems){i.reject(new l.UserError("BAD_CONNECTION"))}else{i.reject(new l.UnexpectedError("autorun.run_once timeout",{timeout_seconds:e,fn_source:String(t),waiting_on:o}))}f.turn();d.destroy()};var f;i=(0,o.Promise)(null,"Running once: ".concat(String(t)));if(s){f=(0,o.MakeKey)(e+5,"run once: "+String(t))}else{f=x.make(e+5,"run once: "+String(t))}var d=C(t);if(s){d.dont_track_scheduling()}d.once_value((function(e){if(f.is_turned()){return}f.turn();d.destroy();i.resolve(e)}));d.once_error((function(e){if(f.is_turned()){return}f.turn();d.destroy();i.reject(e)}));var p=Date.now()+e*1e3;a()}if(r){i.callback(r)}return i}function P(e){var t=null;return function(){if(t==null){t=H((function(){return new e}))}return t}}function T(e,t,r){try{e()}catch(e){t(e)}finally{r()}}function I(e,t){try{return[true,s.compare(e,t)]}catch(e){if(e instanceof l.NotReadyError){return[false]}else{throw e}}}function C(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r,n;if(typeof e==="function"){n=e}else{n=e.fn;r=e.compare}return new R(n,{watcher_test:t,compare:r})}var R=function(){function e(t){var r=this,s;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};O(this,e);this.evaluate=void 0;this.ready_keys=void 0;this._is_scheduled=void 0;this._dont_track_scheduling=false;this._ar_object=void 0;this.error=void 0;this.value=void 0;this.ready=false;this._debug_turned_key=void 0;this.dependency=void 0;this.error_listeners=void 0;this.listeners=void 0;this.not_ready_listeners=void 0;var d=i.watcher_test,p=d===void 0?false:d,_=i.compare,m=i.log_errors,y=m===void 0?true:m;this.evaluate=function(){var e=n.default.CurrentNotReadyCatcher;var s=[];var i=n.default.CurrentAutoRun;var a={id:(0,f.LUID)(),_subs:[],invalidate:function e(){if(r.ready_keys&&!r.ready_keys.is_turned()){r.ready_keys.turned_dependency().register(a);return}a.invalidate=function(){};a.destroy();if(c.running_test()&&!p){a.run_me()}else{if(c.on_server()){u.warn("invalidating watcher on server",{keys:String(r.ready_keys)})}Q(a);r._is_scheduled=a}},add_sub:function e(t){a._subs.push(t)},destroy_subs:function e(){var t=j(a._subs),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.destroy()}}catch(e){t.e(e)}finally{t.f()}a._subs=[]},_is_destroyed:false,destroy:function e(){a._is_destroyed=true;a.destroy_subs()},run_me:function e(){a.run_me=function(){};if(a===r._is_scheduled){r._is_scheduled=undefined}r.evaluate()},dont_track_scheduling:r._dont_track_scheduling,stop_tracking:function e(){r.dont_track_scheduling()}};r._ar_object=a;var d;var m;T((function(){n.default.CurrentNotReadyCatcher=s;n.default.CurrentAutoRun=a;m=t()}),(function(e){if(e instanceof l.NotReadyError&&e.not_ready_key!=null){var t=e.not_ready_key;if(!t.is_registered(a)&&e.suppress_dependency_error!==true){u.error("Watcher caught unregistered key",{key:t.toString()})}s.push(t)}else{d=(0,l.ensure_bubble_error)(e)}}),(function(){n.default.CurrentNotReadyCatcher=e;n.default.CurrentAutoRun=i}));if(d!=null){var v;r.error=d;r.value=undefined;r.ready=true;r._debug_turned_key=undefined;(v=r.dependency)==null?void 0:v.invalidate();if(r.error_listeners!=null&&r.error_listeners.size>0){var b=j(r.error_listeners),h;try{for(b.s();!(h=b.n()).done;){var g=h.value;try{g(r.error)}catch(e){u.log((0,l.ensure_bubble_error)(e))}}}catch(e){b.e(e)}finally{b.f()}}else if(y){u.log(r.error)}}else if(s.length===0){var w=!r.ready;if(!w){if(_){w=!_(m,r.value)}else{var O=I(m,r.value);w=!O[0]||!O[1]}}if(w){var S;r.ready=true;r.error=undefined;r.value=m;r._debug_turned_key=undefined;(S=r.dependency)==null?void 0:S.invalidate();if(r.listeners){var k=j(r.listeners),A;try{for(k.s();!(A=k.n()).done;){var E=A.value;try{E(r.value)}catch(e){u.log((0,l.ensure_bubble_error)(e))}}}catch(e){k.e(e)}finally{k.f()}}}else{r.value=m}}else{var x;if(r.ready&&r.not_ready_listeners){var M=j(r.not_ready_listeners),P;try{for(M.s();!(P=M.n()).done;){var C=P.value;try{C()}catch(e){u.log((0,l.ensure_bubble_error)(e))}}}catch(e){M.e(e)}finally{M.f()}}r.ready=false;r.value=undefined;r.error=undefined;(x=r.ready_keys)!=null?x:r.ready_keys=(0,o.MakeKeyList)();r.ready_keys.remove_all();var R=j(s),N;try{for(R.s();!(N=R.n()).done;){var L=N.value;if(L.is_turned()){r._debug_turned_key=L}else{r.ready_keys.add_key(L)}}}catch(e){R.e(e)}finally{R.f()}}};this.evaluate();if(((s=this._ar_object)==null?void 0:s._has_dependency)===true||!this.ready){this.dependency=(0,a.Dependency)()}else{this.evaluate=undefined;this._ar_object=undefined}}k(e,[{key:"get_ready_key",value:function e(){var t;(t=this.ready_keys)!=null?t:this.ready_keys=(0,o.TransientKeyList)();return this.ready_keys}},{key:"dont_track_scheduling",value:function e(){this._dont_track_scheduling=true;if(this._ar_object){this._ar_object.dont_track_scheduling=true}}},{key:"invalidate",value:function e(){var t;return(t=this._ar_object)==null?void 0:t.invalidate()}},{key:"max_expected_time",value:function e(){var t,r;return(t=(r=this.ready_keys)==null?void 0:r.max_expected_time())!=null?t:null}},{key:"get_current",value:function e(){var t,r;var n=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;(t=this._is_scheduled)==null?void 0:t.run_me();(r=this.dependency)==null?void 0:r.register();if(this.error!=null){if(n){return[null,null,this.error]}throw this.error}if(this.ready){return[this.ready,this.value]}else{return[this.ready,this.ready_keys]}}},{key:"get_current_status",value:function e(){if(this.error!=null){return{status:"error",error:this.error}}else if(this.ready){return{status:"ready",value:this.value}}else{return{status:"not_ready",ready_keys:this.ready_keys}}}},{key:"get_current_status_array",value:function e(){if(this.error!=null){return[this.error]}if(this.ready){return[null,this.ready,this.value]}else{return[null,this.ready,this.ready_keys]}}},{key:"get",value:function e(){var t,r;(t=this._is_scheduled)==null?void 0:t.run_me();if(this.error!=null){var n;(n=this.dependency)==null?void 0:n.register();throw this.error}if(!this.ready){var s;(0,o.ensure_ready)(this.ready_keys,false);this.evaluate();var i=this.get();(s=this.dependency)==null?void 0:s.register();return i}(r=this.dependency)==null?void 0:r.register();return this.value}},{key:"on_value",value:function e(t){var r;(r=this.listeners)!=null?r:this.listeners=new Set;this.listeners.add(t);if(this.error!=null){u.log(this.error)}else if(this.ready){try{t(this.value)}catch(e){u.log((0,l.ensure_bubble_error)(e))}}}},{key:"on_condition",value:function e(t,r){var n;if(typeof t==="function"){n=t}else{n=function e(r){return r===t}}this.on_value((function(e){if(n(e)){r(e)}}))}},{key:"on_not_ready",value:function e(t){var r;(r=this.not_ready_listeners)!=null?r:this.not_ready_listeners=new Set;this.not_ready_listeners.add(t);if(!this.ready){try{t()}catch(e){u.log((0,l.ensure_bubble_error)(e))}}}},{key:"on_error",value:function e(t){var r;(r=this.error_listeners)!=null?r:this.error_listeners=new Set;this.error_listeners.add(t);if(this.error!=null){try{t(this.error)}catch(e){u.log((0,l.ensure_bubble_error)(e))}}}},{key:"once_error",value:function e(t){var r=this;var n=function e(n){var o;(o=r.error_listeners)==null?void 0:o.delete(e);t(n)};this.on_error(n)}},{key:"once_value",value:function e(t){var r=this;var n=function e(n){var o;(o=r.listeners)==null?void 0:o.delete(e);t(n)};this.on_value(n)}},{key:"once_condition",value:function e(t,r){var n=this;var o;if(typeof t==="function"){o=t}else{o=function e(r){return r===t}}var s=function e(t){if(o(t)){var s;(s=n.listeners)==null?void 0:s.delete(e);r(t)}};this.on_value(s)}},{key:"once_change",value:function e(t){var r,n=this;(r=this.listeners)!=null?r:this.listeners=new Set;var o=function e(r){var o;(o=n.listeners)==null?void 0:o.delete(e);t(r)};this.listeners.add(o)}},{key:"destroy",value:function e(){var t,r;this.listeners=undefined;this.not_ready_listeners=undefined;this.error_listeners=undefined;this.dependency=undefined;(t=this.ready_keys)==null?void 0:t.destroy();this.ready_keys=undefined;this.evaluate=function(){};this._is_scheduled=undefined;(r=this._ar_object)==null?void 0:r.destroy();this._ar_object=undefined}}]);return e}();var N=new R((function(){throw new l.UnexpectedError("This watcher cannot be accessed")}),{log_errors:false});r.AlwaysErrorWatcher=N;function L(e){return new z(e)}var z=function(){function e(t){O(this,e);this.data=void 0;this.data=t}k(e,[{key:"get_ready_key",value:function e(){return(0,o.FakeKey)()}},{key:"dont_track_scheduling",value:function e(){}},{key:"max_expected_time",value:function e(){return null}},{key:"invalidate",value:function e(){}},{key:"get_current",value:function e(){return[true,this.data]}},{key:"get_current_status",value:function e(){return{status:"ready",value:this.data}}},{key:"get_current_status_array",value:function e(){return[null,true,this.data]}},{key:"get",value:function e(){return this.data}},{key:"on_value",value:function e(t){t(this.data)}},{key:"on_error",value:function e(){}},{key:"on_not_ready",value:function e(){}},{key:"once_error",value:function e(){}},{key:"once_value",value:function e(t){t(this.data)}},{key:"once_change",value:function e(){}},{key:"on_condition",value:function e(t,r){if(t===this.data||typeof t==="function"&&t(this.data)){r(this.data)}}},{key:"once_condition",value:function e(t,r){this.on_condition(t,r)}},{key:"destroy",value:function e(){}}]);return e}();var D=(0,o.MakeKeyList)();r.wait_for_updates_keys=D;function q(e){setTimeout((function(){if(Z.is_turned()&&D.is_turned()){e()}else{(0,o.WaitFor)(Z,D,(function(){return q(e)}))}}),10)}function B(e,t,r){var n;var o=setTimeout((function(){if(n!=null)clearTimeout(n);r("could not find ".concat(e," after ").concat(t," ms"))}),t);function s(){if($(e).length>0){clearTimeout(o);r()}else{n=setTimeout(s,100)}}s()}function U(e,t,r){var n;(n=r)!=null?n:r={};var s=r,a=s.error_message;var l=false;e.on("remove",(function(){l=true}));function c(r){var n;(n=r)!=null?n:r=10;if(l){return}if(i.is_attached(e)){t()}else{if(typeof r==="function"){r()}else{var o=r*2;setTimeout((function(){c(o)}),r)}}}c((function(){(0,o.WaitFor)(Z,(function(){c((function(){if(a){u.owner_warn("element not attached after scheduled_key",{display:a,html:e[0].outerHTML})}else{u.error("element was not attached after autorun.scheduled_key",{html:e[0].outerHTML})}c()}))}))}))}function W(e,t){function r(n){var o;(o=n)!=null?o:n=10;if(n>500){return}if(e.is(":visible")){t()}else{if(typeof n==="function"){n()}else{var s=n*2;setTimeout((function(){return r(s)}),n)}}}r((function(){(0,o.WaitFor)(Z,(function(){return r()}))}))}function F(e,t){var r=h(e)==="object"?e:{do:e,while:undefined,finally:t};var n=r.do,o=r.while,s=r.finally;if(c.is_edit_mode()){var i=n;var a=s;var u;n=function e(){H((function(){return(0,_.untrack)((function(){var e;return(e=u)==null?void 0:e()}))}));var t=(0,_.createRoot)((function(e){u=e;try{i()}catch(e){if(e instanceof l.NotReadyError){return e}throw e}return null}));if(t!=null){throw t}};s=function e(){var t;(t=u)==null?void 0:t();a==null?void 0:a()}}if(!o){return new X(n,s).run_me()}else{return G(n,o,s)}}function G(e,t,r){var n=false;var o=new X(e,(function(){r==null?void 0:r();s.destroy()}));var s=new X((function(){if(t()){o.unpause();if(!n){n=true;o.run_me()}}else{o.pause()}})).run_me();return o}var X=function(){function e(t,r){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;O(this,e);this._is_destroyed=false;this._subs=[];this._is_paused=false;this._is_ancestor_paused=false;this._run_on_unpause=false;this.fn=void 0;this.cleanup=void 0;this.run_once=void 0;this.id=void 0;this.run_immediately=false;this._is_running=false;this._do_another_run=void 0;this._recursive_runs=void 0;this.dont_track_scheduling=false;this.fn=t;this.cleanup=r;this.run_once=o;this.id=(0,f.LUID)();if(n.default.CurrentAutoRun!=null){n.default.CurrentAutoRun.add_sub(this)}}k(e,[{key:"set_run_immediately",value:function e(t){this.run_immediately=t}},{key:"alive",value:function e(){return!this._is_destroyed}},{key:"invalidate",value:function e(){if(this._is_destroyed){return}if(this.run_once){return}if(ee===this){u.error("Watched autorun just got invalidated")}if(this._is_paused||this._is_ancestor_paused){this._run_on_unpause=true;return}if(this.run_immediately||c.on_server()){if(this._is_running){this._do_another_run=true;if(this._recursive_runs!=null&&this._recursive_runs>20){throw new l.UnexpectedError("recursive autorun run immediately loop")}}else{this.run_me()}}else{Q(this)}}},{key:"run_me",value:function e(){if(this._is_destroyed||this._is_paused||this._is_ancestor_paused){return this}this.destroy_subs();var t=n.default.CurrentAutoRun;n.default.CurrentAutoRun=this;var r=n.default.CurrentNotReadyCatcher;n.default.CurrentNotReadyCatcher=null;this._is_running=true;try{this.fn()}catch(e){if(e instanceof l.NotReadyError&&e.not_ready_key!=null){var o=e.not_ready_key;if(!o.is_registered(this)&&e.suppress_dependency_error!==true){u.error("Unregistered key caught by autorun",{key:o.toString()})}}else{u.log((0,l.ensure_bubble_error)(e))}}finally{this._is_running=false;n.default.CurrentAutoRun=t;n.default.CurrentNotReadyCatcher=r}if(this._do_another_run===true){var s;this._do_another_run=false;(s=this._recursive_runs)!=null?s:this._recursive_runs=0;this._recursive_runs++;this.run_me()}else{delete this._recursive_runs}return this}},{key:"destroy_subs",value:function e(){var t=j(this._subs),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.destroy()}}catch(e){t.e(e)}finally{t.f()}this._subs=[]}},{key:"destroy",value:function e(){var t;this._is_destroyed=true;this.destroy_subs();(t=this.cleanup)==null?void 0:t.call(this)}},{key:"add_sub",value:function e(t){this._subs.push(t)}},{key:"stop_tracking",value:function e(){this.dont_track_scheduling=true}},{key:"pause",value:function e(){this._is_paused=true;this._subs.forEach(t);function t(e){var r=e._is_paused||e._is_ancestor_paused;e._is_ancestor_paused=true;if(!r){e._subs.forEach(t)}}}},{key:"unpause",value:function e(){this._is_paused=false;t(this);function t(e){if(e._is_paused||e._is_ancestor_paused){return}if(e._run_on_unpause){e._run_on_unpause=false;e.invalidate()}else{e._subs.forEach((function(e){e._is_ancestor_paused=false;t(e)}))}}}}]);return e}();r.Autorun=X;function V(e){return new X(e,undefined,true).run_me()}function H(e){var t=n.default.CurrentAutoRun;n.default.CurrentAutoRun=null;var r=n.default.CurrentNotReadyCatcher;n.default.CurrentNotReadyCatcher=null;try{return e()}catch(e){if(e instanceof l.NotReadyError){u.log((0,l.ensure_bubble_error)(e))}throw e}finally{n.default.CurrentAutoRun=t;n.default.CurrentNotReadyCatcher=r}}function Y(e){return H((function(){return F(e)}))}function K(e){var t,r;try{r=n.default.CurrentAutoRun;var o=new J;n.default.CurrentAutoRun=o;t=n.default.CurrentNotReadyCatcher;n.default.CurrentNotReadyCatcher=null;e();return o}finally{n.default.CurrentAutoRun=r;n.default.CurrentNotReadyCatcher=t}}var J=function(){function e(){O(this,e);this.wr=void 0;this.id=void 0;this.wr=false;this.id=(0,f.LUID)()}k(e,[{key:"add_sub",value:function e(t){}},{key:"stop_tracking",value:function e(){}},{key:"will_run",value:function e(){return this.wr}},{key:"invalidate",value:function e(){this.wr=true}},{key:"destroy",value:function e(){}}]);return e}();var Z=(0,o.MakeSwitch)(undefined,"autorun.scheduled_key");r.scheduled_key=Z;Z.turn_on();var Q=function(){var e={};var t=false;var r=0;var n=false;var o=c.is_edit_mode()?0:100;function s(){if(t){return}t=true;r++;if(!n){var e,s;(e=window)==null?void 0:(s=e.requestAnimationFrame)==null?void 0:s.call(e,i);setTimeout(i)}else if(r<=o){queueMicrotask(i)}else{setTimeout(i,1);r=0}}function i(){var e=p.SPANS.autorun_scheduled;d.default.traceSpan(e.name,e.type,(function(){return a()}))}function a(){t=false;n=true;var o=Object.values(e);e={};for(var s=0,i=o;s<i.length;s++){var a=i[s];a.run_me()}n=false;if(!t){setTimeout((function(){if(!t)Z.turn_on()}),1);r=0}}return function(t){e[t.id]=t;if(!t.dont_track_scheduling){Z.turn_off()}s()}}();r.schedule=Q;var ee;function te(){ee=n.default.CurrentAutoRun}function re(e,t){var r=new ne(e);if(t===true){r.not_ready()}var n=r.val.bind(r);return Object.assign(n,{set:r.set.bind(r),get:r.get.bind(r),dangerously_peek:r.dangerously_peek.bind(r)})}var ne=function(){function e(t){O(this,e);this.state=void 0;this.dependency=void 0;this.is_not_ready=void 0;this.not_ready_switch=void 0;this.state=t;this.dependency=(0,a.Dependency)();this.is_not_ready=false}k(e,[{key:"not_ready",value:function e(){var t;this.is_not_ready=true;(t=this.not_ready_switch)!=null?t:this.not_ready_switch=(0,o.MakeSwitch)(undefined,"autorun.Box not_ready_switch");this.not_ready_switch.turn_off()}},{key:"val",value:function e(t,r){if(r===true){this.not_ready()}else if(t===undefined){return this.get()}else{this.set(t)}return undefined}},{key:"dangerously_peek",value:function e(){return this.state}},{key:"get",value:function e(){if(this.is_not_ready){(0,o.ensure_ready)(this.not_ready_switch)}this.dependency.register();return this.state}},{key:"set",value:function e(t){if(!s.compare(this.state,t)){this.state=t;this.dependency.invalidate();if(this.is_not_ready){this.is_not_ready=false;this.not_ready_switch.turn_on()}}}}]);return e}();r.BoxClass=ne;function oe(e){var t=(0,a.Dependency)();var r;var n;F((function(){try{var o=e();if(!s.compare(o,r)){t.invalidate()}r=o;n=undefined}catch(e){n=e;t.invalidate()}}));t.register();if(n!=null){n.suppress_dependency_error=true;throw n}return r}},{"../../../client/epoch":41,"../../../constants/epoch":74,"../../../logger":617,"../../../safe_require":643,"../../client/b_ui":677,"../b_object":702,"../errors":708,"../mode_check":713,"../uuid":716,"./async_state":692,"./b_async":695,"./dependency":697,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.promise.finally.js":961,"core-js/modules/es.promise.js":962,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.queue-microtask.js":993}],694:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.autorun_cache=g;e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");var n=e("./autorun");var o=e("../errors");var s=p(e("./b_fiber"));var i=p(e("../mode_check"));var a=f(e("../../server/server_notifications"));var l=e("../uuid");var u=e("../b_object");var c=e("../loggable");function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(d=function e(n){return n?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||j(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=d(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function _(e,t){return h(e)||b(e,t)||y(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function b(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function h(e){if(Array.isArray(e))return e}function j(e){"@babel/helpers - typeof";return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e){var t,r;if(typeof e==="function"){t=e;r={}}else{r=e;t=e.fn}var f={};var d=(0,l.LUID)();return function(){var e=this;for(var l=arguments.length,p=new Array(l),m=0;m<l;m++){p[m]=arguments[m]}if(p.length>3){throw new o.UnexpectedError("autorun_cache only supports 3 args right now")}var y=p.slice(0,3);if((0,u.has_unique_string)(this)){y.push(this)}for(var v=0;v<y.length;v++){var b=y[v];if((0,u.has_unique_string)(b)){b=b.toUniqueString()}if(typeof b==="string"){b='"'+b}if(b!=null&&j(b)==="object"){throw new o.UnexpectedError("passed in object to autorun_cache",{the_object:(0,c.to_loggable)(b)})}y[v]=b}var h=y.join(" ");if(i.on_server()){var g,w,O,S;var k=(g=s.Fiber)==null?void 0:g.current;if(k==null){var A;return(A=t).call.apply(A,[this].concat(p))}var E=k.running_appname;var x=k.running_app_version;var M="".concat(d).concat(E,"_").concat(x);(w=k.__server_autorun_cache)!=null?w:k.__server_autorun_cache={};(S=(O=k.__server_autorun_cache)[M])!=null?S:O[M]=new LRU({max:1e3,length:function e(){return 1}});var P=k.__server_autorun_cache[M];var T;if(!P.has(h)){var I=a.default.notification_capturer((function(){var r;return(r=t).call.apply(r,[e].concat(p))})),C=_(I,2),R=C[0],N=C[1];T={res:R,rethrower:N};P.set(h,T)}else{T=P.get(h)}T.rethrower();return T.res}else{var L=f[h];if(L==="evaluating"){var z;return(z=t).call.apply(z,[this].concat(p))}else{if(L==null){f[h]="evaluating";f[h]=L=(0,n.Watcher)({fn:function(e){function t(){return e.apply(this,arguments)}t.toString=function(){return e.toString()};return t}((function(){var r;return(r=t).call.apply(r,[e].concat(p))})),compare:r.compare_fn})}return L.get()}}}}},{"../../server/server_notifications":689,"../b_object":702,"../errors":708,"../loggable":711,"../mode_check":713,"../uuid":716,"./autorun":693,"./b_fiber":696,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],695:[function(e,t,r){"use strict";e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.FakeKey=ee;r.KeyList=r.KeyBase=r.Key=void 0;r.MakeKey=Z;r.MakeKeyList=ue;r.MakeSwitch=ae;r.Promise=U;r.Switch=r.PromiseClass=void 0;r.SyncWait=J;r.TransientKeyList=ce;r.WaitFor=ne;r.ensure_ready=H;r.promise_array=F;r.retry=K;r.retry_on_match=Y;r.run_without_catching_not_ready=V;r.throw_not_ready=$;r.timeout_promise=G;r.timeout_warning=se;e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.flat.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.number.constructor.js");var n=m(e("./async_state"));var o=e("../backoff");var s=_(e("../b_string"));var i=_(e("../b_array"));var a=e("./dependency");var l=e("../errors");var u=_(e("./b_fiber"));var c=_(e("../mode_check"));var f=_(e("../../../logger"));var d=m(e("../../../safe_require"));function p(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(p=function e(n){return n?r:t})(e)}function _(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||y(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=p(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function m(e){return e&&e.__esModule?e:{default:e}}function y(e){"@babel/helpers - typeof";return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function v(e){return j(e)||h(e)||C(e)||b()}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function h(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function j(e){if(Array.isArray(e))return R(e)}function g(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)w(e,t)}function w(e,t){w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return w(e,t)}function O(e){var t=A();return function r(){var n=E(e),o;if(t){var s=E(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return S(this,o)}}function S(e,t){if(t&&(y(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return k(e)}function k(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function A(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function E(e){E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return E(e)}function x(e,t){return T(e)||P(e,t)||C(e,t)||M()}function M(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function P(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function T(e){if(Array.isArray(e))return e}function I(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=C(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function C(e,t){if(!e)return;if(typeof e==="string")return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return R(e,t)}function R(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function N(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,D(n.key),n)}}function z(e,t,r){if(t)L(e.prototype,t);if(r)L(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function D(e){var t=q(e,"string");return y(t)==="symbol"?t:String(t)}function q(e,t){if(y(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(y(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}d.default.safe_register("./u/shared/async/b_async",t.exports);function B(e){return e}function U(e,t){if(e!=null&&(e instanceof W||typeof e.then==="function")){return e}else{return new W(e,t)}}var W=function(){function e(t,r){N(this,e);this._fails=void 0;this._dones=void 0;this._done=void 0;this._waiting_on=void 0;this.prefetching=false;this._error=void 0;this._value=void 0;this._handled_error=false;this._ready_key=void 0;this._fails=[];this._dones=[];this._done=false;if(r){this._waiting_on=r}else{if(typeof t==="function"){var n;try{n=t()}catch(e){this.reject(e);return}this.resolve(n)}else{this.resolve(t)}}}z(e,[{key:"get_prefetching",value:function t(){if(this.prefetching){return this.prefetching}if(this._waiting_on instanceof e){return this._waiting_on.get_prefetching()}return false}},{key:"toString",value:function t(){if(this._done){var r;return"Promise(".concat(String((r=this._error)!=null?r:this._value),")")}else{if(this._waiting_on instanceof e){return String(this._waiting_on)}else{return"Promise(waiting on ".concat(String(this._waiting_on),")")}}}},{key:"reject",value:function e(t){var r=this;if(this._done){return}if(t instanceof l.NotReadyError){f.warn("Promise rejected with a not-ready key: use a autorun.run_once!")}this._done=true;this._waiting_on=undefined;this._error=t;if(this._fails.length>0){var n=I(this._fails),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;s(t)}}catch(t){n.e(t)}finally{n.f()}}else if(c.on_client()){setTimeout((function(){if(!r._handled_error){throw t}}),100)}}},{key:"resolve",value:function t(r){var n=this;if(this._done){return}if(r instanceof e){this._waiting_on=r;r._attach_success((function(e){return n.resolve(e)}));r._attach_failure((function(e){return n.reject(e)}))}else{this._done=true;this._waiting_on=undefined;this._value=r;var o=I(this._dones),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;i(r)}}catch(e){o.e(e)}finally{o.f()}}}},{key:"_attach_success",value:function e(t){if(typeof t!=="function"){throw new l.UnexpectedError("not a function")}if(this._done){if(this._error==null){t(this._value)}}else{this._dones.push(t)}}},{key:"_attach_failure",value:function e(t){if(typeof t!=="function"){throw new l.UnexpectedError("not a function")}if(this._done){if(this._error!=null){t(this._error);this._handled_error=true}}else{this._fails.push(t)}}},{key:"then",value:function e(t,r){var n=t!=null?t:B;var o=r!=null?r:B;var s=U(null,this);this._attach_success((function(e){var t;try{t=n(e)}catch(e){s.reject(e);return}s.resolve(t)}));this._attach_failure((function(e){var t;try{t=o(e)}catch(e){t=e}if(t!=null){s.reject(t)}else{s.resolve(undefined)}}));return s}},{key:"callback",value:function e(t){this.then((function(e){t(null,e)}),(function(e){t(e);return null}))}},{key:"done",value:function e(t){var r;(r=t)!=null?r:t=B;this._attach_success(t);this._attach_failure((function(e){if(e!=null){setTimeout((function(){throw e}),1)}}))}},{key:"block",value:function e(){var e=u.Block(this.toString(),this.get_prefetching());this.callback((function(t,r){if(t!=null){e.fail(t)}else{e.success(r)}}));return e.wait()}},{key:"block_promise",value:function e(t){var r=this;if(c.on_server()){u.suspend_fiber_timeout(t,(function(){return r.block()}))}return this}},{key:"sync",value:function e(){if(c.on_server()){return this.block()}H(this.ready_key(),false);if(this._error!=null){throw this._error}return this._value}},{key:"ready_key",value:function e(){var t=this;if(!this._ready_key){var r=Z(undefined,(function(){return t.toString()}));this._ready_key=r;this._attach_success((function(){return r.turn()}));this._attach_failure((function(){return r.turn()}))}return this._ready_key}},{key:"inspect",value:function e(){if(!this._done){return{state:"pending"}}if(this._error!=null){return{state:"rejected",reason:this._error}}else{return{state:"fulfilled",value:this._value}}}},{key:"make_cb",value:function e(){var t=this;return function(e,r){return e!=null?t.reject(e):t.resolve(r)}}}]);return e}();r.PromiseClass=W;function F(e){if(e.length===0){return U([])}if(e.length===1){return e[0].then((function(e){return[e]}))}var t=i.partition(e),r=x(t,2),n=r[0],o=r[1];return F(n).then((function(e){return F(o).then((function(t){return e.concat(t)}))}))}function G(e){var t=U(null,"b_async.timeout_promise:".concat(e));setTimeout(t.resolve.bind(t),e);return t}var X=false;function $(e,t){var r;(r=t)!=null?r:t=true;e.turned_dependency().register();if(t&&n.default.CurrentNotReadyCatcher&&!X){n.default.CurrentNotReadyCatcher.push(e)}else{throw new l.NotReadyError(e)}}function V(e){var t=X;try{X=true;e();return}finally{X=t}}function H(e,t){var r,n;(r=t)!=null?r:t=true;if(e.is_turned()){return true}if(((n=u.Fiber)==null?void 0:n.current)!=null&&!c.running_test()){J(e);return true}else{$(e,t);return false}}function Y(e){var t=e.retries,r=e.delay,n=e.try_fn,i=e.match_fn,a=e.before_retry_fn;if(typeof t!=="number"){throw new l.UnexpectedError("b_async.retry bad retries")}if(typeof n!=="function"){throw new l.UnexpectedError("b_async.retry bad function param")}try{return n()}catch(e){if(i){if(!i(e)){throw e}}if(e instanceof Error&&s.safe_contains(e.message,u.QUEUE_TIMEOUT)){throw e}if(!(t>0)){throw e}if(r){u.pause((0,o.jitter)(r),"retry on match delay")}a==null?void 0:a(e);return Y({retries:t-1,delay:r,try_fn:n,match_fn:i,before_retry_fn:a})}}function K(e,t,r){return Y({retries:e,delay:t,try_fn:r})}function J(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=ce(t);if(n.is_turned()){return}var o=u.Block(n.toString());ne(n,o.success.bind(o));o.wait()}function Z(e,t,r){if(!t){f.error("anonymous key created: please name it: b_async.MakeKey(null, 'my name') or b_async.MakeKey(timeout, 'my name')")}return new ie(e,t,r)}var Q=null;function ee(){if(!Q){Q=Z(undefined,"fake_key");Q.turn()}return Q}var te=0;var re=function(){function e(){N(this,e);this._id=void 0;this._listeners=void 0;this._listener_count=0;this._turned_dependency=void 0}z(e,[{key:"id",value:function e(){if(!this._id){this._id=te;te++}return this._id}},{key:"listen",value:function e(t){var r;(r=this._listeners)!=null?r:this._listeners={};var n=t.id();if(this._listeners[n]!=null){return}this._listeners[n]=t;this._listener_count++;if(this._listener_count===1e4){var o;if(!c.is_edit_mode()||(o=window)!=null&&o.current_user_is_admin){f.warn("Listener count at 10000",{key:String(this)})}}}},{key:"unlisten",value:function e(t){var r;var n=t.id();if(((r=this._listeners)==null?void 0:r[n])!=null){delete this._listeners[n];this._listener_count--}}},{key:"turned_dependency",value:function e(){var t;(t=this._turned_dependency)!=null?t:this._turned_dependency=(0,a.Dependency)();return this._turned_dependency}},{key:"is_registered",value:function e(t){return this.turned_dependency().is_registered(t)}},{key:"_was_updated",value:function e(){var t;var r=(t=this._listeners)!=null?t:{};for(var n in r){var o=r[n];o.notify(this)}if(this.is_turned()){var s;(s=this._turned_dependency)==null?void 0:s.invalidate()}if(this.is_dead()){delete this._listeners;delete this._turned_dependency}}},{key:"_update_dead",value:function e(){var t;if(!this.is_dead()){throw new l.UnexpectedError("not dead")}var r=(t=this._listeners)!=null?t:{};for(var n in r){var o=r[n];o.notify_dead(this)}delete this._listeners;delete this._turned_dependency}},{key:"to_promise",value:function e(){var t=U(null,this);ne(this,(function(){return t.resolve()}));return t}},{key:"toString",value:function e(){return"KeyBase of type ".concat(this.constructor.name)}}]);return e}();r.KeyBase=re;function ne(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=Math.max(t.length,1);var o=t.slice(0,n-1);var s=t[n-1];if(s==null){return}var i=o.flat();var a=ce(i);if(a.is_turned()){s()}else{a.listen(new oe(s))}}var oe=function(e){g(r,e);var t=O(r);function r(e){var n;N(this,r);n=t.call(this);n.fn=void 0;n.fn=e;return n}z(r,[{key:"is_dead",value:function e(){return this.fn!=null}},{key:"is_turned",value:function e(){return this.fn!=null}},{key:"max_expected_time",value:function e(){return null}},{key:"notify",value:function e(t){if(t.is_turned()){var r;(r=this.fn)==null?void 0:r.call(this);this.fn=null;this._was_updated()}}},{key:"notify_dead",value:function e(){}},{key:"toString",value:function e(){var t;return"Waiter {".concat(String((t=this.fn)==null?void 0:t.toString().slice(0,100)),"...}")}}]);return r}(re);function se(e,t,r){var n=t!=null?t:40;var o=setTimeout((function(){if(typeof e==="function"){e=e()}f.info("Key failed to return after timeout",{wait_seconds:n,name:e});r==null?void 0:r()}),n*1e3);return function(){return clearTimeout(o)}}var ie=function(e){g(r,e);var t=O(r);function r(e,n,o){var s;N(this,r);s=t.call(this);s.timeout_length=void 0;s.name=void 0;s.end_time=void 0;s.timeout=void 0;s._turned=void 0;s.timeout_length=e;s.name=n;if(s.timeout_length&&s.timeout_length!==Infinity){s.end_time=Date.now()+1e3*s.timeout_length;s.timeout=se(s.name,s.timeout_length,o)}s._turned=false;return s}z(r,[{key:"is_turned",value:function e(){return this._turned}},{key:"is_dead",value:function e(){return this._turned}},{key:"max_expected_time",value:function e(){if(this.is_turned()||!this.end_time){return null}if(this.timeout_length===Infinity){return Infinity}return this.end_time-Date.now()}},{key:"turn",value:function e(){var t;if(this._turned){return}this._turned=true;this._was_updated();(t=this.timeout)==null?void 0:t.call(this)}},{key:"toString",value:function e(){if(this.name!=null){var t=typeof this.name==="function"?this.name():this.name;return"Key "+t}else{return"Anonymous Key"}}}]);return r}(re);r.Key=ie;function ae(e,t){if(!t){f.error("anonymous switch created: please name it")}if(e){throw new l.UnexpectedError("switch timeout not implemented")}return new le(t)}var le=function(e){g(r,e);var t=O(r);function r(e){var n;N(this,r);n=t.call(this);n.name=void 0;n._turned=void 0;n._destroyed=void 0;n.name=e;n._turned=false;n._destroyed=false;return n}z(r,[{key:"is_turned",value:function e(){return this._turned}},{key:"is_dead",value:function e(){return this._destroyed}},{key:"max_expected_time",value:function e(){return null}},{key:"turn_off",value:function e(){if(!this._turned){return}if(this._destroyed){throw new l.UnexpectedError("cannot turn off a destroyed switch")}this._turned=false;this._was_updated()}},{key:"turn_on",value:function e(){if(this._turned){return}this._turned=true;this._was_updated()}},{key:"destroy",value:function e(){this._destroyed=true;if(!this._turned){this.turn_on()}else{this._update_dead()}}},{key:"toString",value:function e(){if(this.name){return"Switch "+this.name}else{return"Anonymous Switch"}}}]);return r}(re);r.Switch=le;function ue(e){return new fe(e)}function ce(e){return new fe(e,true)}var fe=function(e){g(r,e);var t=O(r);function r(e){var n;var o=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;N(this,r);n=t.call(this);n.transient=void 0;n._keys=void 0;n._unturned=void 0;n._destroyed=void 0;n.transient=o;n._keys={};n._unturned=0;var s=I(e!=null?e:[]),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;n.add_key(a)}}catch(e){s.e(e)}finally{s.f()}return n}z(r,[{key:"is_turned",value:function e(){return this._unturned===0}},{key:"is_dead",value:function e(){var t;return(t=this._destroyed)!=null?t:false}},{key:"make_transient",value:function e(){return ce(Object.values(this._keys))}},{key:"remove_all",value:function e(){var t=this.is_turned();for(var r in this._keys){var n=this._keys[r];this._remove(n)}this._unturned=0;if(!t){this._was_updated()}}},{key:"_inc",value:function e(){this._unturned++;if(this._unturned===1){this._was_updated()}}},{key:"_dec",value:function e(){this._unturned--;if(this._unturned===0){this._was_updated()}}},{key:"max_expected_time",value:function e(){var t=Object.values(this._keys).map((function(e){return e.max_expected_time()})).filter((function(e){return!!e}));if(!t.length){return null}return Math.min.apply(Math,v(t))}},{key:"add_key",value:function e(t){if(this._destroyed===true){throw new l.UnexpectedError("cannot add key to a destroyed list")}if(t.is_dead()){return}if(this._keys[t.id()]!=null){return}if(!t.is_turned()){this._inc()}else if(this.transient){return}this._keys[t.id()]=t;t.listen(this)}},{key:"notify",value:function e(t){if(t.is_turned()){this._dec()}else{this._inc()}if(t.is_dead()||this.transient){this._remove(t)}}},{key:"notify_dead",value:function e(t){this._remove(t)}},{key:"_remove",value:function e(t){delete this._keys[t.id()];t.unlisten(this)}},{key:"add_promise",value:function e(t){return this.add_key(t.ready_key())}},{key:"make",value:function e(t,r,n){var o=Z(t,r,n);this.add_key(o);return o}},{key:"get",value:function e(){return Object.values(this._keys)}},{key:"toString",value:function e(){var t=this.get();var r=t.filter((function(e){return e.is_turned!=null&&!e.is_turned()})).map((function(e){return e.toString()}));return"[KeyList(".concat(t.length,") ").concat(r.join(", ")," ]")}},{key:"destroy",value:function e(){this._destroyed=true;for(var t in this._keys){var r=this._keys[t];r.unlisten(this)}this._keys={};if(this._unturned===0){this._update_dead()}else{this._unturned=0;this._was_updated()}}}]);return r}(re);r.KeyList=fe},{"../../../logger":617,"../../../safe_require":643,"../b_array":698,"../b_string":703,"../backoff":704,"../errors":708,"../mode_check":713,"./async_state":692,"./b_fiber":696,"./dependency":697,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.flat.js":931,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],696:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.Parallel=r.GetFiberTimeout=r.FiberTimeout=r.Fiber=r.Block=void 0;Object.defineProperty(r,"QUEUE_TIMEOUT",{enumerable:true,get:function e(){return a.QUEUE_TIMEOUT}});Object.defineProperty(r,"SYSTEM_FIBER",{enumerable:true,get:function e(){return a.SYSTEM_FIBER}});r.tag_fiber=r.tabulate_metrics=r.suspend_fiber_timeout=r.state=r.spend_time=r.set_running_app=r.set_fiber_queue=r.pause=r.optional_pause=r.on_post_fiber_run=r.on_fiber_created=r.kill_fiber=r.initialize_fiber_metrics=r.increment_fiber_sampling_with_timer=r.increment_fiber_sampling=r.has_time_left=r.handlers=r.get_tabulated_metrics=r.get_current_fiber_workload_used_units=r.get_current_fiber_activity=r.get_capacity_units_as_number_display=r.get_capacity_units=r.fiber_queue_soft_clean=r.fiber_queue_shutdown=r.fiber_lock=r.fiber_finalize=r.fiber_elapsed_time_ns=r.await=r.assign_fiber_ownership=r.add_metrics_headers=r.SyncRun=r.Sync=void 0;var o=e("../../errors");var s=Me(e("../../mode_check"));var i=Ee(e("../../../../safe_require"));var a=e("../../../../constants/fibers");var l,u,c,f,d,p,_,m,y,v,b,h,j,g,w,O,S,k,A,E,x,M,P,T,I,C,R,N,L,z,D,q,B,U,W,F,G,X,$,V,H,Y,K,J,Z,Q,ee,te,re,ne,oe,se,ie,ae,le,ue,ce,fe,de,pe,_e,me,ye,ve,be,he,je,ge,we,Oe,Se,ke,Ae;function Ee(e){return e&&e.__esModule?e:{default:e}}function xe(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(xe=function e(n){return n?r:t})(e)}function Me(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=xe(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}i.default.safe_register("./u/shared/async/b_fiber",r);var Pe=e;var Te;if(s.on_server()){Te=Pe("./server")}function Ie(){throw new o.UnexpectedError("Function should only be called on the server")}function Ce(){}var Re=(l=Te)==null?void 0:l.Fiber;r.Fiber=Re;var Ne=(u=(c=Te)==null?void 0:c.fiber_lock)!=null?u:Ie;r.fiber_lock=Ne;var Le=(f=(d=Te)==null?void 0:d.tag_fiber)!=null?f:Ie;r.tag_fiber=Le;var ze=(p=(_=Te)==null?void 0:_.increment_fiber_sampling_with_timer)!=null?p:Ce;r.increment_fiber_sampling_with_timer=ze;var De=(m=(y=Te)==null?void 0:y.increment_fiber_sampling)!=null?m:Ce;r.increment_fiber_sampling=De;var qe=(v=(b=Te)==null?void 0:b.initialize_fiber_metrics)!=null?v:Ie;r.initialize_fiber_metrics=qe;var Be=(h=(j=Te)==null?void 0:j.fiber_elapsed_time_ns)!=null?h:Ie;r.fiber_elapsed_time_ns=Be;var Ue=(g=(w=Te)==null?void 0:w.tabulate_metrics)!=null?g:Ie;r.tabulate_metrics=Ue;var We=(O=(S=Te)==null?void 0:S.get_tabulated_metrics)!=null?O:Ie;r.get_tabulated_metrics=We;var Fe=(k=(A=Te)==null?void 0:A.add_metrics_headers)!=null?k:Ce;r.add_metrics_headers=Fe;var Ge=(E=(x=Te)==null?void 0:x.handlers)!=null?E:{};r.handlers=Ge;var Xe=(M=(P=Te)==null?void 0:P.set_running_app)!=null?M:Ie;r.set_running_app=Xe;var $e=(T=(I=Te)==null?void 0:I.assign_fiber_ownership)!=null?T:Ie;r.assign_fiber_ownership=$e;var Ve=(C=(R=Te)==null?void 0:R.has_time_left)!=null?C:Ie;r.has_time_left=Ve;var He=(N=(L=Te)==null?void 0:L.spend_time)!=null?N:Ie;r.spend_time=He;var Ye=(z=(D=Te)==null?void 0:D.get_capacity_units)!=null?z:Ie;r.get_capacity_units=Ye;var Ke=(q=(B=Te)==null?void 0:B.get_capacity_units_as_number_display)!=null?q:Ie;r.get_capacity_units_as_number_display=Ke;var Je=(U=(W=Te)==null?void 0:W.on_post_fiber_run)!=null?U:Ie;r.on_post_fiber_run=Je;var Ze=(F=(G=Te)==null?void 0:G.on_fiber_created)!=null?F:Ie;r.on_fiber_created=Ze;var Qe=(X=($=Te)==null?void 0:$.set_fiber_queue)!=null?X:Ie;r.set_fiber_queue=Qe;var et=(V=(H=Te)==null?void 0:H.fiber_queue_soft_clean)!=null?V:Ie;r.fiber_queue_soft_clean=et;var tt=(Y=(K=Te)==null?void 0:K.fiber_queue_shutdown)!=null?Y:Ie;r.fiber_queue_shutdown=tt;var rt=(J=(Z=Te)==null?void 0:Z.optional_pause)!=null?J:Ce;r.optional_pause=rt;var nt=(Q=(ee=Te)==null?void 0:ee.state)!=null?Q:{open_fibers:0};r.state=nt;var ot=(te=(re=Te)==null?void 0:re.kill_fiber)!=null?te:Ie;r.kill_fiber=ot;var st=(ne=(oe=Te)==null?void 0:oe.SyncRun)!=null?ne:Ie;r.SyncRun=st;var it=(se=(ie=Te)==null?void 0:ie.fiber_finalize)!=null?se:Ie;r.fiber_finalize=it;var at=(ae=(le=Te)==null?void 0:le.Sync)!=null?ae:Ie;r.Sync=at;var lt=(ue=(ce=Te)==null?void 0:ce.Parallel)!=null?ue:Ie;r.Parallel=lt;var ut=(fe=(de=Te)==null?void 0:de.await)!=null?fe:Ie;r.await=ut;var ct=(pe=(_e=Te)==null?void 0:_e.FiberTimeout)!=null?pe:Ie;r.FiberTimeout=ct;var ft=(me=(ye=Te)==null?void 0:ye.GetFiberTimeout)!=null?me:Ie;r.GetFiberTimeout=ft;var dt=(ve=(be=Te)==null?void 0:be.suspend_fiber_timeout)!=null?ve:Ie;r.suspend_fiber_timeout=dt;var pt=(he=(je=Te)==null?void 0:je.Block)!=null?he:Ie;r.Block=pt;var _t=(ge=(we=Te)==null?void 0:we.pause)!=null?ge:Ie;r.pause=_t;var mt=(Oe=(Se=Te)==null?void 0:Se.get_current_fiber_activity)!=null?Oe:Ie;r.get_current_fiber_activity=mt;var yt=(ke=(Ae=Te)==null?void 0:Ae.get_current_fiber_workload_used_units)!=null?ke:Ie;r.get_current_fiber_workload_used_units=yt},{"../../../../constants/fibers":76,"../../../../safe_require":643,"../../errors":708,"../../mode_check":713,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],697:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.Dependency=p;r.DependencyClass=void 0;e("core-js/modules/es.object.values.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");var n=s(e("./async_state"));var o=e("../uuid");function s(e){return e&&e.__esModule?e:{default:e}}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function a(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,c(n.key),n)}}function u(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function c(e){var t=f(e,"string");return i(t)==="symbol"?t:String(t)}function f(e,t){if(i(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(i(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var d=function(){function e(){a(this,e);this.runs=void 0;this.count=void 0;this.no_scheduled_collection=void 0;this.runs={};this.count=0;this.no_scheduled_collection=true}u(e,[{key:"register",value:function e(t){var r;(r=t)!=null?r:t=n.default.CurrentAutoRun;if(t!=null){this.runs[t.id]=t;this.count++;t._has_dependency=true;if(this.no_scheduled_collection&&this.count>50){this.no_scheduled_collection=false;this.schedule_collection()}}}},{key:"is_registered",value:function e(t){var r;(r=t)!=null?r:t=n.default.CurrentAutoRun;return t!=null&&this.runs[t.id]!=null}},{key:"needed",value:function e(){if(this.count===0){return false}this.garbage_collect();return this.count>0}},{key:"garbage_collect",value:function e(){var t=this.runs;this.runs={};this.count=0;for(var r in t){var n=t[r];if(n._is_destroyed!==true){this.runs[r]=n;this.count++}}}},{key:"schedule_collection",value:function e(){var t=this;setTimeout((function(){t.no_scheduled_collection=true;t.garbage_collect()}),3e4)}},{key:"once_invalidate",value:function e(t){this.runs[(0,o.LUID)()]={invalidate:t}}},{key:"invalidate",value:function e(){var t=Object.values(this.runs);this.runs={};this.count=0;for(var r=0,n=t;r<n.length;r++){var o=n[r];o.invalidate()}}}]);return e}();r.DependencyClass=d;function p(){return new d}},{"../uuid":716,"./async_state":692,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],698:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");Object.defineProperty(r,"__esModule",{value:true});r.TimeoutLinkedList=r.LinkedList=void 0;r.array_remove=y;r.array_replace=v;r.join_into_human_readable_list=O;r.partition=w;r.range=A;r.range_right=E;r.shuffle_array=h;r.sort_array=g;r.unique=b;r.zip=j;e("core-js/modules/es.array.splice.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.join.js");function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,a(n.key),n)}}function i(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=d(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function c(e){return _(e)||p(e)||d(e)||f()}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if(typeof e==="string")return m(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m(e,t)}function p(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _(e){if(Array.isArray(e))return m(e)}function m(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function y(e,t){var r;if(!e){return}while((r=e.indexOf(t))!==-1){e.splice(r,1)}}function v(e,t,r){return e.map((function(e){if(e===t){return r}else{return e}}))}function b(e){var t={};for(var r=0;r<e.length;r++){t[e[r]]=e[r]}return Object.values(t)}function h(e){var t=e.length;while(--t>0){var r=~~(Math.random()*(t+1));var n=e[r];e[r]=e[t];e[t]=n}return e}function j(e,t,r){if(e.length!==t.length){throw new Error("zip: left array size ".concat(e.length,"; right array size ").concat(t.length))}return c(Array(e.length)).map((function(n,o){return r(e[o],t[o])}))}function g(e,t){var r=[];var n=u(t),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(e.includes(s)){r.push(s)}}}catch(e){n.e(e)}finally{n.f()}var i=u(e),a;try{for(i.s();!(a=i.n()).done;){var l=a.value;if(!r.includes(l)&&!t.includes(l)){r.push(l)}}}catch(e){i.e(e)}finally{i.f()}return r}function w(e){var t=Math.ceil(e.length/2);var r=e.slice(0,t);var n=e.slice(t);return[r,n]}function O(e){if(e.length<2){return e[0]||""}else{var t=e.slice(0,-1).join(", ");var r=e.slice(-1)[0];return[t,r].join(" and ")}}var S=function(){function e(){o(this,e);this.length=void 0;this.links=void 0;this.length=0;this.links=null}i(e,[{key:"push",value:function e(t){if(!this.links){var r={item:t};this.links={head:r,tail:r}}else{this.links.tail.next={item:t};this.links.tail=this.links.tail.next}this.length++;return this.length}},{key:"shift",value:function e(){if(this.links===null){return undefined}var t=this.links.head.item;if(this.links.head.next){this.links.head=this.links.head.next}else{this.links=null}this.length--;return t}},{key:"shift_while",value:function e(t,r){while(this.links!==null&&t(this.links.head.item)){var n=this.links.head.item;this.shift();r(n)}}},{key:"peek",value:function e(){var t;return(t=this.links)==null?void 0:t.head.item}}]);return e}();r.LinkedList=S;var k=function(){function e(t,r){o(this,e);this.timeout=void 0;this.timeout_cb=void 0;this._timeout_started=false;this.list=void 0;this.list=new S;this.timeout=t;this.timeout_cb=r}i(e,[{key:"length",get:function e(){return this.list.length}},{key:"push",value:function e(t){var r=Date.now();if(!this._timeout_started){this.start_timeout(r)}return this.list.push({item:t,start_time:r})}},{key:"shift",value:function e(){var t;return(t=this.list.shift())==null?void 0:t.item}},{key:"start_timeout",value:function e(t){var r=this;this._timeout_started=true;setTimeout((function(){r._timeout_started=false;r.list.shift_while((function(e){return e.start_time+r.timeout<=Date.now()}),(function(e){r.timeout_cb(e.item)}));var e=r.list.peek();if(e){r.start_timeout(e.start_time)}}),t+this.timeout-Date.now())}}]);return e}();r.TimeoutLinkedList=k;function A(e,t){if(t===undefined){t=e;e=0}var r=[];for(var n=e;n<t;n++){r.push(n)}return r}function E(e,t){if(t===undefined){t=e;e=0}var r=[];for(var n=1;n<=t-e;n++){r.push(t-n)}return r}},{"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.splice.js":939,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.iterator.js":991}],699:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.date_math=void 0;r.format_date=R;r.format_date_interval=N;r.get_last_day_of_utc_month=r.get_last_day_of_month=r.get_first_day_of_month=r.format_date_short_based_on_locale=void 0;r.get_previous_month_year=D;r.get_utc_tomorrow_midnight=void 0;r.human_readable_to_epoch=L;r.mk_date=F;r.print_date_interval=z;r.require_moment=g;r.to_moment=G;e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.string.starts-with.js");e("core-js/modules/es.array.slice.js");var o=p(e("moment"));var s=d(e("./mode_check"));var i=p(e("../../lib"));var a=d(e("../../constants/time"));var l=d(e("./b_string"));var u=e("./regexUtilities");var c=e("./errors");function f(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(f=function e(n){return n?r:t})(e)}function d(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=f(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function p(e){return e&&e.__esModule?e:{default:e}}function _(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=v(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function m(e){return h(e)||b(e)||v(e)||y()}function y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(!e)return;if(typeof e==="string")return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}function b(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h(e){if(Array.isArray(e))return j(e)}function j(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function g(){var t;if(s.on_server()){var r=e;t=r("moment-timezone")}else{t=e("../../../vendor/jquery_plugins/moment.timezone.min")}return t}function w(e){var t;var r=[];var n="";while((t=(0,u.oneOf)('"',"'").exec(e))!=null){var o=e.indexOf(t[0],t.index+1);if(o!==-1){r.push({content:n+e.substring(0,t.index),type:"normal"});r.push({content:e.substring(t.index+1,o),type:"literal"});e=e.substring(o+1);n=""}else{n=e.substring(0,t.index+1);e=e.substring(t.index+1)}}if(e!==""){r.push({content:n+e,type:"normal"})}return r}var O="[";var S="]";var k=[["yyyy","YYYY"],["yy","YY"],["m","M"],[null,"Mo"],["mm","MM"],["mmm","MMM"],["mmmm","MMMM"],[null,"w"],[null,"wo"],[null,"ww"],["d","D"],["dd","DD"],[null,"DDD"],[null,"DDDo"],[null,"DDDD"],["ddd","ddd"],["dddd","dddd"],[null,"do"],["TT","A"],["tt","a"],["H","H"],["HH","HH"],["h","h"],["hh","hh"],["M","m"],["MM","mm"],["L","SS"],["l","SSS"],["Z","z"],[null,"zz"]];var A={t:function e(t){return O+t.format("a")[0]+S},T:function e(t){return O+t.format("A")[0]+S},o:function e(t){var r=t.utcOffset();var n=Math.floor(Math.abs(r)/60);var o=Math.abs(r)-60*n;var s=r>=0?"+":"-";return O+s+(n<10?"0".concat(n):"".concat(n))+(o<10?"0".concat(o):"".concat(o))+S},S:function e(t){var r=t.format("Do");return O+r.replace(/\d/g,"")+S}};var E=(0,u.withFlags)("g",(0,u.capture)("esc",(0,u.oneOf)(O,S)));var x=new Set(k.map((function(e){return e[1]})));var M=new Map(k.filter((function(e){return e[0]!==null})));var P=(0,u.withFlags)("g",(0,u.capture)("token",u.oneOf.apply(void 0,m([].concat(m(x.values()),m(M.keys()),m(Object.keys(A))).sort((function(e,t){return t.length-e.length}))))));function T(e){return function(t){var r=M.get(t);if(r!=null){return r}var n=A[t];if(n!=null){return n(e)}if(x.has(t)){return O+t+S}throw new c.UnexpectedError("Invalid Capturing Group detected in regex!",{fullMatch:t})}}function I(e,t){if(t.startsWith("UTC:")){t=t.substring(4);e=e.tz("UTC")}var r=w(t);var n="";var o=_(r),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;if(i.type==="literal"){n+=O;n+=i.content.replace(E,"".concat(S,"$<esc>").concat(O));n+=S}else{n+=i.content.replace(E,"".concat(O,"$<esc>").concat(S)).replace(P,T(e))}}}catch(e){o.e(e)}finally{o.f()}return{result:n,date:e}}var C=function e(t,r){var n=r.year,o=r.month,s=r.day,i=r.hour,a=r.minute;return t.toLocaleString(undefined,{year:n?"numeric":undefined,month:o?"short":undefined,day:s?"numeric":undefined,hour:i?"2-digit":undefined,minute:a?"2-digit":undefined})};r.format_date_short_based_on_locale=C;function R(e,t,r,n){var s;(s=t)!=null?s:t="ddd mmm dd yyyy hh:MM:ss";if(e==null||isNaN(e.valueOf())){return""}else{var i=G(e,n);if(t){var a=I(i,t),l=a.result,u=a.date;t=l;i=u}if(r!=null){var c=o.default.locale();o.default.defineLocale("temp_locale",{parentLocale:c,monthsShort:r.monthNames.slice(0,12),months:r.monthNames.slice(12),weekdaysShort:r.dayNames.slice(0,7),weekdays:r.dayNames.slice(7)});var f=i.locale("temp_locale").format(t);o.default.updateLocale("temp_locale",null);o.default.locale(c);return f}else{return i.format(t)}}}function N(e,t){if(isNaN(e)){return null}switch(t){case"days":return Math.round(e/(1e3*60*60*24)*10)/10;case"hours":return Math.round(e/(1e3*60*60)*10)/10;case"minutes":return Math.round(e/(1e3*60));case"seconds":return Math.round(e/1e3)}}function L(e,t){if(!e){return null}else{if(t){return o.default.tz(e,"MM/DD/YYYY H:mm",t).valueOf()}return(0,o.default)(e,"MM/DD/YYYY H:mm").valueOf()}}function z(e){var t=_(["days","hours","minutes","seconds"]),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;var o=N(e,n);if(o===1){return"".concat(o," ").concat(n.slice(0,n.length-1))}else if(o!==null&&o>1||n==="seconds"){return"".concat(o!=null?o:"NaN"," ").concat(n)}}}catch(e){t.e(e)}finally{t.f()}return""}function D(e){var t=e!=null?e:new Date;var r=t.getFullYear();var n=t.getMonth();var o=n===0?12:n;var s=o<12?r:r-1;return{month:o,year:s}}var q=function e(t,r){return new Date(t,r,0)};r.get_last_day_of_month=q;var B=function e(t,r){return new Date(Date.UTC(t,r,0))};r.get_last_day_of_utc_month=B;var U=function e(t,r){return new Date(t,r,1)};r.get_first_day_of_month=U;var W=function e(){var t=new Date(Date.now()+a.DAY_MS);return new Date(Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()))};r.get_utc_tomorrow_midnight=W;function F(e,t){var r;if(e instanceof Date){r=e}else if(typeof e==="number"){r=new Date(e)}else if(typeof e==="string"){if(String(parseFloat(e))===e){r=new Date(parseFloat(e))}else if(t!=null||i.default.or_throw().bubble_version()>=17){var n;(n=t)!=null?n:t=i.default.or_throw().current_timezone();if((0,o.default)(e,[o.default.ISO_8601,o.default.RFC_2822]).isValid()){r=o.default.tz(e,t).toDate()}else if(/GMT[+-]\d{4}/.test(e)||/\((?!PM|AM|am|pm)([a-z]|[A-Z]){2,3}\)/.test(e)||/ (?!PM|AM|am|pm)([a-z]|[A-Z]){2,3}$/.test(e)){r=(0,o.default)(e).toDate()}else{var s=(0,o.default)(e).format("YYYY-MM-DD[T]HH:mm:ss");r=o.default.tz(s,t).toDate()}}else{r=(0,o.default)(e).toDate()}}else{r=new Date(NaN)}if(isNaN(r.valueOf())){return null}else{return r}}function G(e,t){var r;var n=(0,o.default)(F(e));if(t!=null){n.tz(t)}return n}function X(e){if(e.isValid()){return F(e.toDate())}else{return null}}function $(e,t,r){var n;var o=G(e,i.default.or_throw().current_timezone());var s=(n=l.to_num(t))!=null?n:0;o.add(s,r);return X(o)}function V(e,t,r){var n=G(e,i.default.or_throw().current_timezone());var o=l.to_num(t);if(o==null){return X(n)}n.set(r,o);return X(n)}var H={plus_seconds:function e(t,r){var n;var o=F(t);if(o==null||t==null){return null}var s=(n=l.to_num(r))!=null?n:0;return F(new Date(Math.round(o.valueOf()+s*a.SECOND_MS)))},plus_minutes:function e(t,r){var n;var o=F(t);if(t==null||o==null){return null}var s=(n=l.to_num(r))!=null?n:0;return F(new Date(Math.round(o.valueOf()+s*a.MINUTE_MS)))},plus_hours:function e(t,r){var n;var o=F(t);if(t==null||o==null){return null}var s=(n=l.to_num(r))!=null?n:0;return F(new Date(Math.round(o.valueOf()+s*a.HOUR_MS)))},plus_days:function e(t,r){return $(t,r,"days")},plus_months:function e(t,r){return $(t,r,"months")},plus_years:function e(t,r){return $(t,r,"years")},change_seconds:function e(t,r){return V(V(t,r,"second"),"0","millisecond")},change_minutes:function e(t,r){return V(t,r,"minute")},change_hours:function e(t,r){return V(t,r,"hour")},change_date:function e(t,r){return V(t,r,"date")},change_month:function e(t,r){var n=l.to_num(r);if(n==null){return F(t)}n-=1;return V(t,n,"month")},change_years:function e(t,r){return V(t,r,"year")},extract_from_date:function e(t,r,n){var o,s;var a;if(!((o=(0,i.default)())!=null&&(s=o.app)!=null&&s.call(o).get_public_setting("adv_timezone_overridden"))){switch(n.tz_type){case"static":a=n.tz_static;break;case"dynamic":a=n.tz_dynamic;break;default:a=i.default.or_throw().current_timezone()}}else{switch(n.tz_type_overridden){case"static":a=n.tz_static_overridden;break;case"dynamic":a=n.tz_dynamic_overridden;break;default:a=i.default.or_throw().current_timezone()}}var l=G(t,a);if(!l.isValid()){return null}switch(n.component_to_extract){case"minute":return l.minute();case"hour":return l.hour();case"day":return l.day();case"date":return l.date();case"week":return l.isoWeek();case"month":return l.month()+1;case"year":return l.year();case"UNIX":return l.valueOf();default:return null}}};r.date_math=H},{"../../../vendor/jquery_plugins/moment.timezone.min":1305,"../../constants/time":99,"../../lib":614,"./b_string":703,"./errors":708,"./mode_check":713,"./regexUtilities":714,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.starts-with.js":980,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,moment:1223}],700:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.CDN_URL_SUFFIX=void 0;r.get_file_cdn_url=c;r.is_file_cdn_url=f;r.replace_s3_with_cdn_url=u;e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var o=l(e("../../client_config"));var s=e("../../constants/bundle");var i=l(e("./hash"));function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function u(e,t){if(!o.user_file_url)return e;return e.replace(o.user_file_url,c(t))}function c(e){if(e==="meta")return"".concat(s.META_APPNAME_FOR_OWN_CDN,".").concat(d);return"".concat(i.digest(e!=null?e:""),".").concat(d)}function f(e){var t=o.user_file_url,r=o.user_file_cdn;return t!=null&&e.includes(t)||r!=null&&e.includes(r)||e.includes("."+d)}var d="cdn.bubble.io/";r.CDN_URL_SUFFIX=d},{"../../client_config":55,"../../constants/bundle":62,"./hash":709,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],701:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.number.constructor.js");var n=r;var o=e("./async/b_fiber");var s=e("./incremental");var i=e("./b_string"),a=i.to_num;n.DEFAULT_PRECISION=15;var l=function e(t){return parseFloat(t.toPrecision(n.DEFAULT_PRECISION))};n.round_all=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{count:0};if(Array.isArray(e)){s.incremental_for_each(e,(function(e,r,o){if(typeof e==="number"){o[r]=l(e)}else{n.round_all(o[r],t)}}))}else if(e&&(e.constructor===Object||e.constructor==null)){for(var r in e){if(typeof e[r]==="number"){t.count++;e[r]=l(e[r])}else{n.round_all(e[r],t)}}}};n.dec_to_string=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:n.DEFAULT_PRECISION;var r=e.toPrecision(t);r=r.replace(/(\.[0-9]*?)0*(e-?[0-9]+)?$/,"$1$2").replace(/\.(e-?[0-9]+)?$/,"$1");return r};n.num_equals=function(e,t){var r=a(e);var n=a(t);var o=Math.abs(r);var s=Math.abs(n);if(r===n){return true}var i=Math.abs(r-n);var l=1e-15;if(r===0||n===0||i<Number.MIN_VALUE){return i<l*Number.MIN_VALUE}return i/Math.min(o+s,Number.MAX_VALUE)<l}},{"./async/b_fiber":696,"./b_string":703,"./incremental":710,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.replace.js":977}],702:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.all_keys=K;r.compare=X;r.deep_copy=x;r.deep_freeze=P;r.extend=A;r.extract_from_object=$;r.flatten=E;r.get_sorted_object_by_values=J;r.has_a_key=W;r.has_unique_string=D;r.is_empty=B;r.is_json=M;r.is_record=k;r.json_deep_copy=T;r.json_parse=C;r.json_stringify=I;r.make_new=F;r.not_empty=U;r.remove_circular_references=H;r.smush=z;r.sort_data_fields=Y;r.sort_obj=V;r.stableSort=Q;r.stableSortLanguages=ee;r.stripFalsy=Z;r.to_object=S;r.walk=L;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.freeze.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.object.get-own-property-names.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.object.from-entries.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/web.dom-collections.for-each.js");var n=l(e("./errors"));var o=l(e("../../constants/security"));var s=l(e("./uuid"));var i=e("./loggable");function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||j(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function u(e,t){return d(e)||f(e,t)||w(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function d(e){if(Array.isArray(e))return e}function p(e,t,r){if(_()){p=Reflect.construct.bind()}else{p=function e(t,r,n){var o=[null];o.push.apply(o,r);var s=Function.bind.apply(t,o);var i=new s;if(n)m(i,n.prototype);return i}}return p.apply(null,arguments)}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function m(e,t){m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return m(e,t)}function y(e){return h(e)||b(e)||w(e)||v()}function v(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function h(e){if(Array.isArray(e))return O(e)}function j(e){"@babel/helpers - typeof";return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function g(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=w(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function w(e,t){if(!e)return;if(typeof e==="string")return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}function O(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function S(e){var t={};var r=g(e),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;t[o[0]]=o[1]}}catch(e){r.e(e)}finally{r.f()}return t}function k(e){return e!=null&&j(e)==="object"}function A(e,t,r,o,s,i){if(i!=null){console.log(i);throw new n.UnexpectedError("b_object.extend using more than 4 args!!!!")}if(t!=null){for(var a in t){var l=t[a];if(l!==undefined){e[a]=l}}}if(r!=null){for(var u in r){var c=r[u];if(c!==undefined){e[u]=c}}}if(o!=null){for(var f in o){var d=o[f];if(d!==undefined){e[f]=d}}}if(s!=null){for(var p in s){var _=s[p];if(_!==undefined){e[p]=_}}}return e}function E(e){var t;return(t=[]).concat.apply(t,y(e!=null?e:[]))}function x(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return N.apply(void 0,[null,e].concat(r))}function M(e){try{JSON.stringify(e);return true}catch(e){return false}}function P(e){Object.freeze(e);for(var t=0,r=Object.values(e);t<r.length;t++){var n=r[t];if(j(n)==="object"&&n!=null){P(n)}}}function T(e){if(j(e)==="object"&&e!=null){return JSON.parse(JSON.stringify(e))}else{return e}}function I(t,r,o){var s;(s=o)!=null?s:o=false;try{return JSON.stringify(t,null,r)}catch(r){if(o){return e("util").inspect(t)}var i;if(j(r)==="object"&&r&&"message"in r){i=String(r.message)}else{i=String(r)}i+=".  Data was "+t.constructor.name+", with fields: "+Object.keys(t).join(", ");throw new n.UnexpectedError(i)}}function C(e,t){try{return JSON.parse(e)}catch(o){if(t){return e}var r="json_parse failure: ";if(j(o)==="object"&&o&&"message"in o){r+=String(o.message)}else{r+=String(o)}throw new n.UnexpectedError(r,{string:e})}}function R(e,t,r,o){if(t==null){throw new n.UnexpectedError("Trying to _deep_copy onto mising value",{dest:t,key:(0,i.to_loggable)(r),value:(0,i.to_loggable)(o)})}if(j(o)==="object"&&o!==null){if(t[r]==null){if(Array.isArray(o)){t[r]=[]}else{t[r]={}}}N(e,t[r],o)}else{if(o!==undefined){if(e&&(r==="id"||r==="_id")){var a=t[r];var l=s.LUID();t[r]=l;e[a]=l}else{t[r]=o}}}}function N(e,t){if(t==null){throw new n.UnexpectedError("Trying to dc onto mising value",{dest:(0,i.to_loggable)(t)})}for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++){o[s-2]=arguments[s]}if(Array.isArray(t)){var a=g(o),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(!Array.isArray(u)){throw new n.UnexpectedError("can only extend an array with another array")}for(var c=0;c<u.length;c++){R(e,t,c,u[c])}}}catch(e){a.e(e)}finally{a.f()}}else{var f=g(o),d;try{for(f.s();!(d=f.n()).done;){var p=d.value;for(var _ in p){var m=p[_];R(e,t,_,m)}}}catch(e){f.e(e)}finally{f.f()}}return t}function L(e,t,r){var n;(n=r)!=null?n:r="";t(e,r);if(e!=null&&j(e)==="object"){for(var o in e){var s=e[o];L(s,t,r+"."+o)}}}function z(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return q(t)}function D(e){if(j(e)!=="object"||!e)return false;var t=e;return typeof t.toUniqueString==="function"}function q(e){e=e.map((function(e){if(e==null||["string","number"].includes(j(e))||e instanceof Date){return e}else if(Array.isArray(e)){return q(e)}else if(D(e)&&e.toUniqueString()!==""){return e.toUniqueString()}else{throw new n.UnexpectedError("bad smush: "+String(e))}}));return JSON.stringify(e)}function B(e){if(e==null||j(e)!=="object"){return false}if(Object.keys(e).length>0){return false}return true}function U(e){return j(e)==="object"&&e!=null&&!B(e)}function W(e){if(e==null||j(e)!=="object"){return false}for(var t in e){return true}return false}function F(e){return function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++){r[n]=arguments[n]}return p(e,r)}}function G(e){if(j(e)!=="object"||!e)return false;var t=e;return typeof t.is_equal_to==="function"}function X(e,t){if(e===t){return true}if(G(e)){return e.is_equal_to(t)}if(D(e)&&D(t)){return e.toUniqueString()===t.toUniqueString()}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length){return false}for(var r=0;r<e.length;r++){var n=e[r];if(!X(n,t[r])){return false}}return true}if(e instanceof Date&&t instanceof Date){return e.getTime()===t.getTime()}return false}function $(e,t){var r=e;var n=g(t),o;try{for(n.s();!(o=n.n()).done;){var s=o.value;if(k(r)&&r[s]!=null){r=r[s]}else{return null}}}catch(e){n.e(e)}finally{n.f()}return r}function V(e){var t={};var r=[];for(var n in e){var o=n.toLowerCase();t[o]=n;r.push(o)}r.sort();var s={};for(var i=0,a=r;i<a.length;i++){var l=a[i];var u=t[l];s[u]=e[u]}return s}function H(e){try{var t=new Set;var r=JSON.stringify(e,(function(e,r){if(r!=null&&j(r)==="object"){if(t.has(r)){return null}t.add(r)}return r}));var n=JSON.parse(r);return n}catch(e){return"failed to remove circular references"}}function Y(e){var t=[];var r=[];var n=o.BUILTIN_FIELDS;var s=g(e),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;if(n.includes(a.value)||a.value==="_id"){t.push(a)}else{r.push(a)}}}catch(e){s.e(e)}finally{s.f()}r=r.sort((function(e,t){if(e.display.toLowerCase()>=t.display.toLowerCase()){return 1}else{return-1}}));return r.concat(t)}function K(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Object.prototype;var r=[];var n=e;while(n!=null&&n!==t){r.push.apply(r,y(Object.getOwnPropertyNames(n)));n=Object.getPrototypeOf(n)}return r}function J(e){var t=[];for(var r in e){var n=e[r];t.push({id:r,value:n})}t.sort((function(e,t){var r=!(e.value!=null||t.value!=null);if(r){return 1}else{if(e.value==null){return 1}if(t.value==null){return-1}var n=typeof e.value==="string"&&typeof t.value==="string";if(!n){if(typeof t.value==="string"){return 1}else{return-1}}if(e.value.toLowerCase()<t.value.toLowerCase()){return-1}else{return 1}}}));var o={};for(var s=0,i=t;s<i.length;s++){var a=i[s];o[a.id]=a.value}return o}function Z(e,t){return Object.fromEntries(Object.entries(e).filter((function(e){var t=u(e,2),r=t[0],n=t[1];return Boolean(n)})).map((function(e){var r=u(e,2),n=r[0],o=r[1];return[n,o===Object(o)&&t?Z(o,t):o]})))}function Q(e){if(Array.isArray(e)){return e.map(Q)}if(e!=null&&j(e)==="object"){var t={};Object.keys(e).sort().forEach((function(r){return t[r]=Q(e[r])}));return t}return e}function ee(e){if(Array.isArray(e)){return e}if(e!=null&&j(e)==="object"){var t={};Object.keys(e).sort().forEach((function(r){return t[r]=ee(e[r])}));return t}return e}},{"../../constants/security":92,"./errors":708,"./loggable":711,"./uuid":716,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.freeze.js":951,"core-js/modules/es.object.from-entries.js":952,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-names.js":955,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.set.js":968,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,util:1301}],703:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");Object.defineProperty(r,"__esModule",{value:true});r.FirstLetterCapitalize=T;r.add_thousand_sep=pe;r.cast_to_string=he;r.charCode=R;r.compact_hours=void 0;r.compact_number=ve;r.create_compound_key=void 0;r.create_css_class_from_label=ye;r.csv_to_downloadable_file=x;r.custom_type_name=K;r.decode_key=de;r.eager_first_sentence_cut=je;r.encode_key=fe;r.ends_with=D;r.firebase_illegal=void 0;r.firebase_remove_illegal=ne;r.fixedEncodeURIComponent=W;r.format_bytes=H;r.get_columns_header=A;r.id_safe=me;r.increment_filename=Y;r.is_email=I;r.is_url=void 0;r.is_url_safe=$;r.remove_invalid_from_num=U;r.replace_all=S;r.replace_spaces_with_hyphens=V;r.safe_contains=void 0;r.starts_with=q;r.starts_with_number=B;r.starts_with_vowel=z;r.string_contains=w;r.string_replace_range=N;r.text_contains=L;r.toTitleCase=P;r.to_num=E;r.truncate_text=M;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.string.trim.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.url.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.number.to-fixed.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");var n=p(e("url"));var o=p(e("./errors"));var s=p(e("../../logger"));var i=e("./loggable");var a=e("../../constants/byte");var l=e("../../lang/btype_ids");var u=e("../../constants/time");var c=f(e("pluralize"));function f(e){return e&&e.__esModule?e:{default:e}}function d(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(d=function e(n){return n?r:t})(e)}function p(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||g(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=d(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var i=o?Object.getOwnPropertyDescriptor(e,s):null;if(i&&(i.get||i.set)){Object.defineProperty(n,s,i)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function _(e,t){return v(e)||y(e,t)||h(e,t)||m()}function m(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function v(e){if(Array.isArray(e))return e}function b(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=h(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function h(e,t){if(!e)return;if(typeof e==="string")return j(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(e,t)}function j(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function g(e){"@babel/helpers - typeof";return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function w(e,t){if(typeof e!=="string"){if(e!=null&&g(e)==="object"&&e.indexOf!=null){s.info("string contains called incorrectly on something vaguely like a string",{str:(0,i.to_loggable)(e)})}return false}return e.includes(t)}var O=w;r.safe_contains=O;function S(e,t,r){return e.split(t).join(r!=null?r:"")}function k(e){return e.replace(/"/g,"")}function A(e,t,r){var n,o;(n=t)!=null?n:t=",";(o=r)!=null?o:r=false;if(!e||e.trim()===""){return undefined}e=e.trim();var s=e.split("\n");var i=[];var a=b(s[0].split(t)),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(r){i.push(k(u))}else{i.push(u)}}}catch(e){a.e(e)}finally{a.f()}return i}function E(e){var t=typeof e==="string"?parseFloat(e):e;if(!isFinite(t)){return null}else{return t}}function x(e,t){if(typeof navigator==="undefined"){return}var r=new Blob([t],{type:"text/csv"});if(e.slice(-4)!==".csv"){e+=".csv"}var n=navigator;if(n.msSaveOrOpenBlob){var o=n.msSaveOrOpenBlob;setTimeout((function(){o(r,e)}),1e3)}else{var s=window.URL.createObjectURL(r);var i=document.createElement("a");i.className="fake-link-to-trigger-a-download";i.rel="noopener";i.download=e;i.href=s;document.body.appendChild(i);i.click();document.body.removeChild(i);setTimeout((function(){window.URL.revokeObjectURL(s)}),5e3)}}function M(e,t,r){if(typeof e!=="string"||e.length<=t){return e}var n=e.substr(0,t-1);if(r){return n.substr(0,n.lastIndexOf(" "))}else{return n+""}}function P(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(typeof e!=="string"){return e}var r=/(?:^|\s)./g;if(t){r=/(?:^|\s)(?:\[.*?\])?./g}return e.replace(r,(function(e){var t=e.length;return e.slice(0,t-1)+e[t-1].toUpperCase()}))}function T(e){if(typeof e!=="string"||e.length===0){return e}return e[0].toUpperCase()+e.slice(1)}function I(e){if(typeof e!=="string"){return false}var t=e.toLowerCase();var r=t.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/);if(!r||r[0]!==t){return false}else{return true}}var C=function e(t,r){if(typeof t!=="string"){return false}var o;if(t.slice(0,2)==="//"){o=n.parse("http:"+t);o.protocol="//"}else{o=n.parse(t)}if(!o.protocol){return false}if(r&&!r.includes(o.protocol)){return false}if(!o.host){return false}return true};r.is_url=C;function R(e){return e.charCodeAt(0)}function N(e,t,r,n){return e.substring(0,t)+n+e.substring(r)}function L(e,t){var r,n,o,s;return(r=e==null?void 0:(n=(o=e.toLowerCase()).indexOf)==null?void 0:n.call(o,(s=t==null?void 0:t.toLowerCase())!=null?s:""))!=null?r:-1}function z(e){var t=/^[aeiou]/i;return t.test(e)}function D(e,t){if(typeof e!=="string"){return false}var r=e.lastIndexOf(t);if(r===-1){return false}return r+t.length===e.length}function q(e,t){if(typeof e!=="string"){return false}if(typeof t!=="string"){return false}return e.slice(0,t.length)===t}function B(e){return/^\d/.test(e)}function U(e){var t=e[0]==="-";var r=/[^0-9., ]+/g;var n=e.replace(r,"");if(t){n="-"+n}return n}function W(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}var F="[^a-z0-9\\-]";var G=new RegExp(F);var X=new RegExp(F,"g");function $(e){return!G.test(e)}function V(e){return(e!=null?e:"").toLowerCase().replace(/\s/g,"-").replace(X,"")}function H(e,t){var r;(r=t)!=null?r:t=0;if(e===0){return"0 Bytes"}var n=Math.floor(Math.log(e)/Math.log(a.KIBIBYTE));if(n===0){t=0}return"".concat(parseFloat((e/Math.pow(a.KIBIBYTE,n)).toFixed(t))," ").concat(a.STORAGE_UNITS[n])}function Y(e){var t=/\(([0-9]+)\)/;var r=t.exec(e);if(r){var n=parseInt(r[1])+1;return e.replace(t,"(".concat(n,")"))}else{var o=e.split(".");return o.slice(0,o.length-1).join(".")+" (1)."+o[o.length-1]}}function K(e){if(e!=="user"){e=(0,l.custom_type)(e)}return e}var J="&";var Z={1:".",2:"$",3:"#",4:"[",5:"]",6:"/"};var Q="[".concat(Object.values(Z).map((function(e){return"\\"+e})).join(""),"]");var ee=new RegExp(Q);var te=new RegExp(Q,"g");var re=function e(t){return ee.test(t)};r.firebase_illegal=re;function ne(e){return e.replace(te,"_")}var oe={};for(var se=0,ie=Object.entries(Z);se<ie.length;se++){var ae=_(ie[se],2),le=ae[0],ue=ae[1];oe[ue]=le}function ce(e,t,r){var n=e.split(t);if(n.length===1){return e}return n.join(r)}function fe(e){if(!re(e)){return e}var t=ce(e,J,J+J);for(var r in oe){var n=oe[r];t=ce(t,r,J+n)}return t}function de(e){var t=ce(e,J+J,J);for(var r=0,n=Object.entries(Z);r<n.length;r++){var o=_(n[r],2),s=o[0],i=o[1];t=ce(t,J+s,i)}return t}function pe(e,t){var r;(r=t)!=null?r:t=",";if(e==null){return""}return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,t)}var _e=/[.#$[\]/]/g;function me(e){if(!e){throw new o.UnexpectedError("bad id: falsy value ",{id_as_string:String(e)})}return e.replace(_e,"__")}function ye(e){return e.replace(/ /g,"_").replace(/'/g,"_").replace(/\.\.\./g,"_").replace(/\./g,"_").toLowerCase()}function ve(e){var t=Intl.NumberFormat("en",{notation:"compact"});return t.format(e)}var be=function e(t){if(t<u.DAY_H){return"".concat(t," ").concat((0,c.default)("hour",t))}var r=t/u.DAY_H;return"".concat(r," ").concat((0,c.default)("day",r))};r.compact_hours=be;function he(e){if(e==null){return""}else{return String(e)}}function je(e,t){}var ge=function e(t){return t.map((function(e){return encodeURIComponent(e)})).join("/")};r.create_compound_key=ge},{"../../constants/byte":63,"../../constants/time":99,"../../lang/btype_ids":536,"../../logger":617,"./errors":708,"./loggable":711,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.to-fixed.js":948,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.string.trim.js":981,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,"core-js/modules/web.url.js":995,pluralize:1233,url:748}],704:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.jitter=o;r.jitterFloat=n;function n(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:.1;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;if(t>1)t=1;else if(t<0)t=0;var n;if(r<0){n=Math.random()*-1}else if(r>0){n=Math.random()}else{n=(Math.random()-.5)*2}return e+e*n*t}function o(e,t,r){return Math.round(n(e,t,r))}},{}],705:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.ignoreError=n;function n(e){return function(t,r){return e(r)}}},{}],706:[function(e,t,r){"use strict";e("core-js/modules/es.object.keys.js");e("core-js/modules/es.object.values.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r;var s=e("../../safe_require");s.safe_register("./u/shared/decaf",o);o.object_keys=function(e){return e&&(n(e)==="object"||typeof e==="function")?Object.keys(e):[]};o.object_values=function(e){return e&&(n(e)==="object"||typeof e==="function")?Object.values(e):[]};o.object_entries=function(e){return e&&(n(e)==="object"||typeof e==="function")?Object.entries(e):[]};o.array_from=function(e){return Array.from(e)}},{"../../safe_require":643,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],707:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.join.js");var n;var o=r;var s=e("./b_string");var i=e("./mode_check");o.get_domain_components=function(e){if(e.indexOf("www.")===0){e=e.slice(4)}if(i.on_server()){var t=n.parse(e);return{top_domain:t.domain,subdomains:t.subdomain}}else{var r=["ac.uk","co.uk","gov.uk","ltd.uk","me.uk","net.uk","nhs.uk","org.uk","plc.uk","police.uk","com.au","com.br"];var o=e.split(".");var a=0;for(var l=0,u=r;l<u.length;l++){var c=u[l];if(s.ends_with(e,c)){a+=1;break}}var f=o.slice(-(2+a));var d=o.slice(0,o.length-(2+a));return{top_domain:f.join("."),subdomains:d.join(".")}}}},{"./b_string":703,"./mode_check":713,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.split.js":979}],708:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.object.set-prototype-of.js");e("core-js/modules/es.object.get-prototype-of.js");e("core-js/modules/es.reflect.construct.js");e("core-js/modules/es.reflect.get.js");e("core-js/modules/es.weak-map.js");Object.defineProperty(r,"__esModule",{value:true});r.UserError=r.UsageLimitError=r.UsageLimitAction=r.UnexpectedPostgresError=r.UnexpectedError=r.UnauthorizedEmployee=r.Unauthorized=r.StripePaymentRequiresAction=r.OwnerError=r.NotReadyError=r.ExpectedError=r.ERROR_LEVELS=r.BubbleError=void 0;r.capture_stack=H;r.clean_args=Z;r.ensure_bubble_error=V;r.error_append=ye;r.error_append_args=ve;r.format_data_for_logging=pe;r.format_for_logging=de;r.from_json_client=fe;r.get_status_code=me;r.is_mapping_error=he;r.set_error_hook=F;r.throw_test_error=be;r.to_owner_display=je;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.object.assign.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");var n=a(e("util"));var o=a(e("../../constants/postgres_pool"));var s=e("./loggable");function i(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(i=function e(n){return n?r:t})(e)}function a(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||D(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=i(t);if(r&&r.has(e)){return r.get(e)}var n={};var o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e){if(s!=="default"&&Object.prototype.hasOwnProperty.call(e,s)){var a=o?Object.getOwnPropertyDescriptor(e,s):null;if(a&&(a.get||a.set)){Object.defineProperty(n,s,a)}else{n[s]=e[s]}}}n.default=e;if(r){r.set(e,n)}return n}function l(e,t){return f(e)||c(e,t)||M(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function f(e){if(Array.isArray(e))return e}function d(){if(typeof Reflect!=="undefined"&&Reflect.get){d=Reflect.get.bind()}else{d=function e(t,r,n){var o=p(t,r);if(!o)return;var s=Object.getOwnPropertyDescriptor(o,r);if(s.get){return s.get.call(arguments.length<3?t:n)}return s.value}}return d.apply(this,arguments)}function p(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=A(e);if(e===null)break}return e}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,L(n.key),n)}}function y(e,t,r){if(t)m(e.prototype,t);if(r)m(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function v(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});Object.defineProperty(e,"prototype",{writable:false});if(t)k(e,t)}function b(e){var t=O();return function r(){var n=A(e),o;if(t){var s=A(this).constructor;o=Reflect.construct(n,arguments,s)}else{o=n.apply(this,arguments)}return h(this,o)}}function h(e,t){if(t&&(D(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return j(e)}function j(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function g(e){var t=typeof Map==="function"?new Map:undefined;g=function e(r){if(r===null||!S(r))return r;if(typeof r!=="function"){throw new TypeError("Super expression must either be null or a function")}if(typeof t!=="undefined"){if(t.has(r))return t.get(r);t.set(r,n)}function n(){return w(r,arguments,A(this).constructor)}n.prototype=Object.create(r.prototype,{constructor:{value:n,enumerable:false,writable:true,configurable:true}});return k(n,r)};return g(e)}function w(e,t,r){if(O()){w=Reflect.construct.bind()}else{w=function e(t,r,n){var o=[null];o.push.apply(o,r);var s=Function.bind.apply(t,o);var i=new s;if(n)k(i,n.prototype);return i}}return w.apply(null,arguments)}function O(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})));return true}catch(e){return false}}function S(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function k(e,t){k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function e(t,r){t.__proto__=r;return t};return k(e,t)}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function e(t){return t.__proto__||Object.getPrototypeOf(t)};return A(e)}function E(e){return T(e)||P(e)||M(e)||x()}function x(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e,t){if(!e)return;if(typeof e==="string")return I(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I(e,t)}function P(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function T(e){if(Array.isArray(e))return I(e)}function I(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function N(e,t,r){t=L(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function L(e){var t=z(e,"string");return D(t)==="symbol"?t:String(t)}function z(e,t){if(D(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var n=r.call(e,t||"default");if(D(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function D(e){"@babel/helpers - typeof";return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}var q="Sorry, we ran into a temporary bug and can't complete your request.  We'll fix it as soon as we can; please try again in a bit!";var B=["error","owner_error","user_error"];r.ERROR_LEVELS=B;function U(e){return D(e)==="object"&&e!=null&&(e instanceof Error||"stack"in e&&"message"in e)}var W={default_display:function e(){return undefined},localize_message:function e(t,r){return undefined},get_client_args:function e(t){return undefined}};function F(e,t){if(e in W){W[e]=t}else{throw new te("attempt to set invalid error hook",{name:e})}}function G(){var e;return(e=W.default_display())!=null?e:q}function X(e,t){var r;return(r=W.localize_message(e,t))!=null?r:"".concat(e,": ").concat(t)}function $(e){var t,r;return(t=W.get_client_args(e))!=null?t:{code:(r=e.code)!=null?r:"no code found"}}function V(e){if(e instanceof Q){return e}if(e instanceof ee){return new te("not ready",{not_ready_key:e.not_ready_key})}if(U(e)){var t=R({origin:"native error"},e);var r=new te(e.message,t);if(e.stack!=null){r.stack=e.stack}return r}if(typeof e==="string"){return new te(e)}return new te("object thrown as error",{original:(0,s.to_loggable)(e)})}function H(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var r=new Error;var n=r.stack;if(typeof n!=="string"){n="(no stack)"}n=n.split("\n").slice(3+t).join("\n");return e+"\n"+n}var Y=1e4;var K=1e3;var J=50;function Z(e){var t=e.args,r=e.path,n=r===void 0?[]:r,o=e.to_client,s=o===void 0?false:o,i=e.visited_objects,a=i===void 0?new Map:i;if(typeof t==="function"){return t.toString().slice(0,J)}if(D(t)!=="object"||t==null){return t}var l=a.get(t);if(l){var u=["root"].concat(E(l)).join(".");return"recursion or repeated property: ".concat(u)}a.set(t,n);if(n.length>10){return"hit recursion depth > 10 when processing args"}if(a.size>Y){return"hit max object nodes when processing args"}if(t instanceof Error){return V(t).to_json({to_client:s,path:n,visited_objects:a})}if(typeof t.id==="function"){try{return t.id()}catch(e){return"hit error trying to get args.id"}}if(typeof t.toUniqueString==="function"){try{return t.toUniqueString()}catch(e){return"hit error trying to get args.toUniqueString"}}if(Array.isArray(t)){var c=t.slice(0,K).map((function(e,t){return Z({args:e,path:n.concat(String(t)),visited_objects:a})}));if(c.length<t.length){c.push("hit max keys when processing args")}return c}else{var f={};var d=0;for(var p in t){d+=1;if(d>K){f[p]="hit max keys when processing args";break}var _=t[p];f[p]=Z({args:_,path:n.concat(p),visited_objects:a})}return f}}var Q=function(e){v(r,e);var t=b(r);function r(e,n){var o,s;var i;_(this,r);i=t.call(this);i.args=void 0;i.statusCode=void 0;i.message=e;(s=(o=i).stack)!=null?s:o.stack=H(i.error_class+" "+i.message,1);if(n!=null&&D(n)==="object"){i.args=n}else{i.args={}}return i}y(r,[{key:"display",value:function e(){return G()}},{key:"toString",value:function e(){return this.error_class+" "+this.message}},{key:"to_json",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=t.to_client,n=r===void 0?false:r,o=t.path,s=o===void 0?[]:o,i=t.visited_objects,a=i===void 0?new Map:i;var l=Z({args:this.args,path:s,to_client:n,visited_objects:a});var u={error_class:this.error_class,args:l!=null?l:{}};if(n){return R(R({},u),{},{args:$(u.args),message:this.display()})}else{return R(R({},u),{},{stack:this.stack,message:this.message})}}},{key:"extend",value:function e(t){Object.assign(this.args,t);return this}}]);return r}(g(Error));r.BubbleError=Q;(function(){Q.prototype.error_class="BubbleError";Q.prototype.suggested_level="error"})();var ee=function e(t){_(this,e);this.not_ready_key=void 0;this.suppress_dependency_error=void 0;this.not_ready_key=t};r.NotReadyError=ee;var te=function(e){v(r,e);var t=b(r);function r(){_(this,r);return t.apply(this,arguments)}return r}(Q);r.UnexpectedError=te;te.prototype.error_class="UnexpectedError";var re=function(e){v(r,e);var t=b(r);function r(){_(this,r);return t.apply(this,arguments)}return r}(Q);r.ExpectedError=re;re.prototype.error_class="ExpectedError";var ne=function(e){v(r,e);var t=b(r);function r(){_(this,r);return t.apply(this,arguments)}y(r,[{key:"display",value:function e(){var t;return(t=this.args.display)!=null?t:this.message}}]);return r}(re);r.OwnerError=ne;(function(){ne.prototype.error_class="OwnerError";ne.prototype.suggested_level="owner_error"})();var oe=function(e){e["UsingDataAPI"]="using Data API";e["UsingWorkflowAPI"]="using Workflow API";e["SavingData"]="saving data";return e}({});r.UsageLimitAction=oe;var se=function(e){v(r,e);var t=b(r);function r(e){_(this,r);return t.call(this,"This application is at its usage limit. Please upgrade your application to continue ".concat(e))}return r}(ne);r.UsageLimitError=se;se.prototype.error_class="UsageLimitError";var ie=function(e){v(r,e);var t=b(r);function r(e,n,o){var s;_(this,r);var i=e!=null?e:n;if(i){s=t.call(this,i,o);s.translation=void 0}else{throw new te("must have message or translation")}if(n){s.translation=n}if(!e){s.message=null}return h(s)}y(r,[{key:"display",value:function e(){if(!this.translation){var t=this.message.split("."),r=l(t,2),n=r[0],o=r[1];if(!o){o=n;n="CORE"}this.translation=X(n,o)}return this.translation}},{key:"to_json",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=t.to_client,o=n===void 0?false:n;var s=d(A(r.prototype),"to_json",this).call(this,t);if(o){s.message=this.message;s.translation=this.display()}return s}}]);return r}(re);r.UserError=ie;(function(){ie.prototype.error_class="UserError";ie.prototype.suggested_level="user_error"})();var ae=function(e){v(r,e);var t=b(r);function r(){_(this,r);return t.apply(this,arguments)}return r}(ie);r.Unauthorized=ae;ae.prototype.error_class="Unauthorized";var le=function(e){v(r,e);var t=b(r);function r(){_(this,r);return t.apply(this,arguments)}return r}(ie);r.StripePaymentRequiresAction=le;le.prototype.error_class="StripePaymentRequiresAction";var ue=function(e){v(r,e);var t=b(r);function r(){_(this,r);return t.apply(this,arguments)}return r}(ae);r.UnauthorizedEmployee=ue;ue.prototype.error_class="UnauthorizedEmployee";var ce=function(e){v(r,e);var t=b(r);function r(){_(this,r);return t.apply(this,arguments)}return r}(te);r.UnexpectedPostgresError=ce;ce.prototype.error_class="UnexpectedPostgresError";function fe(e){var t;(t=e.args)!=null?t:e.args={};e.args.server_generated=true;switch(e.error_class){case"OwnerError":case"UsageLimitError":return new ne(e.message,e.args);case"StripePaymentRequiresAction":return new le(e.message,e.translation,e.args);case"UserError":return new ie(e.message,e.translation,e.args);case"Unauthorized":return new ae(e.message,e.translation,e.args);case"UnauthorizedEmployee":return new ue(e.message,e.translation,e.args);case"ClientError":return new te("bad request from client",e.args);default:return new te("Unexpected server error: please report the code parameter to the team",e.args)}}function de(e){var t;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var n=V(e);var o=_e((t=n.stack)!=null?t:"",r);if(n.args!=null&&Object.keys(n.args).length>0){o+=pe(n.args,r+"    ")+"\n"}return o}function pe(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"    ";function r(e){if(e instanceof Error){return"\n"+de(e,t+"    ")}else if(typeof e==="string"&&e.includes("\n")){return"\n"+_e(e,t)}else{return" "+n.inspect(e,{depth:4})}}var o="";for(var s in e){var i=e[s];if(["stack"].includes(s)){continue}o+="\n"+t+s+":"+r(i)}return o}function _e(e,t){return e.split("\n").map((function(e){return t+e})).join("\n")}function me(e){return e.statusCode}function ye(e,t){try{return t()}catch(t){if(t instanceof Error){if(typeof t.message==="string"){t.message+="\n\t".concat(e)}else{t.message=e}}throw t}}function ve(e,t){try{return t()}catch(t){if(t instanceof Q){t.args=Object.assign({},t.args,e)}throw t}}function be(){throw new te("This is a test error")}function he(e){if("message"in e&&typeof e.message==="string"){return o.mapping_error_regex.test(e.message)}else{return false}}function je(e,t){var r=V(e);if(r instanceof ne||r instanceof ie){return r.display()}return t}},{"../../constants/postgres_pool":88,"./loggable":711,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.assign.js":949,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.get-prototype-of.js":956,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.set-prototype-of.js":958,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.reflect.construct.js":963,"core-js/modules/es.reflect.get.js":964,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,util:1301}],709:[function(e,t,r){(function(t){(function(){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}var o=r;var s=e("create-hash");var i=e("./async/b_fiber");var a=e("./mode_check");o.digest=function(e,t){var r;(r=t)!=null?r:t="utf8";var n=s("md5");n.update(e,t);return n.digest("hex")};o.incremental_digest=function(e){var r=s("md5");var o=0;var l=new Set;function u(e){o+=1;if(o%100===0){i.optional_pause("add incremental digest")}if(l.has(e))return;if(e!=null&&n(e)==="object"){l.add(e);if(a.on_server()&&t.isBuffer(e)){r.update(e);return}r.update("os|","utf8");if(e instanceof Date){r.update("d|"+String(e))}for(var s in e){var c=e[s];r.update(s+"|","utf8");u(c)}r.update("|oe","utf8");return}if(typeof e==="string"){r.update("s|"+e.replace(/\|/g,"||"))}else{r.update("r|"+String(e))}}u(e);return r.digest("hex")}}).call(this)}).call(this,{isBuffer:e("../../../node_modules/is-buffer/index.js")})},{"../../../node_modules/is-buffer/index.js":1060,"./async/b_fiber":696,"./mode_check":713,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,"create-hash":997}],710:[function(e,t,r){(function(t){(function(){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.join.js");function n(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var s=function e(){};return{s:s,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function o(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e){"@babel/helpers - typeof";return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}var a=r;var l=e("./async/b_fiber");var u=e("./mode_check");var c=100;a.optional_pause_tick=function(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var t=arguments.length>1?arguments[1]:undefined;if(u.on_server()){var r,n;(n=(r=l.Fiber.current).optional_pause_ticks)!=null?n:r.optional_pause_ticks=0;l.Fiber.current.optional_pause_ticks+=e;if(l.Fiber.current.optional_pause_ticks>=c){l.Fiber.current.optional_pause_ticks=0;l.optional_pause(t)}}};a.with_pause_tick=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;return function(){var r=e.apply(void 0,arguments);a.optional_pause_tick(t);return r}};a.incremental_json_deep_copy=function(e){var t=a.incremental_json_stringify(e);return a.incremental_json_parse(t)};a.incremental_json_parse=function(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1e4;if(String(e)==="")return null;if(!u.on_server()||String(e).length<t){return JSON.parse(e)}return JSON.parse(e,(function(e,t){a.optional_pause_tick(1,"incremental json parse");return t}))};a.incremental_json_stringify=function(e){if(!u.on_server())return JSON.stringify(e);return JSON.stringify(e,(function(e,t){a.optional_pause_tick(1,"incremental json stringify");return t}))};a.incremental_json_length=function(e){var r=new Set;var n=[];var o=0;var s=0;function a(e){s++;if(s%100===0){l.optional_pause("incremental json length")}switch(i(e)){case"string":o+=2+e.length;return;case"boolean":case"number":o+=String(e).length;return;case"function":return;case"object":if(e==null){o+=4}else if(t.isBuffer(e)){o+=2+e.length}else if(!r.has(e)){r.add(e);n.push(e)}}}a(e);while(n.length>0){var u=n.pop();if(Array.isArray(u)){o+=2;for(var c=0;c<u.length;c++){a(u[c]);o+=c===0?0:1}}else if(u.constructor===Object||u.constructor===null){o+=2;var f=true;for(var d in u){var p=u[d];if(p!==undefined){o+=2+d.length+1;a(p);o+=f?0:1;f=false}}}}return o};a.incremental_for_each=function(){var e,t,r;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}if(o.length>2){r=o[0];e=o[1];t=o[2]}else{r=50;e=o[0];t=o[1]}e.forEach((function(e,n,o){t(e,n,o);if((n+1)%r===0){return l.optional_pause()}}))};a.incremental_map=function(){var e,t,r;for(var n=arguments.length,o=new Array(n),s=0;s<n;s++){o[s]=arguments[s]}if(o.length>2){r=o[0];e=o[1];t=o[2]}else{r=50;e=o[0];t=o[1]}return e.map((function(e,n,o){var s=t(e,n,o);if((n+1)%r===0){l.optional_pause()}return s}))};a.incremental_for_each_2=function(){var e,t,r;for(var o=arguments.length,s=new Array(o),i=0;i<o;i++){s[i]=arguments[i]}if(s.length>2){r=s[0];e=s[1];t=s[2]}else{r=50;e=s[0];t=s[1]}var a=0;var u=n(e),c;try{for(u.s();!(c=u.n()).done;){var f=c.value;var d=n(f),p;try{for(d.s();!(p=d.n()).done;){var _=p.value;t(_);a++;if(a%r===0){l.optional_pause()}}}catch(e){d.e(e)}finally{d.f()}}}catch(e){u.e(e)}finally{u.f()}};a.json_to_csv=function(e,t,r,n,o){var s,a,u,c;(s=t)!=null?s:t=",";(a=r)!=null?a:r=true;(u=n)!=null?u:n=false;(c=o)!=null?c:o=100;if(i(e)!=="object"){e=JSON.parse(e)}var f="";if(r){var d=[];if(n){for(var p in e[0]){var _=p+"";d.push('"'+_.replace(/"/g,'""')+'"')}}else{for(var m in e[0]){d.push(m)}}f=d.join(t)+"\n"}for(var y=0;y<e.length;y++){var v=e[y];if(y%o===0){l.optional_pause()}var b=[];if(n){for(var h in v){var j=String(v[h]);b.push('"'+j.replace(/"/g,'""')+'"')}}else{for(var g in v){var w=v[g];b.push(w)}}f=f+b.join(t)+"\n"}return f}}).call(this)}).call(this,{isBuffer:e("../../../node_modules/is-buffer/index.js")})},{"../../../node_modules/is-buffer/index.js":1060,"./async/b_fiber":696,"./mode_check":713,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],711:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:true});r.to_loggable=n;function n(e){return e}},{}],712:[function(e,t,r){"use strict";e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.set.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=s(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,a=false,l;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){a=true;l=t},f:function e(){try{if(!i&&r.return!=null)r.return()}finally{if(a)throw l}}}}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var a=r;var l=e("util");var u=e("./errors");var c=e("../../constants/logging");var f=100;var d=100;var p=1e4;var _=new Set(["authorization","x-auth-token","x-api-key","cookie","ssn","password","password2","account","old_password","new_password","new_password_again","token"]);a.level_gte=function(e,t){return c.LEVEL_SEVERITY[e]>=c.LEVEL_SEVERITY[t]};a.preprocess=function(e,t){var r=m(e);return y(r,t)};a.extract_bad_values=function(e){var t=[];if(Array.isArray(e==null?void 0:e.calls)){var r=o(e.calls),n;try{for(r.s();!(n=r.n()).done;){var s,i,a;var l=n.value;t=t.concat((s=(i=l.client_state)==null?void 0:(a=i.other_data)==null?void 0:a.secure_list)!=null?s:[])}}catch(e){r.e(e)}finally{r.f()}}if(typeof(e==null?void 0:e.password)==="string"&&e.password.length>3){t.push(e.password)}return t};function m(e){var t;if(!e){return}else if(Array.isArray(e)){t=[];for(var r=0;r<e.length;r++){var o=e[r];t.push(m(o));if(r===f){break}}if(e.length>f){t.push("Truncated list of ".concat(e.length," to ").concat(f," items"))}}else if(n(e)==="object"){t={};var s=Object.keys(e);for(var i=0;i<s.length;i++){var a=s[i];t[a]=m(e[a]);if(i===d){break}}if(s.length>d){t.truncation_message="Truncated object of ".concat(s.length," to ").concat(d," items")}}else if(typeof e==="string"&&e.length>p){t="".concat(e.slice(0,p)," [truncated, was ").concat(e.length,"]")}else{t=e}return t}function y(e,t){v(e);return b(e,t)}function v(e){try{return JSON.stringify(e)}catch(r){var t="could not sanitize message not JSON stringifyable";throw new u.UnexpectedError(t,{message:l.inspect(e)})}}function b(e,t){var r;if(e==null){return e}if(typeof e==="string"&&t){r=e;var s=o(t),i;try{for(s.s();!(i=s.n()).done;){var a=i.value;r=e.replace(a,"sanitized ".concat(a.length))}}catch(e){s.e(e)}finally{s.f()}}else if(Array.isArray(e)){r=[];var l=o(e),u;try{for(l.s();!(u=l.n()).done;){var c=u.value;r.push(b(c,t))}}catch(e){l.e(e)}finally{l.f()}}else if(n(e)==="object"){r={};for(var f in e){var d=e[f];if(_.has(f)){r[f]=d!=null?"sanitized ".concat(d.length):d}else{r[f]=b(d,t)}}}else{r=e}return r}},{"../../constants/logging":83,"./errors":708,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.set.js":968,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991,util:1301}],713:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.edit_mode_only=E;r.is_debug_mode=k;r.is_edit_mode=O;r.is_maison=A;r.is_plugin_edit_mode=S;r.on_client=_;r.on_phonegap=v;r.on_server=m;r.on_worker=w;r.running_server=g;r.running_test=b;r.set_running_server=j;e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var o=u(e("./errors"));var s=u(e("../../constants/bundle"));var i,a;function l(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(l=function e(n){return n?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=l(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}var c=typeof window!=="undefined";var f=typeof window==="undefined"&&typeof postMessage!=="undefined";var d=(i=window)==null?void 0:i.bubble_bundle_name;var p=s.BASE_BUNDLES[d];function _(){return c&&!f}function m(){return!c&&!f}var y=((a=document)==null?void 0:a.URL)!=null&&document.URL.includes("file://");function v(){return y}function b(){return false}var h=false;function j(e){h=e}function g(){return h}function w(){return f}function O(){var e;return(e=p==null?void 0:p.is_edit_mode)!=null?e:false}function S(){var e;return(e=p==null?void 0:p.is_plugin_edit_mode)!=null?e:false}function k(){var e;return(e=p==null?void 0:p.is_debug_mode)!=null?e:false}function A(){var e;return(e=p==null?void 0:p.is_maison_editor)!=null?e:false}function E(){if(_()&&!O()&&!k()){throw new o.UnexpectedError("Oops, looks like we are in run-mode, but have required edit-mode code.  Look at the stack trace to see who is requiring this...")}}},{"../../constants/bundle":62,"./errors":708,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991}],714:[function(e,t,r){"use strict";e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});r.asRegexSource=v;r.atomic=b;r.capture=p;r.concat=d;r.escapeString=O;r.negativeLookahead=_;r.oneOf=f;r.re=c;r.regexTemplate=y;r.unescapeLiteral=h;r.withFlags=m;e("core-js/modules/es.regexp.constructor.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.regexp.to-string.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.string.iterator.js");function n(e,t){return i(e)||s(e,t)||l(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function i(e){if(Array.isArray(e))return e}function a(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=l(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function l(e,t){if(!e)return;if(typeof e==="string")return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}function u(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function c(e){if(typeof e==="string"){return function(){return new RegExp(y.apply(void 0,arguments),e)}}else{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++){r[n-1]=arguments[n]}return y.apply(void 0,[e].concat(r))}}function f(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}if(t.length===0){return/^\b$/}return new RegExp(t.map(v).join("|"))}function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}return new RegExp(t.map(v).join(""))}function p(e,t){return new RegExp("(?<".concat(e,">").concat(v(t),")"))}function _(e){return new RegExp("(?!".concat(v(e),")"))}function m(e,t){return new RegExp(t,e)}function y(e){var t=h(e.raw[0]);for(var r=arguments.length,o=new Array(r>1?r-1:0),s=1;s<r;s++){o[s-1]=arguments[s]}var i=a(o.entries()),l;try{for(i.s();!(l=i.n()).done;){var u=n(l.value,2),c=u[0],f=u[1];t+=v(f);t+=h(e.raw[c+1])}}catch(e){i.e(e)}finally{i.f()}return new RegExp(t)}function v(e){if(e instanceof RegExp){return b(e.source)}else if(typeof e==="string"){return b(O(e))}else{throw new Error("Illegal value used as regex part")}}function b(e){return"(?:".concat(e,")")}function h(e){return e.replace(/\\`/g,"`")}var j=Array.from(["\\",".[]^-{}","()<>?!=:","^$","{}*+?|"].join(""));var g=j.map((function(e){return"\\".concat(e)}));var w=new RegExp("[".concat(g.join(""),"]"),"g");function O(e){return e.replace(w,"\\$&")}},{"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.constructor.js":965,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.regexp.to-string.js":967,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.iterator.js":991}],715:[function(e,t,r){"use strict";var n=r;var o=e("./mode_check");var s=e("./errors");if(o.on_server()){n.timestamp=function(){return Date.now()}}else if(o.on_worker()){n.timestamp=function(){throw new s.UnexpectedError("not supported in web workers right now")}}else if(o.on_client()){n.timestamp=function(){return Date.now()+window.server_time_offset}}else{throw new s.UnexpectedError("unrecognized environment: on_server, on_worker, on_client all returned false")}},{"./errors":708,"./mode_check":713}],716:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/es.object.get-own-property-descriptor.js");function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}Object.defineProperty(r,"__esModule",{value:true});r.Random=r.LUID=void 0;r.UUID=w;r.count=D;r.get_random_seed=T;r.get_uuid_seed=E;r.is_UUID=S;r.short_uid=N;r.start_count=z;r.stop_count=q;r.uuid_regexp=void 0;e("core-js/modules/es.array.concat.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.sort.js");var o=u(e("seedrandom"));var s=l(e("../../logger"));var i=l(e("../../constants/core"));function a(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(a=function e(n){return n?r:t})(e)}function l(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=a(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var l=s?Object.getOwnPropertyDescriptor(e,i):null;if(l&&(l.get||l.set)){Object.defineProperty(o,i,l)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return m(e)||_(e,t)||d(e,t)||f()}function f(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(!e)return;if(typeof e==="string")return p(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return p(e,t)}function p(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function m(e){if(Array.isArray(e))return e}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,h(n.key),n)}}function b(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);Object.defineProperty(e,"prototype",{writable:false});return e}function h(e){var t=j(e,"string");return n(t)==="symbol"?t:String(t)}function j(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var g=1e18;function w(){var e=Math.round(Math.random()*g);return"".concat(Date.now(),"x").concat(k(e,18))}var O=/\d{13}x\d{18}/;r.uuid_regexp=O;function S(e){return typeof e==="string"&&O.test(e)}function k(e,t){var r=String(e);return r+new Array(t+1-r.length).join("0")}var A=function(){var e=1;return function(){e++;return"".concat(Date.now(),"x").concat(e)}}();r.LUID=A;function E(e){var t=e.seed,r=e.timestamp,n=e.iterations;return new I(t,r,n)}var x=g;var M=1664525;var P=1013904223;function T(){return Math.round(Math.random()*g)%x}var I=function(){function e(t,r,n){var o;y(this,e);this.seed=void 0;this.timestamp=void 0;this.iterations=void 0;this.seed=t;this.timestamp=r;(o=n)!=null?o:n=0;this.iterations=n;for(var s=0;s<n;s++){this.randn()}}b(e,[{key:"randn",value:function e(){this.seed=(M*this.seed+P)%x;this.iterations++;return this.seed}},{key:"UUID",value:function e(){return"".concat(this.timestamp,"x").concat(k(this.randn(),18))}}]);return e}();var C=function(){function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;y(this,e);this.seed=void 0;this.iterations=void 0;if(r>i.SLOW_RANDOM_LENGTH)s.warn("dangerously high random initialization iterations",{iterations:r});this.seed=t;this.iterations=0;for(var n=0;n<r;n++){this.next()}}b(e,[{key:"next",value:function e(){this.seed=(0,o.default)("".concat(this.seed))();this.iterations++;return this.seed}},{key:"random",value:function e(t,r){this.next();return Math.floor(this.seed*(r-t)+t)}}]);return e}();r.Random=C;var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function N(e,t){var r;if(e<70304){r=3}else if(e<175478784){r=5;e+=190102016}else if(e<1e14){r=10;e+=0x1edcf7bcf280000}else{return w()}var n=new Array(r);for(var o=r-1;o>=0;o--){n[o]=R.charAt(e%52);e=Math.floor(e/52)}return n.join("")+(String(t)==="-1"?"":String(t))}var L=null;function z(){L={}}function D(e){if(L){var t,r;(r=(t=L)[e])!=null?r:t[e]=0;L[e]++}}function q(){if(L){var e=Object.entries(L);e.sort((function(e,t){return t[1]-e[1]}));for(var t=0,r=e;t<r.length;t++){var n=c(r[t],2),o=n[0],s=n[1];console.log("".concat(o,": ").concat(s))}}}},{"../../constants/core":66,"../../logger":617,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.iterator.js":991,seedrandom:1255}],717:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/es.weak-map.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");Object.defineProperty(r,"__esModule",{value:true});var o={require:true,server_errors:true,base64:true,base64decode:true,ClientError:true,NotFound:true,Redirect:true,errors:true};r.server_errors=r.require=r.errors=r.base64decode=r.base64=r.Redirect=r.NotFound=r.ClientError=void 0;var s=L(e("./shared/mode_check"));Object.keys(s).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===s[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return s[e]}})}));var i=L(e("./shared/errors"));r.errors=i;Object.keys(i).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===i[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return i[e]}})}));var a=L(e("./client/b_window"));Object.keys(a).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===a[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return a[e]}})}));var l=e("./shared/b_object");Object.keys(l).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===l[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return l[e]}})}));var u=e("./shared/b_array");Object.keys(u).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===u[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return u[e]}})}));var c=e("./shared/b_date");Object.keys(c).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===c[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return c[e]}})}));var f=e("./shared/b_number");Object.keys(f).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===f[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return f[e]}})}));var d=e("./shared/b_string");Object.keys(d).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===d[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return d[e]}})}));var p=e("./client/b_ui");Object.keys(p).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===p[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return p[e]}})}));var _=e("./editor_all/b_ui_editor");Object.keys(_).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===_[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return _[e]}})}));var m=e("./shared/domain_parser");Object.keys(m).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===m[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return m[e]}})}));var y=e("./shared/timestamp");Object.keys(y).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===y[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return y[e]}})}));var v=e("./shared/uuid");Object.keys(v).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===v[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return v[e]}})}));var b=e("./client/color");Object.keys(b).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===b[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return b[e]}})}));var h=e("./shared/async/b_async");Object.keys(h).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===h[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return h[e]}})}));var j=e("./shared/async/autorun");Object.keys(j).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===j[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return j[e]}})}));var g=e("./shared/async/autorun_cache");Object.keys(g).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===g[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return g[e]}})}));var w=e("./shared/async/dependency");Object.keys(w).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===w[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return w[e]}})}));var O=e("./client/client_storage");Object.keys(O).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===O[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return O[e]}})}));var S=e("./shared/hash");Object.keys(S).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===S[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return S[e]}})}));var k=e("./shared/incremental");Object.keys(k).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===k[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return k[e]}})}));var A=e("./server/server_notifications");Object.keys(A).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===A[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return A[e]}})}));var E=e("./client/test_state");Object.keys(E).forEach((function(e){if(e==="default"||e==="__esModule")return;if(Object.prototype.hasOwnProperty.call(o,e))return;if(e in r&&r[e]===E[e])return;Object.defineProperty(r,e,{enumerable:true,get:function t(){return E[e]}})}));var x,M,P,T,I,C,R;function N(e){if(typeof WeakMap!=="function")return null;var t=new WeakMap;var r=new WeakMap;return(N=function e(n){return n?r:t})(e)}function L(e,t){if(!t&&e&&e.__esModule){return e}if(e===null||n(e)!=="object"&&typeof e!=="function"){return{default:e}}var r=N(t);if(r&&r.has(e)){return r.get(e)}var o={};var s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e){if(i!=="default"&&Object.prototype.hasOwnProperty.call(e,i)){var a=s?Object.getOwnPropertyDescriptor(e,i):null;if(a&&(a.get||a.set)){Object.defineProperty(o,i,a)}else{o[i]=e[i]}}}o.default=e;if(r){r.set(e,o)}return o}var z=e;r.require=z;var D;var q;r.server_errors=q;if(s.on_server()||s.running_test()){D=z("./shared/buffer");r.server_errors=q=z("./server/server_errors")}var B=(x=(M=D)==null?void 0:M.base64)!=null?x:a.base64;r.base64=B;var U=(P=(T=D)==null?void 0:T.base64decode)!=null?P:a.base64decode;r.base64decode=U;var W=(I=q)==null?void 0:I.ClientError;r.ClientError=W;var F=(C=q)==null?void 0:C.NotFound;r.NotFound=F;var G=(R=q)==null?void 0:R.Redirect;r.Redirect=G},{"./client/b_ui":677,"./client/b_window":678,"./client/client_storage":680,"./client/color":681,"./client/test_state":685,"./editor_all/b_ui_editor":686,"./server/server_notifications":689,"./shared/async/autorun":693,"./shared/async/autorun_cache":694,"./shared/async/b_async":695,"./shared/async/dependency":697,"./shared/b_array":698,"./shared/b_date":699,"./shared/b_number":701,"./shared/b_object":702,"./shared/b_string":703,"./shared/domain_parser":707,"./shared/errors":708,"./shared/hash":709,"./shared/incremental":710,"./shared/mode_check":713,"./shared/timestamp":715,"./shared/uuid":716,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.weak-map.js":988,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],718:[function(e,t,r){"use strict";e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.string.includes.js");var n=r;var o=e("./client_config");var s=e("./safe_require");var i=e("./shared/environment_utilities");var a=e("./constants/domain");var l=e("./shared/domain_utilities");var u=e("./u/shared/decaf");s.safe_register("./util",n);n.get_meta_hostname_for_app=function(e){if(o.is_dedicated){return o.dedicated_subdomain}else{return o.PROD_DOMAINS.main}};var c=[];n.get_dedicated_subdomains=function(){return c};n.set_dedicated_subdomains=function(e){return c=e};n.set_dedicated_subdomain=function(e){var t=e.replace(/\.i[so]$/,".is");var r=e.replace(/\.i[so]$/,".io");c=[t,r]};if(o.is_dedicated&&o.dedicated_subdomain){n.set_dedicated_subdomain(o.dedicated_subdomain)}n.is_meta_hostname=function(e){if(typeof e!=="string"){return false}if(/\.local$/.test(e)){return true}if(l.is_hostname_bubble_plus_subdomain(e)){return true}if(c.includes(e)){return true}if(l.is_host_aws(e)){return true}var t=e.replace(/(?:^www\.)?(?:\.*$)?/g,"");if(u.object_values(o.PROD_DOMAINS).includes(t)){return true}if(l.is_hostname_local_bubble(e)){return true}return false};var f=null;if(i.is_production()){if(o.is_dedicated){f=o.dedicated_subdomain}else{f=o.PROD_DOMAINS.main}}else{if(o.dedicated_subdomain){f=o.dedicated_subdomain}else{f=a.LOCAL_HOSTNAME}}n.get_meta_hostname_for_hostname=function(e){if(o.echo_hostname){if(n.is_meta_hostname(e)){return e}}return f};n.get_meta_hostname=function(){return f}},{"./client_config":55,"./constants/domain":70,"./safe_require":643,"./shared/domain_utilities":657,"./shared/environment_utilities":658,"./u/shared/decaf":706,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.replace.js":977}],719:[function(e,t,r){"use strict";function n(e){"@babel/helpers - typeof";return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.symbol.to-primitive.js");e("core-js/modules/es.date.to-primitive.js");e("core-js/modules/es.number.constructor.js");e("core-js/modules/es.object.get-own-property-descriptor.js");e("core-js/modules/web.dom-collections.for-each.js");e("core-js/modules/es.object.get-own-property-descriptors.js");e("core-js/modules/es.array.join.js");e("core-js/modules/es.array.flat.js");e("core-js/modules/es.array.map.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.array.concat.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.split.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.map.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.object.keys.js");e("core-js/modules/es.array.sort.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.string.match.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.string.replace.js");e("core-js/modules/es.object.values.js");function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){t=a(t);if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function a(e){var t=l(e,"string");return n(t)==="symbol"?t:String(t)}function l(e,t){if(n(e)!=="object"||e===null)return e;var r=e[Symbol.toPrimitive];if(r!==undefined){var o=r.call(e,t||"default");if(n(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u(e,t){return d(e)||f(e,t)||y(e,t)||c()}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function f(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function d(e){if(Array.isArray(e))return e}function p(e,t){var r=typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=y(e))||t&&e&&typeof e.length==="number"){if(r)e=r;var n=0;var o=function e(){};return{s:o,n:function t(){if(n>=e.length)return{done:true};return{done:false,value:e[n++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s=true,i=false,a;return{s:function t(){r=r.call(e)},n:function e(){var t=r.next();s=t.done;return t},e:function e(t){i=true;a=t},f:function e(){try{if(!s&&r.return!=null)r.return()}finally{if(i)throw a}}}}function _(e){return b(e)||v(e)||y(e)||m()}function m(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function y(e,t){if(!e)return;if(typeof e==="string")return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}function v(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function b(e){if(Array.isArray(e))return h(e)}function h(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var j=r;var g=e("./u/shared/async/autorun");var w=e("./u/shared/mode_check");var O=e("./u/shared/errors");var S=e("./u/shared/b_object");var k=e("./u/shared/async/b_async");var A=e("./safe_require");var E=e("./logger");var x=e("./constants/fonts");var M=e("./constants/tokens"),P=M.DEFAULT_USER_TOKENS;var T=e("./lang/appquery");var I=e("./lib");A.safe_register("./webfonts",j);var C=["Arial:::","Tinos:::","Raleway:::","Cousine:::","Open Sans:::","Open Sans:::600","Droid Sans:::","Droid Serif:::","EB Garamond:::","PT Sans:::","Ubuntu:::","Lato:::","Oswald:::","ABeeZee:::","Source Sans Pro:::300","Source Sans Pro:::400"];var R=["Arial:::","Times New Roman:::","Courier New:::","Georgia:::","Trebuchet MS:::","Verdana:::","Palatino:::","Garamond:::","Bookman:::","Avant Garde:::","Arial Black:::","Impact:::"];j.already_loaded=[];var N=["BESbswy"," "].join("");var L=e;var z,D;if(w.on_server()){z=L("./configuration");D=L("./server/assets/core/with_cache")}j.standardized_name=q;j.get_unquoted_face_and_variant=B;j.get_quoted_face_and_variant=U;j.get_face_and_variant=W;j.get_canonical=F;j.font_token_to_font=G;j.substitute_font_token=X;j.pretty_font=$;j.load_font=Q;j.load_external=ee;j.load_for_preview=ne;j.clean_list=ie;j.to_google_list=ae;j.load_app_fonts=le;j.load_default_fonts=ce;j.check_font_valid=fe;j.get_full_clean_list=pe;j.to_font_face=_e;j.is_user_font_token=me;function q(e){if(e.variant){return"".concat(e.font_family,":::").concat(e.variant)}else{return"".concat(e.font_family,":::")}}function B(e){if(!e)return{};if(!e.includes(":::"))return{font_family:e,variant:null};var t=e.split(":::");return{font_family:t.slice(0,t.length-1).join(":::"),variant:t[t.length-1]||null}}function U(e){var t=j.get_unquoted_face_and_variant(e);if(e!=null&&e.includes("var("))return t;t.font_family="'".concat(t.font_family,"'");return t}function W(e){var t;if(typeof window!=="undefined"&&(t=window)!=null&&t.google_web_fonts_active){return j.get_quoted_face_and_variant(e)}else{return j.get_unquoted_face_and_variant(e)}}function F(e){if(e)return j.standardized_name(j.get_face_and_variant(e));return undefined}function G(e){var t=e.match(x.FONT_TOKEN_NAME_AND_WEIGHT)[1];if(me(t)){var r,n;var o=(r=T.get_public_setting("font_tokens_user"))!=null?r:S.json_deep_copy(P);var s=t.split("_"),i=u(s,2),a=i[0],l=i[1];var c=(n=o[l][a])!=null?n:{name:x.MISSING_USER_FONT_TOKEN_TEXT,font_family:x.DEFAULT_FAMILY};return{font_token:t,token_name:c.name,font_family:c.font_family.replace(x.CUSTOM_FONT_FLAG,"")}}else{var f;var d=(f=T.get_public_setting("font_tokens"))!=null?f:x.DEFAULT_TOKENS;return{font_token:t,token_name:x.TOKEN_NAMES[t],font_family:d[t].replace(x.CUSTOM_FONT_FLAG,"")}}}function X(e){return e.replace(x.FONT_TOKEN_NAME_AND_WEIGHT,(function(e,t,r){if(me(t)){var n;var o=(n=T.get_public_setting("font_tokens_user"))!=null?n:S.json_deep_copy(P);var s=t.split("_"),i=u(s,2),a=i[0],l=i[1];var c=o[l][a];if(c.font_family.includes(x.CUSTOM_FONT_FLAG)){return c.font_family}else{return c.font_family+r}}else{var f;var d=(f=T.get_public_setting("font_tokens"))!=null?f:x.DEFAULT_TOKENS;if(d[t].includes(x.CUSTOM_FONT_FLAG)){return d[t]}else{return d[t]+r}}}))}function $(e){var t=j.get_face_and_variant(e),r=t.font_family,n=t.variant;var o=r;if(r!=null&&r.includes("var(")){var s=j.font_token_to_font(r);o="".concat(s.token_name," (").concat(s.font_family,")")}if(n!=null&&n!=="custom"){o+=" (".concat(n,")")}return o}j.active_key=k.MakeKey(null,"webfonts.active_key");j.fontface_key=k.MakeKey(null,"webfonts.fontface_key");j.fontface_keys={};if(typeof window!=="undefined"&&window!==null){var V;if(window.google_web_fonts_active){j.active_key.turn()}else{window.google_web_fonts_active_cb=function(){return j.active_key.turn()}}var H=p(Object.keys((V=window.fontface_loaded)!=null?V:{}).concat(R)),Y;try{for(H.s();!(Y=H.n()).done;){var K,J;var Z=Y.value;(J=(K=j.fontface_keys)[Z])!=null?J:K[Z]=k.MakeKey(null,"webfont.fontface_key_".concat(Z));j.fontface_keys[Z].turn()}}catch(e){H.e(e)}finally{H.f()}if(window.all_fontface_loaded){j.fontface_key.turn()}else{window.fontface_webfonts_loaded_cb=function(e){if(e!=null){var t,r;(r=(t=j.fontface_keys)[e])!=null?r:t[e]=k.MakeKey(null,"webfont.fontface_key_".concat(e));j.fontface_keys[e].turn()}else{j.fontface_key.turn()}}}}else{j.active_key.turn();j.fontface_key.turn()}function Q(e,t){var r;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;(r=t)!=null?r:t=false;if(!e)return;e=j.get_canonical(e);if(!oe(e)){if(j.get_face_and_variant(e).variant==="custom"){j.load_external(j.get_face_and_variant(e).font_family)}else{se([e],n,t)}}}function ee(e,t){var r=j.get_quoted_face_and_variant(e),n=r.font_family;j.already_loaded.push("".concat(n).concat(x.CUSTOM_FONT_FLAG));var o={custom:{families:[n],urls:[t]}};window.WebFont.load(o)}function te(e){var t=j.get_face_and_variant(e),r=t.font_family,n=t.variant;if(n)return"".concat(r,":").concat(n);return r}function re(e){var t=e.filter((function(e){return!oe(e)}));if(t.length>0){se(t,(function(){return j.active_key.turn()}))}else{j.active_key.turn()}}function ne(e,t){var r=e.filter((function(e){return!oe(e)}));if(r.length!==0){se(r,t)}}function oe(e){return j.already_loaded.includes(e)||R.includes(e)}function se(e){var t;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2?arguments[2]:undefined;(t=n)!=null?t:n=false;var o=p(e),s;try{for(o.s();!(s=o.n()).done;){var i=s.value;j.already_loaded.push(i)}}catch(e){o.e(e)}finally{o.f()}filter_out_unsupported_fonts_client(e,(function(t){if(t.length<1){t=["Lato"]}var o={google:{families:t},active:function e(){r==null?void 0:r()}};if(n&&e.length===1){o.google.text=j.pretty_font(e[0])}window.WebFont.load(o)}))}function ie(e){return e.filter((function(e){var t=j.get_canonical(e);return t&&typeof t==="string"&&!R.includes(t)}))}function ae(e){return e.filter(Boolean).map((function(e){return te(e)}))}function le(){g.run_once(60,(function(){var e;return{fonts_used_in_app:I().derived("AppFonts").content(),custom_fonts_installed:(e=I().app().get_public_setting("fonts"))!=null?e:{}}}),(function(e,t){if(e){E.log(e);t={needed_fonts:[],fonts_used_in_app:[],custom_fonts_installed:{}}}re(t.fonts_used_in_app.concat(C));ue(t.custom_fonts_installed)}))}function ue(e){window.WebFont.load({custom:{families:Object.keys(e),urls:Object.values(e)}})}function ce(){re(C)}function fe(e,t,r,n){var o={};o[e]=N;var s={custom:{families:[e],urls:[t],testStrings:o},active:function n(){r==null?void 0:r(e,t)},fontinactive:function r(){n==null?void 0:n(e,t);console.log("fontinactive being called for ".concat(e,", Google says the fonts didnt render"))}};window.WebFont.load(s)}var de=["regular","italic"];function pe(e){var t=[];var r=p(e),n;try{for(r.s();!(n=r.n()).done;){var o=n.value;var s=j.get_face_and_variant(o);if(!de.includes(s.variant)){t.push(o);continue}var i=get_all_variants(o);if(i==null){t.push(o);continue}var a=p(de),l;try{for(a.s();!(l=a.n()).done;){var u=l.value;if(i.includes(u)){var c=j.standardized_name({font_family:s.font_family,variant:u});if(!t.includes(c))t.push(c)}}}catch(e){a.e(e)}finally{a.f()}}}catch(e){r.e(e)}finally{r.f()}return j.clean_list(t)}function _e(e,t){if(e==null)return null;if(e.includes(x.CUSTOM_FONT_FLAG))return e;return j.standardized_name(s(s({},j.get_unquoted_face_and_variant(e)),{},{variant:t}))}function me(e){var t;return!((t=Object.keys(x.DEFAULT_TOKENS))!=null&&t.includes(e))}},{"./constants/fonts":77,"./constants/tokens":100,"./lang/appquery":535,"./lib":614,"./logger":617,"./safe_require":643,"./u/shared/async/autorun":693,"./u/shared/async/b_async":695,"./u/shared/b_object":702,"./u/shared/errors":708,"./u/shared/mode_check":713,"core-js/modules/es.array.concat.js":926,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.flat.js":931,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.join.js":935,"core-js/modules/es.array.map.js":936,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.array.sort.js":938,"core-js/modules/es.date.to-primitive.js":941,"core-js/modules/es.function.name.js":942,"core-js/modules/es.map.js":943,"core-js/modules/es.number.constructor.js":946,"core-js/modules/es.object.get-own-property-descriptor.js":953,"core-js/modules/es.object.get-own-property-descriptors.js":954,"core-js/modules/es.object.keys.js":957,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.object.values.js":960,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.match.js":976,"core-js/modules/es.string.replace.js":977,"core-js/modules/es.string.split.js":979,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/es.symbol.to-primitive.js":987,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991}],720:[function(e,t,r){"use strict";e("core-js/modules/es.symbol.js");e("core-js/modules/es.symbol.description.js");e("core-js/modules/es.object.to-string.js");e("core-js/modules/es.symbol.iterator.js");e("core-js/modules/es.array.iterator.js");e("core-js/modules/es.string.iterator.js");e("core-js/modules/web.dom-collections.iterator.js");e("core-js/modules/es.array.slice.js");e("core-js/modules/es.array.from.js");e("core-js/modules/es.function.name.js");e("core-js/modules/es.regexp.exec.js");e("core-js/modules/es.string.search.js");e("core-js/modules/es.array.includes.js");e("core-js/modules/es.object.entries.js");e("core-js/modules/es.array.filter.js");e("core-js/modules/es.string.includes.js");e("core-js/modules/web.dom-collections.for-each.js");function n(e,t){return l(e)||a(e,t)||s(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,s,i,a=[],l=!0,u=!1;try{if(s=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;l=!1}else for(;!(l=(n=s.call(r)).done)&&(a.push(n.value),a.length!==t);l=!0){}}catch(e){u=!0,o=e}finally{try{if(!l&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw o}}return a}}function l(e){if(Array.isArray(e))return e}var u=e("./u");var c=e("./constants/epoch");var f=e("./lib");var d=e("./client_config");var p=e("./webfonts");var _=e("url");var m=e("./client/locationservice");var y=e("./client/userservice");var v=e("./db/client_db");var b=e("./client/oauth");var h=e("./client/seo_runner");var j=e("./client/elementservice");e("./lang/btypes");e("./box");var g=e("./lang/appquery");var w=e("./lang/lang");var O=e("./client/page_load");var S=e("./client/page_load_performance");var k=e("./client/client_initializer");var A=e("./logger");var E=e("./client/run_derived");var x=e("./shared/slug");var M=e("./shared/apps_utilities");var P=e("./ddg");var T=e("./u/shared/b_date").require_moment();var I=e("./services/shared/plugin_getter");var C=e("./services/client/runmode/pluginservice_getter");var R=e("./shared/domain_utilities");var N=e("./ctx").DefaultLib;var L=e("./test_utilities/testing");if(typeof document!=="undefined"&&document!==null){window.document_ready_key=u.MakeKey(null,"window.document_ready_key");$((function(){return window.document_ready_key.turn()}));k.initialize();A.install_browser_error_handler({Lib:f});I.initialize(C)}if(typeof window!=="undefined"&&window!==null){var z=function e(t){var r=_.parse(t);for(var n=0,o=["search","pathname"];n<o.length;n++){var s=o[n];if(/[^\u0000-\u007f]/.test(r[s])){r[s]=encodeURI(r[s])}}return _.format(r)};var D=u.json_parse(window._p);window.display_page=function(e,t){var r,n;var o;if(u.on_phonegap()){if(!window.web_url_equivalent_for_phonegap){throw new u.UnexpectedError("missing web_url_equivalent_for_phonegap for phonegap app. Should be set in index.html when generating the phonegap build")}o=new m(window.web_url_equivalent_for_phonegap)}else{o=new m(z(document.location.href))}window.Lib=f;var s=N.get();u.extend(s,{app:w.make_run_app(e,e._id,e.app_version),is_edit_mode:false,appname:function t(){return e._id},app_version:function t(){return e.app_version},db_instance:v.instance,current_user:v.current_user,ddg:P.instance(t),location:o,user:new y,element:new j.ElementService,ignore_privacy_rules:function e(){return false},app_plan:function e(){return D},derived:E.get,current_timezone:function e(){if(g.has_advanced_feature_enabled("timezone_controls_page")){var r=g.get_page_by_name(t);return r.get_page_timezone()}else{return T.tz.guess()}}});f.set_global_lib(s);(r=(n=window).Lib_post_load)==null?void 0:r.call(n);return u.WaitFor(window.document_ready_key,(function(){O.render_start(c.EPOCHS.load_runmode.name);if(!window.dont_call_page_display){q(t)}u.stop_count();O.render_end();if(d.page_speed_metrics_on){return f().element.on_page_done_loading(false,(function(){S.page_load_performance_metrics(O.fully_loaded());return setTimeout((function(){return u.WaitFor(f().workflow.everything_done_key(),(function(){return h.do_it()}))}),3e3)}))}}))}}function q(e){var t=g.get_page_by_name(e);P.optimizations.prefetchData();u.WaitFor(p.active_key,p.fontface_key,(function(){var e,t;return(e=window.performance)==null?void 0:(t=e.mark)==null?void 0:t.call(e,"webfonts active")}));if(_.parse(document.location.href,true).query.debug_mode){if(window.start_debugger!=null){window.start_debugger()}else{var r=_.parse(document.location.href,true);delete r.query.debug_mode;delete r.search;f().location.set_url_without_refresh({url:_.format(r)})}}f().element.display(t);x.create_slug_watcher();b.onload((function(){f().workflow.initialize();f().location.load();L.initialize();if(M.is_test(f().appname())){var t=f().load_plugin(f().plugin_prefixes.module+"runmode_tests");t.initialize()}f().user.on_page_load_for_confirmation_email();var r=_.parse(document.location.href,true);if(u.readCookie("temp_db")){if(R.is_hostname_bubble(r.host)){u.eraseCookie("temp_db")}else{console.log("TEMP DB IS SET!!!")}}u.run_once(30,(function(){g.app().get_public_setting("status_bar_color");g.app().get_public_setting("spinner_color")}),(function(){}));window.show_banner=function(){if((!g.app_plan().no_branding&&!d.is_dedicated||g.app_version()==="live"&&g.app_plan().force_branding_live)&&(g.appname()!=="meta"||!["invoice","payout_receipt","poststripeauth"].includes(e))){var t=function e(){var t={tampered_banner:o.html()!==p,banner_not_visible:!o.is(":visible"),moved_div:o.parent()[0]!==$("body")[0],not_in_document:!$.contains(document,o[0])};var r;if(t.tampered_banner){r={original_html:p,tampered_html:o.html()}}for(var s=0,i=Object.entries(t);s<i.length;s++){var a=n(i[s],2),l=a[0],u=a[1];if(u){A.info("User bypassed free branding",{broken_rule:l,details:r});alert("This app is a free plan and should have a Bubble banner. Please upgrade to remove this banner. Removing or altering the banner in any way is against Bubble terms and can lead to your account termination.");document.location=f().location.get_base_for_meta();return}}};var r="https://meta.cdn.bubble.io/f1585607370503x914556455591480200/banner-icon.svg";var o=$('<div style="width: 128px !important; position: fixed !important; bottom: 10px !important; right: 10px !important; height: 29px !important; z-index: 100000000000 !important; box-shadow: 0px 0px 20px 0 #00000069 !important; background: #0205D3 !important; border-radius: 3px !important;"></div>');var s=$('<div style="position: absolute;" class="notranslate" translate="no"></div>');var i=$('<a target="'.concat(g.appname()==="meta"?"_self":"_blank",'" style="width: 100%; height: 100%; position: absolute;"></a>'));var a=$('<div style=""></div>');a.append($('<img alt="Bubble" src="'.concat(r,'" style="width: 15px !important; margin-top: 7px !important; margin-left: 6px !important; float: left;"></img>')));var l=$('<div style="color: white; font-size: 12px; font-family: Arial, sans-serif; margin-top: 9px; float: left; margin-left: 8px; width: 95px; font-weight: bold;"></div>');a.append(l);o.append(s.append(a));o.append(i);var u="https://bubble.io?utm_source=app_mention&utm_content="+g.appname();i.attr("href",u);if(window.self!==window.top){$(window.frameElement).parent().append(o)}else{$("body").append(o)}var c="Built on Bubble";l.html(c);var p=o.html();if(!["meta","pioneer","bubblepodcasts"].includes(g.appname())){var _;var m=(_=B("setInterval"))!=null?_:window.setInterval;if(window.self===window.top){m.call(window,t,2e3)}}}};u.WaitFor(f().user.ready_key,p.active_key,p.fontface_key,(function(){return setTimeout((function(){u.page_is_loaded();setTimeout((function(){return window.onpopstate=function(){return f().pageparam.invalidate()}}),1500);setTimeout((function(){if(!(g.app_plan().no_branding&&g.get_public_setting("remove_bubble_console"))||g.app_plan().force_branding_live){u.console_with_styling("This web application is entirely built without code on Bubble");console.log("Visit https://bubble.io to build your own apps")}}),3e3);setTimeout((function(){var e=$.migrateWarnings.filter((function(e){return!e.includes("deprecated")}));e.forEach((function(e){A.info("JQMIGRATE WARNING "+e)}))}),1e4);if(!u.is_debug_mode()){setTimeout((function(){return window.show_banner()}),100)}}),200)}))}))}function B(e){var t=document.createElement("iframe");document.body.appendChild(t);var r=t.contentWindow[e];document.body.removeChild(t);return r}},{"./box":12,"./client/client_initializer":39,"./client/elementservice":40,"./client/locationservice":42,"./client/oauth":44,"./client/page_load":45,"./client/page_load_performance":46,"./client/run_derived":49,"./client/seo_runner":51,"./client/userservice":53,"./client_config":55,"./constants/epoch":74,"./ctx":416,"./db/client_db":417,"./ddg":477,"./lang/appquery":535,"./lang/btypes":537,"./lang/lang":590,"./lib":614,"./logger":617,"./services/client/runmode/pluginservice_getter":645,"./services/shared/plugin_getter":649,"./shared/apps_utilities":654,"./shared/domain_utilities":657,"./shared/slug":673,"./test_utilities/testing":676,"./u":687,"./u/shared/b_date":699,"./webfonts":719,"core-js/modules/es.array.filter.js":927,"core-js/modules/es.array.from.js":932,"core-js/modules/es.array.includes.js":933,"core-js/modules/es.array.iterator.js":934,"core-js/modules/es.array.slice.js":937,"core-js/modules/es.function.name.js":942,"core-js/modules/es.object.entries.js":950,"core-js/modules/es.object.to-string.js":959,"core-js/modules/es.regexp.exec.js":966,"core-js/modules/es.string.includes.js":972,"core-js/modules/es.string.iterator.js":974,"core-js/modules/es.string.search.js":978,"core-js/modules/es.symbol.description.js":982,"core-js/modules/es.symbol.iterator.js":984,"core-js/modules/es.symbol.js":985,"core-js/modules/web.dom-collections.for-each.js":990,"core-js/modules/web.dom-collections.iterator.js":991,url:748}],721:[function(e,t,r){"use strict";r.byteLength=c;r.toByteArray=d;r.fromByteArray=m;var n=[];var o=[];var s=typeof Uint8Array!=="undefined"?Uint8Array:Array;var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var a=0,l=i.length;a<l;++a){n[a]=i[a];o[i.charCodeAt(a)]=a}o["-".charCodeAt(0)]=62;o["_".charCodeAt(0)]=63;function u(e){var t=e.length;if(t%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}var r=e.indexOf("=");if(r===-1)r=t;var n=r===t?0:4-r%4;return[r,n]}function c(e){var t=u(e);var r=t[0];var n=t[1];return(r+n)*3/4-n}function f(e,t,r){return(t+r)*3/4-r}function d(e){var t;var r=u(e);var n=r[0];var i=r[1];var a=new s(f(e,n,i));var l=0;var c=i>0?n-4:n;var d;for(d=0;d<c;d+=4){t=o[e.charCodeAt(d)]<<18|o[e.charCodeAt(d+1)]<<12|o[e.charCodeAt(d+2)]<<6|o[e.charCodeAt(d+3)];a[l++]=t>>16&255;a[l++]=t>>8&255;a[l++]=t&255}if(i===2){t=o[e.charCodeAt(d)]<<2|o[e.charCodeAt(d+1)]>>4;a[l++]=t&255}if(i===1){t=o[e.charCodeAt(d)]<<10|o[e.charCodeAt(d+1)]<<4|o[e.charCodeAt(d+2)]>>2;a[l++]=t>>8&255;a[l++]=t&255}return a}function p(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[e&63]}function _(e,t,r){var n;var o=[];for(var s=t;s<r;s+=3){n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255);o.push(p(n))}return o.join("")}function m(e){var t;var r=e.length;var o=r%3;var s=[];var i=16383;for(var a=0,l=r-o;a<l;a+=i){s.push(_(e,a,a+i>l?l:a+i))}if(o===1){t=e[r-1];s.push(n[t>>2]+n[t<<4&63]+"==")}else if(o===2){t=(e[r-2]<<8)+e[r-1];s.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"=")}return s.join("")}},{}],722:[function(e,t,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});var n=e("./pad-string");function o(e,r){if(r===void 0){r="utf8"}if(t.isBuffer(e)){return a(e.toString("base64"))}return a(t.from(e,r).toString("base64"))}function s(e,r){if(r===void 0){r="utf8"}return t.from(i(e),"base64").toString(r)}function i(e){e=e.toString();return n.default(e).replace(/\-/g,"+").replace(/_/g,"/")}function a(e){return e.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function l(e){return t.from(i(e),"base64")}var u=o;u.encode=o;u.decode=s;u.toBase64=i;u.fromBase64=a;u.toBuffer=l;r.default=u}).call(this)}).call(this,e("buffer").Buffer)},{"./pad-string":723,buffer:744}],723:[function(e,t,r){(function(e){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:true});function t(t){var r=4;var n=t.length;var o=n%r;if(!o){return t}var s=n;var i=r-o;var a=n+i;var l=e.alloc(a);l.write(t);while(i--){l.write("=",s++)}return l.toString()}r.default=t}).call(this)}).call(this,e("buffer").Buffer)},{buffer:744}],724:[function(e,t,r){t.exports=e("./dist/base64url").default;t.exports.default=t.exports},{"./dist/base64url":722}],725:[function(e,t,r){},{}],726:[function(e,t,r){var n=e("safe-buffer").Buffer;function o(e){if(!n.isBuffer(e))e=n.from(e);var t=e.length/4|0;var r=new Array(t);for(var o=0;o<t;o++){r[o]=e.readUInt32BE(o*4)}return r}function s(e){for(var t=0;t<e.length;e++){e[t]=0}}function i(e,t,r,n,o){var s=r[0];var i=r[1];var a=r[2];var l=r[3];var u=e[0]^t[0];var c=e[1]^t[1];var f=e[2]^t[2];var d=e[3]^t[3];var p,_,m,y;var v=4;for(var b=1;b<o;b++){p=s[u>>>24]^i[c>>>16&255]^a[f>>>8&255]^l[d&255]^t[v++];_=s[c>>>24]^i[f>>>16&255]^a[d>>>8&255]^l[u&255]^t[v++];m=s[f>>>24]^i[d>>>16&255]^a[u>>>8&255]^l[c&255]^t[v++];y=s[d>>>24]^i[u>>>16&255]^a[c>>>8&255]^l[f&255]^t[v++];u=p;c=_;f=m;d=y}p=(n[u>>>24]<<24|n[c>>>16&255]<<16|n[f>>>8&255]<<8|n[d&255])^t[v++];_=(n[c>>>24]<<24|n[f>>>16&255]<<16|n[d>>>8&255]<<8|n[u&255])^t[v++];m=(n[f>>>24]<<24|n[d>>>16&255]<<16|n[u>>>8&255]<<8|n[c&255])^t[v++];y=(n[d>>>24]<<24|n[u>>>16&255]<<16|n[c>>>8&255]<<8|n[f&255])^t[v++];p=p>>>0;_=_>>>0;m=m>>>0;y=y>>>0;return[p,_,m,y]}var a=[0,1,2,4,8,16,32,64,128,27,54];var l=function(){var e=new Array(256);for(var t=0;t<256;t++){if(t<128){e[t]=t<<1}else{e[t]=t<<1^283}}var r=[];var n=[];var o=[[],[],[],[]];var s=[[],[],[],[]];var i=0;var a=0;for(var l=0;l<256;++l){var u=a^a<<1^a<<2^a<<3^a<<4;u=u>>>8^u&255^99;r[i]=u;n[u]=i;var c=e[i];var f=e[c];var d=e[f];var p=e[u]*257^u*16843008;o[0][i]=p<<24|p>>>8;o[1][i]=p<<16|p>>>16;o[2][i]=p<<8|p>>>24;o[3][i]=p;p=d*16843009^f*65537^c*257^i*16843008;s[0][u]=p<<24|p>>>8;s[1][u]=p<<16|p>>>16;s[2][u]=p<<8|p>>>24;s[3][u]=p;if(i===0){i=a=1}else{i=c^e[e[e[d^c]]];a^=e[e[a]]}}return{SBOX:r,INV_SBOX:n,SUB_MIX:o,INV_SUB_MIX:s}}();function u(e){this._key=o(e);this._reset()}u.blockSize=4*4;u.keySize=256/8;u.prototype.blockSize=u.blockSize;u.prototype.keySize=u.keySize;u.prototype._reset=function(){var e=this._key;var t=e.length;var r=t+6;var n=(r+1)*4;var o=[];for(var s=0;s<t;s++){o[s]=e[s]}for(s=t;s<n;s++){var i=o[s-1];if(s%t===0){i=i<<8|i>>>24;i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[i&255];i^=a[s/t|0]<<24}else if(t>6&&s%t===4){i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[i&255]}o[s]=o[s-t]^i}var u=[];for(var c=0;c<n;c++){var f=n-c;var d=o[f-(c%4?0:4)];if(c<4||f<=4){u[c]=d}else{u[c]=l.INV_SUB_MIX[0][l.SBOX[d>>>24]]^l.INV_SUB_MIX[1][l.SBOX[d>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[d>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[d&255]]}}this._nRounds=r;this._keySchedule=o;this._invKeySchedule=u};u.prototype.encryptBlockRaw=function(e){e=o(e);return i(e,this._keySchedule,l.SUB_MIX,l.SBOX,this._nRounds)};u.prototype.encryptBlock=function(e){var t=this.encryptBlockRaw(e);var r=n.allocUnsafe(16);r.writeUInt32BE(t[0],0);r.writeUInt32BE(t[1],4);r.writeUInt32BE(t[2],8);r.writeUInt32BE(t[3],12);return r};u.prototype.decryptBlock=function(e){e=o(e);var t=e[1];e[1]=e[3];e[3]=t;var r=i(e,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX,this._nRounds);var s=n.allocUnsafe(16);s.writeUInt32BE(r[0],0);s.writeUInt32BE(r[3],4);s.writeUInt32BE(r[2],8);s.writeUInt32BE(r[1],12);return s};u.prototype.scrub=function(){s(this._keySchedule);s(this._invKeySchedule);s(this._key)};t.exports.AES=u},{"safe-buffer":1254}],727:[function(e,t,r){var n=e("./aes");var o=e("safe-buffer").Buffer;var s=e("cipher-base");var i=e("inherits");var a=e("./ghash");var l=e("buffer-xor");var u=e("./incr32");function c(e,t){var r=0;if(e.length!==t.length)r++;var n=Math.min(e.length,t.length);for(var o=0;o<n;++o){r+=e[o]^t[o]}return r}function f(e,t,r){if(t.length===12){e._finID=o.concat([t,o.from([0,0,0,1])]);return o.concat([t,o.from([0,0,0,2])])}var n=new a(r);var s=t.length;var i=s%16;n.update(t);if(i){i=16-i;n.update(o.alloc(i,0))}n.update(o.alloc(8,0));var l=s*8;var c=o.alloc(8);c.writeUIntBE(l,0,8);n.update(c);e._finID=n.state;var f=o.from(e._finID);u(f);return f}function d(e,t,r,i){s.call(this);var l=o.alloc(4,0);this._cipher=new n.AES(t);var u=this._cipher.encryptBlock(l);this._ghash=new a(u);r=f(this,r,u);this._prev=o.from(r);this._cache=o.allocUnsafe(0);this._secCache=o.allocUnsafe(0);this._decrypt=i;this._alen=0;this._len=0;this._mode=e;this._authTag=null;this._called=false}i(d,s);d.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;if(t<16){t=o.alloc(t,0);this._ghash.update(t)}}this._called=true;var r=this._mode.encrypt(this,e);if(this._decrypt){this._ghash.update(e)}else{this._ghash.update(r)}this._len+=e.length;return r};d.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=l(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&c(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=e;this._cipher.scrub()};d.prototype.getAuthTag=function e(){if(this._decrypt||!o.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag};d.prototype.setAuthTag=function e(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t};d.prototype.setAAD=function e(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t);this._alen+=t.length};t.exports=d},{"./aes":726,"./ghash":731,"./incr32":732,"buffer-xor":750,"cipher-base":751,inherits:1059,"safe-buffer":1254}],728:[function(e,t,r){var n=e("./encrypter");var o=e("./decrypter");var s=e("./modes/list.json");function i(){return Object.keys(s)}r.createCipher=r.Cipher=n.createCipher;r.createCipheriv=r.Cipheriv=n.createCipheriv;r.createDecipher=r.Decipher=o.createDecipher;r.createDecipheriv=r.Decipheriv=o.createDecipheriv;r.listCiphers=r.getCiphers=i},{"./decrypter":729,"./encrypter":730,"./modes/list.json":740}],729:[function(e,t,r){var n=e("./authCipher");var o=e("safe-buffer").Buffer;var s=e("./modes");var i=e("./streamCipher");var a=e("cipher-base");var l=e("./aes");var u=e("evp_bytestokey");var c=e("inherits");function f(e,t,r){a.call(this);this._cache=new d;this._last=void 0;this._cipher=new l.AES(t);this._prev=o.from(r);this._mode=e;this._autopadding=true}c(f,a);f.prototype._update=function(e){this._cache.add(e);var t;var r;var n=[];while(t=this._cache.get(this._autopadding)){r=this._mode.decrypt(this,t);n.push(r)}return o.concat(n)};f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding){return p(this._mode.decrypt(this,e))}else if(e){throw new Error("data not multiple of block length")}};f.prototype.setAutoPadding=function(e){this._autopadding=!!e;return this};function d(){this.cache=o.allocUnsafe(0)}d.prototype.add=function(e){this.cache=o.concat([this.cache,e])};d.prototype.get=function(e){var t;if(e){if(this.cache.length>16){t=this.cache.slice(0,16);this.cache=this.cache.slice(16);return t}}else{if(this.cache.length>=16){t=this.cache.slice(0,16);this.cache=this.cache.slice(16);return t}}return null};d.prototype.flush=function(){if(this.cache.length)return this.cache};function p(e){var t=e[15];if(t<1||t>16){throw new Error("unable to decrypt data")}var r=-1;while(++r<t){if(e[r+(16-t)]!==t){throw new Error("unable to decrypt data")}}if(t===16)return;return e.slice(0,16-t)}function _(e,t,r){var a=s[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if(typeof r==="string")r=o.from(r);if(a.mode!=="GCM"&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if(typeof t==="string")t=o.from(t);if(t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if(a.type==="stream"){return new i(a.module,t,r,true)}else if(a.type==="auth"){return new n(a.module,t,r,true)}return new f(a.module,t,r)}function m(e,t){var r=s[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var n=u(t,false,r.key,r.iv);return _(e,n.key,n.iv)}r.createDecipher=m;r.createDecipheriv=_},{"./aes":726,"./authCipher":727,"./modes":739,"./streamCipher":742,"cipher-base":751,evp_bytestokey:1052,inherits:1059,"safe-buffer":1254}],730:[function(e,t,r){var n=e("./modes");var o=e("./authCipher");var s=e("safe-buffer").Buffer;var i=e("./streamCipher");var a=e("cipher-base");var l=e("./aes");var u=e("evp_bytestokey");var c=e("inherits");function f(e,t,r){a.call(this);this._cache=new p;this._cipher=new l.AES(t);this._prev=s.from(r);this._mode=e;this._autopadding=true}c(f,a);f.prototype._update=function(e){this._cache.add(e);var t;var r;var n=[];while(t=this._cache.get()){r=this._mode.encrypt(this,t);n.push(r)}return s.concat(n)};var d=s.alloc(16,16);f.prototype._final=function(){var e=this._cache.flush();if(this._autopadding){e=this._mode.encrypt(this,e);this._cipher.scrub();return e}if(!e.equals(d)){this._cipher.scrub();throw new Error("data not multiple of block length")}};f.prototype.setAutoPadding=function(e){this._autopadding=!!e;return this};function p(){this.cache=s.allocUnsafe(0)}p.prototype.add=function(e){this.cache=s.concat([this.cache,e])};p.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);this.cache=this.cache.slice(16);return e}return null};p.prototype.flush=function(){var e=16-this.cache.length;var t=s.allocUnsafe(e);var r=-1;while(++r<e){t.writeUInt8(e,r)}return s.concat([this.cache,t])};function _(e,t,r){var a=n[e.toLowerCase()];if(!a)throw new TypeError("invalid suite type");if(typeof t==="string")t=s.from(t);if(t.length!==a.key/8)throw new TypeError("invalid key length "+t.length);if(typeof r==="string")r=s.from(r);if(a.mode!=="GCM"&&r.length!==a.iv)throw new TypeError("invalid iv length "+r.length);if(a.type==="stream"){return new i(a.module,t,r)}else if(a.type==="auth"){return new o(a.module,t,r)}return new f(a.module,t,r)}function m(e,t){var r=n[e.toLowerCase()];if(!r)throw new TypeError("invalid suite type");var o=u(t,false,r.key,r.iv);return _(e,o.key,o.iv)}r.createCipheriv=_;r.createCipher=m},{"./aes":726,"./authCipher":727,"./modes":739,"./streamCipher":742,"cipher-base":751,evp_bytestokey:1052,inherits:1059,"safe-buffer":1254}],731:[function(e,t,r){var n=e("safe-buffer").Buffer;var o=n.alloc(16,0);function s(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function i(e){var t=n.allocUnsafe(16);t.writeUInt32BE(e[0]>>>0,0);t.writeUInt32BE(e[1]>>>0,4);t.writeUInt32BE(e[2]>>>0,8);t.writeUInt32BE(e[3]>>>0,12);return t}function a(e){this.h=e;this.state=n.alloc(16,0);this.cache=n.allocUnsafe(0)}a.prototype.ghash=function(e){var t=-1;while(++t<e.length){this.state[t]^=e[t]}this._multiply()};a.prototype._multiply=function(){var e=s(this.h);var t=[0,0,0,0];var r,n,o;var a=-1;while(++a<128){n=(this.state[~~(a/8)]&1<<7-a%8)!==0;if(n){t[0]^=e[0];t[1]^=e[1];t[2]^=e[2];t[3]^=e[3]}o=(e[3]&1)!==0;for(r=3;r>0;r--){e[r]=e[r]>>>1|(e[r-1]&1)<<31}e[0]=e[0]>>>1;if(o){e[0]=e[0]^225<<24}}this.state=i(t)};a.prototype.update=function(e){this.cache=n.concat([this.cache,e]);var t;while(this.cache.length>=16){t=this.cache.slice(0,16);this.cache=this.cache.slice(16);this.ghash(t)}};a.prototype.final=function(e,t){if(this.cache.length){this.ghash(n.concat([this.cache,o],16))}this.ghash(i([0,e,0,t]));return this.state};t.exports=a},{"safe-buffer":1254}],732:[function(e,t,r){function n(e){var t=e.length;var r;while(t--){r=e.readUInt8(t);if(r===255){e.writeUInt8(0,t)}else{r++;e.writeUInt8(r,t);break}}}t.exports=n},{}],733:[function(e,t,r){var n=e("buffer-xor");r.encrypt=function(e,t){var r=n(t,e._prev);e._prev=e._cipher.encryptBlock(r);return e._prev};r.decrypt=function(e,t){var r=e._prev;e._prev=t;var o=e._cipher.decryptBlock(t);return n(o,r)}},{"buffer-xor":750}],734:[function(e,t,r){var n=e("safe-buffer").Buffer;var o=e("buffer-xor");function s(e,t,r){var s=t.length;var i=o(t,e._cache);e._cache=e._cache.slice(s);e._prev=n.concat([e._prev,r?t:i]);return i}r.encrypt=function(e,t,r){var o=n.allocUnsafe(0);var i;while(t.length){if(e._cache.length===0){e._cache=e._cipher.encryptBlock(e._prev);e._prev=n.allocUnsafe(0)}if(e._cache.length<=t.length){i=e._cache.length;o=n.concat([o,s(e,t.slice(0,i),r)]);t=t.slice(i)}else{o=n.concat([o,s(e,t,r)]);break}}return o}},{"buffer-xor":750,"safe-buffer":1254}],735:[function(e,t,r){var n=e("safe-buffer").Buffer;function o(e,t,r){var n;var o=-1;var i=8;var a=0;var l,u;while(++o<i){n=e._cipher.encryptBlock(e._prev);l=t&1<<7-o?128:0;u=n[0]^l;a+=(u&128)>>o%8;e._prev=s(e._prev,r?l:u)}return a}function s(e,t){var r=e.length;var o=-1;var s=n.allocUnsafe(e.length);e=n.concat([e,n.from([t])]);while(++o<r){s[o]=e[o]<<1|e[o+1]>>7}return s}r.encrypt=function(e,t,r){var s=t.length;var i=n.allocUnsafe(s);var a=-1;while(++a<s){i[a]=o(e,t[a],r)}return i}},{"safe-buffer":1254}],736:[function(e,t,r){var n=e("safe-buffer").Buffer;function o(e,t,r){var o=e._cipher.encryptBlock(e._prev);var s=o[0]^t;e._prev=n.concat([e._prev.slice(1),n.from([r?t:s])]);return s}r.encrypt=function(e,t,r){var s=t.length;var i=n.allocUnsafe(s);var a=-1;while(++a<s){i[a]=o(e,t[a],r)}return i}},{"safe-buffer":1254}],737:[function(e,t,r){var n=e("buffer-xor");var o=e("safe-buffer").Buffer;var s=e("../incr32");function i(e){var t=e._cipher.encryptBlockRaw(e._prev);s(e._prev);return t}var a=16;r.encrypt=function(e,t){var r=Math.ceil(t.length/a);var s=e._cache.length;e._cache=o.concat([e._cache,o.allocUnsafe(r*a)]);for(var l=0;l<r;l++){var u=i(e);var c=s+l*a;e._cache.writeUInt32BE(u[0],c+0);e._cache.writeUInt32BE(u[1],c+4);e._cache.writeUInt32BE(u[2],c+8);e._cache.writeUInt32BE(u[3],c+12)}var f=e._cache.slice(0,t.length);e._cache=e._cache.slice(t.length);return n(t,f)}},{"../incr32":732,"buffer-xor":750,"safe-buffer":1254}],738:[function(e,t,r){r.encrypt=function(e,t){return e._cipher.encryptBlock(t)};r.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],739:[function(e,t,r){var n={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")};var o=e("./list.json");for(var s in o){o[s].module=n[o[s].mode]}t.exports=o},{"./cbc":733,"./cfb":734,"./cfb1":735,"./cfb8":736,"./ctr":737,"./ecb":738,"./list.json":740,"./ofb":741}],740:[function(e,t,r){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],741:[function(e,t,r){(function(t){(function(){var n=e("buffer-xor");function o(e){e._prev=e._cipher.encryptBlock(e._prev);return e._prev}r.encrypt=function(e,r){while(e._cache.length<r.length){e._cache=t.concat([e._cache,o(e)])}var s=e._cache.slice(0,r.length);e._cache=e._cache.slice(r.length);return n(r,s)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:744,"buffer-xor":750}],742:[function(e,t,r){var n=e("./aes");var o=e("safe-buffer").Buffer;var s=e("cipher-base");var i=e("inherits");function a(e,t,r,i){s.call(this);this._cipher=new n.AES(t);this._prev=o.from(r);this._cache=o.allocUnsafe(0);this._secCache=o.allocUnsafe(0);this._decrypt=i;this._mode=e}i(a,s);a.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)};a.prototype._final=function(){this._cipher.scrub()};t.exports=a},{"./aes":726,"cipher-base":751,inherits:1059,"safe-buffer":1254}],743:[function(e,t,r){arguments[4][725][0].apply(r,arguments)},{dup:725}],744:[function(e,t,r){(function(t){(function(){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
"use strict";var t=e("base64-js");var n=e("ieee754");r.Buffer=a;r.SlowBuffer=v;r.INSPECT_MAX_BYTES=50;var o=2147483647;r.kMaxLength=o;a.TYPED_ARRAY_SUPPORT=s();if(!a.TYPED_ARRAY_SUPPORT&&typeof console!=="undefined"&&typeof console.error==="function"){console.error("This browser lacks typed array (Uint8Array) support which is required by "+"`buffer` v5.x. Use `buffer` v4.x if you require old browser support.")}function s(){try{var e=new Uint8Array(1);e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return e.foo()===42}catch(e){return false}}Object.defineProperty(a.prototype,"parent",{enumerable:true,get:function(){if(!a.isBuffer(this))return undefined;return this.buffer}});Object.defineProperty(a.prototype,"offset",{enumerable:true,get:function(){if(!a.isBuffer(this))return undefined;return this.byteOffset}});function i(e){if(e>o){throw new RangeError('The value "'+e+'" is invalid for option "size"')}var t=new Uint8Array(e);t.__proto__=a.prototype;return t}function a(e,t,r){if(typeof e==="number"){if(typeof t==="string"){throw new TypeError('The "string" argument must be of type string. Received type number')}return f(e)}return l(e,t,r)}if(typeof Symbol!=="undefined"&&Symbol.species!=null&&a[Symbol.species]===a){Object.defineProperty(a,Symbol.species,{value:null,configurable:true,enumerable:false,writable:false})}a.poolSize=8192;function l(e,t,r){if(typeof e==="string"){return d(e,t)}if(ArrayBuffer.isView(e)){return p(e)}if(e==null){throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer)){return _(e,t,r)}if(typeof e==="number"){throw new TypeError('The "value" argument must not be of type number. Received type number')}var n=e.valueOf&&e.valueOf();if(n!=null&&n!==e){return a.from(n,t,r)}var o=m(e);if(o)return o;if(typeof Symbol!=="undefined"&&Symbol.toPrimitive!=null&&typeof e[Symbol.toPrimitive]==="function"){return a.from(e[Symbol.toPrimitive]("string"),t,r)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, "+"or Array-like Object. Received type "+typeof e)}a.from=function(e,t,r){return l(e,t,r)};a.prototype.__proto__=Uint8Array.prototype;a.__proto__=Uint8Array;function u(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be of type number')}else if(e<0){throw new RangeError('The value "'+e+'" is invalid for option "size"')}}function c(e,t,r){u(e);if(e<=0){return i(e)}if(t!==undefined){return typeof r==="string"?i(e).fill(t,r):i(e).fill(t)}return i(e)}a.alloc=function(e,t,r){return c(e,t,r)};function f(e){u(e);return i(e<0?0:y(e)|0)}a.allocUnsafe=function(e){return f(e)};a.allocUnsafeSlow=function(e){return f(e)};function d(e,t){if(typeof t!=="string"||t===""){t="utf8"}if(!a.isEncoding(t)){throw new TypeError("Unknown encoding: "+t)}var r=b(e,t)|0;var n=i(r);var o=n.write(e,t);if(o!==r){n=n.slice(0,o)}return n}function p(e){var t=e.length<0?0:y(e.length)|0;var r=i(t);for(var n=0;n<t;n+=1){r[n]=e[n]&255}return r}function _(e,t,r){if(t<0||e.byteLength<t){throw new RangeError('"offset" is outside of buffer bounds')}if(e.byteLength<t+(r||0)){throw new RangeError('"length" is outside of buffer bounds')}var n;if(t===undefined&&r===undefined){n=new Uint8Array(e)}else if(r===undefined){n=new Uint8Array(e,t)}else{n=new Uint8Array(e,t,r)}n.__proto__=a.prototype;return n}function m(e){if(a.isBuffer(e)){var t=y(e.length)|0;var r=i(t);if(r.length===0){return r}e.copy(r,0,0,t);return r}if(e.length!==undefined){if(typeof e.length!=="number"||J(e.length)){return i(0)}return p(e)}if(e.type==="Buffer"&&Array.isArray(e.data)){return p(e.data)}}function y(e){if(e>=o){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+o.toString(16)+" bytes")}return e|0}function v(e){if(+e!=e){e=0}return a.alloc(+e)}a.isBuffer=function e(t){return t!=null&&t._isBuffer===true&&t!==a.prototype};a.compare=function e(t,r){if(K(t,Uint8Array))t=a.from(t,t.offset,t.byteLength);if(K(r,Uint8Array))r=a.from(r,r.offset,r.byteLength);if(!a.isBuffer(t)||!a.isBuffer(r)){throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array')}if(t===r)return 0;var n=t.length;var o=r.length;for(var s=0,i=Math.min(n,o);s<i;++s){if(t[s]!==r[s]){n=t[s];o=r[s];break}}if(n<o)return-1;if(o<n)return 1;return 0};a.isEncoding=function e(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};a.concat=function e(t,r){if(!Array.isArray(t)){throw new TypeError('"list" argument must be an Array of Buffers')}if(t.length===0){return a.alloc(0)}var n;if(r===undefined){r=0;for(n=0;n<t.length;++n){r+=t[n].length}}var o=a.allocUnsafe(r);var s=0;for(n=0;n<t.length;++n){var i=t[n];if(K(i,Uint8Array)){i=a.from(i)}if(!a.isBuffer(i)){throw new TypeError('"list" argument must be an Array of Buffers')}i.copy(o,s);s+=i.length}return o};function b(e,t){if(a.isBuffer(e)){return e.length}if(ArrayBuffer.isView(e)||K(e,ArrayBuffer)){return e.byteLength}if(typeof e!=="string"){throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. '+"Received type "+typeof e)}var r=e.length;var n=arguments.length>2&&arguments[2]===true;if(!n&&r===0)return 0;var o=false;for(;;){switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return X(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return H(e).length;default:if(o){return n?-1:X(e).length}t=(""+t).toLowerCase();o=true}}}a.byteLength=b;function h(e,t,r){var n=false;if(t===undefined||t<0){t=0}if(t>this.length){return""}if(r===undefined||r>this.length){r=this.length}if(r<=0){return""}r>>>=0;t>>>=0;if(r<=t){return""}if(!e)e="utf8";while(true){switch(e){case"hex":return N(this,t,r);case"utf8":case"utf-8":return P(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return R(this,t,r);case"base64":return M(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase();n=true}}}a.prototype._isBuffer=true;function j(e,t,r){var n=e[t];e[t]=e[r];e[r]=n}a.prototype.swap16=function e(){var t=this.length;if(t%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var r=0;r<t;r+=2){j(this,r,r+1)}return this};a.prototype.swap32=function e(){var t=this.length;if(t%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var r=0;r<t;r+=4){j(this,r,r+3);j(this,r+1,r+2)}return this};a.prototype.swap64=function e(){var t=this.length;if(t%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var r=0;r<t;r+=8){j(this,r,r+7);j(this,r+1,r+6);j(this,r+2,r+5);j(this,r+3,r+4)}return this};a.prototype.toString=function e(){var t=this.length;if(t===0)return"";if(arguments.length===0)return P(this,0,t);return h.apply(this,arguments)};a.prototype.toLocaleString=a.prototype.toString;a.prototype.equals=function e(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(this===t)return true;return a.compare(this,t)===0};a.prototype.inspect=function e(){var t="";var n=r.INSPECT_MAX_BYTES;t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim();if(this.length>n)t+=" ... ";return"<Buffer "+t+">"};a.prototype.compare=function e(t,r,n,o,s){if(K(t,Uint8Array)){t=a.from(t,t.offset,t.byteLength)}if(!a.isBuffer(t)){throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. '+"Received type "+typeof t)}if(r===undefined){r=0}if(n===undefined){n=t?t.length:0}if(o===undefined){o=0}if(s===undefined){s=this.length}if(r<0||n>t.length||o<0||s>this.length){throw new RangeError("out of range index")}if(o>=s&&r>=n){return 0}if(o>=s){return-1}if(r>=n){return 1}r>>>=0;n>>>=0;o>>>=0;s>>>=0;if(this===t)return 0;var i=s-o;var l=n-r;var u=Math.min(i,l);var c=this.slice(o,s);var f=t.slice(r,n);for(var d=0;d<u;++d){if(c[d]!==f[d]){i=c[d];l=f[d];break}}if(i<l)return-1;if(l<i)return 1;return 0};function g(e,t,r,n,o){if(e.length===0)return-1;if(typeof r==="string"){n=r;r=0}else if(r>2147483647){r=2147483647}else if(r<-2147483648){r=-2147483648}r=+r;if(J(r)){r=o?0:e.length-1}if(r<0)r=e.length+r;if(r>=e.length){if(o)return-1;else r=e.length-1}else if(r<0){if(o)r=0;else return-1}if(typeof t==="string"){t=a.from(t,n)}if(a.isBuffer(t)){if(t.length===0){return-1}return w(e,t,r,n,o)}else if(typeof t==="number"){t=t&255;if(typeof Uint8Array.prototype.indexOf==="function"){if(o){return Uint8Array.prototype.indexOf.call(e,t,r)}else{return Uint8Array.prototype.lastIndexOf.call(e,t,r)}}return w(e,[t],r,n,o)}throw new TypeError("val must be string, number or Buffer")}function w(e,t,r,n,o){var s=1;var i=e.length;var a=t.length;if(n!==undefined){n=String(n).toLowerCase();if(n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le"){if(e.length<2||t.length<2){return-1}s=2;i/=2;a/=2;r/=2}}function l(e,t){if(s===1){return e[t]}else{return e.readUInt16BE(t*s)}}var u;if(o){var c=-1;for(u=r;u<i;u++){if(l(e,u)===l(t,c===-1?0:u-c)){if(c===-1)c=u;if(u-c+1===a)return c*s}else{if(c!==-1)u-=u-c;c=-1}}}else{if(r+a>i)r=i-a;for(u=r;u>=0;u--){var f=true;for(var d=0;d<a;d++){if(l(e,u+d)!==l(t,d)){f=false;break}}if(f)return u}}return-1}a.prototype.includes=function e(t,r,n){return this.indexOf(t,r,n)!==-1};a.prototype.indexOf=function e(t,r,n){return g(this,t,r,n,true)};a.prototype.lastIndexOf=function e(t,r,n){return g(this,t,r,n,false)};function O(e,t,r,n){r=Number(r)||0;var o=e.length-r;if(!n){n=o}else{n=Number(n);if(n>o){n=o}}var s=t.length;if(n>s/2){n=s/2}for(var i=0;i<n;++i){var a=parseInt(t.substr(i*2,2),16);if(J(a))return i;e[r+i]=a}return i}function S(e,t,r,n){return Y(X(t,e.length-r),e,r,n)}function k(e,t,r,n){return Y($(t),e,r,n)}function A(e,t,r,n){return k(e,t,r,n)}function E(e,t,r,n){return Y(H(t),e,r,n)}function x(e,t,r,n){return Y(V(t,e.length-r),e,r,n)}a.prototype.write=function e(t,r,n,o){if(r===undefined){o="utf8";n=this.length;r=0}else if(n===undefined&&typeof r==="string"){o=r;n=this.length;r=0}else if(isFinite(r)){r=r>>>0;if(isFinite(n)){n=n>>>0;if(o===undefined)o="utf8"}else{o=n;n=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var s=this.length-r;if(n===undefined||n>s)n=s;if(t.length>0&&(n<0||r<0)||r>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!o)o="utf8";var i=false;for(;;){switch(o){case"hex":return O(this,t,r,n);case"utf8":case"utf-8":return S(this,t,r,n);case"ascii":return k(this,t,r,n);case"latin1":case"binary":return A(this,t,r,n);case"base64":return E(this,t,r,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x(this,t,r,n);default:if(i)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase();i=true}}};a.prototype.toJSON=function e(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(e,r,n){if(r===0&&n===e.length){return t.fromByteArray(e)}else{return t.fromByteArray(e.slice(r,n))}}function P(e,t,r){r=Math.min(e.length,r);var n=[];var o=t;while(o<r){var s=e[o];var i=null;var a=s>239?4:s>223?3:s>191?2:1;if(o+a<=r){var l,u,c,f;switch(a){case 1:if(s<128){i=s}break;case 2:l=e[o+1];if((l&192)===128){f=(s&31)<<6|l&63;if(f>127){i=f}}break;case 3:l=e[o+1];u=e[o+2];if((l&192)===128&&(u&192)===128){f=(s&15)<<12|(l&63)<<6|u&63;if(f>2047&&(f<55296||f>57343)){i=f}}break;case 4:l=e[o+1];u=e[o+2];c=e[o+3];if((l&192)===128&&(u&192)===128&&(c&192)===128){f=(s&15)<<18|(l&63)<<12|(u&63)<<6|c&63;if(f>65535&&f<1114112){i=f}}}}if(i===null){i=65533;a=1}else if(i>65535){i-=65536;n.push(i>>>10&1023|55296);i=56320|i&1023}n.push(i);o+=a}return I(n)}var T=4096;function I(e){var t=e.length;if(t<=T){return String.fromCharCode.apply(String,e)}var r="";var n=0;while(n<t){r+=String.fromCharCode.apply(String,e.slice(n,n+=T))}return r}function C(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o){n+=String.fromCharCode(e[o]&127)}return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;o<r;++o){n+=String.fromCharCode(e[o])}return n}function N(e,t,r){var n=e.length;if(!t||t<0)t=0;if(!r||r<0||r>n)r=n;var o="";for(var s=t;s<r;++s){o+=G(e[s])}return o}function L(e,t,r){var n=e.slice(t,r);var o="";for(var s=0;s<n.length;s+=2){o+=String.fromCharCode(n[s]+n[s+1]*256)}return o}a.prototype.slice=function e(t,r){var n=this.length;t=~~t;r=r===undefined?n:~~r;if(t<0){t+=n;if(t<0)t=0}else if(t>n){t=n}if(r<0){r+=n;if(r<0)r=0}else if(r>n){r=n}if(r<t)r=t;var o=this.subarray(t,r);o.__proto__=a.prototype;return o};function z(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUIntLE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)z(t,r,this.length);var o=this[t];var s=1;var i=0;while(++i<r&&(s*=256)){o+=this[t+i]*s}return o};a.prototype.readUIntBE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n){z(t,r,this.length)}var o=this[t+--r];var s=1;while(r>0&&(s*=256)){o+=this[t+--r]*s}return o};a.prototype.readUInt8=function e(t,r){t=t>>>0;if(!r)z(t,1,this.length);return this[t]};a.prototype.readUInt16LE=function e(t,r){t=t>>>0;if(!r)z(t,2,this.length);return this[t]|this[t+1]<<8};a.prototype.readUInt16BE=function e(t,r){t=t>>>0;if(!r)z(t,2,this.length);return this[t]<<8|this[t+1]};a.prototype.readUInt32LE=function e(t,r){t=t>>>0;if(!r)z(t,4,this.length);return(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};a.prototype.readUInt32BE=function e(t,r){t=t>>>0;if(!r)z(t,4,this.length);return this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};a.prototype.readIntLE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)z(t,r,this.length);var o=this[t];var s=1;var i=0;while(++i<r&&(s*=256)){o+=this[t+i]*s}s*=128;if(o>=s)o-=Math.pow(2,8*r);return o};a.prototype.readIntBE=function e(t,r,n){t=t>>>0;r=r>>>0;if(!n)z(t,r,this.length);var o=r;var s=1;var i=this[t+--o];while(o>0&&(s*=256)){i+=this[t+--o]*s}s*=128;if(i>=s)i-=Math.pow(2,8*r);return i};a.prototype.readInt8=function e(t,r){t=t>>>0;if(!r)z(t,1,this.length);if(!(this[t]&128))return this[t];return(255-this[t]+1)*-1};a.prototype.readInt16LE=function e(t,r){t=t>>>0;if(!r)z(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};a.prototype.readInt16BE=function e(t,r){t=t>>>0;if(!r)z(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};a.prototype.readInt32LE=function e(t,r){t=t>>>0;if(!r)z(t,4,this.length);return this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};a.prototype.readInt32BE=function e(t,r){t=t>>>0;if(!r)z(t,4,this.length);return this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};a.prototype.readFloatLE=function e(t,r){t=t>>>0;if(!r)z(t,4,this.length);return n.read(this,t,true,23,4)};a.prototype.readFloatBE=function e(t,r){t=t>>>0;if(!r)z(t,4,this.length);return n.read(this,t,false,23,4)};a.prototype.readDoubleLE=function e(t,r){t=t>>>0;if(!r)z(t,8,this.length);return n.read(this,t,true,52,8)};a.prototype.readDoubleBE=function e(t,r){t=t>>>0;if(!r)z(t,8,this.length);return n.read(this,t,false,52,8)};function D(e,t,r,n,o,s){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}a.prototype.writeUIntLE=function e(t,r,n,o){t=+t;r=r>>>0;n=n>>>0;if(!o){var s=Math.pow(2,8*n)-1;D(this,t,r,n,s,0)}var i=1;var a=0;this[r]=t&255;while(++a<n&&(i*=256)){this[r+a]=t/i&255}return r+n};a.prototype.writeUIntBE=function e(t,r,n,o){t=+t;r=r>>>0;n=n>>>0;if(!o){var s=Math.pow(2,8*n)-1;D(this,t,r,n,s,0)}var i=n-1;var a=1;this[r+i]=t&255;while(--i>=0&&(a*=256)){this[r+i]=t/a&255}return r+n};a.prototype.writeUInt8=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,1,255,0);this[r]=t&255;return r+1};a.prototype.writeUInt16LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,2,65535,0);this[r]=t&255;this[r+1]=t>>>8;return r+2};a.prototype.writeUInt16BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,2,65535,0);this[r]=t>>>8;this[r+1]=t&255;return r+2};a.prototype.writeUInt32LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,4,4294967295,0);this[r+3]=t>>>24;this[r+2]=t>>>16;this[r+1]=t>>>8;this[r]=t&255;return r+4};a.prototype.writeUInt32BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,4,4294967295,0);this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};a.prototype.writeIntLE=function e(t,r,n,o){t=+t;r=r>>>0;if(!o){var s=Math.pow(2,8*n-1);D(this,t,r,n,s-1,-s)}var i=0;var a=1;var l=0;this[r]=t&255;while(++i<n&&(a*=256)){if(t<0&&l===0&&this[r+i-1]!==0){l=1}this[r+i]=(t/a>>0)-l&255}return r+n};a.prototype.writeIntBE=function e(t,r,n,o){t=+t;r=r>>>0;if(!o){var s=Math.pow(2,8*n-1);D(this,t,r,n,s-1,-s)}var i=n-1;var a=1;var l=0;this[r+i]=t&255;while(--i>=0&&(a*=256)){if(t<0&&l===0&&this[r+i+1]!==0){l=1}this[r+i]=(t/a>>0)-l&255}return r+n};a.prototype.writeInt8=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,1,127,-128);if(t<0)t=255+t+1;this[r]=t&255;return r+1};a.prototype.writeInt16LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,2,32767,-32768);this[r]=t&255;this[r+1]=t>>>8;return r+2};a.prototype.writeInt16BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,2,32767,-32768);this[r]=t>>>8;this[r+1]=t&255;return r+2};a.prototype.writeInt32LE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,4,2147483647,-2147483648);this[r]=t&255;this[r+1]=t>>>8;this[r+2]=t>>>16;this[r+3]=t>>>24;return r+4};a.prototype.writeInt32BE=function e(t,r,n){t=+t;r=r>>>0;if(!n)D(this,t,r,4,2147483647,-2147483648);if(t<0)t=4294967295+t+1;this[r]=t>>>24;this[r+1]=t>>>16;this[r+2]=t>>>8;this[r+3]=t&255;return r+4};function q(e,t,r,n,o,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function B(e,t,r,o,s){t=+t;r=r>>>0;if(!s){q(e,t,r,4,34028234663852886e22,-34028234663852886e22)}n.write(e,t,r,o,23,4);return r+4}a.prototype.writeFloatLE=function e(t,r,n){return B(this,t,r,true,n)};a.prototype.writeFloatBE=function e(t,r,n){return B(this,t,r,false,n)};function U(e,t,r,o,s){t=+t;r=r>>>0;if(!s){q(e,t,r,8,17976931348623157e292,-17976931348623157e292)}n.write(e,t,r,o,52,8);return r+8}a.prototype.writeDoubleLE=function e(t,r,n){return U(this,t,r,true,n)};a.prototype.writeDoubleBE=function e(t,r,n){return U(this,t,r,false,n)};a.prototype.copy=function e(t,r,n,o){if(!a.isBuffer(t))throw new TypeError("argument should be a Buffer");if(!n)n=0;if(!o&&o!==0)o=this.length;if(r>=t.length)r=t.length;if(!r)r=0;if(o>0&&o<n)o=n;if(o===n)return 0;if(t.length===0||this.length===0)return 0;if(r<0){throw new RangeError("targetStart out of bounds")}if(n<0||n>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");if(o>this.length)o=this.length;if(t.length-r<o-n){o=t.length-r+n}var s=o-n;if(this===t&&typeof Uint8Array.prototype.copyWithin==="function"){this.copyWithin(r,n,o)}else if(this===t&&n<r&&r<o){for(var i=s-1;i>=0;--i){t[i+r]=this[i+n]}}else{Uint8Array.prototype.set.call(t,this.subarray(n,o),r)}return s};a.prototype.fill=function e(t,r,n,o){if(typeof t==="string"){if(typeof r==="string"){o=r;r=0;n=this.length}else if(typeof n==="string"){o=n;n=this.length}if(o!==undefined&&typeof o!=="string"){throw new TypeError("encoding must be a string")}if(typeof o==="string"&&!a.isEncoding(o)){throw new TypeError("Unknown encoding: "+o)}if(t.length===1){var s=t.charCodeAt(0);if(o==="utf8"&&s<128||o==="latin1"){t=s}}}else if(typeof t==="number"){t=t&255}if(r<0||this.length<r||this.length<n){throw new RangeError("Out of range index")}if(n<=r){return this}r=r>>>0;n=n===undefined?this.length:n>>>0;if(!t)t=0;var i;if(typeof t==="number"){for(i=r;i<n;++i){this[i]=t}}else{var l=a.isBuffer(t)?t:a.from(t,o);var u=l.length;if(u===0){throw new TypeError('The value "'+t+'" is invalid for argument "value"')}for(i=0;i<n-r;++i){this[i+r]=l[i%u]}}return this};var W=/[^+/0-9A-Za-z-_]/g;function F(e){e=e.split("=")[0];e=e.trim().replace(W,"");if(e.length<2)return"";while(e.length%4!==0){e=e+"="}return e}function G(e){if(e<16)return"0"+e.toString(16);return e.toString(16)}function X(e,t){t=t||Infinity;var r;var n=e.length;var o=null;var s=[];for(var i=0;i<n;++i){r=e.charCodeAt(i);if(r>55295&&r<57344){if(!o){if(r>56319){if((t-=3)>-1)s.push(239,191,189);continue}else if(i+1===n){if((t-=3)>-1)s.push(239,191,189);continue}o=r;continue}if(r<56320){if((t-=3)>-1)s.push(239,191,189);o=r;continue}r=(o-55296<<10|r-56320)+65536}else if(o){if((t-=3)>-1)s.push(239,191,189)}o=null;if(r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,r&63|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else{throw new Error("Invalid code point")}}return s}function $(e){var t=[];for(var r=0;r<e.length;++r){t.push(e.charCodeAt(r)&255)}return t}function V(e,t){var r,n,o;var s=[];for(var i=0;i<e.length;++i){if((t-=2)<0)break;r=e.charCodeAt(i);n=r>>8;o=r%256;s.push(o);s.push(n)}return s}function H(e){return t.toByteArray(F(e))}function Y(e,t,r,n){for(var o=0;o<n;++o){if(o+r>=t.length||o>=e.length)break;t[o+r]=e[o]}return o}function K(e,t){return e instanceof t||e!=null&&e.constructor!=null&&e.constructor.name!=null&&e.constructor.name===t.name}function J(e){return e!==e}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":721,buffer:744,ieee754:1058}],745:[function(e,t,r){var n=Object.create||S;var o=Object.keys||k;var s=Function.prototype.bind||A;function i(){if(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events")){this._events=n(null);this._eventsCount=0}this._maxListeners=this._maxListeners||undefined}t.exports=i;i.EventEmitter=i;i.prototype._events=undefined;i.prototype._maxListeners=undefined;var a=10;var l;try{var u={};if(Object.defineProperty)Object.defineProperty(u,"x",{value:0});l=u.x===0}catch(e){l=false}if(l){Object.defineProperty(i,"defaultMaxListeners",{enumerable:true,get:function(){return a},set:function(e){if(typeof e!=="number"||e<0||e!==e)throw new TypeError('"defaultMaxListeners" must be a positive number');a=e}})}else{i.defaultMaxListeners=a}i.prototype.setMaxListeners=function e(t){if(typeof t!=="number"||t<0||isNaN(t))throw new TypeError('"n" argument must be a positive number');this._maxListeners=t;return this};function c(e){if(e._maxListeners===undefined)return i.defaultMaxListeners;return e._maxListeners}i.prototype.getMaxListeners=function e(){return c(this)};function f(e,t,r){if(t)e.call(r);else{var n=e.length;var o=w(e,n);for(var s=0;s<n;++s)o[s].call(r)}}function d(e,t,r,n){if(t)e.call(r,n);else{var o=e.length;var s=w(e,o);for(var i=0;i<o;++i)s[i].call(r,n)}}function p(e,t,r,n,o){if(t)e.call(r,n,o);else{var s=e.length;var i=w(e,s);for(var a=0;a<s;++a)i[a].call(r,n,o)}}function _(e,t,r,n,o,s){if(t)e.call(r,n,o,s);else{var i=e.length;var a=w(e,i);for(var l=0;l<i;++l)a[l].call(r,n,o,s)}}function m(e,t,r,n){if(t)e.apply(r,n);else{var o=e.length;var s=w(e,o);for(var i=0;i<o;++i)s[i].apply(r,n)}}i.prototype.emit=function e(t){var r,n,o,s,i,a;var l=t==="error";a=this._events;if(a)l=l&&a.error==null;else if(!l)return false;if(l){if(arguments.length>1)r=arguments[1];if(r instanceof Error){throw r}else{var u=new Error('Unhandled "error" event. ('+r+")");u.context=r;throw u}return false}n=a[t];if(!n)return false;var c=typeof n==="function";o=arguments.length;switch(o){case 1:f(n,c,this);break;case 2:d(n,c,this,arguments[1]);break;case 3:p(n,c,this,arguments[1],arguments[2]);break;case 4:_(n,c,this,arguments[1],arguments[2],arguments[3]);break;default:s=new Array(o-1);for(i=1;i<o;i++)s[i-1]=arguments[i];m(n,c,this,s)}return true};function y(e,t,r,o){var s;var i;var a;if(typeof r!=="function")throw new TypeError('"listener" argument must be a function');i=e._events;if(!i){i=e._events=n(null);e._eventsCount=0}else{if(i.newListener){e.emit("newListener",t,r.listener?r.listener:r);i=e._events}a=i[t]}if(!a){a=i[t]=r;++e._eventsCount}else{if(typeof a==="function"){a=i[t]=o?[r,a]:[a,r]}else{if(o){a.unshift(r)}else{a.push(r)}}if(!a.warned){s=c(e);if(s&&s>0&&a.length>s){a.warned=true;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(t)+'" listeners '+"added. Use emitter.setMaxListeners() to "+"increase limit.");l.name="MaxListenersExceededWarning";l.emitter=e;l.type=t;l.count=a.length;if(typeof console==="object"&&console.warn){console.warn("%s: %s",l.name,l.message)}}}}return e}i.prototype.addListener=function e(t,r){return y(this,t,r,false)};i.prototype.on=i.prototype.addListener;i.prototype.prependListener=function e(t,r){return y(this,t,r,true)};function v(){if(!this.fired){this.target.removeListener(this.type,this.wrapFn);this.fired=true;switch(arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:var e=new Array(arguments.length);for(var t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}}function b(e,t,r){var n={fired:false,wrapFn:undefined,target:e,type:t,listener:r};var o=s.call(v,n);o.listener=r;n.wrapFn=o;return o}i.prototype.once=function e(t,r){if(typeof r!=="function")throw new TypeError('"listener" argument must be a function');this.on(t,b(this,t,r));return this};i.prototype.prependOnceListener=function e(t,r){if(typeof r!=="function")throw new TypeError('"listener" argument must be a function');this.prependListener(t,b(this,t,r));return this};i.prototype.removeListener=function e(t,r){var o,s,i,a,l;if(typeof r!=="function")throw new TypeError('"listener" argument must be a function');s=this._events;if(!s)return this;o=s[t];if(!o)return this;if(o===r||o.listener===r){if(--this._eventsCount===0)this._events=n(null);else{delete s[t];if(s.removeListener)this.emit("removeListener",t,o.listener||r)}}else if(typeof o!=="function"){i=-1;for(a=o.length-1;a>=0;a--){if(o[a]===r||o[a].listener===r){l=o[a].listener;i=a;break}}if(i<0)return this;if(i===0)o.shift();else g(o,i);if(o.length===1)s[t]=o[0];if(s.removeListener)this.emit("removeListener",t,l||r)}return this};i.prototype.removeAllListeners=function e(t){var r,s,i;s=this._events;if(!s)return this;if(!s.removeListener){if(arguments.length===0){this._events=n(null);this._eventsCount=0}else if(s[t]){if(--this._eventsCount===0)this._events=n(null);else delete s[t]}return this}if(arguments.length===0){var a=o(s);var l;for(i=0;i<a.length;++i){l=a[i];if(l==="removeListener")continue;this.removeAllListeners(l)}this.removeAllListeners("removeListener");this._events=n(null);this._eventsCount=0;return this}r=s[t];if(typeof r==="function"){this.removeListener(t,r)}else if(r){for(i=r.length-1;i>=0;i--){this.removeListener(t,r[i])}}return this};function h(e,t,r){var n=e._events;if(!n)return[];var o=n[t];if(!o)return[];if(typeof o==="function")return r?[o.listener||o]:[o];return r?O(o):w(o,o.length)}i.prototype.listeners=function e(t){return h(this,t,true)};i.prototype.rawListeners=function e(t){return h(this,t,false)};i.listenerCount=function(e,t){if(typeof e.listenerCount==="function"){return e.listenerCount(t)}else{return j.call(e,t)}};i.prototype.listenerCount=j;function j(e){var t=this._events;if(t){var r=t[e];if(typeof r==="function"){return 1}else if(r){return r.length}}return 0}i.prototype.eventNames=function e(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function g(e,t){for(var r=t,n=r+1,o=e.length;n<o;r+=1,n+=1)e[r]=e[n];e.pop()}function w(e,t){var r=new Array(t);for(var n=0;n<t;++n)r[n]=e[n];return r}function O(e){var t=new Array(e.length);for(var r=0;r<t.length;++r){t[r]=e[r].listener||e[r]}return t}function S(e){var t=function(){};t.prototype=e;return new t}function k(e){var t=[];for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){t.push(r)}return r}function A(e){var t=this;return function(){return t.apply(e,arguments)}}},{}],746:[function(e,t,r){var n=t.exports={};var o;var s;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){o=setTimeout}else{o=i}}catch(e){o=i}try{if(typeof clearTimeout==="function"){s=clearTimeout}else{s=a}}catch(e){s=a}})();function l(e){if(o===setTimeout){return setTimeout(e,0)}if((o===i||!o)&&setTimeout){o=setTimeout;return setTimeout(e,0)}try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}function u(e){if(s===clearTimeout){return clearTimeout(e)}if((s===a||!s)&&clearTimeout){s=clearTimeout;return clearTimeout(e)}try{return s(e)}catch(t){try{return s.call(null,e)}catch(t){return s.call(this,e)}}}var c=[];var f=false;var d;var p=-1;function _(){if(!f||!d){return}f=false;if(d.length){c=d.concat(c)}else{p=-1}if(c.length){m()}}function m(){if(f){return}var e=l(_);f=true;var t=c.length;while(t){d=c;c=[];while(++p<t){if(d){d[p].run()}}p=-1;t=c.length}d=null;f=false;u(e)}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}c.push(new y(e,t));if(c.length===1&&!f){l(m)}};function y(e,t){this.fun=e;this.array=t}y.prototype.run=function(){this.fun.apply(null,this.array)};n.title="browser";n.browser=true;n.env={};n.argv=[];n.version="";n.versions={};function v(){}n.on=v;n.addListener=v;n.once=v;n.off=v;n.removeListener=v;n.removeAllListeners=v;n.emit=v;n.prependListener=v;n.prependOnceListener=v;n.listeners=function(e){return[]};n.binding=function(e){throw new Error("process.binding is not supported")};n.cwd=function(){return"/"};n.chdir=function(e){throw new Error("process.chdir is not supported")};n.umask=function(){return 0}},{}],747:[function(e,t,r){(function(e){(function(){(function(n){var o=typeof r=="object"&&r&&!r.nodeType&&r;var s=typeof t=="object"&&t&&!t.nodeType&&t;var i=typeof e=="object"&&e;if(i.global===i||i.window===i||i.self===i){n=i}var a,l=2147483647,u=36,c=1,f=26,d=38,p=700,_=72,m=128,y="-",v=/^xn--/,b=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,j={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=u-c,w=Math.floor,O=String.fromCharCode,S;function k(e){throw new RangeError(j[e])}function A(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function E(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(h,".");var o=e.split(".");var s=A(o,t).join(".");return n+s}function x(e){var t=[],r=0,n=e.length,o,s;while(r<n){o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){s=e.charCodeAt(r++);if((s&64512)==56320){t.push(((o&1023)<<10)+(s&1023)+65536)}else{t.push(o);r--}}else{t.push(o)}}return t}function M(e){return A(e,(function(e){var t="";if(e>65535){e-=65536;t+=O(e>>>10&1023|55296);e=56320|e&1023}t+=O(e);return t})).join("")}function P(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return u}function T(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function I(e,t,r){var n=0;e=r?w(e/p):e>>1;e+=w(e/t);for(;e>g*f>>1;n+=u){e=w(e/g)}return w(n+(g+1)*e/(e+d))}function C(e){var t=[],r=e.length,n,o=0,s=m,i=_,a,d,p,v,b,h,j,g,O;a=e.lastIndexOf(y);if(a<0){a=0}for(d=0;d<a;++d){if(e.charCodeAt(d)>=128){k("not-basic")}t.push(e.charCodeAt(d))}for(p=a>0?a+1:0;p<r;){for(v=o,b=1,h=u;;h+=u){if(p>=r){k("invalid-input")}j=P(e.charCodeAt(p++));if(j>=u||j>w((l-o)/b)){k("overflow")}o+=j*b;g=h<=i?c:h>=i+f?f:h-i;if(j<g){break}O=u-g;if(b>w(l/O)){k("overflow")}b*=O}n=t.length+1;i=I(o-v,n,v==0);if(w(o/n)>l-s){k("overflow")}s+=w(o/n);o%=n;t.splice(o++,0,s)}return M(t)}function R(e){var t,r,n,o,s,i,a,d,p,v,b,h=[],j,g,S,A;e=x(e);j=e.length;t=m;r=0;s=_;for(i=0;i<j;++i){b=e[i];if(b<128){h.push(O(b))}}n=o=h.length;if(o){h.push(y)}while(n<j){for(a=l,i=0;i<j;++i){b=e[i];if(b>=t&&b<a){a=b}}g=n+1;if(a-t>w((l-r)/g)){k("overflow")}r+=(a-t)*g;t=a;for(i=0;i<j;++i){b=e[i];if(b<t&&++r>l){k("overflow")}if(b==t){for(d=r,p=u;;p+=u){v=p<=s?c:p>=s+f?f:p-s;if(d<v){break}A=d-v;S=u-v;h.push(O(T(v+A%S,0)));d=w(A/S)}h.push(O(T(d,0)));s=I(r,g,n==o);r=0;++n}}++r;++t}return h.join("")}function N(e){return E(e,(function(e){return v.test(e)?C(e.slice(4).toLowerCase()):e}))}function L(e){return E(e,(function(e){return b.test(e)?"xn--"+R(e):e}))}a={version:"1.4.1",ucs2:{decode:x,encode:M},decode:C,encode:R,toASCII:L,toUnicode:N};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd){define("punycode",(function(){return a}))}else if(o&&s){if(t.exports==o){s.exports=a}else{for(S in a){a.hasOwnProperty(S)&&(o[S]=a[S])}}}else{n.punycode=a}})(this)}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],748:[function(e,t,r){"use strict";var n=e("punycode");var o=e("./util");r.parse=g;r.resolve=O;r.resolveObject=S;r.format=w;r.Url=s;function s(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var i=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(u),f=["'"].concat(c),d=["%","/","?",";","#"].concat(f),p=["/","?","#"],_=255,m=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:true,"javascript:":true},b={javascript:true,"javascript:":true},h={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},j=e("querystring");function g(e,t,r){if(e&&o.isObject(e)&&e instanceof s)return e;var n=new s;n.parse(e,t,r);return n}s.prototype.parse=function(e,t,r){if(!o.isString(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var s=e.indexOf("?"),a=s!==-1&&s<e.indexOf("#")?"?":"#",u=e.split(a),c=/\\/g;u[0]=u[0].replace(c,"/");e=u.join(a);var g=e;g=g.trim();if(!r&&e.split("#").length===1){var w=l.exec(g);if(w){this.path=g;this.href=g;this.pathname=w[1];if(w[2]){this.search=w[2];if(t){this.query=j.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var O=i.exec(g);if(O){O=O[0];var S=O.toLowerCase();this.protocol=S;g=g.substr(O.length)}if(r||O||g.match(/^\/\/[^@\/]+@[^@\/]+/)){var k=g.substr(0,2)==="//";if(k&&!(O&&b[O])){g=g.substr(2);this.slashes=true}}if(!b[O]&&(k||O&&!h[O])){var A=-1;for(var E=0;E<p.length;E++){var x=g.indexOf(p[E]);if(x!==-1&&(A===-1||x<A))A=x}var M,P;if(A===-1){P=g.lastIndexOf("@")}else{P=g.lastIndexOf("@",A)}if(P!==-1){M=g.slice(0,P);g=g.slice(P+1);this.auth=decodeURIComponent(M)}A=-1;for(var E=0;E<d.length;E++){var x=g.indexOf(d[E]);if(x!==-1&&(A===-1||x<A))A=x}if(A===-1)A=g.length;this.host=g.slice(0,A);g=g.slice(A);this.parseHost();this.hostname=this.hostname||"";var T=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!T){var I=this.hostname.split(/\./);for(var E=0,C=I.length;E<C;E++){var R=I[E];if(!R)continue;if(!R.match(m)){var N="";for(var L=0,z=R.length;L<z;L++){if(R.charCodeAt(L)>127){N+="x"}else{N+=R[L]}}if(!N.match(m)){var D=I.slice(0,E);var q=I.slice(E+1);var B=R.match(y);if(B){D.push(B[1]);q.unshift(B[2])}if(q.length){g="/"+q.join(".")+g}this.hostname=D.join(".");break}}}}if(this.hostname.length>_){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!T){this.hostname=n.toASCII(this.hostname)}var U=this.port?":"+this.port:"";var W=this.hostname||"";this.host=W+U;this.href+=this.host;if(T){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(g[0]!=="/"){g="/"+g}}}if(!v[S]){for(var E=0,C=f.length;E<C;E++){var F=f[E];if(g.indexOf(F)===-1)continue;var G=encodeURIComponent(F);if(G===F){G=escape(F)}g=g.split(F).join(G)}}var X=g.indexOf("#");if(X!==-1){this.hash=g.substr(X);g=g.slice(0,X)}var $=g.indexOf("?");if($!==-1){this.search=g.substr($);this.query=g.substr($+1);if(t){this.query=j.parse(this.query)}g=g.slice(0,$)}else if(t){this.search="";this.query={}}if(g)this.pathname=g;if(h[S]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var U=this.pathname||"";var V=this.search||"";this.path=U+V}this.href=this.format();return this};function w(e){if(o.isString(e))e=g(e);if(!(e instanceof s))return s.prototype.format.call(e);return e.format()}s.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",s=false,i="";if(this.host){s=e+this.host}else if(this.hostname){s=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){s+=":"+this.port}}if(this.query&&o.isObject(this.query)&&Object.keys(this.query).length){i=j.stringify(this.query)}var a=this.search||i&&"?"+i||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||h[t])&&s!==false){s="//"+(s||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!s){s=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(a&&a.charAt(0)!=="?")a="?"+a;r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)}));a=a.replace("#","%23");return t+s+r+a+n};function O(e,t){return g(e,false,true).resolve(t)}s.prototype.resolve=function(e){return this.resolveObject(g(e,false,true)).format()};function S(e,t){if(!e)return t;return g(e,false,true).resolveObject(t)}s.prototype.resolveObject=function(e){if(o.isString(e)){var t=new s;t.parse(e,false,true);e=t}var r=new s;var n=Object.keys(this);for(var i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var l=Object.keys(e);for(var u=0;u<l.length;u++){var c=l[u];if(c!=="protocol")r[c]=e[c]}if(h[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!h[e.protocol]){var f=Object.keys(e);for(var d=0;d<f.length;d++){var p=f[d];r[p]=e[p]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!b[e.protocol]){var _=(e.pathname||"").split("/");while(_.length&&!(e.host=_.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(_[0]!=="")_.unshift("");if(_.length<2)_.unshift("");r.pathname=_.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var m=r.pathname||"";var y=r.search||"";r.path=m+y}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var v=r.pathname&&r.pathname.charAt(0)==="/",j=e.host||e.pathname&&e.pathname.charAt(0)==="/",g=j||v||r.host&&e.pathname,w=g,O=r.pathname&&r.pathname.split("/")||[],_=e.pathname&&e.pathname.split("/")||[],S=r.protocol&&!h[r.protocol];if(S){r.hostname="";r.port=null;if(r.host){if(O[0]==="")O[0]=r.host;else O.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(_[0]==="")_[0]=e.host;else _.unshift(e.host)}e.host=null}g=g&&(_[0]===""||O[0]==="")}if(j){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;O=_}else if(_.length){if(!O)O=[];O.pop();O=O.concat(_);r.search=e.search;r.query=e.query}else if(!o.isNullOrUndefined(e.search)){if(S){r.hostname=r.host=O.shift();var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(k){r.auth=k.shift();r.host=r.hostname=k.shift()}}r.search=e.search;r.query=e.query;if(!o.isNull(r.pathname)||!o.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!O.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var A=O.slice(-1)[0];var E=(r.host||e.host||O.length>1)&&(A==="."||A==="..")||A==="";var x=0;for(var M=O.length;M>=0;M--){A=O[M];if(A==="."){O.splice(M,1)}else if(A===".."){O.splice(M,1);x++}else if(x){O.splice(M,1);x--}}if(!g&&!w){for(;x--;x){O.unshift("..")}}if(g&&O[0]!==""&&(!O[0]||O[0].charAt(0)!=="/")){O.unshift("")}if(E&&O.join("/").substr(-1)!=="/"){O.push("")}var P=O[0]===""||O[0]&&O[0].charAt(0)==="/";if(S){r.hostname=r.host=P?"":O.length?O.shift():"";var k=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(k){r.auth=k.shift();r.host=r.hostname=k.shift()}}g=g||r.host&&O.length;if(g&&!P){O.unshift("")}if(!O.length){r.pathname=null;r.path=null}else{r.pathname=O.join("/")}if(!o.isNull(r.pathname)||!o.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};s.prototype.parseHost=function(){var e=this.host;var t=a.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},{"./util":749,punycode:747,querystring:1237}],749:[function(e,t,r){"use strict";t.exports={isString:function(e){return typeof e==="string"},isObject:function(e){return typeof e==="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},{}],750:[function(e,t,r){(function(e){(function(){t.exports=function t(r,n){var o=Math.min(r.length,n.length);var s=new e(o);for(var i=0;i<o;++i){s[i]=r[i]^n[i]}return s}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:744}],751:[function(e,t,r){var n=e("safe-buffer").Buffer;var o=e("stream").Transform;var s=e("string_decoder").StringDecoder;var i=e("inherits");function a(e){o.call(this);this.hashMode=typeof e==="string";if(this.hashMode){this[e]=this._finalOrDigest}else{this.final=this._finalOrDigest}if(this._final){this.__final=this._final;this._final=null}this._decoder=null;this._encoding=null}i(a,o);a.prototype.update=function(e,t,r){if(typeof e==="string"){e=n.from(e,t)}var o=this._update(e);if(this.hashMode)return this;if(r){o=this._toString(o,r)}return o};a.prototype.setAutoPadding=function(){};a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")};a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")};a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")};a.prototype._transform=function(e,t,r){var n;try{if(this.hashMode){this._update(e)}else{this.push(this._update(e))}}catch(e){n=e}finally{r(n)}};a.prototype._flush=function(e){var t;try{this.push(this.__final())}catch(e){t=e}e(t)};a.prototype._finalOrDigest=function(e){var t=this.__final()||n.alloc(0);if(e){t=this._toString(t,e,true)}return t};a.prototype._toString=function(e,t,r){if(!this._decoder){this._decoder=new s(t);this._encoding=t}if(this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);if(r){n+=this._decoder.end()}return n};t.exports=a},{inherits:1059,"safe-buffer":1254,stream:1271,string_decoder:1288}],752:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-callable");var s=e("../internals/try-to-string");var i=n.TypeError;t.exports=function(e){if(o(e))return e;throw i(s(e)+" is not a function")}},{"../internals/global":824,"../internals/is-callable":838,"../internals/try-to-string":917}],753:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-constructor");var s=e("../internals/try-to-string");var i=n.TypeError;t.exports=function(e){if(o(e))return e;throw i(s(e)+" is not a constructor")}},{"../internals/global":824,"../internals/is-constructor":839,"../internals/try-to-string":917}],754:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-callable");var s=n.String;var i=n.TypeError;t.exports=function(e){if(typeof e=="object"||o(e))return e;throw i("Can't set "+s(e)+" as a prototype")}},{"../internals/global":824,"../internals/is-callable":838}],755:[function(e,t,r){var n=e("../internals/well-known-symbol");var o=e("../internals/object-create");var s=e("../internals/object-define-property");var i=n("unscopables");var a=Array.prototype;if(a[i]==undefined){s.f(a,i,{configurable:true,value:o(null)})}t.exports=function(e){a[i][e]=true}},{"../internals/object-create":860,"../internals/object-define-property":862,"../internals/well-known-symbol":923}],756:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt;t.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},{"../internals/string-multibyte":900}],757:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/object-is-prototype-of");var s=n.TypeError;t.exports=function(e,t){if(o(t,e))return e;throw s("Incorrect invocation")}},{"../internals/global":824,"../internals/object-is-prototype-of":869}],758:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-object");var s=n.String;var i=n.TypeError;t.exports=function(e){if(o(e))return e;throw i(s(e)+" is not an object")}},{"../internals/global":824,"../internals/is-object":842}],759:[function(e,t,r){t.exports=typeof ArrayBuffer!="undefined"&&typeof DataView!="undefined"},{}],760:[function(e,t,r){var n=e("../internals/fails");t.exports=n((function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);if(Object.isExtensible(e))Object.defineProperty(e,"a",{value:8})}}))},{"../internals/fails":808}],761:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/function-uncurry-this");var s=e("../internals/descriptors");var i=e("../internals/array-buffer-native");var a=e("../internals/function-name");var l=e("../internals/create-non-enumerable-property");var u=e("../internals/redefine-all");var c=e("../internals/fails");var f=e("../internals/an-instance");var d=e("../internals/to-integer-or-infinity");var p=e("../internals/to-length");var _=e("../internals/to-index");var m=e("../internals/ieee754");var y=e("../internals/object-get-prototype-of");var v=e("../internals/object-set-prototype-of");var b=e("../internals/object-get-own-property-names").f;var h=e("../internals/object-define-property").f;var j=e("../internals/array-fill");var g=e("../internals/array-slice-simple");var w=e("../internals/set-to-string-tag");var O=e("../internals/internal-state");var S=a.PROPER;var k=a.CONFIGURABLE;var A=O.get;var E=O.set;var x="ArrayBuffer";var M="DataView";var P="prototype";var T="Wrong length";var I="Wrong index";var C=n[x];var R=C;var N=R&&R[P];var L=n[M];var z=L&&L[P];var D=Object.prototype;var q=n.Array;var B=n.RangeError;var U=o(j);var W=o([].reverse);var F=m.pack;var G=m.unpack;var X=function(e){return[e&255]};var $=function(e){return[e&255,e>>8&255]};var V=function(e){return[e&255,e>>8&255,e>>16&255,e>>24&255]};var H=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]};var Y=function(e){return F(e,23,4)};var K=function(e){return F(e,52,8)};var J=function(e,t){h(e[P],t,{get:function(){return A(this)[t]}})};var Z=function(e,t,r,n){var o=_(r);var s=A(e);if(o+t>s.byteLength)throw B(I);var i=A(s.buffer).bytes;var a=o+s.byteOffset;var l=g(i,a,a+t);return n?l:W(l)};var Q=function(e,t,r,n,o,s){var i=_(r);var a=A(e);if(i+t>a.byteLength)throw B(I);var l=A(a.buffer).bytes;var u=i+a.byteOffset;var c=n(+o);for(var f=0;f<t;f++)l[u+f]=c[s?f:t-f-1]};if(!i){R=function e(t){f(this,N);var r=_(t);E(this,{bytes:U(q(r),0),byteLength:r});if(!s)this.byteLength=r};N=R[P];L=function e(t,r,n){f(this,z);f(t,N);var o=A(t).byteLength;var i=d(r);if(i<0||i>o)throw B("Wrong offset");n=n===undefined?o-i:p(n);if(i+n>o)throw B(T);E(this,{buffer:t,byteLength:n,byteOffset:i});if(!s){this.buffer=t;this.byteLength=n;this.byteOffset=i}};z=L[P];if(s){J(R,"byteLength");J(L,"buffer");J(L,"byteLength");J(L,"byteOffset")}u(z,{getInt8:function e(t){return Z(this,1,t)[0]<<24>>24},getUint8:function e(t){return Z(this,1,t)[0]},getInt16:function e(t){var r=Z(this,2,t,arguments.length>1?arguments[1]:undefined);return(r[1]<<8|r[0])<<16>>16},getUint16:function e(t){var r=Z(this,2,t,arguments.length>1?arguments[1]:undefined);return r[1]<<8|r[0]},getInt32:function e(t){return H(Z(this,4,t,arguments.length>1?arguments[1]:undefined))},getUint32:function e(t){return H(Z(this,4,t,arguments.length>1?arguments[1]:undefined))>>>0},getFloat32:function e(t){return G(Z(this,4,t,arguments.length>1?arguments[1]:undefined),23)},getFloat64:function e(t){return G(Z(this,8,t,arguments.length>1?arguments[1]:undefined),52)},setInt8:function e(t,r){Q(this,1,t,X,r)},setUint8:function e(t,r){Q(this,1,t,X,r)},setInt16:function e(t,r){Q(this,2,t,$,r,arguments.length>2?arguments[2]:undefined)},setUint16:function e(t,r){Q(this,2,t,$,r,arguments.length>2?arguments[2]:undefined)},setInt32:function e(t,r){Q(this,4,t,V,r,arguments.length>2?arguments[2]:undefined)},setUint32:function e(t,r){Q(this,4,t,V,r,arguments.length>2?arguments[2]:undefined)},setFloat32:function e(t,r){Q(this,4,t,Y,r,arguments.length>2?arguments[2]:undefined)},setFloat64:function e(t,r){Q(this,8,t,K,r,arguments.length>2?arguments[2]:undefined)}})}else{var ee=S&&C.name!==x;if(!c((function(){C(1)}))||!c((function(){new C(-1)}))||c((function(){new C;new C(1.5);new C(NaN);return ee&&!k}))){R=function e(t){f(this,N);return new C(_(t))};R[P]=N;for(var te=b(C),re=0,ne;te.length>re;){if(!((ne=te[re++])in R)){l(R,ne,C[ne])}}N.constructor=R}else if(ee&&k){l(C,"name",x)}if(v&&y(z)!==D){v(z,D)}var oe=new L(new R(2));var se=o(z.setInt8);oe.setInt8(0,2147483648);oe.setInt8(1,2147483649);if(oe.getInt8(0)||!oe.getInt8(1))u(z,{setInt8:function e(t,r){se(this,t,r<<24>>24)},setUint8:function e(t,r){se(this,t,r<<24>>24)}},{unsafe:true})}w(R,x);w(L,M);t.exports={ArrayBuffer:R,DataView:L}},{"../internals/an-instance":757,"../internals/array-buffer-native":759,"../internals/array-fill":762,"../internals/array-slice-simple":769,"../internals/create-non-enumerable-property":786,"../internals/descriptors":792,"../internals/fails":808,"../internals/function-name":817,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/ieee754":830,"../internals/internal-state":835,"../internals/object-define-property":862,"../internals/object-get-own-property-names":865,"../internals/object-get-prototype-of":867,"../internals/object-set-prototype-of":873,"../internals/redefine-all":882,"../internals/set-to-string-tag":894,"../internals/to-index":908,"../internals/to-integer-or-infinity":910,"../internals/to-length":911}],762:[function(e,t,r){"use strict";var n=e("../internals/to-object");var o=e("../internals/to-absolute-index");var s=e("../internals/length-of-array-like");t.exports=function e(t){var r=n(this);var i=s(r);var a=arguments.length;var l=o(a>1?arguments[1]:undefined,i);var u=a>2?arguments[2]:undefined;var c=u===undefined?i:o(u,i);while(c>l)r[l++]=t;return r}},{"../internals/length-of-array-like":850,"../internals/to-absolute-index":907,"../internals/to-object":912}],763:[function(e,t,r){"use strict";var n=e("../internals/array-iteration").forEach;var o=e("../internals/array-method-is-strict");var s=o("forEach");t.exports=!s?function e(t){return n(this,t,arguments.length>1?arguments[1]:undefined)}:[].forEach},{"../internals/array-iteration":766,"../internals/array-method-is-strict":768}],764:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/function-bind-context");var s=e("../internals/function-call");var i=e("../internals/to-object");var a=e("../internals/call-with-safe-iteration-closing");var l=e("../internals/is-array-iterator-method");var u=e("../internals/is-constructor");var c=e("../internals/length-of-array-like");var f=e("../internals/create-property");var d=e("../internals/get-iterator");var p=e("../internals/get-iterator-method");var _=n.Array;t.exports=function e(t){var r=i(t);var n=u(this);var m=arguments.length;var y=m>1?arguments[1]:undefined;var v=y!==undefined;if(v)y=o(y,m>2?arguments[2]:undefined);var b=p(r);var h=0;var j,g,w,O,S,k;if(b&&!(this==_&&l(b))){O=d(r,b);S=O.next;g=n?new this:[];for(;!(w=s(S,O)).done;h++){k=v?a(O,y,[w.value,h],true):w.value;f(g,h,k)}}else{j=c(r);g=n?new this(j):_(j);for(;j>h;h++){k=v?y(r[h],h):r[h];f(g,h,k)}}g.length=h;return g}},{"../internals/call-with-safe-iteration-closing":774,"../internals/create-property":788,"../internals/function-bind-context":813,"../internals/function-call":816,"../internals/get-iterator":821,"../internals/get-iterator-method":820,"../internals/global":824,"../internals/is-array-iterator-method":836,"../internals/is-constructor":839,"../internals/length-of-array-like":850,"../internals/to-object":912}],765:[function(e,t,r){var n=e("../internals/to-indexed-object");var o=e("../internals/to-absolute-index");var s=e("../internals/length-of-array-like");var i=function(e){return function(t,r,i){var a=n(t);var l=s(a);var u=o(i,l);var c;if(e&&r!=r)while(l>u){c=a[u++];if(c!=c)return true}else for(;l>u;u++){if((e||u in a)&&a[u]===r)return e||u||0}return!e&&-1}};t.exports={includes:i(true),indexOf:i(false)}},{"../internals/length-of-array-like":850,"../internals/to-absolute-index":907,"../internals/to-indexed-object":909}],766:[function(e,t,r){var n=e("../internals/function-bind-context");var o=e("../internals/function-uncurry-this");var s=e("../internals/indexed-object");var i=e("../internals/to-object");var a=e("../internals/length-of-array-like");var l=e("../internals/array-species-create");var u=o([].push);var c=function(e){var t=e==1;var r=e==2;var o=e==3;var c=e==4;var f=e==6;var d=e==7;var p=e==5||f;return function(_,m,y,v){var b=i(_);var h=s(b);var j=n(m,y);var g=a(h);var w=0;var O=v||l;var S=t?O(_,g):r||d?O(_,0):undefined;var k,A;for(;g>w;w++)if(p||w in h){k=h[w];A=j(k,w,b);if(e){if(t)S[w]=A;else if(A)switch(e){case 3:return true;case 5:return k;case 6:return w;case 2:u(S,k)}else switch(e){case 4:return false;case 7:u(S,k)}}}return f?-1:o||c?c:S}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},{"../internals/array-species-create":773,"../internals/function-bind-context":813,"../internals/function-uncurry-this":818,"../internals/indexed-object":831,"../internals/length-of-array-like":850,"../internals/to-object":912}],767:[function(e,t,r){var n=e("../internals/fails");var o=e("../internals/well-known-symbol");var s=e("../internals/engine-v8-version");var i=o("species");t.exports=function(e){return s>=51||!n((function(){var t=[];var r=t.constructor={};r[i]=function(){return{foo:1}};return t[e](Boolean).foo!==1}))}},{"../internals/engine-v8-version":804,"../internals/fails":808,"../internals/well-known-symbol":923}],768:[function(e,t,r){"use strict";var n=e("../internals/fails");t.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){throw 1},1)}))}},{"../internals/fails":808}],769:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/to-absolute-index");var s=e("../internals/length-of-array-like");var i=e("../internals/create-property");var a=n.Array;var l=Math.max;t.exports=function(e,t,r){var n=s(e);var u=o(t,n);var c=o(r===undefined?n:r,n);var f=a(l(c-u,0));for(var d=0;u<c;u++,d++)i(f,d,e[u]);f.length=d;return f}},{"../internals/create-property":788,"../internals/global":824,"../internals/length-of-array-like":850,"../internals/to-absolute-index":907}],770:[function(e,t,r){var n=e("../internals/function-uncurry-this");t.exports=n([].slice)},{"../internals/function-uncurry-this":818}],771:[function(e,t,r){var n=e("../internals/array-slice-simple");var o=Math.floor;var s=function(e,t){var r=e.length;var l=o(r/2);return r<8?i(e,t):a(e,s(n(e,0,l),t),s(n(e,l),t),t)};var i=function(e,t){var r=e.length;var n=1;var o,s;while(n<r){s=n;o=e[n];while(s&&t(e[s-1],o)>0){e[s]=e[--s]}if(s!==n++)e[s]=o}return e};var a=function(e,t,r,n){var o=t.length;var s=r.length;var i=0;var a=0;while(i<o||a<s){e[i+a]=i<o&&a<s?n(t[i],r[a])<=0?t[i++]:r[a++]:i<o?t[i++]:r[a++]}return e};t.exports=s},{"../internals/array-slice-simple":769}],772:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-array");var s=e("../internals/is-constructor");var i=e("../internals/is-object");var a=e("../internals/well-known-symbol");var l=a("species");var u=n.Array;t.exports=function(e){var t;if(o(e)){t=e.constructor;if(s(t)&&(t===u||o(t.prototype)))t=undefined;else if(i(t)){t=t[l];if(t===null)t=undefined}}return t===undefined?u:t}},{"../internals/global":824,"../internals/is-array":837,"../internals/is-constructor":839,"../internals/is-object":842,"../internals/well-known-symbol":923}],773:[function(e,t,r){var n=e("../internals/array-species-constructor");t.exports=function(e,t){return new(n(e))(t===0?0:t)}},{"../internals/array-species-constructor":772}],774:[function(e,t,r){var n=e("../internals/an-object");var o=e("../internals/iterator-close");t.exports=function(e,t,r,s){try{return s?t(n(r)[0],r[1]):t(r)}catch(t){o(e,"throw",t)}}},{"../internals/an-object":758,"../internals/iterator-close":847}],775:[function(e,t,r){var n=e("../internals/well-known-symbol");var o=n("iterator");var s=false;try{var i=0;var a={next:function(){return{done:!!i++}},return:function(){s=true}};a[o]=function(){return this};Array.from(a,(function(){throw 2}))}catch(e){}t.exports=function(e,t){if(!t&&!s)return false;var r=false;try{var n={};n[o]=function(){return{next:function(){return{done:r=true}}}};e(n)}catch(e){}return r}},{"../internals/well-known-symbol":923}],776:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=n({}.toString);var s=n("".slice);t.exports=function(e){return s(o(e),8,-1)}},{"../internals/function-uncurry-this":818}],777:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/to-string-tag-support");var s=e("../internals/is-callable");var i=e("../internals/classof-raw");var a=e("../internals/well-known-symbol");var l=a("toStringTag");var u=n.Object;var c=i(function(){return arguments}())=="Arguments";var f=function(e,t){try{return e[t]}catch(e){}};t.exports=o?i:function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=f(t=u(e),l))=="string"?r:c?i(t):(n=i(t))=="Object"&&s(t.callee)?"Arguments":n}},{"../internals/classof-raw":776,"../internals/global":824,"../internals/is-callable":838,"../internals/to-string-tag-support":915,"../internals/well-known-symbol":923}],778:[function(e,t,r){"use strict";var n=e("../internals/object-define-property").f;var o=e("../internals/object-create");var s=e("../internals/redefine-all");var i=e("../internals/function-bind-context");var a=e("../internals/an-instance");var l=e("../internals/iterate");var u=e("../internals/define-iterator");var c=e("../internals/set-species");var f=e("../internals/descriptors");var d=e("../internals/internal-metadata").fastKey;var p=e("../internals/internal-state");var _=p.set;var m=p.getterFor;t.exports={getConstructor:function(e,t,r,u){var c=e((function(e,n){a(e,p);_(e,{type:t,index:o(null),first:undefined,last:undefined,size:0});if(!f)e.size=0;if(n!=undefined)l(n,e[u],{that:e,AS_ENTRIES:r})}));var p=c.prototype;var y=m(t);var v=function(e,t,r){var n=y(e);var o=b(e,t);var s,i;if(o){o.value=r}else{n.last=o={index:i=d(t,true),key:t,value:r,previous:s=n.last,next:undefined,removed:false};if(!n.first)n.first=o;if(s)s.next=o;if(f)n.size++;else e.size++;if(i!=="F")n.index[i]=o}return e};var b=function(e,t){var r=y(e);var n=d(t);var o;if(n!=="F")return r.index[n];for(o=r.first;o;o=o.next){if(o.key==t)return o}};s(p,{clear:function e(){var t=this;var r=y(t);var n=r.index;var o=r.first;while(o){o.removed=true;if(o.previous)o.previous=o.previous.next=undefined;delete n[o.index];o=o.next}r.first=r.last=undefined;if(f)r.size=0;else t.size=0},delete:function(e){var t=this;var r=y(t);var n=b(t,e);if(n){var o=n.next;var s=n.previous;delete r.index[n.index];n.removed=true;if(s)s.next=o;if(o)o.previous=s;if(r.first==n)r.first=o;if(r.last==n)r.last=s;if(f)r.size--;else t.size--}return!!n},forEach:function e(t){var r=y(this);var n=i(t,arguments.length>1?arguments[1]:undefined);var o;while(o=o?o.next:r.first){n(o.value,o.key,this);while(o&&o.removed)o=o.previous}},has:function e(t){return!!b(this,t)}});s(p,r?{get:function e(t){var r=b(this,t);return r&&r.value},set:function e(t,r){return v(this,t===0?0:t,r)}}:{add:function e(t){return v(this,t=t===0?0:t,t)}});if(f)n(p,"size",{get:function(){return y(this).size}});return c},setStrong:function(e,t,r){var n=t+" Iterator";var o=m(t);var s=m(n);u(e,t,(function(e,t){_(this,{type:n,target:e,state:o(e),kind:t,last:undefined})}),(function(){var e=s(this);var t=e.kind;var r=e.last;while(r&&r.removed)r=r.previous;if(!e.target||!(e.last=r=r?r.next:e.state.first)){e.target=undefined;return{value:undefined,done:true}}if(t=="keys")return{value:r.key,done:false};if(t=="values")return{value:r.value,done:false};return{value:[r.key,r.value],done:false}}),r?"entries":"values",!r,true);c(t)}}},{"../internals/an-instance":757,"../internals/define-iterator":790,"../internals/descriptors":792,"../internals/function-bind-context":813,"../internals/internal-metadata":834,"../internals/internal-state":835,"../internals/iterate":846,"../internals/object-create":860,"../internals/object-define-property":862,"../internals/redefine-all":882,"../internals/set-species":893}],779:[function(e,t,r){"use strict";var n=e("../internals/function-uncurry-this");var o=e("../internals/redefine-all");var s=e("../internals/internal-metadata").getWeakData;var i=e("../internals/an-object");var a=e("../internals/is-object");var l=e("../internals/an-instance");var u=e("../internals/iterate");var c=e("../internals/array-iteration");var f=e("../internals/has-own-property");var d=e("../internals/internal-state");var p=d.set;var _=d.getterFor;var m=c.find;var y=c.findIndex;var v=n([].splice);var b=0;var h=function(e){return e.frozen||(e.frozen=new j)};var j=function(){this.entries=[]};var g=function(e,t){return m(e.entries,(function(e){return e[0]===t}))};j.prototype={get:function(e){var t=g(this,e);if(t)return t[1]},has:function(e){return!!g(this,e)},set:function(e,t){var r=g(this,e);if(r)r[1]=t;else this.entries.push([e,t])},delete:function(e){var t=y(this.entries,(function(t){return t[0]===e}));if(~t)v(this.entries,t,1);return!!~t}};t.exports={getConstructor:function(e,t,r,n){var c=e((function(e,o){l(e,d);p(e,{type:t,id:b++,frozen:undefined});if(o!=undefined)u(o,e[n],{that:e,AS_ENTRIES:r})}));var d=c.prototype;var m=_(t);var y=function(e,t,r){var n=m(e);var o=s(i(t),true);if(o===true)h(n).set(t,r);else o[n.id]=r;return e};o(d,{delete:function(e){var t=m(this);if(!a(e))return false;var r=s(e);if(r===true)return h(t)["delete"](e);return r&&f(r,t.id)&&delete r[t.id]},has:function e(t){var r=m(this);if(!a(t))return false;var n=s(t);if(n===true)return h(r).has(t);return n&&f(n,r.id)}});o(d,r?{get:function e(t){var r=m(this);if(a(t)){var n=s(t);if(n===true)return h(r).get(t);return n?n[r.id]:undefined}},set:function e(t,r){return y(this,t,r)}}:{add:function e(t){return y(this,t,true)}});return c}}},{"../internals/an-instance":757,"../internals/an-object":758,"../internals/array-iteration":766,"../internals/function-uncurry-this":818,"../internals/has-own-property":825,"../internals/internal-metadata":834,"../internals/internal-state":835,"../internals/is-object":842,"../internals/iterate":846,"../internals/redefine-all":882}],780:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/function-uncurry-this");var i=e("../internals/is-forced");var a=e("../internals/redefine");var l=e("../internals/internal-metadata");var u=e("../internals/iterate");var c=e("../internals/an-instance");var f=e("../internals/is-callable");var d=e("../internals/is-object");var p=e("../internals/fails");var _=e("../internals/check-correctness-of-iteration");var m=e("../internals/set-to-string-tag");var y=e("../internals/inherit-if-required");t.exports=function(e,t,r){var v=e.indexOf("Map")!==-1;var b=e.indexOf("Weak")!==-1;var h=v?"set":"add";var j=o[e];var g=j&&j.prototype;var w=j;var O={};var S=function(e){var t=s(g[e]);a(g,e,e=="add"?function e(r){t(this,r===0?0:r);return this}:e=="delete"?function(e){return b&&!d(e)?false:t(this,e===0?0:e)}:e=="get"?function e(r){return b&&!d(r)?undefined:t(this,r===0?0:r)}:e=="has"?function e(r){return b&&!d(r)?false:t(this,r===0?0:r)}:function e(r,n){t(this,r===0?0:r,n);return this})};var k=i(e,!f(j)||!(b||g.forEach&&!p((function(){(new j).entries().next()}))));if(k){w=r.getConstructor(t,e,v,h);l.enable()}else if(i(e,true)){var A=new w;var E=A[h](b?{}:-0,1)!=A;var x=p((function(){A.has(1)}));var M=_((function(e){new j(e)}));var P=!b&&p((function(){var e=new j;var t=5;while(t--)e[h](t,t);return!e.has(-0)}));if(!M){w=t((function(e,t){c(e,g);var r=y(new j,e,w);if(t!=undefined)u(t,r[h],{that:r,AS_ENTRIES:v});return r}));w.prototype=g;g.constructor=w}if(x||P){S("delete");S("has");v&&S("get")}if(P||E)S(h);if(b&&g.clear)delete g.clear}O[e]=w;n({global:true,forced:w!=j},O);m(w,e);if(!b)r.setStrong(w,e,v);return w}},{"../internals/an-instance":757,"../internals/check-correctness-of-iteration":775,"../internals/export":807,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/inherit-if-required":832,"../internals/internal-metadata":834,"../internals/is-callable":838,"../internals/is-forced":841,"../internals/is-object":842,"../internals/iterate":846,"../internals/redefine":883,"../internals/set-to-string-tag":894}],781:[function(e,t,r){var n=e("../internals/has-own-property");var o=e("../internals/own-keys");var s=e("../internals/object-get-own-property-descriptor");var i=e("../internals/object-define-property");t.exports=function(e,t,r){var a=o(t);var l=i.f;var u=s.f;for(var c=0;c<a.length;c++){var f=a[c];if(!n(e,f)&&!(r&&n(r,f))){l(e,f,u(t,f))}}}},{"../internals/has-own-property":825,"../internals/object-define-property":862,"../internals/object-get-own-property-descriptor":863,"../internals/own-keys":877}],782:[function(e,t,r){var n=e("../internals/well-known-symbol");var o=n("match");t.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{t[o]=false;return"/./"[e](t)}catch(e){}}return false}},{"../internals/well-known-symbol":923}],783:[function(e,t,r){var n=e("../internals/fails");t.exports=!n((function(){function e(){}e.prototype.constructor=null;return Object.getPrototypeOf(new e)!==e.prototype}))},{"../internals/fails":808}],784:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/require-object-coercible");var s=e("../internals/to-string");var i=/"/g;var a=n("".replace);t.exports=function(e,t,r,n){var l=s(o(e));var u="<"+t;if(r!=="")u+=" "+r+'="'+a(s(n),i,"&quot;")+'"';return u+">"+l+"</"+t+">"}},{"../internals/function-uncurry-this":818,"../internals/require-object-coercible":890,"../internals/to-string":916}],785:[function(e,t,r){"use strict";var n=e("../internals/iterators-core").IteratorPrototype;var o=e("../internals/object-create");var s=e("../internals/create-property-descriptor");var i=e("../internals/set-to-string-tag");var a=e("../internals/iterators");var l=function(){return this};t.exports=function(e,t,r,u){var c=t+" Iterator";e.prototype=o(n,{next:s(+!u,r)});i(e,c,false,true);a[c]=l;return e}},{"../internals/create-property-descriptor":787,"../internals/iterators":849,"../internals/iterators-core":848,"../internals/object-create":860,"../internals/set-to-string-tag":894}],786:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/object-define-property");var s=e("../internals/create-property-descriptor");t.exports=n?function(e,t,r){return o.f(e,t,s(1,r))}:function(e,t,r){e[t]=r;return e}},{"../internals/create-property-descriptor":787,"../internals/descriptors":792,"../internals/object-define-property":862}],787:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},{}],788:[function(e,t,r){"use strict";var n=e("../internals/to-property-key");var o=e("../internals/object-define-property");var s=e("../internals/create-property-descriptor");t.exports=function(e,t,r){var i=n(t);if(i in e)o.f(e,i,s(0,r));else e[i]=r}},{"../internals/create-property-descriptor":787,"../internals/object-define-property":862,"../internals/to-property-key":914}],789:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/an-object");var s=e("../internals/ordinary-to-primitive");var i=n.TypeError;t.exports=function(e){o(this);if(e==="string"||e==="default")e="string";else if(e!=="number")throw i("Incorrect hint");return s(this,e)}},{"../internals/an-object":758,"../internals/global":824,"../internals/ordinary-to-primitive":876}],790:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/function-call");var s=e("../internals/is-pure");var i=e("../internals/function-name");var a=e("../internals/is-callable");var l=e("../internals/create-iterator-constructor");var u=e("../internals/object-get-prototype-of");var c=e("../internals/object-set-prototype-of");var f=e("../internals/set-to-string-tag");var d=e("../internals/create-non-enumerable-property");var p=e("../internals/redefine");var _=e("../internals/well-known-symbol");var m=e("../internals/iterators");var y=e("../internals/iterators-core");var v=i.PROPER;var b=i.CONFIGURABLE;var h=y.IteratorPrototype;var j=y.BUGGY_SAFARI_ITERATORS;var g=_("iterator");var w="keys";var O="values";var S="entries";var k=function(){return this};t.exports=function(e,t,r,i,_,y,A){l(r,t,i);var E=function(e){if(e===_&&I)return I;if(!j&&e in P)return P[e];switch(e){case w:return function t(){return new r(this,e)};case O:return function t(){return new r(this,e)};case S:return function t(){return new r(this,e)}}return function(){return new r(this)}};var x=t+" Iterator";var M=false;var P=e.prototype;var T=P[g]||P["@@iterator"]||_&&P[_];var I=!j&&T||E(_);var C=t=="Array"?P.entries||T:T;var R,N,L;if(C){R=u(C.call(new e));if(R!==Object.prototype&&R.next){if(!s&&u(R)!==h){if(c){c(R,h)}else if(!a(R[g])){p(R,g,k)}}f(R,x,true,true);if(s)m[x]=k}}if(v&&_==O&&T&&T.name!==O){if(!s&&b){d(P,"name",O)}else{M=true;I=function e(){return o(T,this)}}}if(_){N={values:E(O),keys:y?I:E(w),entries:E(S)};if(A)for(L in N){if(j||M||!(L in P)){p(P,L,N[L])}}else n({target:t,proto:true,forced:j||M},N)}if((!s||A)&&P[g]!==I){p(P,g,I,{name:_})}m[t]=I;return N}},{"../internals/create-iterator-constructor":785,"../internals/create-non-enumerable-property":786,"../internals/export":807,"../internals/function-call":816,"../internals/function-name":817,"../internals/is-callable":838,"../internals/is-pure":843,"../internals/iterators":849,"../internals/iterators-core":848,"../internals/object-get-prototype-of":867,"../internals/object-set-prototype-of":873,"../internals/redefine":883,"../internals/set-to-string-tag":894,"../internals/well-known-symbol":923}],791:[function(e,t,r){var n=e("../internals/path");var o=e("../internals/has-own-property");var s=e("../internals/well-known-symbol-wrapped");var i=e("../internals/object-define-property").f;t.exports=function(e){var t=n.Symbol||(n.Symbol={});if(!o(t,e))i(t,e,{value:s.f(e)})}},{"../internals/has-own-property":825,"../internals/object-define-property":862,"../internals/path":878,"../internals/well-known-symbol-wrapped":922}],792:[function(e,t,r){var n=e("../internals/fails");t.exports=!n((function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}))},{"../internals/fails":808}],793:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-object");var s=n.document;var i=o(s)&&o(s.createElement);t.exports=function(e){return i?s.createElement(e):{}}},{"../internals/global":824,"../internals/is-object":842}],794:[function(e,t,r){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],795:[function(e,t,r){var n=e("../internals/document-create-element");var o=n("span").classList;var s=o&&o.constructor&&o.constructor.prototype;t.exports=s===Object.prototype?undefined:s},{"../internals/document-create-element":793}],796:[function(e,t,r){var n=e("../internals/engine-user-agent");var o=n.match(/firefox\/(\d+)/i);t.exports=!!o&&+o[1]},{"../internals/engine-user-agent":803}],797:[function(e,t,r){t.exports=typeof window=="object"},{}],798:[function(e,t,r){var n=e("../internals/engine-user-agent");t.exports=/MSIE|Trident/.test(n)},{"../internals/engine-user-agent":803}],799:[function(e,t,r){var n=e("../internals/engine-user-agent");var o=e("../internals/global");t.exports=/ipad|iphone|ipod/i.test(n)&&o.Pebble!==undefined},{"../internals/engine-user-agent":803,"../internals/global":824}],800:[function(e,t,r){var n=e("../internals/engine-user-agent");t.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},{"../internals/engine-user-agent":803}],801:[function(e,t,r){var n=e("../internals/classof-raw");var o=e("../internals/global");t.exports=n(o.process)=="process"},{"../internals/classof-raw":776,"../internals/global":824}],802:[function(e,t,r){var n=e("../internals/engine-user-agent");t.exports=/web0s(?!.*chrome)/i.test(n)},{"../internals/engine-user-agent":803}],803:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("navigator","userAgent")||""},{"../internals/get-built-in":819}],804:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/engine-user-agent");var s=n.process;var i=n.Deno;var a=s&&s.versions||i&&i.version;var l=a&&a.v8;var u,c;if(l){u=l.split(".");c=u[0]>0&&u[0]<4?1:+(u[0]+u[1])}if(!c&&o){u=o.match(/Edge\/(\d+)/);if(!u||u[1]>=74){u=o.match(/Chrome\/(\d+)/);if(u)c=+u[1]}}t.exports=c},{"../internals/engine-user-agent":803,"../internals/global":824}],805:[function(e,t,r){var n=e("../internals/engine-user-agent");var o=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!o&&+o[1]},{"../internals/engine-user-agent":803}],806:[function(e,t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],807:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/object-get-own-property-descriptor").f;var s=e("../internals/create-non-enumerable-property");var i=e("../internals/redefine");var a=e("../internals/set-global");var l=e("../internals/copy-constructor-properties");var u=e("../internals/is-forced");t.exports=function(e,t){var r=e.target;var c=e.global;var f=e.stat;var d,p,_,m,y,v;if(c){p=n}else if(f){p=n[r]||a(r,{})}else{p=(n[r]||{}).prototype}if(p)for(_ in t){y=t[_];if(e.noTargetGet){v=o(p,_);m=v&&v.value}else m=p[_];d=u(c?_:r+(f?".":"#")+_,e.forced);if(!d&&m!==undefined){if(typeof y==typeof m)continue;l(y,m)}if(e.sham||m&&m.sham){s(y,"sham",true)}i(p,_,y,e)}}},{"../internals/copy-constructor-properties":781,"../internals/create-non-enumerable-property":786,"../internals/global":824,"../internals/is-forced":841,"../internals/object-get-own-property-descriptor":863,"../internals/redefine":883,"../internals/set-global":892}],808:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return true}}},{}],809:[function(e,t,r){"use strict";e("../modules/es.regexp.exec");var n=e("../internals/function-uncurry-this");var o=e("../internals/redefine");var s=e("../internals/regexp-exec");var i=e("../internals/fails");var a=e("../internals/well-known-symbol");var l=e("../internals/create-non-enumerable-property");var u=a("species");var c=RegExp.prototype;t.exports=function(e,t,r,f){var d=a(e);var p=!i((function(){var t={};t[d]=function(){return 7};return""[e](t)!=7}));var _=p&&!i((function(){var t=false;var r=/a/;if(e==="split"){r={};r.constructor={};r.constructor[u]=function(){return r};r.flags="";r[d]=/./[d]}r.exec=function(){t=true;return null};r[d]("");return!t}));if(!p||!_||r){var m=n(/./[d]);var y=t(d,""[e],(function(e,t,r,o,i){var a=n(e);var l=t.exec;if(l===s||l===c.exec){if(p&&!i){return{done:true,value:m(t,r,o)}}return{done:true,value:a(r,t,o)}}return{done:false}}));o(String.prototype,e,y[0]);o(c,d,y[1])}if(f)l(c[d],"sham",true)}},{"../internals/create-non-enumerable-property":786,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/redefine":883,"../internals/regexp-exec":885,"../internals/well-known-symbol":923,"../modules/es.regexp.exec":966}],810:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/is-array");var s=e("../internals/length-of-array-like");var i=e("../internals/function-bind-context");var a=n.TypeError;var l=function(e,t,r,n,u,c,f,d){var p=u;var _=0;var m=f?i(f,d):false;var y,v;while(_<n){if(_ in r){y=m?m(r[_],_,t):r[_];if(c>0&&o(y)){v=s(y);p=l(e,t,y,v,p,c-1)-1}else{if(p>=9007199254740991)throw a("Exceed the acceptable array length");e[p]=y}p++}_++}return p};t.exports=l},{"../internals/function-bind-context":813,"../internals/global":824,"../internals/is-array":837,"../internals/length-of-array-like":850}],811:[function(e,t,r){var n=e("../internals/fails");t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},{"../internals/fails":808}],812:[function(e,t,r){var n=e("../internals/function-bind-native");var o=Function.prototype;var s=o.apply;var i=o.call;t.exports=typeof Reflect=="object"&&Reflect.apply||(n?i.bind(s):function(){return i.apply(s,arguments)})},{"../internals/function-bind-native":814}],813:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/a-callable");var s=e("../internals/function-bind-native");var i=n(n.bind);t.exports=function(e,t){o(e);return t===undefined?e:s?i(e,t):function(){return e.apply(t,arguments)}}},{"../internals/a-callable":752,"../internals/function-bind-native":814,"../internals/function-uncurry-this":818}],814:[function(e,t,r){var n=e("../internals/fails");t.exports=!n((function(){var e=function(){}.bind();return typeof e!="function"||e.hasOwnProperty("prototype")}))},{"../internals/fails":808}],815:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/function-uncurry-this");var s=e("../internals/a-callable");var i=e("../internals/is-object");var a=e("../internals/has-own-property");var l=e("../internals/array-slice");var u=e("../internals/function-bind-native");var c=n.Function;var f=o([].concat);var d=o([].join);var p={};var _=function(e,t,r){if(!a(p,t)){for(var n=[],o=0;o<t;o++)n[o]="a["+o+"]";p[t]=c("C,a","return new C("+d(n,",")+")")}return p[t](e,r)};t.exports=u?c.bind:function e(t){var r=s(this);var n=r.prototype;var o=l(arguments,1);var a=function e(){var n=f(o,l(arguments));return this instanceof a?_(r,n.length,n):r.apply(t,n)};if(i(n))a.prototype=n;return a}},{"../internals/a-callable":752,"../internals/array-slice":770,"../internals/function-bind-native":814,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/has-own-property":825,"../internals/is-object":842}],816:[function(e,t,r){var n=e("../internals/function-bind-native");var o=Function.prototype.call;t.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},{"../internals/function-bind-native":814}],817:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/has-own-property");var s=Function.prototype;var i=n&&Object.getOwnPropertyDescriptor;var a=o(s,"name");var l=a&&function e(){}.name==="something";var u=a&&(!n||n&&i(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:u}},{"../internals/descriptors":792,"../internals/has-own-property":825}],818:[function(e,t,r){var n=e("../internals/function-bind-native");var o=Function.prototype;var s=o.bind;var i=o.call;var a=n&&s.bind(i,i);t.exports=n?function(e){return e&&a(e)}:function(e){return e&&function(){return i.apply(e,arguments)}}},{"../internals/function-bind-native":814}],819:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-callable");var s=function(e){return o(e)?e:undefined};t.exports=function(e,t){return arguments.length<2?s(n[e]):n[e]&&n[e][t]}},{"../internals/global":824,"../internals/is-callable":838}],820:[function(e,t,r){var n=e("../internals/classof");var o=e("../internals/get-method");var s=e("../internals/iterators");var i=e("../internals/well-known-symbol");var a=i("iterator");t.exports=function(e){if(e!=undefined)return o(e,a)||o(e,"@@iterator")||s[n(e)]}},{"../internals/classof":777,"../internals/get-method":822,"../internals/iterators":849,"../internals/well-known-symbol":923}],821:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-call");var s=e("../internals/a-callable");var i=e("../internals/an-object");var a=e("../internals/try-to-string");var l=e("../internals/get-iterator-method");var u=n.TypeError;t.exports=function(e,t){var r=arguments.length<2?l(e):t;if(s(r))return i(o(r,e));throw u(a(e)+" is not iterable")}},{"../internals/a-callable":752,"../internals/an-object":758,"../internals/function-call":816,"../internals/get-iterator-method":820,"../internals/global":824,"../internals/try-to-string":917}],822:[function(e,t,r){var n=e("../internals/a-callable");t.exports=function(e,t){var r=e[t];return r==null?undefined:n(r)}},{"../internals/a-callable":752}],823:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/to-object");var s=Math.floor;var i=n("".charAt);var a=n("".replace);var l=n("".slice);var u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g;var c=/\$([$&'`]|\d{1,2})/g;t.exports=function(e,t,r,n,f,d){var p=r+e.length;var _=n.length;var m=c;if(f!==undefined){f=o(f);m=u}return a(d,m,(function(o,a){var u;switch(i(a,0)){case"$":return"$";case"&":return e;case"`":return l(t,0,r);case"'":return l(t,p);case"<":u=f[l(a,1,-1)];break;default:var c=+a;if(c===0)return o;if(c>_){var d=s(c/10);if(d===0)return o;if(d<=_)return n[d-1]===undefined?i(a,1):n[d-1]+i(a,1);return o}u=n[c-1]}return u===undefined?"":u}))}},{"../internals/function-uncurry-this":818,"../internals/to-object":912}],824:[function(e,t,r){(function(e){(function(){var r=function(e){return e&&e.Math==Math&&e};t.exports=r(typeof globalThis=="object"&&globalThis)||r(typeof window=="object"&&window)||r(typeof self=="object"&&self)||r(typeof e=="object"&&e)||function(){return this}()||Function("return this")()}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],825:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/to-object");var s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function e(t,r){return s(o(t),r)}},{"../internals/function-uncurry-this":818,"../internals/to-object":912}],826:[function(e,t,r){t.exports={}},{}],827:[function(e,t,r){var n=e("../internals/global");t.exports=function(e,t){var r=n.console;if(r&&r.error){arguments.length==1?r.error(e):r.error(e,t)}}},{"../internals/global":824}],828:[function(e,t,r){var n=e("../internals/get-built-in");t.exports=n("document","documentElement")},{"../internals/get-built-in":819}],829:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/fails");var s=e("../internals/document-create-element");t.exports=!n&&!o((function(){return Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a!=7}))},{"../internals/descriptors":792,"../internals/document-create-element":793,"../internals/fails":808}],830:[function(e,t,r){var n=e("../internals/global");var o=n.Array;var s=Math.abs;var i=Math.pow;var a=Math.floor;var l=Math.log;var u=Math.LN2;var c=function(e,t,r){var n=o(r);var c=r*8-t-1;var f=(1<<c)-1;var d=f>>1;var p=t===23?i(2,-24)-i(2,-77):0;var _=e<0||e===0&&1/e<0?1:0;var m=0;var y,v,b;e=s(e);if(e!=e||e===Infinity){v=e!=e?1:0;y=f}else{y=a(l(e)/u);b=i(2,-y);if(e*b<1){y--;b*=2}if(y+d>=1){e+=p/b}else{e+=p*i(2,1-d)}if(e*b>=2){y++;b/=2}if(y+d>=f){v=0;y=f}else if(y+d>=1){v=(e*b-1)*i(2,t);y=y+d}else{v=e*i(2,d-1)*i(2,t);y=0}}while(t>=8){n[m++]=v&255;v/=256;t-=8}y=y<<t|v;c+=t;while(c>0){n[m++]=y&255;y/=256;c-=8}n[--m]|=_*128;return n};var f=function(e,t){var r=e.length;var n=r*8-t-1;var o=(1<<n)-1;var s=o>>1;var a=n-7;var l=r-1;var u=e[l--];var c=u&127;var f;u>>=7;while(a>0){c=c*256+e[l--];a-=8}f=c&(1<<-a)-1;c>>=-a;a+=t;while(a>0){f=f*256+e[l--];a-=8}if(c===0){c=1-s}else if(c===o){return f?NaN:u?-Infinity:Infinity}else{f=f+i(2,t);c=c-s}return(u?-1:1)*f*i(2,c-t)};t.exports={pack:c,unpack:f}},{"../internals/global":824}],831:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-uncurry-this");var s=e("../internals/fails");var i=e("../internals/classof-raw");var a=n.Object;var l=o("".split);t.exports=s((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return i(e)=="String"?l(e,""):a(e)}:a},{"../internals/classof-raw":776,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/global":824}],832:[function(e,t,r){var n=e("../internals/is-callable");var o=e("../internals/is-object");var s=e("../internals/object-set-prototype-of");t.exports=function(e,t,r){var i,a;if(s&&n(i=t.constructor)&&i!==r&&o(a=i.prototype)&&a!==r.prototype)s(e,a);return e}},{"../internals/is-callable":838,"../internals/is-object":842,"../internals/object-set-prototype-of":873}],833:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/is-callable");var s=e("../internals/shared-store");var i=n(Function.toString);if(!o(s.inspectSource)){s.inspectSource=function(e){return i(e)}}t.exports=s.inspectSource},{"../internals/function-uncurry-this":818,"../internals/is-callable":838,"../internals/shared-store":896}],834:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/function-uncurry-this");var s=e("../internals/hidden-keys");var i=e("../internals/is-object");var a=e("../internals/has-own-property");var l=e("../internals/object-define-property").f;var u=e("../internals/object-get-own-property-names");var c=e("../internals/object-get-own-property-names-external");var f=e("../internals/object-is-extensible");var d=e("../internals/uid");var p=e("../internals/freezing");var _=false;var m=d("meta");var y=0;var v=function(e){l(e,m,{value:{objectID:"O"+y++,weakData:{}}})};var b=function(e,t){if(!i(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!a(e,m)){if(!f(e))return"F";if(!t)return"E";v(e)}return e[m].objectID};var h=function(e,t){if(!a(e,m)){if(!f(e))return true;if(!t)return false;v(e)}return e[m].weakData};var j=function(e){if(p&&_&&f(e)&&!a(e,m))v(e);return e};var g=function(){w.enable=function(){};_=true;var e=u.f;var t=o([].splice);var r={};r[m]=1;if(e(r).length){u.f=function(r){var n=e(r);for(var o=0,s=n.length;o<s;o++){if(n[o]===m){t(n,o,1);break}}return n};n({target:"Object",stat:true,forced:true},{getOwnPropertyNames:c.f})}};var w=t.exports={enable:g,fastKey:b,getWeakData:h,onFreeze:j};s[m]=true},{"../internals/export":807,"../internals/freezing":811,"../internals/function-uncurry-this":818,"../internals/has-own-property":825,"../internals/hidden-keys":826,"../internals/is-object":842,"../internals/object-define-property":862,"../internals/object-get-own-property-names":865,"../internals/object-get-own-property-names-external":864,"../internals/object-is-extensible":868,"../internals/uid":918}],835:[function(e,t,r){var n=e("../internals/native-weak-map");var o=e("../internals/global");var s=e("../internals/function-uncurry-this");var i=e("../internals/is-object");var a=e("../internals/create-non-enumerable-property");var l=e("../internals/has-own-property");var u=e("../internals/shared-store");var c=e("../internals/shared-key");var f=e("../internals/hidden-keys");var d="Object already initialized";var p=o.TypeError;var _=o.WeakMap;var m,y,v;var b=function(e){return v(e)?y(e):m(e,{})};var h=function(e){return function(t){var r;if(!i(t)||(r=y(t)).type!==e){throw p("Incompatible receiver, "+e+" required")}return r}};if(n||u.state){var j=u.state||(u.state=new _);var g=s(j.get);var w=s(j.has);var O=s(j.set);m=function(e,t){if(w(j,e))throw new p(d);t.facade=e;O(j,e,t);return t};y=function(e){return g(j,e)||{}};v=function(e){return w(j,e)}}else{var S=c("state");f[S]=true;m=function(e,t){if(l(e,S))throw new p(d);t.facade=e;a(e,S,t);return t};y=function(e){return l(e,S)?e[S]:{}};v=function(e){return l(e,S)}}t.exports={set:m,get:y,has:v,enforce:b,getterFor:h}},{"../internals/create-non-enumerable-property":786,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/has-own-property":825,"../internals/hidden-keys":826,"../internals/is-object":842,"../internals/native-weak-map":856,"../internals/shared-key":895,"../internals/shared-store":896}],836:[function(e,t,r){var n=e("../internals/well-known-symbol");var o=e("../internals/iterators");var s=n("iterator");var i=Array.prototype;t.exports=function(e){return e!==undefined&&(o.Array===e||i[s]===e)}},{"../internals/iterators":849,"../internals/well-known-symbol":923}],837:[function(e,t,r){var n=e("../internals/classof-raw");t.exports=Array.isArray||function e(t){return n(t)=="Array"}},{"../internals/classof-raw":776}],838:[function(e,t,r){t.exports=function(e){return typeof e=="function"}},{}],839:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/fails");var s=e("../internals/is-callable");var i=e("../internals/classof");var a=e("../internals/get-built-in");var l=e("../internals/inspect-source");var u=function(){};var c=[];var f=a("Reflect","construct");var d=/^\s*(?:class|function)\b/;var p=n(d.exec);var _=!d.exec(u);var m=function e(t){if(!s(t))return false;try{f(u,c,t);return true}catch(e){return false}};var y=function e(t){if(!s(t))return false;switch(i(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return false}try{return _||!!p(d,l(t))}catch(e){return true}};y.sham=true;t.exports=!f||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=true}))||e}))?y:m},{"../internals/classof":777,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/get-built-in":819,"../internals/inspect-source":833,"../internals/is-callable":838}],840:[function(e,t,r){var n=e("../internals/has-own-property");t.exports=function(e){return e!==undefined&&(n(e,"value")||n(e,"writable"))}},{"../internals/has-own-property":825}],841:[function(e,t,r){var n=e("../internals/fails");var o=e("../internals/is-callable");var s=/#|\.prototype\./;var i=function(e,t){var r=l[a(e)];return r==c?true:r==u?false:o(t)?n(t):!!t};var a=i.normalize=function(e){return String(e).replace(s,".").toLowerCase()};var l=i.data={};var u=i.NATIVE="N";var c=i.POLYFILL="P";t.exports=i},{"../internals/fails":808,"../internals/is-callable":838}],842:[function(e,t,r){var n=e("../internals/is-callable");t.exports=function(e){return typeof e=="object"?e!==null:n(e)}},{"../internals/is-callable":838}],843:[function(e,t,r){t.exports=false},{}],844:[function(e,t,r){var n=e("../internals/is-object");var o=e("../internals/classof-raw");var s=e("../internals/well-known-symbol");var i=s("match");t.exports=function(e){var t;return n(e)&&((t=e[i])!==undefined?!!t:o(e)=="RegExp")}},{"../internals/classof-raw":776,"../internals/is-object":842,"../internals/well-known-symbol":923}],845:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/get-built-in");var s=e("../internals/is-callable");var i=e("../internals/object-is-prototype-of");var a=e("../internals/use-symbol-as-uid");var l=n.Object;t.exports=a?function(e){return typeof e=="symbol"}:function(e){var t=o("Symbol");return s(t)&&i(t.prototype,l(e))}},{"../internals/get-built-in":819,"../internals/global":824,"../internals/is-callable":838,"../internals/object-is-prototype-of":869,"../internals/use-symbol-as-uid":919}],846:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-bind-context");var s=e("../internals/function-call");var i=e("../internals/an-object");var a=e("../internals/try-to-string");var l=e("../internals/is-array-iterator-method");var u=e("../internals/length-of-array-like");var c=e("../internals/object-is-prototype-of");var f=e("../internals/get-iterator");var d=e("../internals/get-iterator-method");var p=e("../internals/iterator-close");var _=n.TypeError;var m=function(e,t){this.stopped=e;this.result=t};var y=m.prototype;t.exports=function(e,t,r){var n=r&&r.that;var v=!!(r&&r.AS_ENTRIES);var b=!!(r&&r.IS_ITERATOR);var h=!!(r&&r.INTERRUPTED);var j=o(t,n);var g,w,O,S,k,A,E;var x=function(e){if(g)p(g,"normal",e);return new m(true,e)};var M=function(e){if(v){i(e);return h?j(e[0],e[1],x):j(e[0],e[1])}return h?j(e,x):j(e)};if(b){g=e}else{w=d(e);if(!w)throw _(a(e)+" is not iterable");if(l(w)){for(O=0,S=u(e);S>O;O++){k=M(e[O]);if(k&&c(y,k))return k}return new m(false)}g=f(e,w)}A=g.next;while(!(E=s(A,g)).done){try{k=M(E.value)}catch(e){p(g,"throw",e)}if(typeof k=="object"&&k&&c(y,k))return k}return new m(false)}},{"../internals/an-object":758,"../internals/function-bind-context":813,"../internals/function-call":816,"../internals/get-iterator":821,"../internals/get-iterator-method":820,"../internals/global":824,"../internals/is-array-iterator-method":836,"../internals/iterator-close":847,"../internals/length-of-array-like":850,"../internals/object-is-prototype-of":869,"../internals/try-to-string":917}],847:[function(e,t,r){var n=e("../internals/function-call");var o=e("../internals/an-object");var s=e("../internals/get-method");t.exports=function(e,t,r){var i,a;o(e);try{i=s(e,"return");if(!i){if(t==="throw")throw r;return r}i=n(i,e)}catch(e){a=true;i=e}if(t==="throw")throw r;if(a)throw i;o(i);return r}},{"../internals/an-object":758,"../internals/function-call":816,"../internals/get-method":822}],848:[function(e,t,r){"use strict";var n=e("../internals/fails");var o=e("../internals/is-callable");var s=e("../internals/object-create");var i=e("../internals/object-get-prototype-of");var a=e("../internals/redefine");var l=e("../internals/well-known-symbol");var u=e("../internals/is-pure");var c=l("iterator");var f=false;var d,p,_;if([].keys){_=[].keys();if(!("next"in _))f=true;else{p=i(i(_));if(p!==Object.prototype)d=p}}var m=d==undefined||n((function(){var e={};return d[c].call(e)!==e}));if(m)d={};else if(u)d=s(d);if(!o(d[c])){a(d,c,(function(){return this}))}t.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:f}},{"../internals/fails":808,"../internals/is-callable":838,"../internals/is-pure":843,"../internals/object-create":860,"../internals/object-get-prototype-of":867,"../internals/redefine":883,"../internals/well-known-symbol":923}],849:[function(e,t,r){arguments[4][826][0].apply(r,arguments)},{dup:826}],850:[function(e,t,r){var n=e("../internals/to-length");t.exports=function(e){return n(e.length)}},{"../internals/to-length":911}],851:[function(e,t,r){var n=Math.log;var o=Math.LOG10E;t.exports=Math.log10||function e(t){return n(t)*o}},{}],852:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-bind-context");var s=e("../internals/object-get-own-property-descriptor").f;var i=e("../internals/task").set;var a=e("../internals/engine-is-ios");var l=e("../internals/engine-is-ios-pebble");var u=e("../internals/engine-is-webos-webkit");var c=e("../internals/engine-is-node");var f=n.MutationObserver||n.WebKitMutationObserver;var d=n.document;var p=n.process;var _=n.Promise;var m=s(n,"queueMicrotask");var y=m&&m.value;var v,b,h,j,g,w,O,S;if(!y){v=function(){var e,t;if(c&&(e=p.domain))e.exit();while(b){t=b.fn;b=b.next;try{t()}catch(e){if(b)j();else h=undefined;throw e}}h=undefined;if(e)e.enter()};if(!a&&!c&&!u&&f&&d){g=true;w=d.createTextNode("");new f(v).observe(w,{characterData:true});j=function(){w.data=g=!g}}else if(!l&&_&&_.resolve){O=_.resolve(undefined);O.constructor=_;S=o(O.then,O);j=function(){S(v)}}else if(c){j=function(){p.nextTick(v)}}else{i=o(i,n);j=function(){i(v)}}}t.exports=y||function(e){var t={fn:e,next:undefined};if(h)h.next=t;if(!b){b=t;j()}h=t}},{"../internals/engine-is-ios":800,"../internals/engine-is-ios-pebble":799,"../internals/engine-is-node":801,"../internals/engine-is-webos-webkit":802,"../internals/function-bind-context":813,"../internals/global":824,"../internals/object-get-own-property-descriptor":863,"../internals/task":905}],853:[function(e,t,r){var n=e("../internals/global");t.exports=n.Promise},{"../internals/global":824}],854:[function(e,t,r){var n=e("../internals/engine-v8-version");var o=e("../internals/fails");t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},{"../internals/engine-v8-version":804,"../internals/fails":808}],855:[function(e,t,r){var n=e("../internals/fails");var o=e("../internals/well-known-symbol");var s=e("../internals/is-pure");var i=o("iterator");t.exports=!n((function(){var e=new URL("b?a=1&b=2&c=3","http://a");var t=e.searchParams;var r="";e.pathname="c%20d";t.forEach((function(e,n){t["delete"]("b");r+=n+e}));return s&&!e.toJSON||!t.sort||e.href!=="http://a/c%20d?a=1&c=3"||t.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!t[i]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||r!=="a1c3"||new URL("http://x",undefined).host!=="x"}))},{"../internals/fails":808,"../internals/is-pure":843,"../internals/well-known-symbol":923}],856:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-callable");var s=e("../internals/inspect-source");var i=n.WeakMap;t.exports=o(i)&&/native code/.test(s(i))},{"../internals/global":824,"../internals/inspect-source":833,"../internals/is-callable":838}],857:[function(e,t,r){"use strict";var n=e("../internals/a-callable");var o=function(e){var t,r;this.promise=new e((function(e,n){if(t!==undefined||r!==undefined)throw TypeError("Bad Promise constructor");t=e;r=n}));this.resolve=n(t);this.reject=n(r)};t.exports.f=function(e){return new o(e)}},{"../internals/a-callable":752}],858:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-regexp");var s=n.TypeError;t.exports=function(e){if(o(e)){throw s("The method doesn't accept regular expressions")}return e}},{"../internals/global":824,"../internals/is-regexp":844}],859:[function(e,t,r){"use strict";var n=e("../internals/descriptors");var o=e("../internals/function-uncurry-this");var s=e("../internals/function-call");var i=e("../internals/fails");var a=e("../internals/object-keys");var l=e("../internals/object-get-own-property-symbols");var u=e("../internals/object-property-is-enumerable");var c=e("../internals/to-object");var f=e("../internals/indexed-object");var d=Object.assign;var p=Object.defineProperty;var _=o([].concat);t.exports=!d||i((function(){if(n&&d({b:1},d(p({},"a",{enumerable:true,get:function(){p(this,"b",{value:3,enumerable:false})}}),{b:2})).b!==1)return true;var e={};var t={};var r=Symbol();var o="abcdefghijklmnopqrst";e[r]=7;o.split("").forEach((function(e){t[e]=e}));return d({},e)[r]!=7||a(d({},t)).join("")!=o}))?function e(t,r){var o=c(t);var i=arguments.length;var d=1;var p=l.f;var m=u.f;while(i>d){var y=f(arguments[d++]);var v=p?_(a(y),p(y)):a(y);var b=v.length;var h=0;var j;while(b>h){j=v[h++];if(!n||s(m,y,j))o[j]=y[j]}}return o}:d},{"../internals/descriptors":792,"../internals/fails":808,"../internals/function-call":816,"../internals/function-uncurry-this":818,"../internals/indexed-object":831,"../internals/object-get-own-property-symbols":866,"../internals/object-keys":871,"../internals/object-property-is-enumerable":872,"../internals/to-object":912}],860:[function(e,t,r){var n=e("../internals/an-object");var o=e("../internals/object-define-properties");var s=e("../internals/enum-bug-keys");var i=e("../internals/hidden-keys");var a=e("../internals/html");var l=e("../internals/document-create-element");var u=e("../internals/shared-key");var c=">";var f="<";var d="prototype";var p="script";var _=u("IE_PROTO");var m=function(){};var y=function(e){return f+p+c+e+f+"/"+p+c};var v=function(e){e.write(y(""));e.close();var t=e.parentWindow.Object;e=null;return t};var b=function(){var e=l("iframe");var t="java"+p+":";var r;e.style.display="none";a.appendChild(e);e.src=String(t);r=e.contentWindow.document;r.open();r.write(y("document.F=Object"));r.close();return r.F};var h;var j=function(){try{h=new ActiveXObject("htmlfile")}catch(e){}j=typeof document!="undefined"?document.domain&&h?v(h):b():v(h);var e=s.length;while(e--)delete j[d][s[e]];return j()};i[_]=true;t.exports=Object.create||function e(t,r){var s;if(t!==null){m[d]=n(t);s=new m;m[d]=null;s[_]=t}else s=j();return r===undefined?s:o.f(s,r)}},{"../internals/an-object":758,"../internals/document-create-element":793,"../internals/enum-bug-keys":806,"../internals/hidden-keys":826,"../internals/html":828,"../internals/object-define-properties":861,"../internals/shared-key":895}],861:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/v8-prototype-define-bug");var s=e("../internals/object-define-property");var i=e("../internals/an-object");var a=e("../internals/to-indexed-object");var l=e("../internals/object-keys");r.f=n&&!o?Object.defineProperties:function e(t,r){i(t);var n=a(r);var o=l(r);var u=o.length;var c=0;var f;while(u>c)s.f(t,f=o[c++],n[f]);return t}},{"../internals/an-object":758,"../internals/descriptors":792,"../internals/object-define-property":862,"../internals/object-keys":871,"../internals/to-indexed-object":909,"../internals/v8-prototype-define-bug":920}],862:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/descriptors");var s=e("../internals/ie8-dom-define");var i=e("../internals/v8-prototype-define-bug");var a=e("../internals/an-object");var l=e("../internals/to-property-key");var u=n.TypeError;var c=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var d="enumerable";var p="configurable";var _="writable";r.f=o?i?function e(t,r,n){a(t);r=l(r);a(n);if(typeof t==="function"&&r==="prototype"&&"value"in n&&_ in n&&!n[_]){var o=f(t,r);if(o&&o[_]){t[r]=n.value;n={configurable:p in n?n[p]:o[p],enumerable:d in n?n[d]:o[d],writable:false}}}return c(t,r,n)}:c:function e(t,r,n){a(t);r=l(r);a(n);if(s)try{return c(t,r,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");if("value"in n)t[r]=n.value;return t}},{"../internals/an-object":758,"../internals/descriptors":792,"../internals/global":824,"../internals/ie8-dom-define":829,"../internals/to-property-key":914,"../internals/v8-prototype-define-bug":920}],863:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/function-call");var s=e("../internals/object-property-is-enumerable");var i=e("../internals/create-property-descriptor");var a=e("../internals/to-indexed-object");var l=e("../internals/to-property-key");var u=e("../internals/has-own-property");var c=e("../internals/ie8-dom-define");var f=Object.getOwnPropertyDescriptor;r.f=n?f:function e(t,r){t=a(t);r=l(r);if(c)try{return f(t,r)}catch(e){}if(u(t,r))return i(!o(s.f,t,r),t[r])}},{"../internals/create-property-descriptor":787,"../internals/descriptors":792,"../internals/function-call":816,"../internals/has-own-property":825,"../internals/ie8-dom-define":829,"../internals/object-property-is-enumerable":872,"../internals/to-indexed-object":909,"../internals/to-property-key":914}],864:[function(e,t,r){var n=e("../internals/classof-raw");var o=e("../internals/to-indexed-object");var s=e("../internals/object-get-own-property-names").f;var i=e("../internals/array-slice-simple");var a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var l=function(e){try{return s(e)}catch(e){return i(a)}};t.exports.f=function e(t){return a&&n(t)=="Window"?l(t):s(o(t))}},{"../internals/array-slice-simple":769,"../internals/classof-raw":776,"../internals/object-get-own-property-names":865,"../internals/to-indexed-object":909}],865:[function(e,t,r){var n=e("../internals/object-keys-internal");var o=e("../internals/enum-bug-keys");var s=o.concat("length","prototype");r.f=Object.getOwnPropertyNames||function e(t){return n(t,s)}},{"../internals/enum-bug-keys":806,"../internals/object-keys-internal":870}],866:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],867:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/has-own-property");var s=e("../internals/is-callable");var i=e("../internals/to-object");var a=e("../internals/shared-key");var l=e("../internals/correct-prototype-getter");var u=a("IE_PROTO");var c=n.Object;var f=c.prototype;t.exports=l?c.getPrototypeOf:function(e){var t=i(e);if(o(t,u))return t[u];var r=t.constructor;if(s(r)&&t instanceof r){return r.prototype}return t instanceof c?f:null}},{"../internals/correct-prototype-getter":783,"../internals/global":824,"../internals/has-own-property":825,"../internals/is-callable":838,"../internals/shared-key":895,"../internals/to-object":912}],868:[function(e,t,r){var n=e("../internals/fails");var o=e("../internals/is-object");var s=e("../internals/classof-raw");var i=e("../internals/array-buffer-non-extensible");var a=Object.isExtensible;var l=n((function(){a(1)}));t.exports=l||i?function e(t){if(!o(t))return false;if(i&&s(t)=="ArrayBuffer")return false;return a?a(t):true}:a},{"../internals/array-buffer-non-extensible":760,"../internals/classof-raw":776,"../internals/fails":808,"../internals/is-object":842}],869:[function(e,t,r){var n=e("../internals/function-uncurry-this");t.exports=n({}.isPrototypeOf)},{"../internals/function-uncurry-this":818}],870:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/has-own-property");var s=e("../internals/to-indexed-object");var i=e("../internals/array-includes").indexOf;var a=e("../internals/hidden-keys");var l=n([].push);t.exports=function(e,t){var r=s(e);var n=0;var u=[];var c;for(c in r)!o(a,c)&&o(r,c)&&l(u,c);while(t.length>n)if(o(r,c=t[n++])){~i(u,c)||l(u,c)}return u}},{"../internals/array-includes":765,"../internals/function-uncurry-this":818,"../internals/has-own-property":825,"../internals/hidden-keys":826,"../internals/to-indexed-object":909}],871:[function(e,t,r){var n=e("../internals/object-keys-internal");var o=e("../internals/enum-bug-keys");t.exports=Object.keys||function e(t){return n(t,o)}},{"../internals/enum-bug-keys":806,"../internals/object-keys-internal":870}],872:[function(e,t,r){"use strict";var n={}.propertyIsEnumerable;var o=Object.getOwnPropertyDescriptor;var s=o&&!n.call({1:2},1);r.f=s?function e(t){var r=o(this,t);return!!r&&r.enumerable}:n},{}],873:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/an-object");var s=e("../internals/a-possible-prototype");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e=false;var t={};var r;try{r=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set);r(t,[]);e=t instanceof Array}catch(e){}return function t(n,i){o(n);s(i);if(e)r(n,i);else n.__proto__=i;return n}}():undefined)},{"../internals/a-possible-prototype":754,"../internals/an-object":758,"../internals/function-uncurry-this":818}],874:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/function-uncurry-this");var s=e("../internals/object-keys");var i=e("../internals/to-indexed-object");var a=e("../internals/object-property-is-enumerable").f;var l=o(a);var u=o([].push);var c=function(e){return function(t){var r=i(t);var o=s(r);var a=o.length;var c=0;var f=[];var d;while(a>c){d=o[c++];if(!n||l(r,d)){u(f,e?[d,r[d]]:r[d])}}return f}};t.exports={entries:c(true),values:c(false)}},{"../internals/descriptors":792,"../internals/function-uncurry-this":818,"../internals/object-keys":871,"../internals/object-property-is-enumerable":872,"../internals/to-indexed-object":909}],875:[function(e,t,r){"use strict";var n=e("../internals/to-string-tag-support");var o=e("../internals/classof");t.exports=n?{}.toString:function e(){return"[object "+o(this)+"]"}},{"../internals/classof":777,"../internals/to-string-tag-support":915}],876:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-call");var s=e("../internals/is-callable");var i=e("../internals/is-object");var a=n.TypeError;t.exports=function(e,t){var r,n;if(t==="string"&&s(r=e.toString)&&!i(n=o(r,e)))return n;if(s(r=e.valueOf)&&!i(n=o(r,e)))return n;if(t!=="string"&&s(r=e.toString)&&!i(n=o(r,e)))return n;throw a("Can't convert object to primitive value")}},{"../internals/function-call":816,"../internals/global":824,"../internals/is-callable":838,"../internals/is-object":842}],877:[function(e,t,r){var n=e("../internals/get-built-in");var o=e("../internals/function-uncurry-this");var s=e("../internals/object-get-own-property-names");var i=e("../internals/object-get-own-property-symbols");var a=e("../internals/an-object");var l=o([].concat);t.exports=n("Reflect","ownKeys")||function e(t){var r=s.f(a(t));var n=i.f;return n?l(r,n(t)):r}},{"../internals/an-object":758,"../internals/function-uncurry-this":818,"../internals/get-built-in":819,"../internals/object-get-own-property-names":865,"../internals/object-get-own-property-symbols":866}],878:[function(e,t,r){var n=e("../internals/global");t.exports=n},{"../internals/global":824}],879:[function(e,t,r){t.exports=function(e){try{return{error:false,value:e()}}catch(e){return{error:true,value:e}}}},{}],880:[function(e,t,r){var n=e("../internals/an-object");var o=e("../internals/is-object");var s=e("../internals/new-promise-capability");t.exports=function(e,t){n(e);if(o(t)&&t.constructor===e)return t;var r=s.f(e);var i=r.resolve;i(t);return r.promise}},{"../internals/an-object":758,"../internals/is-object":842,"../internals/new-promise-capability":857}],881:[function(e,t,r){var n=function(){this.head=null;this.tail=null};n.prototype={add:function(e){var t={item:e,next:null};if(this.head)this.tail.next=t;else this.head=t;this.tail=t},get:function(){var e=this.head;if(e){this.head=e.next;if(this.tail===e)this.tail=null;return e.item}}};t.exports=n},{}],882:[function(e,t,r){var n=e("../internals/redefine");t.exports=function(e,t,r){for(var o in t)n(e,o,t[o],r);return e}},{"../internals/redefine":883}],883:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/is-callable");var s=e("../internals/has-own-property");var i=e("../internals/create-non-enumerable-property");var a=e("../internals/set-global");var l=e("../internals/inspect-source");var u=e("../internals/internal-state");var c=e("../internals/function-name").CONFIGURABLE;var f=u.get;var d=u.enforce;var p=String(String).split("String");(t.exports=function(e,t,r,l){var u=l?!!l.unsafe:false;var f=l?!!l.enumerable:false;var _=l?!!l.noTargetGet:false;var m=l&&l.name!==undefined?l.name:t;var y;if(o(r)){if(String(m).slice(0,7)==="Symbol("){m="["+String(m).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"}if(!s(r,"name")||c&&r.name!==m){i(r,"name",m)}y=d(r);if(!y.source){y.source=p.join(typeof m=="string"?m:"")}}if(e===n){if(f)e[t]=r;else a(t,r);return}else if(!u){delete e[t]}else if(!_&&e[t]){f=true}if(f)e[t]=r;else i(e,t,r)})(Function.prototype,"toString",(function e(){return o(this)&&f(this).source||l(this)}))},{"../internals/create-non-enumerable-property":786,"../internals/function-name":817,"../internals/global":824,"../internals/has-own-property":825,"../internals/inspect-source":833,"../internals/internal-state":835,"../internals/is-callable":838,"../internals/set-global":892}],884:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-call");var s=e("../internals/an-object");var i=e("../internals/is-callable");var a=e("../internals/classof-raw");var l=e("../internals/regexp-exec");var u=n.TypeError;t.exports=function(e,t){var r=e.exec;if(i(r)){var n=o(r,e,t);if(n!==null)s(n);return n}if(a(e)==="RegExp")return o(l,e,t);throw u("RegExp#exec called on incompatible receiver")}},{"../internals/an-object":758,"../internals/classof-raw":776,"../internals/function-call":816,"../internals/global":824,"../internals/is-callable":838,"../internals/regexp-exec":885}],885:[function(e,t,r){"use strict";var n=e("../internals/function-call");var o=e("../internals/function-uncurry-this");var s=e("../internals/to-string");var i=e("../internals/regexp-flags");var a=e("../internals/regexp-sticky-helpers");var l=e("../internals/shared");var u=e("../internals/object-create");var c=e("../internals/internal-state").get;var f=e("../internals/regexp-unsupported-dot-all");var d=e("../internals/regexp-unsupported-ncg");var p=l("native-string-replace",String.prototype.replace);var _=RegExp.prototype.exec;var m=_;var y=o("".charAt);var v=o("".indexOf);var b=o("".replace);var h=o("".slice);var j=function(){var e=/a/;var t=/b*/g;n(_,e,"a");n(_,t,"a");return e.lastIndex!==0||t.lastIndex!==0}();var g=a.BROKEN_CARET;var w=/()??/.exec("")[1]!==undefined;var O=j||w||g||f||d;if(O){m=function e(t){var r=this;var o=c(r);var a=s(t);var l=o.raw;var f,d,O,S,k,A,E;if(l){l.lastIndex=r.lastIndex;f=n(m,l,a);r.lastIndex=l.lastIndex;return f}var x=o.groups;var M=g&&r.sticky;var P=n(i,r);var T=r.source;var I=0;var C=a;if(M){P=b(P,"y","");if(v(P,"g")===-1){P+="g"}C=h(a,r.lastIndex);if(r.lastIndex>0&&(!r.multiline||r.multiline&&y(a,r.lastIndex-1)!=="\n")){T="(?: "+T+")";C=" "+C;I++}d=new RegExp("^(?:"+T+")",P)}if(w){d=new RegExp("^"+T+"$(?!\\s)",P)}if(j)O=r.lastIndex;S=n(_,M?d:r,C);if(M){if(S){S.input=h(S.input,I);S[0]=h(S[0],I);S.index=r.lastIndex;r.lastIndex+=S[0].length}else r.lastIndex=0}else if(j&&S){r.lastIndex=r.global?S.index+S[0].length:O}if(w&&S&&S.length>1){n(p,S[0],d,(function(){for(k=1;k<arguments.length-2;k++){if(arguments[k]===undefined)S[k]=undefined}}))}if(S&&x){S.groups=A=u(null);for(k=0;k<x.length;k++){E=x[k];A[E[0]]=S[E[1]]}}return S}}t.exports=m},{"../internals/function-call":816,"../internals/function-uncurry-this":818,"../internals/internal-state":835,"../internals/object-create":860,"../internals/regexp-flags":886,"../internals/regexp-sticky-helpers":887,"../internals/regexp-unsupported-dot-all":888,"../internals/regexp-unsupported-ncg":889,"../internals/shared":897,"../internals/to-string":916}],886:[function(e,t,r){"use strict";var n=e("../internals/an-object");t.exports=function(){var e=n(this);var t="";if(e.global)t+="g";if(e.ignoreCase)t+="i";if(e.multiline)t+="m";if(e.dotAll)t+="s";if(e.unicode)t+="u";if(e.sticky)t+="y";return t}},{"../internals/an-object":758}],887:[function(e,t,r){var n=e("../internals/fails");var o=e("../internals/global");var s=o.RegExp;var i=n((function(){var e=s("a","y");e.lastIndex=2;return e.exec("abcd")!=null}));var a=i||n((function(){return!s("a","y").sticky}));var l=i||n((function(){var e=s("^r","gy");e.lastIndex=2;return e.exec("str")!=null}));t.exports={BROKEN_CARET:l,MISSED_STICKY:a,UNSUPPORTED_Y:i}},{"../internals/fails":808,"../internals/global":824}],888:[function(e,t,r){var n=e("../internals/fails");var o=e("../internals/global");var s=o.RegExp;t.exports=n((function(){var e=s(".","s");return!(e.dotAll&&e.exec("\n")&&e.flags==="s")}))},{"../internals/fails":808,"../internals/global":824}],889:[function(e,t,r){var n=e("../internals/fails");var o=e("../internals/global");var s=o.RegExp;t.exports=n((function(){var e=s("(?<a>b)","g");return e.exec("b").groups.a!=="b"||"b".replace(e,"$<a>c")!=="bc"}))},{"../internals/fails":808,"../internals/global":824}],890:[function(e,t,r){var n=e("../internals/global");var o=n.TypeError;t.exports=function(e){if(e==undefined)throw o("Can't call method on "+e);return e}},{"../internals/global":824}],891:[function(e,t,r){t.exports=Object.is||function e(t,r){return t===r?t!==0||1/t===1/r:t!=t&&r!=r}},{}],892:[function(e,t,r){var n=e("../internals/global");var o=Object.defineProperty;t.exports=function(e,t){try{o(n,e,{value:t,configurable:true,writable:true})}catch(r){n[e]=t}return t}},{"../internals/global":824}],893:[function(e,t,r){"use strict";var n=e("../internals/get-built-in");var o=e("../internals/object-define-property");var s=e("../internals/well-known-symbol");var i=e("../internals/descriptors");var a=s("species");t.exports=function(e){var t=n(e);var r=o.f;if(i&&t&&!t[a]){r(t,a,{configurable:true,get:function(){return this}})}}},{"../internals/descriptors":792,"../internals/get-built-in":819,"../internals/object-define-property":862,"../internals/well-known-symbol":923}],894:[function(e,t,r){var n=e("../internals/object-define-property").f;var o=e("../internals/has-own-property");var s=e("../internals/well-known-symbol");var i=s("toStringTag");t.exports=function(e,t,r){if(e&&!r)e=e.prototype;if(e&&!o(e,i)){n(e,i,{configurable:true,value:t})}}},{"../internals/has-own-property":825,"../internals/object-define-property":862,"../internals/well-known-symbol":923}],895:[function(e,t,r){var n=e("../internals/shared");var o=e("../internals/uid");var s=n("keys");t.exports=function(e){return s[e]||(s[e]=o(e))}},{"../internals/shared":897,"../internals/uid":918}],896:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/set-global");var s="__core-js_shared__";var i=n[s]||o(s,{});t.exports=i},{"../internals/global":824,"../internals/set-global":892}],897:[function(e,t,r){var n=e("../internals/is-pure");var o=e("../internals/shared-store");(t.exports=function(e,t){return o[e]||(o[e]=t!==undefined?t:{})})("versions",[]).push({version:"3.20.3",mode:n?"pure":"global",copyright:" 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.20.3/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":843,"../internals/shared-store":896}],898:[function(e,t,r){var n=e("../internals/an-object");var o=e("../internals/a-constructor");var s=e("../internals/well-known-symbol");var i=s("species");t.exports=function(e,t){var r=n(e).constructor;var s;return r===undefined||(s=n(r)[i])==undefined?t:o(s)}},{"../internals/a-constructor":753,"../internals/an-object":758,"../internals/well-known-symbol":923}],899:[function(e,t,r){var n=e("../internals/fails");t.exports=function(e){return n((function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}))}},{"../internals/fails":808}],900:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/to-integer-or-infinity");var s=e("../internals/to-string");var i=e("../internals/require-object-coercible");var a=n("".charAt);var l=n("".charCodeAt);var u=n("".slice);var c=function(e){return function(t,r){var n=s(i(t));var c=o(r);var f=n.length;var d,p;if(c<0||c>=f)return e?"":undefined;d=l(n,c);return d<55296||d>56319||c+1===f||(p=l(n,c+1))<56320||p>57343?e?a(n,c):d:e?u(n,c,c+2):(d-55296<<10)+(p-56320)+65536}};t.exports={codeAt:c(false),charAt:c(true)}},{"../internals/function-uncurry-this":818,"../internals/require-object-coercible":890,"../internals/to-integer-or-infinity":910,"../internals/to-string":916}],901:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/function-uncurry-this");var s=2147483647;var i=36;var a=1;var l=26;var u=38;var c=700;var f=72;var d=128;var p="-";var _=/[^\0-\u007E]/;var m=/[.\u3002\uFF0E\uFF61]/g;var y="Overflow: input needs wider integers to process";var v=i-a;var b=n.RangeError;var h=o(m.exec);var j=Math.floor;var g=String.fromCharCode;var w=o("".charCodeAt);var O=o([].join);var S=o([].push);var k=o("".replace);var A=o("".split);var E=o("".toLowerCase);var x=function(e){var t=[];var r=0;var n=e.length;while(r<n){var o=w(e,r++);if(o>=55296&&o<=56319&&r<n){var s=w(e,r++);if((s&64512)==56320){S(t,((o&1023)<<10)+(s&1023)+65536)}else{S(t,o);r--}}else{S(t,o)}}return t};var M=function(e){return e+22+75*(e<26)};var P=function(e,t,r){var n=0;e=r?j(e/c):e>>1;e+=j(e/t);while(e>v*l>>1){e=j(e/v);n+=i}return j(n+(v+1)*e/(e+u))};var T=function(e){var t=[];e=x(e);var r=e.length;var n=d;var o=0;var u=f;var c,_;for(c=0;c<e.length;c++){_=e[c];if(_<128){S(t,g(_))}}var m=t.length;var v=m;if(m){S(t,p)}while(v<r){var h=s;for(c=0;c<e.length;c++){_=e[c];if(_>=n&&_<h){h=_}}var w=v+1;if(h-n>j((s-o)/w)){throw b(y)}o+=(h-n)*w;n=h;for(c=0;c<e.length;c++){_=e[c];if(_<n&&++o>s){throw b(y)}if(_==n){var k=o;var A=i;while(true){var E=A<=u?a:A>=u+l?l:A-u;if(k<E)break;var T=k-E;var I=i-E;S(t,g(M(E+T%I)));k=j(T/I);A+=i}S(t,g(M(k)));u=P(o,w,v==m);o=0;v++}}o++;n++}return O(t,"")};t.exports=function(e){var t=[];var r=A(k(E(e),m,"."),".");var n,o;for(n=0;n<r.length;n++){o=r[n];S(t,h(_,o)?"xn--"+T(o):o)}return O(t,".")}},{"../internals/function-uncurry-this":818,"../internals/global":824}],902:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/to-integer-or-infinity");var s=e("../internals/to-string");var i=e("../internals/require-object-coercible");var a=n.RangeError;t.exports=function e(t){var r=s(i(this));var n="";var l=o(t);if(l<0||l==Infinity)throw a("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(r+=r))if(l&1)n+=r;return n}},{"../internals/global":824,"../internals/require-object-coercible":890,"../internals/to-integer-or-infinity":910,"../internals/to-string":916}],903:[function(e,t,r){var n=e("../internals/function-name").PROPER;var o=e("../internals/fails");var s=e("../internals/whitespaces");var i="";t.exports=function(e){return o((function(){return!!s[e]()||i[e]()!==i||n&&s[e].name!==e}))}},{"../internals/fails":808,"../internals/function-name":817,"../internals/whitespaces":924}],904:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=e("../internals/require-object-coercible");var s=e("../internals/to-string");var i=e("../internals/whitespaces");var a=n("".replace);var l="["+i+"]";var u=RegExp("^"+l+l+"*");var c=RegExp(l+l+"*$");var f=function(e){return function(t){var r=s(o(t));if(e&1)r=a(r,u,"");if(e&2)r=a(r,c,"");return r}};t.exports={start:f(1),end:f(2),trim:f(3)}},{"../internals/function-uncurry-this":818,"../internals/require-object-coercible":890,"../internals/to-string":916,"../internals/whitespaces":924}],905:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-apply");var s=e("../internals/function-bind-context");var i=e("../internals/is-callable");var a=e("../internals/has-own-property");var l=e("../internals/fails");var u=e("../internals/html");var c=e("../internals/array-slice");var f=e("../internals/document-create-element");var d=e("../internals/engine-is-ios");var p=e("../internals/engine-is-node");var _=n.setImmediate;var m=n.clearImmediate;var y=n.process;var v=n.Dispatch;var b=n.Function;var h=n.MessageChannel;var j=n.String;var g=0;var w={};var O="onreadystatechange";var S,k,A,E;try{S=n.location}catch(e){}var x=function(e){if(a(w,e)){var t=w[e];delete w[e];t()}};var M=function(e){return function(){x(e)}};var P=function(e){x(e.data)};var T=function(e){n.postMessage(j(e),S.protocol+"//"+S.host)};if(!_||!m){_=function e(t){var r=c(arguments,1);w[++g]=function(){o(i(t)?t:b(t),undefined,r)};k(g);return g};m=function e(t){delete w[t]};if(p){k=function(e){y.nextTick(M(e))}}else if(v&&v.now){k=function(e){v.now(M(e))}}else if(h&&!d){A=new h;E=A.port2;A.port1.onmessage=P;k=s(E.postMessage,E)}else if(n.addEventListener&&i(n.postMessage)&&!n.importScripts&&S&&S.protocol!=="file:"&&!l(T)){k=T;n.addEventListener("message",P,false)}else if(O in f("script")){k=function(e){u.appendChild(f("script"))[O]=function(){u.removeChild(this);x(e)}}}else{k=function(e){setTimeout(M(e),0)}}}t.exports={set:_,clear:m}},{"../internals/array-slice":770,"../internals/document-create-element":793,"../internals/engine-is-ios":800,"../internals/engine-is-node":801,"../internals/fails":808,"../internals/function-apply":812,"../internals/function-bind-context":813,"../internals/global":824,"../internals/has-own-property":825,"../internals/html":828,"../internals/is-callable":838}],906:[function(e,t,r){var n=e("../internals/function-uncurry-this");t.exports=n(1..valueOf)},{"../internals/function-uncurry-this":818}],907:[function(e,t,r){var n=e("../internals/to-integer-or-infinity");var o=Math.max;var s=Math.min;t.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):s(r,t)}},{"../internals/to-integer-or-infinity":910}],908:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/to-integer-or-infinity");var s=e("../internals/to-length");var i=n.RangeError;t.exports=function(e){if(e===undefined)return 0;var t=o(e);var r=s(t);if(t!==r)throw i("Wrong length or index");return r}},{"../internals/global":824,"../internals/to-integer-or-infinity":910,"../internals/to-length":911}],909:[function(e,t,r){var n=e("../internals/indexed-object");var o=e("../internals/require-object-coercible");t.exports=function(e){return n(o(e))}},{"../internals/indexed-object":831,"../internals/require-object-coercible":890}],910:[function(e,t,r){var n=Math.ceil;var o=Math.floor;t.exports=function(e){var t=+e;return t!==t||t===0?0:(t>0?o:n)(t)}},{}],911:[function(e,t,r){var n=e("../internals/to-integer-or-infinity");var o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"../internals/to-integer-or-infinity":910}],912:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/require-object-coercible");var s=n.Object;t.exports=function(e){return s(o(e))}},{"../internals/global":824,"../internals/require-object-coercible":890}],913:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/function-call");var s=e("../internals/is-object");var i=e("../internals/is-symbol");var a=e("../internals/get-method");var l=e("../internals/ordinary-to-primitive");var u=e("../internals/well-known-symbol");var c=n.TypeError;var f=u("toPrimitive");t.exports=function(e,t){if(!s(e)||i(e))return e;var r=a(e,f);var n;if(r){if(t===undefined)t="default";n=o(r,e,t);if(!s(n)||i(n))return n;throw c("Can't convert object to primitive value")}if(t===undefined)t="number";return l(e,t)}},{"../internals/function-call":816,"../internals/get-method":822,"../internals/global":824,"../internals/is-object":842,"../internals/is-symbol":845,"../internals/ordinary-to-primitive":876,"../internals/well-known-symbol":923}],914:[function(e,t,r){var n=e("../internals/to-primitive");var o=e("../internals/is-symbol");t.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},{"../internals/is-symbol":845,"../internals/to-primitive":913}],915:[function(e,t,r){var n=e("../internals/well-known-symbol");var o=n("toStringTag");var s={};s[o]="z";t.exports=String(s)==="[object z]"},{"../internals/well-known-symbol":923}],916:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/classof");var s=n.String;t.exports=function(e){if(o(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return s(e)}},{"../internals/classof":777,"../internals/global":824}],917:[function(e,t,r){var n=e("../internals/global");var o=n.String;t.exports=function(e){try{return o(e)}catch(e){return"Object"}}},{"../internals/global":824}],918:[function(e,t,r){var n=e("../internals/function-uncurry-this");var o=0;var s=Math.random();var i=n(1..toString);t.exports=function(e){return"Symbol("+(e===undefined?"":e)+")_"+i(++o+s,36)}},{"../internals/function-uncurry-this":818}],919:[function(e,t,r){var n=e("../internals/native-symbol");t.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":854}],920:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/fails");t.exports=n&&o((function(){return Object.defineProperty((function(){}),"prototype",{value:42,writable:false}).prototype!=42}))},{"../internals/descriptors":792,"../internals/fails":808}],921:[function(e,t,r){var n=e("../internals/global");var o=n.TypeError;t.exports=function(e,t){if(e<t)throw o("Not enough arguments");return e}},{"../internals/global":824}],922:[function(e,t,r){var n=e("../internals/well-known-symbol");r.f=n},{"../internals/well-known-symbol":923}],923:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/shared");var s=e("../internals/has-own-property");var i=e("../internals/uid");var a=e("../internals/native-symbol");var l=e("../internals/use-symbol-as-uid");var u=o("wks");var c=n.Symbol;var f=c&&c["for"];var d=l?c:c&&c.withoutSetter||i;t.exports=function(e){if(!s(u,e)||!(a||typeof u[e]=="string")){var t="Symbol."+e;if(a&&s(c,e)){u[e]=c[e]}else if(l&&f){u[e]=f(t)}else{u[e]=d(t)}}return u[e]}},{"../internals/global":824,"../internals/has-own-property":825,"../internals/native-symbol":854,"../internals/shared":897,"../internals/uid":918,"../internals/use-symbol-as-uid":919}],924:[function(e,t,r){t.exports="\t\n\v\f\r "+"\u2028\u2029\ufeff"},{}],925:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/function-uncurry-this");var s=e("../internals/fails");var i=e("../internals/array-buffer");var a=e("../internals/an-object");var l=e("../internals/to-absolute-index");var u=e("../internals/to-length");var c=e("../internals/species-constructor");var f=i.ArrayBuffer;var d=i.DataView;var p=d.prototype;var _=o(f.prototype.slice);var m=o(p.getUint8);var y=o(p.setUint8);var v=s((function(){return!new f(2).slice(1,undefined).byteLength}));n({target:"ArrayBuffer",proto:true,unsafe:true,forced:v},{slice:function e(t,r){if(_&&r===undefined){return _(a(this),t)}var n=a(this).byteLength;var o=l(t,n);var s=l(r===undefined?n:r,n);var i=new(c(this,f))(u(s-o));var p=new d(this);var v=new d(i);var b=0;while(o<s){y(v,b++,m(p,o++))}return i}})},{"../internals/an-object":758,"../internals/array-buffer":761,"../internals/export":807,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/species-constructor":898,"../internals/to-absolute-index":907,"../internals/to-length":911}],926:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/fails");var i=e("../internals/is-array");var a=e("../internals/is-object");var l=e("../internals/to-object");var u=e("../internals/length-of-array-like");var c=e("../internals/create-property");var f=e("../internals/array-species-create");var d=e("../internals/array-method-has-species-support");var p=e("../internals/well-known-symbol");var _=e("../internals/engine-v8-version");var m=p("isConcatSpreadable");var y=9007199254740991;var v="Maximum allowed index exceeded";var b=o.TypeError;var h=_>=51||!s((function(){var e=[];e[m]=false;return e.concat()[0]!==e}));var j=d("concat");var g=function(e){if(!a(e))return false;var t=e[m];return t!==undefined?!!t:i(e)};var w=!h||!j;n({target:"Array",proto:true,forced:w},{concat:function e(t){var r=l(this);var n=f(r,0);var o=0;var s,i,a,d,p;for(s=-1,a=arguments.length;s<a;s++){p=s===-1?r:arguments[s];if(g(p)){d=u(p);if(o+d>y)throw b(v);for(i=0;i<d;i++,o++)if(i in p)c(n,o,p[i])}else{if(o>=y)throw b(v);c(n,o++,p)}}n.length=o;return n}})},{"../internals/array-method-has-species-support":767,"../internals/array-species-create":773,"../internals/create-property":788,"../internals/engine-v8-version":804,"../internals/export":807,"../internals/fails":808,"../internals/global":824,"../internals/is-array":837,"../internals/is-object":842,"../internals/length-of-array-like":850,"../internals/to-object":912,"../internals/well-known-symbol":923}],927:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/array-iteration").filter;var s=e("../internals/array-method-has-species-support");var i=s("filter");n({target:"Array",proto:true,forced:!i},{filter:function e(t){return o(this,t,arguments.length>1?arguments[1]:undefined)}})},{"../internals/array-iteration":766,"../internals/array-method-has-species-support":767,"../internals/export":807}],928:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/array-iteration").findIndex;var s=e("../internals/add-to-unscopables");var i="findIndex";var a=true;if(i in[])Array(1)[i]((function(){a=false}));n({target:"Array",proto:true,forced:a},{findIndex:function e(t){return o(this,t,arguments.length>1?arguments[1]:undefined)}});s(i)},{"../internals/add-to-unscopables":755,"../internals/array-iteration":766,"../internals/export":807}],929:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/array-iteration").find;var s=e("../internals/add-to-unscopables");var i="find";var a=true;if(i in[])Array(1)[i]((function(){a=false}));n({target:"Array",proto:true,forced:a},{find:function e(t){return o(this,t,arguments.length>1?arguments[1]:undefined)}});s(i)},{"../internals/add-to-unscopables":755,"../internals/array-iteration":766,"../internals/export":807}],930:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/flatten-into-array");var s=e("../internals/a-callable");var i=e("../internals/to-object");var a=e("../internals/length-of-array-like");var l=e("../internals/array-species-create");n({target:"Array",proto:true},{flatMap:function e(t){var r=i(this);var n=a(r);var u;s(t);u=l(r,0);u.length=o(u,r,r,n,0,1,t,arguments.length>1?arguments[1]:undefined);return u}})},{"../internals/a-callable":752,"../internals/array-species-create":773,"../internals/export":807,"../internals/flatten-into-array":810,"../internals/length-of-array-like":850,"../internals/to-object":912}],931:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/flatten-into-array");var s=e("../internals/to-object");var i=e("../internals/length-of-array-like");var a=e("../internals/to-integer-or-infinity");var l=e("../internals/array-species-create");n({target:"Array",proto:true},{flat:function e(){var t=arguments.length?arguments[0]:undefined;var r=s(this);var n=i(r);var u=l(r,0);u.length=o(u,r,r,n,0,t===undefined?1:a(t));return u}})},{"../internals/array-species-create":773,"../internals/export":807,"../internals/flatten-into-array":810,"../internals/length-of-array-like":850,"../internals/to-integer-or-infinity":910,"../internals/to-object":912}],932:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/array-from");var s=e("../internals/check-correctness-of-iteration");var i=!s((function(e){Array.from(e)}));n({target:"Array",stat:true,forced:i},{from:o})},{"../internals/array-from":764,"../internals/check-correctness-of-iteration":775,"../internals/export":807}],933:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/array-includes").includes;var s=e("../internals/add-to-unscopables");n({target:"Array",proto:true},{includes:function e(t){return o(this,t,arguments.length>1?arguments[1]:undefined)}});s("includes")},{"../internals/add-to-unscopables":755,"../internals/array-includes":765,"../internals/export":807}],934:[function(e,t,r){"use strict";var n=e("../internals/to-indexed-object");var o=e("../internals/add-to-unscopables");var s=e("../internals/iterators");var i=e("../internals/internal-state");var a=e("../internals/object-define-property").f;var l=e("../internals/define-iterator");var u=e("../internals/is-pure");var c=e("../internals/descriptors");var f="Array Iterator";var d=i.set;var p=i.getterFor(f);t.exports=l(Array,"Array",(function(e,t){d(this,{type:f,target:n(e),index:0,kind:t})}),(function(){var e=p(this);var t=e.target;var r=e.kind;var n=e.index++;if(!t||n>=t.length){e.target=undefined;return{value:undefined,done:true}}if(r=="keys")return{value:n,done:false};if(r=="values")return{value:t[n],done:false};return{value:[n,t[n]],done:false}}),"values");var _=s.Arguments=s.Array;o("keys");o("values");o("entries");if(!u&&c&&_.name!=="values")try{a(_,"name",{value:"values"})}catch(e){}},{"../internals/add-to-unscopables":755,"../internals/define-iterator":790,"../internals/descriptors":792,"../internals/internal-state":835,"../internals/is-pure":843,"../internals/iterators":849,"../internals/object-define-property":862,"../internals/to-indexed-object":909}],935:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/function-uncurry-this");var s=e("../internals/indexed-object");var i=e("../internals/to-indexed-object");var a=e("../internals/array-method-is-strict");var l=o([].join);var u=s!=Object;var c=a("join",",");n({target:"Array",proto:true,forced:u||!c},{join:function e(t){return l(i(this),t===undefined?",":t)}})},{"../internals/array-method-is-strict":768,"../internals/export":807,"../internals/function-uncurry-this":818,"../internals/indexed-object":831,"../internals/to-indexed-object":909}],936:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/array-iteration").map;var s=e("../internals/array-method-has-species-support");var i=s("map");n({target:"Array",proto:true,forced:!i},{map:function e(t){return o(this,t,arguments.length>1?arguments[1]:undefined)}})},{"../internals/array-iteration":766,"../internals/array-method-has-species-support":767,"../internals/export":807}],937:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/is-array");var i=e("../internals/is-constructor");var a=e("../internals/is-object");var l=e("../internals/to-absolute-index");var u=e("../internals/length-of-array-like");var c=e("../internals/to-indexed-object");var f=e("../internals/create-property");var d=e("../internals/well-known-symbol");var p=e("../internals/array-method-has-species-support");var _=e("../internals/array-slice");var m=p("slice");var y=d("species");var v=o.Array;var b=Math.max;n({target:"Array",proto:true,forced:!m},{slice:function e(t,r){var n=c(this);var o=u(n);var d=l(t,o);var p=l(r===undefined?o:r,o);var m,h,j;if(s(n)){m=n.constructor;if(i(m)&&(m===v||s(m.prototype))){m=undefined}else if(a(m)){m=m[y];if(m===null)m=undefined}if(m===v||m===undefined){return _(n,d,p)}}h=new(m===undefined?v:m)(b(p-d,0));for(j=0;d<p;d++,j++)if(d in n)f(h,j,n[d]);h.length=j;return h}})},{"../internals/array-method-has-species-support":767,"../internals/array-slice":770,"../internals/create-property":788,"../internals/export":807,"../internals/global":824,"../internals/is-array":837,"../internals/is-constructor":839,"../internals/is-object":842,"../internals/length-of-array-like":850,"../internals/to-absolute-index":907,"../internals/to-indexed-object":909,"../internals/well-known-symbol":923}],938:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/function-uncurry-this");var s=e("../internals/a-callable");var i=e("../internals/to-object");var a=e("../internals/length-of-array-like");var l=e("../internals/to-string");var u=e("../internals/fails");var c=e("../internals/array-sort");var f=e("../internals/array-method-is-strict");var d=e("../internals/engine-ff-version");var p=e("../internals/engine-is-ie-or-edge");var _=e("../internals/engine-v8-version");var m=e("../internals/engine-webkit-version");var y=[];var v=o(y.sort);var b=o(y.push);var h=u((function(){y.sort(undefined)}));var j=u((function(){y.sort(null)}));var g=f("sort");var w=!u((function(){if(_)return _<70;if(d&&d>3)return;if(p)return true;if(m)return m<603;var e="";var t,r,n,o;for(t=65;t<76;t++){r=String.fromCharCode(t);switch(t){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(o=0;o<47;o++){y.push({k:r+o,v:n})}}y.sort((function(e,t){return t.v-e.v}));for(o=0;o<y.length;o++){r=y[o].k.charAt(0);if(e.charAt(e.length-1)!==r)e+=r}return e!=="DGBEFHACIJK"}));var O=h||!j||!g||!w;var S=function(e){return function(t,r){if(r===undefined)return-1;if(t===undefined)return 1;if(e!==undefined)return+e(t,r)||0;return l(t)>l(r)?1:-1}};n({target:"Array",proto:true,forced:O},{sort:function e(t){if(t!==undefined)s(t);var r=i(this);if(w)return t===undefined?v(r):v(r,t);var n=[];var o=a(r);var l,u;for(u=0;u<o;u++){if(u in r)b(n,r[u])}c(n,S(t));l=n.length;u=0;while(u<l)r[u]=n[u++];while(u<o)delete r[u++];return r}})},{"../internals/a-callable":752,"../internals/array-method-is-strict":768,"../internals/array-sort":771,"../internals/engine-ff-version":796,"../internals/engine-is-ie-or-edge":798,"../internals/engine-v8-version":804,"../internals/engine-webkit-version":805,"../internals/export":807,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/length-of-array-like":850,"../internals/to-object":912,"../internals/to-string":916}],939:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/to-absolute-index");var i=e("../internals/to-integer-or-infinity");var a=e("../internals/length-of-array-like");var l=e("../internals/to-object");var u=e("../internals/array-species-create");var c=e("../internals/create-property");var f=e("../internals/array-method-has-species-support");var d=f("splice");var p=o.TypeError;var _=Math.max;var m=Math.min;var y=9007199254740991;var v="Maximum allowed length exceeded";n({target:"Array",proto:true,forced:!d},{splice:function e(t,r){var n=l(this);var o=a(n);var f=s(t,o);var d=arguments.length;var b,h,j,g,w,O;if(d===0){b=h=0}else if(d===1){b=0;h=o-f}else{b=d-2;h=m(_(i(r),0),o-f)}if(o+b-h>y){throw p(v)}j=u(n,h);for(g=0;g<h;g++){w=f+g;if(w in n)c(j,g,n[w])}j.length=h;if(b<h){for(g=f;g<o-h;g++){w=g+h;O=g+b;if(w in n)n[O]=n[w];else delete n[O]}for(g=o;g>o-h+b;g--)delete n[g-1]}else if(b>h){for(g=o-h;g>f;g--){w=g+h-1;O=g+b-1;if(w in n)n[O]=n[w];else delete n[O]}}for(g=0;g<b;g++){n[g+f]=arguments[g+2]}n.length=o-h+b;return j}})},{"../internals/array-method-has-species-support":767,"../internals/array-species-create":773,"../internals/create-property":788,"../internals/export":807,"../internals/global":824,"../internals/length-of-array-like":850,"../internals/to-absolute-index":907,"../internals/to-integer-or-infinity":910,"../internals/to-object":912}],940:[function(e,t,r){var n=e("../internals/add-to-unscopables");n("flatMap")},{"../internals/add-to-unscopables":755}],941:[function(e,t,r){var n=e("../internals/has-own-property");var o=e("../internals/redefine");var s=e("../internals/date-to-primitive");var i=e("../internals/well-known-symbol");var a=i("toPrimitive");var l=Date.prototype;if(!n(l,a)){o(l,a,s)}},{"../internals/date-to-primitive":789,"../internals/has-own-property":825,"../internals/redefine":883,"../internals/well-known-symbol":923}],942:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/function-name").EXISTS;var s=e("../internals/function-uncurry-this");var i=e("../internals/object-define-property").f;var a=Function.prototype;var l=s(a.toString);var u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/;var c=s(u.exec);var f="name";if(n&&!o){i(a,f,{configurable:true,get:function(){try{return c(u,l(this))[1]}catch(e){return""}}})}},{"../internals/descriptors":792,"../internals/function-name":817,"../internals/function-uncurry-this":818,"../internals/object-define-property":862}],943:[function(e,t,r){"use strict";var n=e("../internals/collection");var o=e("../internals/collection-strong");n("Map",(function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}}),o)},{"../internals/collection":780,"../internals/collection-strong":778}],944:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/math-log10");n({target:"Math",stat:true},{log10:o})},{"../internals/export":807,"../internals/math-log10":851}],945:[function(e,t,r){var n=e("../internals/export");var o=Math.log;var s=Math.LN2;n({target:"Math",stat:true},{log2:function e(t){return o(t)/s}})},{"../internals/export":807}],946:[function(e,t,r){"use strict";var n=e("../internals/descriptors");var o=e("../internals/global");var s=e("../internals/function-uncurry-this");var i=e("../internals/is-forced");var a=e("../internals/redefine");var l=e("../internals/has-own-property");var u=e("../internals/inherit-if-required");var c=e("../internals/object-is-prototype-of");var f=e("../internals/is-symbol");var d=e("../internals/to-primitive");var p=e("../internals/fails");var _=e("../internals/object-get-own-property-names").f;var m=e("../internals/object-get-own-property-descriptor").f;var y=e("../internals/object-define-property").f;var v=e("../internals/this-number-value");var b=e("../internals/string-trim").trim;var h="Number";var j=o[h];var g=j.prototype;var w=o.TypeError;var O=s("".slice);var S=s("".charCodeAt);var k=function(e){var t=d(e,"number");return typeof t=="bigint"?t:A(t)};var A=function(e){var t=d(e,"number");var r,n,o,s,i,a,l,u;if(f(t))throw w("Cannot convert a Symbol value to a number");if(typeof t=="string"&&t.length>2){t=b(t);r=S(t,0);if(r===43||r===45){n=S(t,2);if(n===88||n===120)return NaN}else if(r===48){switch(S(t,1)){case 66:case 98:o=2;s=49;break;case 79:case 111:o=8;s=55;break;default:return+t}i=O(t,2);a=i.length;for(l=0;l<a;l++){u=S(i,l);if(u<48||u>s)return NaN}return parseInt(i,o)}}return+t};if(i(h,!j(" 0o1")||!j("0b1")||j("+0x1"))){var E=function e(t){var r=arguments.length<1?0:j(k(t));var n=this;return c(g,n)&&p((function(){v(n)}))?u(Object(r),n,E):r};for(var x=n?_(j):("MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,"+"EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,"+"fromString,range").split(","),M=0,P;x.length>M;M++){if(l(j,P=x[M])&&!l(E,P)){y(E,P,m(j,P))}}E.prototype=g;g.constructor=E;a(o,h,E)}},{"../internals/descriptors":792,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/has-own-property":825,"../internals/inherit-if-required":832,"../internals/is-forced":841,"../internals/is-symbol":845,"../internals/object-define-property":862,"../internals/object-get-own-property-descriptor":863,"../internals/object-get-own-property-names":865,"../internals/object-is-prototype-of":869,"../internals/redefine":883,"../internals/string-trim":904,"../internals/this-number-value":906,"../internals/to-primitive":913}],947:[function(e,t,r){var n=e("../internals/export");n({target:"Number",stat:true},{isNaN:function e(t){return t!=t}})},{"../internals/export":807}],948:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/function-uncurry-this");var i=e("../internals/to-integer-or-infinity");var a=e("../internals/this-number-value");var l=e("../internals/string-repeat");var u=e("../internals/fails");var c=o.RangeError;var f=o.String;var d=Math.floor;var p=s(l);var _=s("".slice);var m=s(1..toFixed);var y=function(e,t,r){return t===0?r:t%2===1?y(e,t-1,r*e):y(e*e,t/2,r)};var v=function(e){var t=0;var r=e;while(r>=4096){t+=12;r/=4096}while(r>=2){t+=1;r/=2}return t};var b=function(e,t,r){var n=-1;var o=r;while(++n<6){o+=t*e[n];e[n]=o%1e7;o=d(o/1e7)}};var h=function(e,t){var r=6;var n=0;while(--r>=0){n+=e[r];e[r]=d(n/t);n=n%t*1e7}};var j=function(e){var t=6;var r="";while(--t>=0){if(r!==""||t===0||e[t]!==0){var n=f(e[t]);r=r===""?n:r+p("0",7-n.length)+n}}return r};var g=u((function(){return m(8e-5,3)!=="0.000"||m(.9,0)!=="1"||m(1.255,2)!=="1.25"||m(0xde0b6b3a7640080,0)!=="1000000000000000128"}))||!u((function(){m({})}));n({target:"Number",proto:true,forced:g},{toFixed:function e(t){var r=a(this);var n=i(t);var o=[0,0,0,0,0,0];var s="";var l="0";var u,d,m,g;if(n<0||n>20)throw c("Incorrect fraction digits");if(r!=r)return"NaN";if(r<=-1e21||r>=1e21)return f(r);if(r<0){s="-";r=-r}if(r>1e-21){u=v(r*y(2,69,1))-69;d=u<0?r*y(2,-u,1):r/y(2,u,1);d*=4503599627370496;u=52-u;if(u>0){b(o,0,d);m=n;while(m>=7){b(o,1e7,0);m-=7}b(o,y(10,m,1),0);m=u-1;while(m>=23){h(o,1<<23);m-=23}h(o,1<<m);b(o,1,1);h(o,2);l=j(o)}else{b(o,0,d);b(o,1<<-u,0);l=j(o)+p("0",n)}}if(n>0){g=l.length;l=s+(g<=n?"0."+p("0",n-g)+l:_(l,0,g-n)+"."+_(l,g-n))}else{l=s+l}return l}})},{"../internals/export":807,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/string-repeat":902,"../internals/this-number-value":906,"../internals/to-integer-or-infinity":910}],949:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/object-assign");n({target:"Object",stat:true,forced:Object.assign!==o},{assign:o})},{"../internals/export":807,"../internals/object-assign":859}],950:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/object-to-array").entries;n({target:"Object",stat:true},{entries:function e(t){return o(t)}})},{"../internals/export":807,"../internals/object-to-array":874}],951:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/freezing");var s=e("../internals/fails");var i=e("../internals/is-object");var a=e("../internals/internal-metadata").onFreeze;var l=Object.freeze;var u=s((function(){l(1)}));n({target:"Object",stat:true,forced:u,sham:!o},{freeze:function e(t){return l&&i(t)?l(a(t)):t}})},{"../internals/export":807,"../internals/fails":808,"../internals/freezing":811,"../internals/internal-metadata":834,"../internals/is-object":842}],952:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/iterate");var s=e("../internals/create-property");n({target:"Object",stat:true},{fromEntries:function e(t){var r={};o(t,(function(e,t){s(r,e,t)}),{AS_ENTRIES:true});return r}})},{"../internals/create-property":788,"../internals/export":807,"../internals/iterate":846}],953:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/fails");var s=e("../internals/to-indexed-object");var i=e("../internals/object-get-own-property-descriptor").f;var a=e("../internals/descriptors");var l=o((function(){i(1)}));var u=!a||l;n({target:"Object",stat:true,forced:u,sham:!a},{getOwnPropertyDescriptor:function e(t,r){return i(s(t),r)}})},{"../internals/descriptors":792,"../internals/export":807,"../internals/fails":808,"../internals/object-get-own-property-descriptor":863,"../internals/to-indexed-object":909}],954:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/descriptors");var s=e("../internals/own-keys");var i=e("../internals/to-indexed-object");var a=e("../internals/object-get-own-property-descriptor");var l=e("../internals/create-property");n({target:"Object",stat:true,sham:!o},{getOwnPropertyDescriptors:function e(t){var r=i(t);var n=a.f;var o=s(r);var u={};var c=0;var f,d;while(o.length>c){d=n(r,f=o[c++]);if(d!==undefined)l(u,f,d)}return u}})},{"../internals/create-property":788,"../internals/descriptors":792,"../internals/export":807,"../internals/object-get-own-property-descriptor":863,"../internals/own-keys":877,"../internals/to-indexed-object":909}],955:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/fails");var s=e("../internals/object-get-own-property-names-external").f;var i=o((function(){return!Object.getOwnPropertyNames(1)}));n({target:"Object",stat:true,forced:i},{getOwnPropertyNames:s})},{"../internals/export":807,"../internals/fails":808,"../internals/object-get-own-property-names-external":864}],956:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/fails");var s=e("../internals/to-object");var i=e("../internals/object-get-prototype-of");var a=e("../internals/correct-prototype-getter");var l=o((function(){i(1)}));n({target:"Object",stat:true,forced:l,sham:!a},{getPrototypeOf:function e(t){return i(s(t))}})},{"../internals/correct-prototype-getter":783,"../internals/export":807,"../internals/fails":808,"../internals/object-get-prototype-of":867,"../internals/to-object":912}],957:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/to-object");var s=e("../internals/object-keys");var i=e("../internals/fails");var a=i((function(){s(1)}));n({target:"Object",stat:true,forced:a},{keys:function e(t){return s(o(t))}})},{"../internals/export":807,"../internals/fails":808,"../internals/object-keys":871,"../internals/to-object":912}],958:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/object-set-prototype-of");n({target:"Object",stat:true},{setPrototypeOf:o})},{"../internals/export":807,"../internals/object-set-prototype-of":873}],959:[function(e,t,r){var n=e("../internals/to-string-tag-support");var o=e("../internals/redefine");var s=e("../internals/object-to-string");if(!n){o(Object.prototype,"toString",s,{unsafe:true})}},{"../internals/object-to-string":875,"../internals/redefine":883,"../internals/to-string-tag-support":915}],960:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/object-to-array").values;n({target:"Object",stat:true},{values:function e(t){return o(t)}})},{"../internals/export":807,"../internals/object-to-array":874}],961:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/is-pure");var s=e("../internals/native-promise-constructor");var i=e("../internals/fails");var a=e("../internals/get-built-in");var l=e("../internals/is-callable");var u=e("../internals/species-constructor");var c=e("../internals/promise-resolve");var f=e("../internals/redefine");var d=!!s&&i((function(){s.prototype["finally"].call({then:function(){}},(function(){}))}));n({target:"Promise",proto:true,real:true,forced:d},{finally:function(e){var t=u(this,a("Promise"));var r=l(e);return this.then(r?function(r){return c(t,e()).then((function(){return r}))}:e,r?function(r){return c(t,e()).then((function(){throw r}))}:e)}});if(!o&&l(s)){var p=a("Promise").prototype["finally"];if(s.prototype["finally"]!==p){f(s.prototype,"finally",p,{unsafe:true})}}},{"../internals/export":807,"../internals/fails":808,"../internals/get-built-in":819,"../internals/is-callable":838,"../internals/is-pure":843,"../internals/native-promise-constructor":853,"../internals/promise-resolve":880,"../internals/redefine":883,"../internals/species-constructor":898}],962:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/is-pure");var s=e("../internals/global");var i=e("../internals/get-built-in");var a=e("../internals/function-call");var l=e("../internals/native-promise-constructor");var u=e("../internals/redefine");var c=e("../internals/redefine-all");var f=e("../internals/object-set-prototype-of");var d=e("../internals/set-to-string-tag");var p=e("../internals/set-species");var _=e("../internals/a-callable");var m=e("../internals/is-callable");var y=e("../internals/is-object");var v=e("../internals/an-instance");var b=e("../internals/inspect-source");var h=e("../internals/iterate");var j=e("../internals/check-correctness-of-iteration");var g=e("../internals/species-constructor");var w=e("../internals/task").set;var O=e("../internals/microtask");var S=e("../internals/promise-resolve");var k=e("../internals/host-report-errors");var A=e("../internals/new-promise-capability");var E=e("../internals/perform");var x=e("../internals/queue");var M=e("../internals/internal-state");var P=e("../internals/is-forced");var T=e("../internals/well-known-symbol");var I=e("../internals/engine-is-browser");var C=e("../internals/engine-is-node");var R=e("../internals/engine-v8-version");var N=T("species");var L="Promise";var z=M.getterFor(L);var D=M.set;var q=M.getterFor(L);var B=l&&l.prototype;var U=l;var W=B;var F=s.TypeError;var G=s.document;var X=s.process;var $=A.f;var V=$;var H=!!(G&&G.createEvent&&s.dispatchEvent);var Y=m(s.PromiseRejectionEvent);var K="unhandledrejection";var J="rejectionhandled";var Z=0;var Q=1;var ee=2;var te=1;var re=2;var ne=false;var oe,se,ie,ae;var le=P(L,(function(){var e=b(U);var t=e!==String(U);if(!t&&R===66)return true;if(o&&!W["finally"])return true;if(R>=51&&/native code/.test(e))return false;var r=new U((function(e){e(1)}));var n=function(e){e((function(){}),(function(){}))};var s=r.constructor={};s[N]=n;ne=r.then((function(){}))instanceof n;if(!ne)return true;return!t&&I&&!Y}));var ue=le||!j((function(e){U.all(e)["catch"]((function(){}))}));var ce=function(e){var t;return y(e)&&m(t=e.then)?t:false};var fe=function(e,t){var r=t.value;var n=t.state==Q;var o=n?e.ok:e.fail;var s=e.resolve;var i=e.reject;var l=e.domain;var u,c,f;try{if(o){if(!n){if(t.rejection===re)ye(t);t.rejection=te}if(o===true)u=r;else{if(l)l.enter();u=o(r);if(l){l.exit();f=true}}if(u===e.promise){i(F("Promise-chain cycle"))}else if(c=ce(u)){a(c,u,s,i)}else s(u)}else i(r)}catch(e){if(l&&!f)l.exit();i(e)}};var de=function(e,t){if(e.notified)return;e.notified=true;O((function(){var r=e.reactions;var n;while(n=r.get()){fe(n,e)}e.notified=false;if(t&&!e.rejection)_e(e)}))};var pe=function(e,t,r){var n,o;if(H){n=G.createEvent("Event");n.promise=t;n.reason=r;n.initEvent(e,false,true);s.dispatchEvent(n)}else n={promise:t,reason:r};if(!Y&&(o=s["on"+e]))o(n);else if(e===K)k("Unhandled promise rejection",r)};var _e=function(e){a(w,s,(function(){var t=e.facade;var r=e.value;var n=me(e);var o;if(n){o=E((function(){if(C){X.emit("unhandledRejection",r,t)}else pe(K,t,r)}));e.rejection=C||me(e)?re:te;if(o.error)throw o.value}}))};var me=function(e){return e.rejection!==te&&!e.parent};var ye=function(e){a(w,s,(function(){var t=e.facade;if(C){X.emit("rejectionHandled",t)}else pe(J,t,e.value)}))};var ve=function(e,t,r){return function(n){e(t,n,r)}};var be=function(e,t,r){if(e.done)return;e.done=true;if(r)e=r;e.value=t;e.state=ee;de(e,true)};var he=function(e,t,r){if(e.done)return;e.done=true;if(r)e=r;try{if(e.facade===t)throw F("Promise can't be resolved itself");var n=ce(t);if(n){O((function(){var r={done:false};try{a(n,t,ve(he,r,e),ve(be,r,e))}catch(t){be(r,t,e)}}))}else{e.value=t;e.state=Q;de(e,false)}}catch(t){be({done:false},t,e)}};if(le){U=function e(t){v(this,W);_(t);a(oe,this);var r=z(this);try{t(ve(he,r),ve(be,r))}catch(e){be(r,e)}};W=U.prototype;oe=function e(t){D(this,{type:L,done:false,notified:false,parent:false,reactions:new x,rejection:false,state:Z,value:undefined})};oe.prototype=c(W,{then:function e(t,r){var n=q(this);var o=$(g(this,U));n.parent=true;o.ok=m(t)?t:true;o.fail=m(r)&&r;o.domain=C?X.domain:undefined;if(n.state==Z)n.reactions.add(o);else O((function(){fe(o,n)}));return o.promise},catch:function(e){return this.then(undefined,e)}});se=function(){var e=new oe;var t=z(e);this.promise=e;this.resolve=ve(he,t);this.reject=ve(be,t)};A.f=$=function(e){return e===U||e===ie?new se(e):V(e)};if(!o&&m(l)&&B!==Object.prototype){ae=B.then;if(!ne){u(B,"then",(function e(t,r){var n=this;return new U((function(e,t){a(ae,n,e,t)})).then(t,r)}),{unsafe:true});u(B,"catch",W["catch"],{unsafe:true})}try{delete B.constructor}catch(e){}if(f){f(B,W)}}}n({global:true,wrap:true,forced:le},{Promise:U});d(U,L,false,true);p(L);ie=i(L);n({target:L,stat:true,forced:le},{reject:function e(t){var r=$(this);a(r.reject,undefined,t);return r.promise}});n({target:L,stat:true,forced:o||le},{resolve:function e(t){return S(o&&this===ie?U:this,t)}});n({target:L,stat:true,forced:ue},{all:function e(t){var r=this;var n=$(r);var o=n.resolve;var s=n.reject;var i=E((function(){var e=_(r.resolve);var n=[];var i=0;var l=1;h(t,(function(t){var u=i++;var c=false;l++;a(e,r,t).then((function(e){if(c)return;c=true;n[u]=e;--l||o(n)}),s)}));--l||o(n)}));if(i.error)s(i.value);return n.promise},race:function e(t){var r=this;var n=$(r);var o=n.reject;var s=E((function(){var e=_(r.resolve);h(t,(function(t){a(e,r,t).then(n.resolve,o)}))}));if(s.error)o(s.value);return n.promise}})},{"../internals/a-callable":752,"../internals/an-instance":757,"../internals/check-correctness-of-iteration":775,"../internals/engine-is-browser":797,"../internals/engine-is-node":801,"../internals/engine-v8-version":804,"../internals/export":807,"../internals/function-call":816,"../internals/get-built-in":819,"../internals/global":824,"../internals/host-report-errors":827,"../internals/inspect-source":833,"../internals/internal-state":835,"../internals/is-callable":838,"../internals/is-forced":841,"../internals/is-object":842,"../internals/is-pure":843,"../internals/iterate":846,"../internals/microtask":852,"../internals/native-promise-constructor":853,"../internals/new-promise-capability":857,"../internals/object-set-prototype-of":873,"../internals/perform":879,"../internals/promise-resolve":880,"../internals/queue":881,"../internals/redefine":883,"../internals/redefine-all":882,"../internals/set-species":893,"../internals/set-to-string-tag":894,"../internals/species-constructor":898,"../internals/task":905,"../internals/well-known-symbol":923}],963:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/get-built-in");var s=e("../internals/function-apply");var i=e("../internals/function-bind");var a=e("../internals/a-constructor");var l=e("../internals/an-object");var u=e("../internals/is-object");var c=e("../internals/object-create");var f=e("../internals/fails");var d=o("Reflect","construct");var p=Object.prototype;var _=[].push;var m=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)}));var y=!f((function(){d((function(){}))}));var v=m||y;n({target:"Reflect",stat:true,forced:v,sham:v},{construct:function e(t,r){a(t);l(r);var n=arguments.length<3?t:a(arguments[2]);if(y&&!m)return d(t,r,n);if(t==n){switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3])}var o=[null];s(_,o,r);return new(s(i,t,o))}var f=n.prototype;var v=c(u(f)?f:p);var b=s(t,v,r);return u(b)?b:v}})},{"../internals/a-constructor":753,"../internals/an-object":758,"../internals/export":807,"../internals/fails":808,"../internals/function-apply":812,"../internals/function-bind":815,"../internals/get-built-in":819,"../internals/is-object":842,"../internals/object-create":860}],964:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/function-call");var s=e("../internals/is-object");var i=e("../internals/an-object");var a=e("../internals/is-data-descriptor");var l=e("../internals/object-get-own-property-descriptor");var u=e("../internals/object-get-prototype-of");function c(e,t){var r=arguments.length<3?e:arguments[2];var n,f;if(i(e)===r)return e[t];n=l.f(e,t);if(n)return a(n)?n.value:n.get===undefined?undefined:o(n.get,r);if(s(f=u(e)))return c(f,t,r)}n({target:"Reflect",stat:true},{get:c})},{"../internals/an-object":758,"../internals/export":807,"../internals/function-call":816,"../internals/is-data-descriptor":840,"../internals/is-object":842,"../internals/object-get-own-property-descriptor":863,"../internals/object-get-prototype-of":867}],965:[function(e,t,r){var n=e("../internals/descriptors");var o=e("../internals/global");var s=e("../internals/function-uncurry-this");var i=e("../internals/is-forced");var a=e("../internals/inherit-if-required");var l=e("../internals/create-non-enumerable-property");var u=e("../internals/object-define-property").f;var c=e("../internals/object-get-own-property-names").f;var f=e("../internals/object-is-prototype-of");var d=e("../internals/is-regexp");var p=e("../internals/to-string");var _=e("../internals/regexp-flags");var m=e("../internals/regexp-sticky-helpers");var y=e("../internals/redefine");var v=e("../internals/fails");var b=e("../internals/has-own-property");var h=e("../internals/internal-state").enforce;var j=e("../internals/set-species");var g=e("../internals/well-known-symbol");var w=e("../internals/regexp-unsupported-dot-all");var O=e("../internals/regexp-unsupported-ncg");var S=g("match");var k=o.RegExp;var A=k.prototype;var E=o.SyntaxError;var x=s(_);var M=s(A.exec);var P=s("".charAt);var T=s("".replace);var I=s("".indexOf);var C=s("".slice);var R=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/;var N=/a/g;var L=/a/g;var z=new k(N)!==N;var D=m.MISSED_STICKY;var q=m.UNSUPPORTED_Y;var B=n&&(!z||D||w||O||v((function(){L[S]=false;return k(N)!=N||k(L)==L||k(N,"i")!="/a/i"})));var U=function(e){var t=e.length;var r=0;var n="";var o=false;var s;for(;r<=t;r++){s=P(e,r);if(s==="\\"){n+=s+P(e,++r);continue}if(!o&&s==="."){n+="[\\s\\S]"}else{if(s==="["){o=true}else if(s==="]"){o=false}n+=s}}return n};var W=function(e){var t=e.length;var r=0;var n="";var o=[];var s={};var i=false;var a=false;var l=0;var u="";var c;for(;r<=t;r++){c=P(e,r);if(c==="\\"){c=c+P(e,++r)}else if(c==="]"){i=false}else if(!i)switch(true){case c==="[":i=true;break;case c==="(":if(M(R,C(e,r+1))){r+=2;a=true}n+=c;l++;continue;case c===">"&&a:if(u===""||b(s,u)){throw new E("Invalid capture group name")}s[u]=true;o[o.length]=[u,l];a=false;u="";continue}if(a)u+=c;else n+=c}return[n,o]};if(i("RegExp",B)){var F=function e(t,r){var n=f(A,this);var o=d(t);var s=r===undefined;var i=[];var u=t;var c,_,m,y,v,b;if(!n&&o&&s&&t.constructor===F){return t}if(o||f(A,t)){t=t.source;if(s)r="flags"in u?u.flags:x(u)}t=t===undefined?"":p(t);r=r===undefined?"":p(r);u=t;if(w&&"dotAll"in N){_=!!r&&I(r,"s")>-1;if(_)r=T(r,/s/g,"")}c=r;if(D&&"sticky"in N){m=!!r&&I(r,"y")>-1;if(m&&q)r=T(r,/y/g,"")}if(O){y=W(t);t=y[0];i=y[1]}v=a(k(t,r),n?this:A,F);if(_||m||i.length){b=h(v);if(_){b.dotAll=true;b.raw=F(U(t),c)}if(m)b.sticky=true;if(i.length)b.groups=i}if(t!==u)try{l(v,"source",u===""?"(?:)":u)}catch(e){}return v};var G=function(e){e in F||u(F,e,{configurable:true,get:function(){return k[e]},set:function(t){k[e]=t}})};for(var X=c(k),$=0;X.length>$;){G(X[$++])}A.constructor=F;F.prototype=A;y(o,"RegExp",F)}j("RegExp")},{"../internals/create-non-enumerable-property":786,"../internals/descriptors":792,"../internals/fails":808,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/has-own-property":825,"../internals/inherit-if-required":832,"../internals/internal-state":835,"../internals/is-forced":841,"../internals/is-regexp":844,"../internals/object-define-property":862,"../internals/object-get-own-property-names":865,"../internals/object-is-prototype-of":869,"../internals/redefine":883,"../internals/regexp-flags":886,"../internals/regexp-sticky-helpers":887,"../internals/regexp-unsupported-dot-all":888,"../internals/regexp-unsupported-ncg":889,"../internals/set-species":893,"../internals/to-string":916,"../internals/well-known-symbol":923}],966:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/regexp-exec");n({target:"RegExp",proto:true,forced:/./.exec!==o},{exec:o})},{"../internals/export":807,"../internals/regexp-exec":885}],967:[function(e,t,r){"use strict";var n=e("../internals/function-uncurry-this");var o=e("../internals/function-name").PROPER;var s=e("../internals/redefine");var i=e("../internals/an-object");var a=e("../internals/object-is-prototype-of");var l=e("../internals/to-string");var u=e("../internals/fails");var c=e("../internals/regexp-flags");var f="toString";var d=RegExp.prototype;var p=d[f];var _=n(c);var m=u((function(){return p.call({source:"a",flags:"b"})!="/a/b"}));var y=o&&p.name!=f;if(m||y){s(RegExp.prototype,f,(function e(){var t=i(this);var r=l(t.source);var n=t.flags;var o=l(n===undefined&&a(d,t)&&!("flags"in d)?_(t):n);return"/"+r+"/"+o}),{unsafe:true})}},{"../internals/an-object":758,"../internals/fails":808,"../internals/function-name":817,"../internals/function-uncurry-this":818,"../internals/object-is-prototype-of":869,"../internals/redefine":883,"../internals/regexp-flags":886,"../internals/to-string":916}],968:[function(e,t,r){"use strict";var n=e("../internals/collection");var o=e("../internals/collection-strong");n("Set",(function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}}),o)},{"../internals/collection":780,"../internals/collection-strong":778}],969:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/create-html");var s=e("../internals/string-html-forced");n({target:"String",proto:true,forced:s("bold")},{bold:function e(){return o(this,"b","","")}})},{"../internals/create-html":784,"../internals/export":807,"../internals/string-html-forced":899}],970:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/function-uncurry-this");var s=e("../internals/object-get-own-property-descriptor").f;var i=e("../internals/to-length");var a=e("../internals/to-string");var l=e("../internals/not-a-regexp");var u=e("../internals/require-object-coercible");var c=e("../internals/correct-is-regexp-logic");var f=e("../internals/is-pure");var d=o("".endsWith);var p=o("".slice);var _=Math.min;var m=c("endsWith");var y=!f&&!m&&!!function(){var e=s(String.prototype,"endsWith");return e&&!e.writable}();n({target:"String",proto:true,forced:!y&&!m},{endsWith:function e(t){var r=a(u(this));l(t);var n=arguments.length>1?arguments[1]:undefined;var o=r.length;var s=n===undefined?o:_(i(n),o);var c=a(t);return d?d(r,c,s):p(r,s-c.length,s)===c}})},{"../internals/correct-is-regexp-logic":782,"../internals/export":807,"../internals/function-uncurry-this":818,"../internals/is-pure":843,"../internals/not-a-regexp":858,"../internals/object-get-own-property-descriptor":863,"../internals/require-object-coercible":890,"../internals/to-length":911,"../internals/to-string":916}],971:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/create-html");var s=e("../internals/string-html-forced");n({target:"String",proto:true,forced:s("fixed")},{fixed:function e(){return o(this,"tt","","")}})},{"../internals/create-html":784,"../internals/export":807,"../internals/string-html-forced":899}],972:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/function-uncurry-this");var s=e("../internals/not-a-regexp");var i=e("../internals/require-object-coercible");var a=e("../internals/to-string");var l=e("../internals/correct-is-regexp-logic");var u=o("".indexOf);n({target:"String",proto:true,forced:!l("includes")},{includes:function e(t){return!!~u(a(i(this)),a(s(t)),arguments.length>1?arguments[1]:undefined)}})},{"../internals/correct-is-regexp-logic":782,"../internals/export":807,"../internals/function-uncurry-this":818,"../internals/not-a-regexp":858,"../internals/require-object-coercible":890,"../internals/to-string":916}],973:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/create-html");var s=e("../internals/string-html-forced");n({target:"String",proto:true,forced:s("italics")},{italics:function e(){return o(this,"i","","")}})},{"../internals/create-html":784,"../internals/export":807,"../internals/string-html-forced":899}],974:[function(e,t,r){"use strict";var n=e("../internals/string-multibyte").charAt;var o=e("../internals/to-string");var s=e("../internals/internal-state");var i=e("../internals/define-iterator");var a="String Iterator";var l=s.set;var u=s.getterFor(a);i(String,"String",(function(e){l(this,{type:a,string:o(e),index:0})}),(function e(){var t=u(this);var r=t.string;var o=t.index;var s;if(o>=r.length)return{value:undefined,done:true};s=n(r,o);t.index+=s.length;return{value:s,done:false}}))},{"../internals/define-iterator":790,"../internals/internal-state":835,"../internals/string-multibyte":900,"../internals/to-string":916}],975:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/create-html");var s=e("../internals/string-html-forced");n({target:"String",proto:true,forced:s("link")},{link:function e(t){return o(this,"a","href",t)}})},{"../internals/create-html":784,"../internals/export":807,"../internals/string-html-forced":899}],976:[function(e,t,r){"use strict";var n=e("../internals/function-call");var o=e("../internals/fix-regexp-well-known-symbol-logic");var s=e("../internals/an-object");var i=e("../internals/to-length");var a=e("../internals/to-string");var l=e("../internals/require-object-coercible");var u=e("../internals/get-method");var c=e("../internals/advance-string-index");var f=e("../internals/regexp-exec-abstract");o("match",(function(e,t,r){return[function t(r){var o=l(this);var s=r==undefined?undefined:u(r,e);return s?n(s,r,o):new RegExp(r)[e](a(o))},function(e){var n=s(this);var o=a(e);var l=r(t,n,o);if(l.done)return l.value;if(!n.global)return f(n,o);var u=n.unicode;n.lastIndex=0;var d=[];var p=0;var _;while((_=f(n,o))!==null){var m=a(_[0]);d[p]=m;if(m==="")n.lastIndex=c(o,i(n.lastIndex),u);p++}return p===0?null:d}]}))},{"../internals/advance-string-index":756,"../internals/an-object":758,"../internals/fix-regexp-well-known-symbol-logic":809,"../internals/function-call":816,"../internals/get-method":822,"../internals/regexp-exec-abstract":884,"../internals/require-object-coercible":890,"../internals/to-length":911,"../internals/to-string":916}],977:[function(e,t,r){"use strict";var n=e("../internals/function-apply");var o=e("../internals/function-call");var s=e("../internals/function-uncurry-this");var i=e("../internals/fix-regexp-well-known-symbol-logic");var a=e("../internals/fails");var l=e("../internals/an-object");var u=e("../internals/is-callable");var c=e("../internals/to-integer-or-infinity");var f=e("../internals/to-length");var d=e("../internals/to-string");var p=e("../internals/require-object-coercible");var _=e("../internals/advance-string-index");var m=e("../internals/get-method");var y=e("../internals/get-substitution");var v=e("../internals/regexp-exec-abstract");var b=e("../internals/well-known-symbol");var h=b("replace");var j=Math.max;var g=Math.min;var w=s([].concat);var O=s([].push);var S=s("".indexOf);var k=s("".slice);var A=function(e){return e===undefined?e:String(e)};var E=function(){return"a".replace(/./,"$0")==="$0"}();var x=function(){if(/./[h]){return/./[h]("a","$0")===""}return false}();var M=!a((function(){var e=/./;e.exec=function(){var e=[];e.groups={a:"7"};return e};return"".replace(e,"$<a>")!=="7"}));i("replace",(function(e,t,r){var s=x?"$":"$0";return[function e(r,n){var s=p(this);var i=r==undefined?undefined:m(r,h);return i?o(i,r,s,n):o(t,d(s),r,n)},function(e,o){var i=l(this);var a=d(e);if(typeof o=="string"&&S(o,s)===-1&&S(o,"$<")===-1){var p=r(t,i,a,o);if(p.done)return p.value}var m=u(o);if(!m)o=d(o);var b=i.global;if(b){var h=i.unicode;i.lastIndex=0}var E=[];while(true){var x=v(i,a);if(x===null)break;O(E,x);if(!b)break;var M=d(x[0]);if(M==="")i.lastIndex=_(a,f(i.lastIndex),h)}var P="";var T=0;for(var I=0;I<E.length;I++){x=E[I];var C=d(x[0]);var R=j(g(c(x.index),a.length),0);var N=[];for(var L=1;L<x.length;L++)O(N,A(x[L]));var z=x.groups;if(m){var D=w([C],N,R,a);if(z!==undefined)O(D,z);var q=d(n(o,undefined,D))}else{q=y(C,a,R,N,z,o)}if(R>=T){P+=k(a,T,R)+q;T=R+C.length}}return P+k(a,T)}]}),!M||!E||x)},{"../internals/advance-string-index":756,"../internals/an-object":758,"../internals/fails":808,"../internals/fix-regexp-well-known-symbol-logic":809,"../internals/function-apply":812,"../internals/function-call":816,"../internals/function-uncurry-this":818,"../internals/get-method":822,"../internals/get-substitution":823,"../internals/is-callable":838,"../internals/regexp-exec-abstract":884,"../internals/require-object-coercible":890,"../internals/to-integer-or-infinity":910,"../internals/to-length":911,"../internals/to-string":916,"../internals/well-known-symbol":923}],978:[function(e,t,r){"use strict";var n=e("../internals/function-call");var o=e("../internals/fix-regexp-well-known-symbol-logic");var s=e("../internals/an-object");var i=e("../internals/require-object-coercible");var a=e("../internals/same-value");var l=e("../internals/to-string");var u=e("../internals/get-method");var c=e("../internals/regexp-exec-abstract");o("search",(function(e,t,r){return[function t(r){var o=i(this);var s=r==undefined?undefined:u(r,e);return s?n(s,r,o):new RegExp(r)[e](l(o))},function(e){var n=s(this);var o=l(e);var i=r(t,n,o);if(i.done)return i.value;var u=n.lastIndex;if(!a(u,0))n.lastIndex=0;var f=c(n,o);if(!a(n.lastIndex,u))n.lastIndex=u;return f===null?-1:f.index}]}))},{"../internals/an-object":758,"../internals/fix-regexp-well-known-symbol-logic":809,"../internals/function-call":816,"../internals/get-method":822,"../internals/regexp-exec-abstract":884,"../internals/require-object-coercible":890,"../internals/same-value":891,"../internals/to-string":916}],979:[function(e,t,r){"use strict";var n=e("../internals/function-apply");var o=e("../internals/function-call");var s=e("../internals/function-uncurry-this");var i=e("../internals/fix-regexp-well-known-symbol-logic");var a=e("../internals/is-regexp");var l=e("../internals/an-object");var u=e("../internals/require-object-coercible");var c=e("../internals/species-constructor");var f=e("../internals/advance-string-index");var d=e("../internals/to-length");var p=e("../internals/to-string");var _=e("../internals/get-method");var m=e("../internals/array-slice-simple");var y=e("../internals/regexp-exec-abstract");var v=e("../internals/regexp-exec");var b=e("../internals/regexp-sticky-helpers");var h=e("../internals/fails");var j=b.UNSUPPORTED_Y;var g=4294967295;var w=Math.min;var O=[].push;var S=s(/./.exec);var k=s(O);var A=s("".slice);var E=!h((function(){var e=/(?:)/;var t=e.exec;e.exec=function(){return t.apply(this,arguments)};var r="ab".split(e);return r.length!==2||r[0]!=="a"||r[1]!=="b"}));i("split",(function(e,t,r){var s;if("abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length){s=function(e,r){var s=p(u(this));var i=r===undefined?g:r>>>0;if(i===0)return[];if(e===undefined)return[s];if(!a(e)){return o(t,s,e,i)}var l=[];var c=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":"");var f=0;var d=new RegExp(e.source,c+"g");var _,y,b;while(_=o(v,d,s)){y=d.lastIndex;if(y>f){k(l,A(s,f,_.index));if(_.length>1&&_.index<s.length)n(O,l,m(_,1));b=_[0].length;f=y;if(l.length>=i)break}if(d.lastIndex===_.index)d.lastIndex++}if(f===s.length){if(b||!S(d,""))k(l,"")}else k(l,A(s,f));return l.length>i?m(l,0,i):l}}else if("0".split(undefined,0).length){s=function(e,r){return e===undefined&&r===0?[]:o(t,this,e,r)}}else s=t;return[function t(r,n){var i=u(this);var a=r==undefined?undefined:_(r,e);return a?o(a,r,i,n):o(s,p(i),r,n)},function(e,n){var o=l(this);var i=p(e);var a=r(s,o,i,n,s!==t);if(a.done)return a.value;var u=c(o,RegExp);var _=o.unicode;var m=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(j?"g":"y");var v=new u(j?"^(?:"+o.source+")":o,m);var b=n===undefined?g:n>>>0;if(b===0)return[];if(i.length===0)return y(v,i)===null?[i]:[];var h=0;var O=0;var S=[];while(O<i.length){v.lastIndex=j?0:O;var E=y(v,j?A(i,O):i);var x;if(E===null||(x=w(d(v.lastIndex+(j?O:0)),i.length))===h){O=f(i,O,_)}else{k(S,A(i,h,O));if(S.length===b)return S;for(var M=1;M<=E.length-1;M++){k(S,E[M]);if(S.length===b)return S}O=h=x}}k(S,A(i,h));return S}]}),!E,j)},{"../internals/advance-string-index":756,"../internals/an-object":758,"../internals/array-slice-simple":769,"../internals/fails":808,"../internals/fix-regexp-well-known-symbol-logic":809,"../internals/function-apply":812,"../internals/function-call":816,"../internals/function-uncurry-this":818,"../internals/get-method":822,"../internals/is-regexp":844,"../internals/regexp-exec":885,"../internals/regexp-exec-abstract":884,"../internals/regexp-sticky-helpers":887,"../internals/require-object-coercible":890,"../internals/species-constructor":898,"../internals/to-length":911,"../internals/to-string":916}],980:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/function-uncurry-this");var s=e("../internals/object-get-own-property-descriptor").f;var i=e("../internals/to-length");var a=e("../internals/to-string");var l=e("../internals/not-a-regexp");var u=e("../internals/require-object-coercible");var c=e("../internals/correct-is-regexp-logic");var f=e("../internals/is-pure");var d=o("".startsWith);var p=o("".slice);var _=Math.min;var m=c("startsWith");var y=!f&&!m&&!!function(){var e=s(String.prototype,"startsWith");return e&&!e.writable}();n({target:"String",proto:true,forced:!y&&!m},{startsWith:function e(t){var r=a(u(this));l(t);var n=i(_(arguments.length>1?arguments[1]:undefined,r.length));var o=a(t);return d?d(r,o,n):p(r,n,n+o.length)===o}})},{"../internals/correct-is-regexp-logic":782,"../internals/export":807,"../internals/function-uncurry-this":818,"../internals/is-pure":843,"../internals/not-a-regexp":858,"../internals/object-get-own-property-descriptor":863,"../internals/require-object-coercible":890,"../internals/to-length":911,"../internals/to-string":916}],981:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/string-trim").trim;var s=e("../internals/string-trim-forced");n({target:"String",proto:true,forced:s("trim")},{trim:function e(){return o(this)}})},{"../internals/export":807,"../internals/string-trim":904,"../internals/string-trim-forced":903}],982:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/descriptors");var s=e("../internals/global");var i=e("../internals/function-uncurry-this");var a=e("../internals/has-own-property");var l=e("../internals/is-callable");var u=e("../internals/object-is-prototype-of");var c=e("../internals/to-string");var f=e("../internals/object-define-property").f;var d=e("../internals/copy-constructor-properties");var p=s.Symbol;var _=p&&p.prototype;if(o&&l(p)&&(!("description"in _)||p().description!==undefined)){var m={};var y=function e(){var t=arguments.length<1||arguments[0]===undefined?undefined:c(arguments[0]);var r=u(_,this)?new p(t):t===undefined?p():p(t);if(t==="")m[r]=true;return r};d(y,p);y.prototype=_;_.constructor=y;var v=String(p("test"))=="Symbol(test)";var b=i(_.toString);var h=i(_.valueOf);var j=/^Symbol\((.*)\)[^)]+$/;var g=i("".replace);var w=i("".slice);f(_,"description",{configurable:true,get:function e(){var t=h(this);var r=b(t);if(a(m,t))return"";var n=v?w(r,7,-1):g(r,j,"$1");return n===""?undefined:n}});n({global:true,forced:true},{Symbol:y})}},{"../internals/copy-constructor-properties":781,"../internals/descriptors":792,"../internals/export":807,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/has-own-property":825,"../internals/is-callable":838,"../internals/object-define-property":862,"../internals/object-is-prototype-of":869,"../internals/to-string":916}],983:[function(e,t,r){var n=e("../internals/define-well-known-symbol");n("isConcatSpreadable")},{"../internals/define-well-known-symbol":791}],984:[function(e,t,r){var n=e("../internals/define-well-known-symbol");n("iterator")},{"../internals/define-well-known-symbol":791}],985:[function(e,t,r){"use strict";var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/get-built-in");var i=e("../internals/function-apply");var a=e("../internals/function-call");var l=e("../internals/function-uncurry-this");var u=e("../internals/is-pure");var c=e("../internals/descriptors");var f=e("../internals/native-symbol");var d=e("../internals/fails");var p=e("../internals/has-own-property");var _=e("../internals/is-array");var m=e("../internals/is-callable");var y=e("../internals/is-object");var v=e("../internals/object-is-prototype-of");var b=e("../internals/is-symbol");var h=e("../internals/an-object");var j=e("../internals/to-object");var g=e("../internals/to-indexed-object");var w=e("../internals/to-property-key");var O=e("../internals/to-string");var S=e("../internals/create-property-descriptor");var k=e("../internals/object-create");var A=e("../internals/object-keys");var E=e("../internals/object-get-own-property-names");var x=e("../internals/object-get-own-property-names-external");var M=e("../internals/object-get-own-property-symbols");var P=e("../internals/object-get-own-property-descriptor");var T=e("../internals/object-define-property");var I=e("../internals/object-define-properties");var C=e("../internals/object-property-is-enumerable");var R=e("../internals/array-slice");var N=e("../internals/redefine");var L=e("../internals/shared");var z=e("../internals/shared-key");var D=e("../internals/hidden-keys");var q=e("../internals/uid");var B=e("../internals/well-known-symbol");var U=e("../internals/well-known-symbol-wrapped");var W=e("../internals/define-well-known-symbol");var F=e("../internals/set-to-string-tag");var G=e("../internals/internal-state");var X=e("../internals/array-iteration").forEach;var $=z("hidden");var V="Symbol";var H="prototype";var Y=B("toPrimitive");var K=G.set;var J=G.getterFor(V);var Z=Object[H];var Q=o.Symbol;var ee=Q&&Q[H];var te=o.TypeError;var re=o.QObject;var ne=s("JSON","stringify");var oe=P.f;var se=T.f;var ie=x.f;var ae=C.f;var le=l([].push);var ue=L("symbols");var ce=L("op-symbols");var fe=L("string-to-symbol-registry");var de=L("symbol-to-string-registry");var pe=L("wks");var _e=!re||!re[H]||!re[H].findChild;var me=c&&d((function(){return k(se({},"a",{get:function(){return se(this,"a",{value:7}).a}})).a!=7}))?function(e,t,r){var n=oe(Z,t);if(n)delete Z[t];se(e,t,r);if(n&&e!==Z){se(Z,t,n)}}:se;var ye=function(e,t){var r=ue[e]=k(ee);K(r,{type:V,tag:e,description:t});if(!c)r.description=t;return r};var ve=function e(t,r,n){if(t===Z)ve(ce,r,n);h(t);var o=w(r);h(n);if(p(ue,o)){if(!n.enumerable){if(!p(t,$))se(t,$,S(1,{}));t[$][o]=true}else{if(p(t,$)&&t[$][o])t[$][o]=false;n=k(n,{enumerable:S(0,false)})}return me(t,o,n)}return se(t,o,n)};var be=function e(t,r){h(t);var n=g(r);var o=A(n).concat(Oe(n));X(o,(function(e){if(!c||a(je,n,e))ve(t,e,n[e])}));return t};var he=function e(t,r){return r===undefined?k(t):be(k(t),r)};var je=function e(t){var r=w(t);var n=a(ae,this,r);if(this===Z&&p(ue,r)&&!p(ce,r))return false;return n||!p(this,r)||!p(ue,r)||p(this,$)&&this[$][r]?n:true};var ge=function e(t,r){var n=g(t);var o=w(r);if(n===Z&&p(ue,o)&&!p(ce,o))return;var s=oe(n,o);if(s&&p(ue,o)&&!(p(n,$)&&n[$][o])){s.enumerable=true}return s};var we=function e(t){var r=ie(g(t));var n=[];X(r,(function(e){if(!p(ue,e)&&!p(D,e))le(n,e)}));return n};var Oe=function e(t){var r=t===Z;var n=ie(r?ce:g(t));var o=[];X(n,(function(e){if(p(ue,e)&&(!r||p(Z,e))){le(o,ue[e])}}));return o};if(!f){Q=function e(){if(v(ee,this))throw te("Symbol is not a constructor");var t=!arguments.length||arguments[0]===undefined?undefined:O(arguments[0]);var r=q(t);var n=function(e){if(this===Z)a(n,ce,e);if(p(this,$)&&p(this[$],r))this[$][r]=false;me(this,r,S(1,e))};if(c&&_e)me(Z,r,{configurable:true,set:n});return ye(r,t)};ee=Q[H];N(ee,"toString",(function e(){return J(this).tag}));N(Q,"withoutSetter",(function(e){return ye(q(e),e)}));C.f=je;T.f=ve;I.f=be;P.f=ge;E.f=x.f=we;M.f=Oe;U.f=function(e){return ye(B(e),e)};if(c){se(ee,"description",{configurable:true,get:function e(){return J(this).description}});if(!u){N(Z,"propertyIsEnumerable",je,{unsafe:true})}}}n({global:true,wrap:true,forced:!f,sham:!f},{Symbol:Q});X(A(pe),(function(e){W(e)}));n({target:V,stat:true,forced:!f},{for:function(e){var t=O(e);if(p(fe,t))return fe[t];var r=Q(t);fe[t]=r;de[r]=t;return r},keyFor:function e(t){if(!b(t))throw te(t+" is not a symbol");if(p(de,t))return de[t]},useSetter:function(){_e=true},useSimple:function(){_e=false}});n({target:"Object",stat:true,forced:!f,sham:!c},{create:he,defineProperty:ve,defineProperties:be,getOwnPropertyDescriptor:ge});n({target:"Object",stat:true,forced:!f},{getOwnPropertyNames:we,getOwnPropertySymbols:Oe});n({target:"Object",stat:true,forced:d((function(){M.f(1)}))},{getOwnPropertySymbols:function e(t){return M.f(j(t))}});if(ne){var Se=!f||d((function(){var e=Q();return ne([e])!="[null]"||ne({a:e})!="{}"||ne(Object(e))!="{}"}));n({target:"JSON",stat:true,forced:Se},{stringify:function e(t,r,n){var o=R(arguments);var s=r;if(!y(r)&&t===undefined||b(t))return;if(!_(r))r=function(e,t){if(m(s))t=a(s,this,e,t);if(!b(t))return t};o[1]=r;return i(ne,null,o)}})}if(!ee[Y]){var ke=ee.valueOf;N(ee,Y,(function(e){return a(ke,this)}))}F(Q,V);D[$]=true},{"../internals/an-object":758,"../internals/array-iteration":766,"../internals/array-slice":770,"../internals/create-property-descriptor":787,"../internals/define-well-known-symbol":791,"../internals/descriptors":792,"../internals/export":807,"../internals/fails":808,"../internals/function-apply":812,"../internals/function-call":816,"../internals/function-uncurry-this":818,"../internals/get-built-in":819,"../internals/global":824,"../internals/has-own-property":825,"../internals/hidden-keys":826,"../internals/internal-state":835,"../internals/is-array":837,"../internals/is-callable":838,"../internals/is-object":842,"../internals/is-pure":843,"../internals/is-symbol":845,"../internals/native-symbol":854,"../internals/object-create":860,"../internals/object-define-properties":861,"../internals/object-define-property":862,"../internals/object-get-own-property-descriptor":863,"../internals/object-get-own-property-names":865,"../internals/object-get-own-property-names-external":864,"../internals/object-get-own-property-symbols":866,"../internals/object-is-prototype-of":869,"../internals/object-keys":871,"../internals/object-property-is-enumerable":872,"../internals/redefine":883,"../internals/set-to-string-tag":894,"../internals/shared":897,"../internals/shared-key":895,"../internals/to-indexed-object":909,"../internals/to-object":912,"../internals/to-property-key":914,"../internals/to-string":916,"../internals/uid":918,"../internals/well-known-symbol":923,"../internals/well-known-symbol-wrapped":922}],986:[function(e,t,r){var n=e("../internals/define-well-known-symbol");n("replace")},{"../internals/define-well-known-symbol":791}],987:[function(e,t,r){var n=e("../internals/define-well-known-symbol");n("toPrimitive")},{"../internals/define-well-known-symbol":791}],988:[function(e,t,r){"use strict";var n=e("../internals/global");var o=e("../internals/function-uncurry-this");var s=e("../internals/redefine-all");var i=e("../internals/internal-metadata");var a=e("../internals/collection");var l=e("../internals/collection-weak");var u=e("../internals/is-object");var c=e("../internals/object-is-extensible");var f=e("../internals/internal-state").enforce;var d=e("../internals/native-weak-map");var p=!n.ActiveXObject&&"ActiveXObject"in n;var _;var m=function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}};var y=a("WeakMap",m,l);if(d&&p){_=l.getConstructor(m,"WeakMap",true);i.enable();var v=y.prototype;var b=o(v["delete"]);var h=o(v.has);var j=o(v.get);var g=o(v.set);s(v,{delete:function(e){if(u(e)&&!c(e)){var t=f(this);if(!t.frozen)t.frozen=new _;return b(this,e)||t.frozen["delete"](e)}return b(this,e)},has:function e(t){if(u(t)&&!c(t)){var r=f(this);if(!r.frozen)r.frozen=new _;return h(this,t)||r.frozen.has(t)}return h(this,t)},get:function e(t){if(u(t)&&!c(t)){var r=f(this);if(!r.frozen)r.frozen=new _;return h(this,t)?j(this,t):r.frozen.get(t)}return j(this,t)},set:function e(t,r){if(u(t)&&!c(t)){var n=f(this);if(!n.frozen)n.frozen=new _;h(this,t)?g(this,t,r):n.frozen.set(t,r)}else g(this,t,r);return this}})}},{"../internals/collection":780,"../internals/collection-weak":779,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/internal-metadata":834,"../internals/internal-state":835,"../internals/is-object":842,"../internals/native-weak-map":856,"../internals/object-is-extensible":868,"../internals/redefine-all":882}],989:[function(e,t,r){"use strict";var n=e("../internals/collection");var o=e("../internals/collection-weak");n("WeakSet",(function(e){return function t(){return e(this,arguments.length?arguments[0]:undefined)}}),o)},{"../internals/collection":780,"../internals/collection-weak":779}],990:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/dom-iterables");var s=e("../internals/dom-token-list-prototype");var i=e("../internals/array-for-each");var a=e("../internals/create-non-enumerable-property");var l=function(e){if(e&&e.forEach!==i)try{a(e,"forEach",i)}catch(t){e.forEach=i}};for(var u in o){if(o[u]){l(n[u]&&n[u].prototype)}}l(s)},{"../internals/array-for-each":763,"../internals/create-non-enumerable-property":786,"../internals/dom-iterables":794,"../internals/dom-token-list-prototype":795,"../internals/global":824}],991:[function(e,t,r){var n=e("../internals/global");var o=e("../internals/dom-iterables");var s=e("../internals/dom-token-list-prototype");var i=e("../modules/es.array.iterator");var a=e("../internals/create-non-enumerable-property");var l=e("../internals/well-known-symbol");var u=l("iterator");var c=l("toStringTag");var f=i.values;var d=function(e,t){if(e){if(e[u]!==f)try{a(e,u,f)}catch(t){e[u]=f}if(!e[c]){a(e,c,t)}if(o[t])for(var r in i){if(e[r]!==i[r])try{a(e,r,i[r])}catch(t){e[r]=i[r]}}}};for(var p in o){d(n[p]&&n[p].prototype,p)}d(s,"DOMTokenList")},{"../internals/create-non-enumerable-property":786,"../internals/dom-iterables":794,"../internals/dom-token-list-prototype":795,"../internals/global":824,"../internals/well-known-symbol":923,"../modules/es.array.iterator":934}],992:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/task");var i=!o.setImmediate||!o.clearImmediate;n({global:true,bind:true,enumerable:true,forced:i},{setImmediate:s.set,clearImmediate:s.clear})},{"../internals/export":807,"../internals/global":824,"../internals/task":905}],993:[function(e,t,r){var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/microtask");var i=e("../internals/engine-is-node");var a=o.process;n({global:true,enumerable:true,noTargetGet:true},{queueMicrotask:function e(t){var r=i&&a.domain;s(r?r.bind(t):t)}})},{"../internals/engine-is-node":801,"../internals/export":807,"../internals/global":824,"../internals/microtask":852}],994:[function(e,t,r){"use strict";e("../modules/es.array.iterator");var n=e("../internals/export");var o=e("../internals/global");var s=e("../internals/get-built-in");var i=e("../internals/function-call");var a=e("../internals/function-uncurry-this");var l=e("../internals/native-url");var u=e("../internals/redefine");var c=e("../internals/redefine-all");var f=e("../internals/set-to-string-tag");var d=e("../internals/create-iterator-constructor");var p=e("../internals/internal-state");var _=e("../internals/an-instance");var m=e("../internals/is-callable");var y=e("../internals/has-own-property");var v=e("../internals/function-bind-context");var b=e("../internals/classof");var h=e("../internals/an-object");var j=e("../internals/is-object");var g=e("../internals/to-string");var w=e("../internals/object-create");var O=e("../internals/create-property-descriptor");var S=e("../internals/get-iterator");var k=e("../internals/get-iterator-method");var A=e("../internals/validate-arguments-length");var E=e("../internals/well-known-symbol");var x=e("../internals/array-sort");var M=E("iterator");var P="URLSearchParams";var T=P+"Iterator";var I=p.set;var C=p.getterFor(P);var R=p.getterFor(T);var N=s("fetch");var L=s("Request");var z=s("Headers");var D=L&&L.prototype;var q=z&&z.prototype;var B=o.RegExp;var U=o.TypeError;var W=o.decodeURIComponent;var F=o.encodeURIComponent;var G=a("".charAt);var X=a([].join);var $=a([].push);var V=a("".replace);var H=a([].shift);var Y=a([].splice);var K=a("".split);var J=a("".slice);var Z=/\+/g;var Q=Array(4);var ee=function(e){return Q[e-1]||(Q[e-1]=B("((?:%[\\da-f]{2}){"+e+"})","gi"))};var te=function(e){try{return W(e)}catch(t){return e}};var re=function(e){var t=V(e,Z," ");var r=4;try{return W(t)}catch(e){while(r){t=V(t,ee(r--),te)}return t}};var ne=/[!'()~]|%20/g;var oe={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"};var se=function(e){return oe[e]};var ie=function(e){return V(F(e),ne,se)};var ae=d((function e(t,r){I(this,{type:T,iterator:S(C(t).entries),kind:r})}),"Iterator",(function e(){var t=R(this);var r=t.kind;var n=t.iterator.next();var o=n.value;if(!n.done){n.value=r==="keys"?o.key:r==="values"?o.value:[o.key,o.value]}return n}),true);var le=function(e){this.entries=[];this.url=null;if(e!==undefined){if(j(e))this.parseObject(e);else this.parseQuery(typeof e=="string"?G(e,0)==="?"?J(e,1):e:g(e))}};le.prototype={type:P,bindURL:function(e){this.url=e;this.update()},parseObject:function(e){var t=k(e);var r,n,o,s,a,l,u;if(t){r=S(e,t);n=r.next;while(!(o=i(n,r)).done){s=S(h(o.value));a=s.next;if((l=i(a,s)).done||(u=i(a,s)).done||!i(a,s).done)throw U("Expected sequence with length 2");$(this.entries,{key:g(l.value),value:g(u.value)})}}else for(var c in e)if(y(e,c)){$(this.entries,{key:c,value:g(e[c])})}},parseQuery:function(e){if(e){var t=K(e,"&");var r=0;var n,o;while(r<t.length){n=t[r++];if(n.length){o=K(n,"=");$(this.entries,{key:re(H(o)),value:re(X(o,"="))})}}}},serialize:function(){var e=this.entries;var t=[];var r=0;var n;while(r<e.length){n=e[r++];$(t,ie(n.key)+"="+ie(n.value))}return X(t,"&")},update:function(){this.entries.length=0;this.parseQuery(this.url.query)},updateURL:function(){if(this.url)this.url.update()}};var ue=function e(){_(this,ce);var t=arguments.length>0?arguments[0]:undefined;I(this,new le(t))};var ce=ue.prototype;c(ce,{append:function e(t,r){A(arguments.length,2);var n=C(this);$(n.entries,{key:g(t),value:g(r)});n.updateURL()},delete:function(e){A(arguments.length,1);var t=C(this);var r=t.entries;var n=g(e);var o=0;while(o<r.length){if(r[o].key===n)Y(r,o,1);else o++}t.updateURL()},get:function e(t){A(arguments.length,1);var r=C(this).entries;var n=g(t);var o=0;for(;o<r.length;o++){if(r[o].key===n)return r[o].value}return null},getAll:function e(t){A(arguments.length,1);var r=C(this).entries;var n=g(t);var o=[];var s=0;for(;s<r.length;s++){if(r[s].key===n)$(o,r[s].value)}return o},has:function e(t){A(arguments.length,1);var r=C(this).entries;var n=g(t);var o=0;while(o<r.length){if(r[o++].key===n)return true}return false},set:function e(t,r){A(arguments.length,1);var n=C(this);var o=n.entries;var s=false;var i=g(t);var a=g(r);var l=0;var u;for(;l<o.length;l++){u=o[l];if(u.key===i){if(s)Y(o,l--,1);else{s=true;u.value=a}}}if(!s)$(o,{key:i,value:a});n.updateURL()},sort:function e(){var t=C(this);x(t.entries,(function(e,t){return e.key>t.key?1:-1}));t.updateURL()},forEach:function e(t){var r=C(this).entries;var n=v(t,arguments.length>1?arguments[1]:undefined);var o=0;var s;while(o<r.length){s=r[o++];n(s.value,s.key,this)}},keys:function e(){return new ae(this,"keys")},values:function e(){return new ae(this,"values")},entries:function e(){return new ae(this,"entries")}},{enumerable:true});u(ce,M,ce.entries,{name:"entries"});u(ce,"toString",(function e(){return C(this).serialize()}),{enumerable:true});f(ue,P);n({global:true,forced:!l},{URLSearchParams:ue});if(!l&&m(z)){var fe=a(q.has);var de=a(q.set);var pe=function(e){if(j(e)){var t=e.body;var r;if(b(t)===P){r=e.headers?new z(e.headers):new z;if(!fe(r,"content-type")){de(r,"content-type","application/x-www-form-urlencoded;charset=UTF-8")}return w(e,{body:O(0,g(t)),headers:O(0,r)})}}return e};if(m(N)){n({global:true,enumerable:true,forced:true},{fetch:function e(t){return N(t,arguments.length>1?pe(arguments[1]):{})}})}if(m(L)){var _e=function e(t){_(this,D);return new L(t,arguments.length>1?pe(arguments[1]):{})};D.constructor=_e;_e.prototype=D;n({global:true,forced:true},{Request:_e})}}t.exports={URLSearchParams:ue,getState:C}},{"../internals/an-instance":757,"../internals/an-object":758,"../internals/array-sort":771,"../internals/classof":777,"../internals/create-iterator-constructor":785,"../internals/create-property-descriptor":787,"../internals/export":807,"../internals/function-bind-context":813,"../internals/function-call":816,"../internals/function-uncurry-this":818,"../internals/get-built-in":819,"../internals/get-iterator":821,"../internals/get-iterator-method":820,"../internals/global":824,"../internals/has-own-property":825,"../internals/internal-state":835,"../internals/is-callable":838,"../internals/is-object":842,"../internals/native-url":855,"../internals/object-create":860,"../internals/redefine":883,"../internals/redefine-all":882,"../internals/set-to-string-tag":894,"../internals/to-string":916,"../internals/validate-arguments-length":921,"../internals/well-known-symbol":923,"../modules/es.array.iterator":934}],995:[function(e,t,r){"use strict";e("../modules/es.string.iterator");var n=e("../internals/export");var o=e("../internals/descriptors");var s=e("../internals/native-url");var i=e("../internals/global");var a=e("../internals/function-bind-context");var l=e("../internals/function-uncurry-this");var u=e("../internals/object-define-properties").f;var c=e("../internals/redefine");var f=e("../internals/an-instance");var d=e("../internals/has-own-property");var p=e("../internals/object-assign");var _=e("../internals/array-from");var m=e("../internals/array-slice-simple");var y=e("../internals/string-multibyte").codeAt;var v=e("../internals/string-punycode-to-ascii");var b=e("../internals/to-string");var h=e("../internals/set-to-string-tag");var j=e("../modules/web.url-search-params");var g=e("../internals/internal-state");var w=g.set;var O=g.getterFor("URL");var S=j.URLSearchParams;var k=j.getState;var A=i.URL;var E=i.TypeError;var x=i.parseInt;var M=Math.floor;var P=Math.pow;var T=l("".charAt);var I=l(/./.exec);var C=l([].join);var R=l(1..toString);var N=l([].pop);var L=l([].push);var z=l("".replace);var D=l([].shift);var q=l("".split);var B=l("".slice);var U=l("".toLowerCase);var W=l([].unshift);var F="Invalid authority";var G="Invalid scheme";var X="Invalid host";var $="Invalid port";var V=/[a-z]/i;var H=/[\d+-.a-z]/i;var Y=/\d/;var K=/^0x/i;var J=/^[0-7]+$/;var Z=/^\d+$/;var Q=/^[\da-f]+$/i;var ee=/[\0\t\n\r #%/:<>?@[\\\]^|]/;var te=/[\0\t\n\r #/:<>?@[\\\]^|]/;var re=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g;var ne=/[\t\n\r]/g;var oe;var se=function(e){var t=q(e,".");var r,n,o,s,i,a,l;if(t.length&&t[t.length-1]==""){t.length--}r=t.length;if(r>4)return e;n=[];for(o=0;o<r;o++){s=t[o];if(s=="")return e;i=10;if(s.length>1&&T(s,0)=="0"){i=I(K,s)?16:8;s=B(s,i==8?1:2)}if(s===""){a=0}else{if(!I(i==10?Z:i==8?J:Q,s))return e;a=x(s,i)}L(n,a)}for(o=0;o<r;o++){a=n[o];if(o==r-1){if(a>=P(256,5-r))return null}else if(a>255)return null}l=N(n);for(o=0;o<n.length;o++){l+=n[o]*P(256,3-o)}return l};var ie=function(e){var t=[0,0,0,0,0,0,0,0];var r=0;var n=null;var o=0;var s,i,a,l,u,c,f;var d=function(){return T(e,o)};if(d()==":"){if(T(e,1)!=":")return;o+=2;r++;n=r}while(d()){if(r==8)return;if(d()==":"){if(n!==null)return;o++;r++;n=r;continue}s=i=0;while(i<4&&I(Q,d())){s=s*16+x(d(),16);o++;i++}if(d()=="."){if(i==0)return;o-=i;if(r>6)return;a=0;while(d()){l=null;if(a>0){if(d()=="."&&a<4)o++;else return}if(!I(Y,d()))return;while(I(Y,d())){u=x(d(),10);if(l===null)l=u;else if(l==0)return;else l=l*10+u;if(l>255)return;o++}t[r]=t[r]*256+l;a++;if(a==2||a==4)r++}if(a!=4)return;break}else if(d()==":"){o++;if(!d())return}else if(d())return;t[r++]=s}if(n!==null){c=r-n;r=7;while(r!=0&&c>0){f=t[r];t[r--]=t[n+c-1];t[n+--c]=f}}else if(r!=8)return;return t};var ae=function(e){var t=null;var r=1;var n=null;var o=0;var s=0;for(;s<8;s++){if(e[s]!==0){if(o>r){t=n;r=o}n=null;o=0}else{if(n===null)n=s;++o}}if(o>r){t=n;r=o}return t};var le=function(e){var t,r,n,o;if(typeof e=="number"){t=[];for(r=0;r<4;r++){W(t,e%256);e=M(e/256)}return C(t,".")}else if(typeof e=="object"){t="";n=ae(e);for(r=0;r<8;r++){if(o&&e[r]===0)continue;if(o)o=false;if(n===r){t+=r?":":"::";o=true}else{t+=R(e[r],16);if(r<7)t+=":"}}return"["+t+"]"}return e};var ue={};var ce=p({},ue,{" ":1,'"':1,"<":1,">":1,"`":1});var fe=p({},ce,{"#":1,"?":1,"{":1,"}":1});var de=p({},fe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1});var pe=function(e,t){var r=y(e,0);return r>32&&r<127&&!d(t,e)?e:encodeURIComponent(e)};var _e={ftp:21,file:null,http:80,https:443,ws:80,wss:443};var me=function(e,t){var r;return e.length==2&&I(V,T(e,0))&&((r=T(e,1))==":"||!t&&r=="|")};var ye=function(e){var t;return e.length>1&&me(B(e,0,2))&&(e.length==2||((t=T(e,2))==="/"||t==="\\"||t==="?"||t==="#"))};var ve=function(e){return e==="."||U(e)==="%2e"};var be=function(e){e=U(e);return e===".."||e==="%2e."||e===".%2e"||e==="%2e%2e"};var he={};var je={};var ge={};var we={};var Oe={};var Se={};var ke={};var Ae={};var Ee={};var xe={};var Me={};var Pe={};var Te={};var Ie={};var Ce={};var Re={};var Ne={};var Le={};var ze={};var De={};var qe={};var Be=function(e,t,r){var n=b(e);var o,s,i;if(t){s=this.parse(n);if(s)throw E(s);this.searchParams=null}else{if(r!==undefined)o=new Be(r,true);s=this.parse(n,null,o);if(s)throw E(s);i=k(new S);i.bindURL(this);this.searchParams=i}};Be.prototype={type:"URL",parse:function(e,t,r){var n=this;var o=t||he;var s=0;var i="";var a=false;var l=false;var u=false;var c,f,p,y;e=b(e);if(!t){n.scheme="";n.username="";n.password="";n.host=null;n.port=null;n.path=[];n.query=null;n.fragment=null;n.cannotBeABaseURL=false;e=z(e,re,"")}e=z(e,ne,"");c=_(e);while(s<=c.length){f=c[s];switch(o){case he:if(f&&I(V,f)){i+=U(f);o=je}else if(!t){o=ge;continue}else return G;break;case je:if(f&&(I(H,f)||f=="+"||f=="-"||f==".")){i+=U(f)}else if(f==":"){if(t&&(n.isSpecial()!=d(_e,i)||i=="file"&&(n.includesCredentials()||n.port!==null)||n.scheme=="file"&&!n.host))return;n.scheme=i;if(t){if(n.isSpecial()&&_e[n.scheme]==n.port)n.port=null;return}i="";if(n.scheme=="file"){o=Ie}else if(n.isSpecial()&&r&&r.scheme==n.scheme){o=we}else if(n.isSpecial()){o=Ae}else if(c[s+1]=="/"){o=Oe;s++}else{n.cannotBeABaseURL=true;L(n.path,"");o=ze}}else if(!t){i="";o=ge;s=0;continue}else return G;break;case ge:if(!r||r.cannotBeABaseURL&&f!="#")return G;if(r.cannotBeABaseURL&&f=="#"){n.scheme=r.scheme;n.path=m(r.path);n.query=r.query;n.fragment="";n.cannotBeABaseURL=true;o=qe;break}o=r.scheme=="file"?Ie:Se;continue;case we:if(f=="/"&&c[s+1]=="/"){o=Ee;s++}else{o=Se;continue}break;case Oe:if(f=="/"){o=xe;break}else{o=Le;continue}case Se:n.scheme=r.scheme;if(f==oe){n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=m(r.path);n.query=r.query}else if(f=="/"||f=="\\"&&n.isSpecial()){o=ke}else if(f=="?"){n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=m(r.path);n.query="";o=De}else if(f=="#"){n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=m(r.path);n.query=r.query;n.fragment="";o=qe}else{n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;n.path=m(r.path);n.path.length--;o=Le;continue}break;case ke:if(n.isSpecial()&&(f=="/"||f=="\\")){o=Ee}else if(f=="/"){o=xe}else{n.username=r.username;n.password=r.password;n.host=r.host;n.port=r.port;o=Le;continue}break;case Ae:o=Ee;if(f!="/"||T(i,s+1)!="/")continue;s++;break;case Ee:if(f!="/"&&f!="\\"){o=xe;continue}break;case xe:if(f=="@"){if(a)i="%40"+i;a=true;p=_(i);for(var v=0;v<p.length;v++){var h=p[v];if(h==":"&&!u){u=true;continue}var j=pe(h,de);if(u)n.password+=j;else n.username+=j}i=""}else if(f==oe||f=="/"||f=="?"||f=="#"||f=="\\"&&n.isSpecial()){if(a&&i=="")return F;s-=_(i).length+1;i="";o=Me}else i+=f;break;case Me:case Pe:if(t&&n.scheme=="file"){o=Re;continue}else if(f==":"&&!l){if(i=="")return X;y=n.parseHost(i);if(y)return y;i="";o=Te;if(t==Pe)return}else if(f==oe||f=="/"||f=="?"||f=="#"||f=="\\"&&n.isSpecial()){if(n.isSpecial()&&i=="")return X;if(t&&i==""&&(n.includesCredentials()||n.port!==null))return;y=n.parseHost(i);if(y)return y;i="";o=Ne;if(t)return;continue}else{if(f=="[")l=true;else if(f=="]")l=false;i+=f}break;case Te:if(I(Y,f)){i+=f}else if(f==oe||f=="/"||f=="?"||f=="#"||f=="\\"&&n.isSpecial()||t){if(i!=""){var g=x(i,10);if(g>65535)return $;n.port=n.isSpecial()&&g===_e[n.scheme]?null:g;i=""}if(t)return;o=Ne;continue}else return $;break;case Ie:n.scheme="file";if(f=="/"||f=="\\")o=Ce;else if(r&&r.scheme=="file"){if(f==oe){n.host=r.host;n.path=m(r.path);n.query=r.query}else if(f=="?"){n.host=r.host;n.path=m(r.path);n.query="";o=De}else if(f=="#"){n.host=r.host;n.path=m(r.path);n.query=r.query;n.fragment="";o=qe}else{if(!ye(C(m(c,s),""))){n.host=r.host;n.path=m(r.path);n.shortenPath()}o=Le;continue}}else{o=Le;continue}break;case Ce:if(f=="/"||f=="\\"){o=Re;break}if(r&&r.scheme=="file"&&!ye(C(m(c,s),""))){if(me(r.path[0],true))L(n.path,r.path[0]);else n.host=r.host}o=Le;continue;case Re:if(f==oe||f=="/"||f=="\\"||f=="?"||f=="#"){if(!t&&me(i)){o=Le}else if(i==""){n.host="";if(t)return;o=Ne}else{y=n.parseHost(i);if(y)return y;if(n.host=="localhost")n.host="";if(t)return;i="";o=Ne}continue}else i+=f;break;case Ne:if(n.isSpecial()){o=Le;if(f!="/"&&f!="\\")continue}else if(!t&&f=="?"){n.query="";o=De}else if(!t&&f=="#"){n.fragment="";o=qe}else if(f!=oe){o=Le;if(f!="/")continue}break;case Le:if(f==oe||f=="/"||f=="\\"&&n.isSpecial()||!t&&(f=="?"||f=="#")){if(be(i)){n.shortenPath();if(f!="/"&&!(f=="\\"&&n.isSpecial())){L(n.path,"")}}else if(ve(i)){if(f!="/"&&!(f=="\\"&&n.isSpecial())){L(n.path,"")}}else{if(n.scheme=="file"&&!n.path.length&&me(i)){if(n.host)n.host="";i=T(i,0)+":"}L(n.path,i)}i="";if(n.scheme=="file"&&(f==oe||f=="?"||f=="#")){while(n.path.length>1&&n.path[0]===""){D(n.path)}}if(f=="?"){n.query="";o=De}else if(f=="#"){n.fragment="";o=qe}}else{i+=pe(f,fe)}break;case ze:if(f=="?"){n.query="";o=De}else if(f=="#"){n.fragment="";o=qe}else if(f!=oe){n.path[0]+=pe(f,ue)}break;case De:if(!t&&f=="#"){n.fragment="";o=qe}else if(f!=oe){if(f=="'"&&n.isSpecial())n.query+="%27";else if(f=="#")n.query+="%23";else n.query+=pe(f,ue)}break;case qe:if(f!=oe)n.fragment+=pe(f,ce);break}s++}},parseHost:function(e){var t,r,n;if(T(e,0)=="["){if(T(e,e.length-1)!="]")return X;t=ie(B(e,1,-1));if(!t)return X;this.host=t}else if(!this.isSpecial()){if(I(te,e))return X;t="";r=_(e);for(n=0;n<r.length;n++){t+=pe(r[n],ue)}this.host=t}else{e=v(e);if(I(ee,e))return X;t=se(e);if(t===null)return X;this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||this.scheme=="file"},includesCredentials:function(){return this.username!=""||this.password!=""},isSpecial:function(){return d(_e,this.scheme)},shortenPath:function(){var e=this.path;var t=e.length;if(t&&(this.scheme!="file"||t!=1||!me(e[0],true))){e.length--}},serialize:function(){var e=this;var t=e.scheme;var r=e.username;var n=e.password;var o=e.host;var s=e.port;var i=e.path;var a=e.query;var l=e.fragment;var u=t+":";if(o!==null){u+="//";if(e.includesCredentials()){u+=r+(n?":"+n:"")+"@"}u+=le(o);if(s!==null)u+=":"+s}else if(t=="file")u+="//";u+=e.cannotBeABaseURL?i[0]:i.length?"/"+C(i,"/"):"";if(a!==null)u+="?"+a;if(l!==null)u+="#"+l;return u},setHref:function(e){var t=this.parse(e);if(t)throw E(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme;var t=this.port;if(e=="blob")try{return new Ue(e.path[0]).origin}catch(e){return"null"}if(e=="file"||!this.isSpecial())return"null";return e+"://"+le(this.host)+(t!==null?":"+t:"")},getProtocol:function(){return this.scheme+":"},setProtocol:function(e){this.parse(b(e)+":",he)},getUsername:function(){return this.username},setUsername:function(e){var t=_(b(e));if(this.cannotHaveUsernamePasswordPort())return;this.username="";for(var r=0;r<t.length;r++){this.username+=pe(t[r],de)}},getPassword:function(){return this.password},setPassword:function(e){var t=_(b(e));if(this.cannotHaveUsernamePasswordPort())return;this.password="";for(var r=0;r<t.length;r++){this.password+=pe(t[r],de)}},getHost:function(){var e=this.host;var t=this.port;return e===null?"":t===null?le(e):le(e)+":"+t},setHost:function(e){if(this.cannotBeABaseURL)return;this.parse(e,Me)},getHostname:function(){var e=this.host;return e===null?"":le(e)},setHostname:function(e){if(this.cannotBeABaseURL)return;this.parse(e,Pe)},getPort:function(){var e=this.port;return e===null?"":b(e)},setPort:function(e){if(this.cannotHaveUsernamePasswordPort())return;e=b(e);if(e=="")this.port=null;else this.parse(e,Te)},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?"/"+C(e,"/"):""},setPathname:function(e){if(this.cannotBeABaseURL)return;this.path=[];this.parse(e,Ne)},getSearch:function(){var e=this.query;return e?"?"+e:""},setSearch:function(e){e=b(e);if(e==""){this.query=null}else{if("?"==T(e,0))e=B(e,1);this.query="";this.parse(e,De)}this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?"#"+e:""},setHash:function(e){e=b(e);if(e==""){this.fragment=null;return}if("#"==T(e,0))e=B(e,1);this.fragment="";this.parse(e,qe)},update:function(){this.query=this.searchParams.serialize()||null}};var Ue=function e(t){var r=f(this,We);var n=arguments.length>1?arguments[1]:undefined;var s=w(r,new Be(t,false,n));if(!o){r.href=s.serialize();r.origin=s.getOrigin();r.protocol=s.getProtocol();r.username=s.getUsername();r.password=s.getPassword();r.host=s.getHost();r.hostname=s.getHostname();r.port=s.getPort();r.pathname=s.getPathname();r.search=s.getSearch();r.searchParams=s.getSearchParams();r.hash=s.getHash()}};var We=Ue.prototype;var Fe=function(e,t){return{get:function(){return O(this)[e]()},set:t&&function(e){return O(this)[t](e)},configurable:true,enumerable:true}};if(o){u(We,{href:Fe("serialize","setHref"),origin:Fe("getOrigin"),protocol:Fe("getProtocol","setProtocol"),username:Fe("getUsername","setUsername"),password:Fe("getPassword","setPassword"),host:Fe("getHost","setHost"),hostname:Fe("getHostname","setHostname"),port:Fe("getPort","setPort"),pathname:Fe("getPathname","setPathname"),search:Fe("getSearch","setSearch"),searchParams:Fe("getSearchParams"),hash:Fe("getHash","setHash")})}c(We,"toJSON",(function e(){return O(this).serialize()}),{enumerable:true});c(We,"toString",(function e(){return O(this).serialize()}),{enumerable:true});if(A){var Ge=A.createObjectURL;var Xe=A.revokeObjectURL;if(Ge)c(Ue,"createObjectURL",a(Ge,A));if(Xe)c(Ue,"revokeObjectURL",a(Xe,A))}h(Ue,"URL");n({global:true,forced:!s,sham:!o},{URL:Ue})},{"../internals/an-instance":757,"../internals/array-from":764,"../internals/array-slice-simple":769,"../internals/descriptors":792,"../internals/export":807,"../internals/function-bind-context":813,"../internals/function-uncurry-this":818,"../internals/global":824,"../internals/has-own-property":825,"../internals/internal-state":835,"../internals/native-url":855,"../internals/object-assign":859,"../internals/object-define-properties":861,"../internals/redefine":883,"../internals/set-to-string-tag":894,"../internals/string-multibyte":900,"../internals/string-punycode-to-ascii":901,"../internals/to-string":916,"../modules/es.string.iterator":974,"../modules/web.url-search-params":994}],996:[function(e,t,r){(function(e){(function(){function t(e){if(Array.isArray){return Array.isArray(e)}return y(e)==="[object Array]"}r.isArray=t;function n(e){return typeof e==="boolean"}r.isBoolean=n;function o(e){return e===null}r.isNull=o;function s(e){return e==null}r.isNullOrUndefined=s;function i(e){return typeof e==="number"}r.isNumber=i;function a(e){return typeof e==="string"}r.isString=a;function l(e){return typeof e==="symbol"}r.isSymbol=l;function u(e){return e===void 0}r.isUndefined=u;function c(e){return y(e)==="[object RegExp]"}r.isRegExp=c;function f(e){return typeof e==="object"&&e!==null}r.isObject=f;function d(e){return y(e)==="[object Date]"}r.isDate=d;function p(e){return y(e)==="[object Error]"||e instanceof Error}r.isError=p;function _(e){return typeof e==="function"}r.isFunction=_;function m(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=m;r.isBuffer=e.isBuffer;function y(e){return Object.prototype.toString.call(e)}}).call(this)}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":1060}],997:[function(e,t,r){"use strict";var n=e("inherits");var o=e("md5.js");var s=e("ripemd160");var i=e("sha.js");var a=e("cipher-base");function l(e){a.call(this,"digest");this._hash=e}n(l,a);l.prototype._update=function(e){this._hash.update(e)};l.prototype._final=function(){return this._hash.digest()};t.exports=function e(t){t=t.toLowerCase();if(t==="md5")return new o;if(t==="rmd160"||t==="ripemd160")return new s;return new l(i(t))}},{"cipher-base":751,inherits:1059,"md5.js":1204,ripemd160:1253,"sha.js":1264}],998:[function(e,t,r){var n=e("md5.js");t.exports=function(e){return(new n).update(e).digest()}},{"md5.js":1204}],999:[function(e,t,r){"use strict";var n=e("type/value/is"),o=e("type/plain-function/is"),s=e("es5-ext/object/assign"),i=e("es5-ext/object/normalize-options"),a=e("es5-ext/string/#/contains");var l=t.exports=function(e,t){var r,o,l,u,c;if(arguments.length<2||typeof e!=="string"){u=t;t=e;e=null}else{u=arguments[2]}if(n(e)){r=a.call(e,"c");o=a.call(e,"e");l=a.call(e,"w")}else{r=l=true;o=false}c={value:t,configurable:r,enumerable:o,writable:l};return!u?c:s(i(u),c)};l.gs=function(e,t,r){var l,u,c,f;if(typeof e!=="string"){c=r;r=t;t=e;e=null}else{c=arguments[3]}if(!n(t)){t=undefined}else if(!o(t)){c=t;t=r=undefined}else if(!n(r)){r=undefined}else if(!o(r)){c=r;r=undefined}if(n(e)){l=a.call(e,"c");u=a.call(e,"e")}else{l=true;u=false}f={get:t,set:r,configurable:l,enumerable:u};return!c?f:s(i(c),f)}},{"es5-ext/object/assign":1019,"es5-ext/object/normalize-options":1031,"es5-ext/string/#/contains":1038,"type/plain-function/is":1295,"type/value/is":1297}],1e3:[function(e,t,r){"use strict";var n=e("../../number/is-nan"),o=e("../../number/to-pos-integer"),s=e("../../object/valid-value"),i=Array.prototype.indexOf,a=Object.prototype.hasOwnProperty,l=Math.abs,u=Math.floor;t.exports=function(e){var t,r,c,f;if(!n(e))return i.apply(this,arguments);r=o(s(this).length);c=arguments[1];if(isNaN(c))c=0;else if(c>=0)c=u(c);else c=o(this.length)-u(l(c));for(t=c;t<r;++t){if(a.call(this,t)){f=this[t];if(n(f))return t}}return-1}},{"../../number/is-nan":1013,"../../number/to-pos-integer":1017,"../../object/valid-value":1034}],1001:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Array.from:e("./shim")},{"./is-implemented":1002,"./shim":1003}],1002:[function(e,t,r){"use strict";t.exports=function(){var e=Array.from,t,r;if(typeof e!=="function")return false;t=["raz","dwa"];r=e(t);return Boolean(r&&r!==t&&r[1]==="dwa")}},{}],1003:[function(e,t,r){"use strict";var n=e("es6-symbol").iterator,o=e("../../function/is-arguments"),s=e("../../function/is-function"),i=e("../../number/to-pos-integer"),a=e("../../object/valid-callable"),l=e("../../object/valid-value"),u=e("../../object/is-value"),c=e("../../string/is-string"),f=Array.isArray,d=Function.prototype.call,p={configurable:true,enumerable:true,writable:true,value:null},_=Object.defineProperty;t.exports=function(e){var t=arguments[1],r=arguments[2],m,y,v,b,h,j,g,w,O,S;e=Object(l(e));if(u(t))a(t);if(!this||this===Array||!s(this)){if(!t){if(o(e)){h=e.length;if(h!==1)return Array.apply(null,e);b=new Array(1);b[0]=e[0];return b}if(f(e)){b=new Array(h=e.length);for(y=0;y<h;++y)b[y]=e[y];return b}}b=[]}else{m=this}if(!f(e)){if((O=e[n])!==undefined){g=a(O).call(e);if(m)b=new m;w=g.next();y=0;while(!w.done){S=t?d.call(t,r,w.value,y):w.value;if(m){p.value=S;_(b,y,p)}else{b[y]=S}w=g.next();++y}h=y}else if(c(e)){h=e.length;if(m)b=new m;for(y=0,v=0;y<h;++y){S=e[y];if(y+1<h){j=S.charCodeAt(0);if(j>=55296&&j<=56319)S+=e[++y]}S=t?d.call(t,r,S,v):S;if(m){p.value=S;_(b,v,p)}else{b[v]=S}++v}h=v}}if(h===undefined){h=i(e.length);if(m)b=new m(h);for(y=0;y<h;++y){S=t?d.call(t,r,e[y],y):e[y];if(m){p.value=S;_(b,y,p)}else{b[y]=S}}}if(m){p.value=null;b.length=h}return b}},{"../../function/is-arguments":1007,"../../function/is-function":1008,"../../number/to-pos-integer":1017,"../../object/is-value":1025,"../../object/valid-callable":1033,"../../object/valid-value":1034,"../../string/is-string":1041,"es6-symbol":1043}],1004:[function(e,t,r){"use strict";var n=e("./from"),o=Array.isArray;t.exports=function(e){return o(e)?e:n(e)}},{"./from":1001}],1005:[function(e,t,r){"use strict";var n=e("../object/assign"),o=e("../object/is-object"),s=e("../object/is-value"),i=Error.captureStackTrace;t.exports=function(e){var r=new Error(e),a=arguments[1],l=arguments[2];if(!s(l)){if(o(a)){l=a;a=null}}if(s(l))n(r,l);if(s(a))r.code=a;if(i)i(r,t.exports);return r}},{"../object/assign":1019,"../object/is-object":1024,"../object/is-value":1025}],1006:[function(e,t,r){"use strict";var n=e("../number/to-pos-integer");var o=function(e,t){return t};var s,i,a,l;try{Object.defineProperty(o,"length",{configurable:true,writable:false,enumerable:false,value:1})}catch(e){}if(o.length===1){s={configurable:true,writable:false,enumerable:false};i=Object.defineProperty;t.exports=function(e,t){t=n(t);if(e.length===t)return e;s.value=t;return i(e,"length",s)}}else{l=e("../object/mixin");a=function(){var e=[];return function(t){var r,n=0;if(e[t])return e[t];r=[];while(t--)r.push("a"+(++n).toString(36));return new Function("fn","return function ("+r.join(", ")+") { return fn.apply(this, arguments); };")}}();t.exports=function(e,t){var r;t=n(t);if(e.length===t)return e;r=a(t)(e);try{l(r,e)}catch(e){}return r}}},{"../number/to-pos-integer":1017,"../object/mixin":1030}],1007:[function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call(function(){return arguments}());t.exports=function(e){return n.call(e)===o}},{}],1008:[function(e,t,r){"use strict";var n=Object.prototype.toString,o=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);t.exports=function(e){return typeof e==="function"&&o(n.call(e))}},{}],1009:[function(e,t,r){"use strict";t.exports=function(){}},{}],1010:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Math.sign:e("./shim")},{"./is-implemented":1011,"./shim":1012}],1011:[function(e,t,r){"use strict";t.exports=function(){var e=Math.sign;if(typeof e!=="function")return false;return e(10)===1&&e(-20)===-1}},{}],1012:[function(e,t,r){"use strict";t.exports=function(e){e=Number(e);if(isNaN(e)||e===0)return e;return e>0?1:-1}},{}],1013:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Number.isNaN:e("./shim")},{"./is-implemented":1014,"./shim":1015}],1014:[function(e,t,r){"use strict";t.exports=function(){var e=Number.isNaN;if(typeof e!=="function")return false;return!e({})&&e(NaN)&&!e(34)}},{}],1015:[function(e,t,r){"use strict";t.exports=function(e){return e!==e}},{}],1016:[function(e,t,r){"use strict";var n=e("../math/sign"),o=Math.abs,s=Math.floor;t.exports=function(e){if(isNaN(e))return 0;e=Number(e);if(e===0||!isFinite(e))return e;return n(e)*s(o(e))}},{"../math/sign":1010}],1017:[function(e,t,r){"use strict";var n=e("./to-integer"),o=Math.max;t.exports=function(e){return o(0,n(e))}},{"./to-integer":1016}],1018:[function(e,t,r){"use strict";var n=e("./valid-callable"),o=e("./valid-value"),s=Function.prototype.bind,i=Function.prototype.call,a=Object.keys,l=Object.prototype.propertyIsEnumerable;t.exports=function(e,t){return function(r,u){var c,f=arguments[2],d=arguments[3];r=Object(o(r));n(u);c=a(r);if(d){c.sort(typeof d==="function"?s.call(d,r):undefined)}if(typeof e!=="function")e=c[e];return i.call(e,c,(function(e,n){if(!l.call(r,e))return t;return i.call(u,f,r[e],e,r,n)}))}}},{"./valid-callable":1033,"./valid-value":1034}],1019:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.assign:e("./shim")},{"./is-implemented":1020,"./shim":1021}],1020:[function(e,t,r){"use strict";t.exports=function(){var e=Object.assign,t;if(typeof e!=="function")return false;t={foo:"raz"};e(t,{bar:"dwa"},{trzy:"trzy"});return t.foo+t.bar+t.trzy==="razdwatrzy"}},{}],1021:[function(e,t,r){"use strict";var n=e("../keys"),o=e("../valid-value"),s=Math.max;t.exports=function(e,t){var r,i,a=s(arguments.length,2),l;e=Object(o(e));l=function(n){try{e[n]=t[n]}catch(e){if(!r)r=e}};for(i=1;i<a;++i){t=arguments[i];n(t).forEach(l)}if(r!==undefined)throw r;return e}},{"../keys":1026,"../valid-value":1034}],1022:[function(e,t,r){"use strict";t.exports=e("./_iterate")("forEach")},{"./_iterate":1018}],1023:[function(e,t,r){"use strict";t.exports=function(e){return typeof e==="function"}},{}],1024:[function(e,t,r){"use strict";var n=e("./is-value");var o={function:true,object:true};t.exports=function(e){return n(e)&&o[typeof e]||false}},{"./is-value":1025}],1025:[function(e,t,r){"use strict";var n=e("../function/noop")();t.exports=function(e){return e!==n&&e!==null}},{"../function/noop":1009}],1026:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?Object.keys:e("./shim")},{"./is-implemented":1027,"./shim":1028}],1027:[function(e,t,r){"use strict";t.exports=function(){try{Object.keys("primitive");return true}catch(e){return false}}},{}],1028:[function(e,t,r){"use strict";var n=e("../is-value");var o=Object.keys;t.exports=function(e){return o(n(e)?Object(e):e)}},{"../is-value":1025}],1029:[function(e,t,r){"use strict";var n=e("./valid-callable"),o=e("./for-each"),s=Function.prototype.call;t.exports=function(e,t){var r={},i=arguments[2];n(t);o(e,(function(e,n,o,a){r[n]=s.call(t,i,e,n,o,a)}));return r}},{"./for-each":1022,"./valid-callable":1033}],1030:[function(e,t,r){"use strict";var n=e("./valid-value"),o=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,a=Object.getOwnPropertySymbols;t.exports=function(e,t){var r,l=Object(n(t));e=Object(n(e));i(l).forEach((function(n){try{o(e,n,s(t,n))}catch(e){r=e}}));if(typeof a==="function"){a(l).forEach((function(n){try{o(e,n,s(t,n))}catch(e){r=e}}))}if(r!==undefined)throw r;return e}},{"./valid-value":1034}],1031:[function(e,t,r){"use strict";var n=e("./is-value");var o=Array.prototype.forEach,s=Object.create;var i=function(e,t){var r;for(r in e)t[r]=e[r]};t.exports=function(e){var t=s(null);o.call(arguments,(function(e){if(!n(e))return;i(Object(e),t)}));return t}},{"./is-value":1025}],1032:[function(e,t,r){"use strict";var n=Array.prototype.forEach,o=Object.create;t.exports=function(e){var t=o(null);n.call(arguments,(function(e){t[e]=true}));return t}},{}],1033:[function(e,t,r){"use strict";t.exports=function(e){if(typeof e!=="function")throw new TypeError(e+" is not a function");return e}},{}],1034:[function(e,t,r){"use strict";var n=e("./is-value");t.exports=function(e){if(!n(e))throw new TypeError("Cannot use null or undefined");return e}},{"./is-value":1025}],1035:[function(e,t,r){"use strict";var n=e("./valid-value"),o=e("./validate-stringifiable");t.exports=function(e){return o(n(e))}},{"./valid-value":1034,"./validate-stringifiable":1036}],1036:[function(e,t,r){"use strict";var n=e("./is-callable");t.exports=function(e){try{if(e&&n(e.toString))return e.toString();return String(e)}catch(e){throw new TypeError("Passed argument cannot be stringifed")}}},{"./is-callable":1023}],1037:[function(e,t,r){"use strict";var n=e("./object/is-callable");t.exports=function(e){try{if(e&&n(e.toString))return e.toString();return String(e)}catch(e){return"<Non-coercible to string value>"}}},{"./object/is-callable":1023}],1038:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?String.prototype.contains:e("./shim")},{"./is-implemented":1039,"./shim":1040}],1039:[function(e,t,r){"use strict";var n="razdwatrzy";t.exports=function(){if(typeof n.contains!=="function")return false;return n.contains("dwa")===true&&n.contains("foo")===false}},{}],1040:[function(e,t,r){"use strict";var n=String.prototype.indexOf;t.exports=function(e){return n.call(this,e,arguments[1])>-1}},{}],1041:[function(e,t,r){"use strict";var n=Object.prototype.toString,o=n.call("");t.exports=function(e){return typeof e==="string"||e&&typeof e==="object"&&(e instanceof String||n.call(e)===o)||false}},{}],1042:[function(e,t,r){"use strict";var n=e("./safe-to-string");var o=/[\n\r\u2028\u2029]/g;t.exports=function(e){var t=n(e);if(t.length>100)t=t.slice(0,99)+"";t=t.replace(o,(function(e){return JSON.stringify(e).slice(1,-1)}));return t}},{"./safe-to-string":1037}],1043:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?e("ext/global-this").Symbol:e("./polyfill")},{"./is-implemented":1044,"./polyfill":1049,"ext/global-this":1054}],1044:[function(e,t,r){"use strict";var n=e("ext/global-this"),o={object:true,symbol:true};t.exports=function(){var e=n.Symbol;var t;if(typeof e!=="function")return false;t=e("test symbol");try{String(t)}catch(e){return false}if(!o[typeof e.iterator])return false;if(!o[typeof e.toPrimitive])return false;if(!o[typeof e.toStringTag])return false;return true}},{"ext/global-this":1054}],1045:[function(e,t,r){"use strict";t.exports=function(e){if(!e)return false;if(typeof e==="symbol")return true;if(!e.constructor)return false;if(e.constructor.name!=="Symbol")return false;return e[e.constructor.toStringTag]==="Symbol"}},{}],1046:[function(e,t,r){"use strict";var n=e("d");var o=Object.create,s=Object.defineProperty,i=Object.prototype;var a=o(null);t.exports=function(e){var t=0,r,o;while(a[e+(t||"")])++t;e+=t||"";a[e]=true;r="@@"+e;s(i,r,n.gs(null,(function(e){if(o)return;o=true;s(this,r,n(e));o=false})));return r}},{d:999}],1047:[function(e,t,r){"use strict";var n=e("d"),o=e("ext/global-this").Symbol;t.exports=function(e){return Object.defineProperties(e,{hasInstance:n("",o&&o.hasInstance||e("hasInstance")),isConcatSpreadable:n("",o&&o.isConcatSpreadable||e("isConcatSpreadable")),iterator:n("",o&&o.iterator||e("iterator")),match:n("",o&&o.match||e("match")),replace:n("",o&&o.replace||e("replace")),search:n("",o&&o.search||e("search")),species:n("",o&&o.species||e("species")),split:n("",o&&o.split||e("split")),toPrimitive:n("",o&&o.toPrimitive||e("toPrimitive")),toStringTag:n("",o&&o.toStringTag||e("toStringTag")),unscopables:n("",o&&o.unscopables||e("unscopables"))})}},{d:999,"ext/global-this":1054}],1048:[function(e,t,r){"use strict";var n=e("d"),o=e("../../../validate-symbol");var s=Object.create(null);t.exports=function(e){return Object.defineProperties(e,{for:n((function(t){if(s[t])return s[t];return s[t]=e(String(t))})),keyFor:n((function(e){var t;o(e);for(t in s){if(s[t]===e)return t}return undefined}))})}},{"../../../validate-symbol":1050,d:999}],1049:[function(e,t,r){"use strict";var n=e("d"),o=e("./validate-symbol"),s=e("ext/global-this").Symbol,i=e("./lib/private/generate-name"),a=e("./lib/private/setup/standard-symbols"),l=e("./lib/private/setup/symbol-registry");var u=Object.create,c=Object.defineProperties,f=Object.defineProperty;var d,p,_;if(typeof s==="function"){try{String(s());_=true}catch(e){}}else{s=null}p=function e(t){if(this instanceof p)throw new TypeError("Symbol is not a constructor");return d(t)};t.exports=d=function e(t){var r;if(this instanceof e)throw new TypeError("Symbol is not a constructor");if(_)return s(t);r=u(p.prototype);t=t===undefined?"":String(t);return c(r,{__description__:n("",t),__name__:n("",i(t))})};a(d);l(d);c(p.prototype,{constructor:n(d),toString:n("",(function(){return this.__name__}))});c(d.prototype,{toString:n((function(){return"Symbol ("+o(this).__description__+")"})),valueOf:n((function(){return o(this)}))});f(d.prototype,d.toPrimitive,n("",(function(){var e=o(this);if(typeof e==="symbol")return e;return e.toString()})));f(d.prototype,d.toStringTag,n("c","Symbol"));f(p.prototype,d.toStringTag,n("c",d.prototype[d.toStringTag]));f(p.prototype,d.toPrimitive,n("c",d.prototype[d.toPrimitive]))},{"./lib/private/generate-name":1046,"./lib/private/setup/standard-symbols":1047,"./lib/private/setup/symbol-registry":1048,"./validate-symbol":1050,d:999,"ext/global-this":1054}],1050:[function(e,t,r){"use strict";var n=e("./is-symbol");t.exports=function(e){if(!n(e))throw new TypeError(e+" is not a symbol");return e}},{"./is-symbol":1045}],1051:[function(e,t,r){"use strict";var n=e("d"),o=e("es5-ext/object/valid-callable"),s=Function.prototype.apply,i=Function.prototype.call,a=Object.create,l=Object.defineProperty,u=Object.defineProperties,c=Object.prototype.hasOwnProperty,f={configurable:true,enumerable:false,writable:true},d,p,_,m,y,v,b;d=function(e,t){var r;o(t);if(!c.call(this,"__ee__")){r=f.value=a(null);l(this,"__ee__",f);f.value=null}else{r=this.__ee__}if(!r[e])r[e]=t;else if(typeof r[e]==="object")r[e].push(t);else r[e]=[r[e],t];return this};p=function(e,t){var r,n;o(t);n=this;d.call(this,e,r=function(){_.call(n,e,r);s.call(t,this,arguments)});r.__eeOnceListener__=t;return this};_=function(e,t){var r,n,s,i;o(t);if(!c.call(this,"__ee__"))return this;r=this.__ee__;if(!r[e])return this;n=r[e];if(typeof n==="object"){for(i=0;s=n[i];++i){if(s===t||s.__eeOnceListener__===t){if(n.length===2)r[e]=n[i?0:1];else n.splice(i,1)}}}else{if(n===t||n.__eeOnceListener__===t){delete r[e]}}return this};m=function(e){var t,r,n,o,a;if(!c.call(this,"__ee__"))return;o=this.__ee__[e];if(!o)return;if(typeof o==="object"){r=arguments.length;a=new Array(r-1);for(t=1;t<r;++t)a[t-1]=arguments[t];o=o.slice();for(t=0;n=o[t];++t){s.call(n,this,a)}}else{switch(arguments.length){case 1:i.call(o,this);break;case 2:i.call(o,this,arguments[1]);break;case 3:i.call(o,this,arguments[1],arguments[2]);break;default:r=arguments.length;a=new Array(r-1);for(t=1;t<r;++t){a[t-1]=arguments[t]}s.call(o,this,a)}}};y={on:d,once:p,off:_,emit:m};v={on:n(d),once:n(p),off:n(_),emit:n(m)};b=u({},v);t.exports=r=function(e){return e==null?a(b):u(Object(e),v)};r.methods=y},{d:999,"es5-ext/object/valid-callable":1033}],1052:[function(e,t,r){var n=e("safe-buffer").Buffer;var o=e("md5.js");function s(e,t,r,s){if(!n.isBuffer(e))e=n.from(e,"binary");if(t){if(!n.isBuffer(t))t=n.from(t,"binary");if(t.length!==8)throw new RangeError("salt should be Buffer with 8 byte length")}var i=r/8;var a=n.alloc(i);var l=n.alloc(s||0);var u=n.alloc(0);while(i>0||s>0){var c=new o;c.update(u);c.update(e);if(t)c.update(t);u=c.digest();var f=0;if(i>0){var d=a.length-i;f=Math.min(i,u.length);u.copy(a,d,0,f);i-=f}if(f<u.length&&s>0){var p=l.length-s;var _=Math.min(s,u.length-f);u.copy(l,p,f,f+_);s-=_}}u.fill(0);return{key:a,iv:l}}t.exports=s},{"md5.js":1204,"safe-buffer":1254}],1053:[function(e,t,r){var n=function(){if(typeof self==="object"&&self)return self;if(typeof window==="object"&&window)return window;throw new Error("Unable to resolve global `this`")};t.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,"__global__",{get:function(){return this},configurable:true})}catch(e){return n()}try{if(!__global__)return n();return __global__}finally{delete Object.prototype.__global__}}()},{}],1054:[function(e,t,r){"use strict";t.exports=e("./is-implemented")()?globalThis:e("./implementation")},{"./implementation":1053,"./is-implemented":1055}],1055:[function(e,t,r){"use strict";t.exports=function(){if(typeof globalThis!=="object")return false;if(!globalThis)return false;return globalThis.Array===Array}},{}],1056:[function(e,t,r){"use strict";t.exports=function e(t,r){if(t===r)return true;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return false;var n,o,s;if(Array.isArray(t)){n=t.length;if(n!=r.length)return false;for(o=n;o--!==0;)if(!e(t[o],r[o]))return false;return true}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();s=Object.keys(t);n=s.length;if(n!==Object.keys(r).length)return false;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[o]))return false;for(o=n;o--!==0;){var i=s[o];if(!e(t[i],r[i]))return false}return true}return t!==t&&r!==r}},{}],1057:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer;var o=e("readable-stream").Transform;var s=e("inherits");function i(e,t){if(!n.isBuffer(e)&&typeof e!=="string"){throw new TypeError(t+" must be a string or a buffer")}}function a(e){o.call(this);this._block=n.allocUnsafe(e);this._blockSize=e;this._blockOffset=0;this._length=[0,0,0,0];this._finalized=false}s(a,o);a.prototype._transform=function(e,t,r){var n=null;try{this.update(e,t)}catch(e){n=e}r(n)};a.prototype._flush=function(e){var t=null;try{this.push(this.digest())}catch(e){t=e}e(t)};a.prototype.update=function(e,t){i(e,"Data");if(this._finalized)throw new Error("Digest already called");if(!n.isBuffer(e))e=n.from(e,t);var r=this._block;var o=0;while(this._blockOffset+e.length-o>=this._blockSize){for(var s=this._blockOffset;s<this._blockSize;)r[s++]=e[o++];this._update();this._blockOffset=0}while(o<e.length)r[this._blockOffset++]=e[o++];for(var a=0,l=e.length*8;l>0;++a){this._length[a]+=l;l=this._length[a]/4294967296|0;if(l>0)this._length[a]-=4294967296*l}return this};a.prototype._update=function(){throw new Error("_update is not implemented")};a.prototype.digest=function(e){if(this._finalized)throw new Error("Digest already called");this._finalized=true;var t=this._digest();if(e!==undefined)t=t.toString(e);this._block.fill(0);this._blockOffset=0;for(var r=0;r<4;++r)this._length[r]=0;return t};a.prototype._digest=function(){throw new Error("_digest is not implemented")};t.exports=a},{inherits:1059,"readable-stream":1252,"safe-buffer":1254}],1058:[function(e,t,r){r.read=function(e,t,r,n,o){var s,i;var a=o*8-n-1;var l=(1<<a)-1;var u=l>>1;var c=-7;var f=r?o-1:0;var d=r?-1:1;var p=e[t+f];f+=d;s=p&(1<<-c)-1;p>>=-c;c+=a;for(;c>0;s=s*256+e[t+f],f+=d,c-=8){}i=s&(1<<-c)-1;s>>=-c;c+=n;for(;c>0;i=i*256+e[t+f],f+=d,c-=8){}if(s===0){s=1-u}else if(s===l){return i?NaN:(p?-1:1)*Infinity}else{i=i+Math.pow(2,n);s=s-u}return(p?-1:1)*i*Math.pow(2,s-n)};r.write=function(e,t,r,n,o,s){var i,a,l;var u=s*8-o-1;var c=(1<<u)-1;var f=c>>1;var d=o===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=n?0:s-1;var _=n?1:-1;var m=t<0||t===0&&1/t<0?1:0;t=Math.abs(t);if(isNaN(t)||t===Infinity){a=isNaN(t)?1:0;i=c}else{i=Math.floor(Math.log(t)/Math.LN2);if(t*(l=Math.pow(2,-i))<1){i--;l*=2}if(i+f>=1){t+=d/l}else{t+=d*Math.pow(2,1-f)}if(t*l>=2){i++;l/=2}if(i+f>=c){a=0;i=c}else if(i+f>=1){a=(t*l-1)*Math.pow(2,o);i=i+f}else{a=t*Math.pow(2,f-1)*Math.pow(2,o);i=0}}for(;o>=8;e[r+p]=a&255,p+=_,a/=256,o-=8){}i=i<<o|a;u+=o;for(;u>0;e[r+p]=i&255,p+=_,i/=256,u-=8){}e[r+p-_]|=m*128}},{}],1059:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{t.exports=function e(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}}},{}],1060:[function(e,t,r){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(e){return e!=null&&(n(e)||o(e)||!!e._isBuffer)};function n(e){return!!e.constructor&&typeof e.constructor.isBuffer==="function"&&e.constructor.isBuffer(e)}function o(e){return typeof e.readFloatLE==="function"&&typeof e.slice==="function"&&n(e.slice(0,0))}},{}],1061:[function(e,t,r){t.exports=n;t.exports.default=n;function n(e){return!!e&&(typeof e==="object"||typeof e==="function")&&typeof e.then==="function"}},{}],1062:[function(e,t,r){(function(e){(function(){(function(e,n){typeof r==="object"&&typeof t!=="undefined"?t.exports=n(e):typeof define==="function"&&define.amd?define(n):n(e)})(typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof e!=="undefined"?e:this,(function(e){"use strict";e=e||{};var r=e.Base64;var n="2.6.4";var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";var s=function(e){var t={};for(var r=0,n=e.length;r<n;r++)t[e.charAt(r)]=r;return t}(o);var i=String.fromCharCode;var a=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?i(192|t>>>6)+i(128|t&63):i(224|t>>>12&15)+i(128|t>>>6&63)+i(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return i(240|t>>>18&7)+i(128|t>>>12&63)+i(128|t>>>6&63)+i(128|t&63)}};var l=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g;var u=function(e){return e.replace(l,a)};var c=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0),n=[o.charAt(r>>>18),o.charAt(r>>>12&63),t>=2?"=":o.charAt(r>>>6&63),t>=1?"=":o.charAt(r&63)];return n.join("")};var f=e.btoa&&typeof e.btoa=="function"?function(t){return e.btoa(t)}:function(e){if(e.match(/[^\x00-\xFF]/))throw new RangeError("The string contains invalid characters.");return e.replace(/[\s\S]{1,3}/g,c)};var d=function(e){return f(u(String(e)))};var p=function(e){return e.replace(/[+\/]/g,(function(e){return e=="+"?"-":"_"})).replace(/=/g,"")};var _=function(e,t){return t?p(d(e)):d(e)};var m=function(e){return _(e,true)};var y;if(e.Uint8Array)y=function(e,t){var r="";for(var n=0,s=e.length;n<s;n+=3){var i=e[n],a=e[n+1],l=e[n+2];var u=i<<16|a<<8|l;r+=o.charAt(u>>>18)+o.charAt(u>>>12&63)+(typeof a!="undefined"?o.charAt(u>>>6&63):"=")+(typeof l!="undefined"?o.charAt(u&63):"=")}return t?p(r):r};var v=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g;var b=function(e){switch(e.length){case 4:var t=(7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3),r=t-65536;return i((r>>>10)+55296)+i((r&1023)+56320);case 3:return i((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return i((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}};var h=function(e){return e.replace(v,b)};var j=function(e){var t=e.length,r=t%4,n=(t>0?s[e.charAt(0)]<<18:0)|(t>1?s[e.charAt(1)]<<12:0)|(t>2?s[e.charAt(2)]<<6:0)|(t>3?s[e.charAt(3)]:0),o=[i(n>>>16),i(n>>>8&255),i(n&255)];o.length-=[0,0,2,1][r];return o.join("")};var g=e.atob&&typeof e.atob=="function"?function(t){return e.atob(t)}:function(e){return e.replace(/\S{1,4}/g,j)};var w=function(e){return g(String(e).replace(/[^A-Za-z0-9\+\/]/g,""))};var O=function(e){return h(g(e))};var S=function(e){return String(e).replace(/[-_]/g,(function(e){return e=="-"?"+":"/"})).replace(/[^A-Za-z0-9\+\/]/g,"")};var k=function(e){return O(S(e))};var A;if(e.Uint8Array)A=function(e){return Uint8Array.from(w(S(e)),(function(e){return e.charCodeAt(0)}))};var E=function(){var t=e.Base64;e.Base64=r;return t};e.Base64={VERSION:n,atob:w,btoa:f,fromBase64:k,toBase64:_,utob:u,encode:_,encodeURI:m,btou:h,decode:k,noConflict:E,fromUint8Array:y,toUint8Array:A};if(typeof Object.defineProperty==="function"){var x=function(e){return{value:e,enumerable:false,writable:true,configurable:true}};e.Base64.extendString=function(){Object.defineProperty(String.prototype,"fromBase64",x((function(){return k(this)})));Object.defineProperty(String.prototype,"toBase64",x((function(e){return _(this,e)})));Object.defineProperty(String.prototype,"toBase64URI",x((function(){return _(this,true)})))}}if(e["Meteor"]){Base64=e.Base64}if(typeof t!=="undefined"&&t.exports){t.exports.Base64=e.Base64}else if(typeof define==="function"&&define.amd){define([],(function(){return e.Base64}))}return{Base64:e.Base64}}))}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],1063:[function(e,t,r){var n=e("./_getNative"),o=e("./_root");var s=n(o,"DataView");t.exports=s},{"./_getNative":1124,"./_root":1159}],1064:[function(e,t,r){var n=e("./_hashClear"),o=e("./_hashDelete"),s=e("./_hashGet"),i=e("./_hashHas"),a=e("./_hashSet");function l(e){var t=-1,r=e==null?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n;l.prototype["delete"]=o;l.prototype.get=s;l.prototype.has=i;l.prototype.set=a;t.exports=l},{"./_hashClear":1130,"./_hashDelete":1131,"./_hashGet":1132,"./_hashHas":1133,"./_hashSet":1134}],1065:[function(e,t,r){var n=e("./_listCacheClear"),o=e("./_listCacheDelete"),s=e("./_listCacheGet"),i=e("./_listCacheHas"),a=e("./_listCacheSet");function l(e){var t=-1,r=e==null?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n;l.prototype["delete"]=o;l.prototype.get=s;l.prototype.has=i;l.prototype.set=a;t.exports=l},{"./_listCacheClear":1141,"./_listCacheDelete":1142,"./_listCacheGet":1143,"./_listCacheHas":1144,"./_listCacheSet":1145}],1066:[function(e,t,r){var n=e("./_getNative"),o=e("./_root");var s=n(o,"Map");t.exports=s},{"./_getNative":1124,"./_root":1159}],1067:[function(e,t,r){var n=e("./_mapCacheClear"),o=e("./_mapCacheDelete"),s=e("./_mapCacheGet"),i=e("./_mapCacheHas"),a=e("./_mapCacheSet");function l(e){var t=-1,r=e==null?0:e.length;this.clear();while(++t<r){var n=e[t];this.set(n[0],n[1])}}l.prototype.clear=n;l.prototype["delete"]=o;l.prototype.get=s;l.prototype.has=i;l.prototype.set=a;t.exports=l},{"./_mapCacheClear":1146,"./_mapCacheDelete":1147,"./_mapCacheGet":1148,"./_mapCacheHas":1149,"./_mapCacheSet":1150}],1068:[function(e,t,r){var n=e("./_getNative"),o=e("./_root");var s=n(o,"Promise");t.exports=s},{"./_getNative":1124,"./_root":1159}],1069:[function(e,t,r){var n=e("./_getNative"),o=e("./_root");var s=n(o,"Set");t.exports=s},{"./_getNative":1124,"./_root":1159}],1070:[function(e,t,r){var n=e("./_MapCache"),o=e("./_setCacheAdd"),s=e("./_setCacheHas");function i(e){var t=-1,r=e==null?0:e.length;this.__data__=new n;while(++t<r){this.add(e[t])}}i.prototype.add=i.prototype.push=o;i.prototype.has=s;t.exports=i},{"./_MapCache":1067,"./_setCacheAdd":1160,"./_setCacheHas":1161}],1071:[function(e,t,r){var n=e("./_ListCache"),o=e("./_stackClear"),s=e("./_stackDelete"),i=e("./_stackGet"),a=e("./_stackHas"),l=e("./_stackSet");function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o;u.prototype["delete"]=s;u.prototype.get=i;u.prototype.has=a;u.prototype.set=l;t.exports=u},{"./_ListCache":1065,"./_stackClear":1163,"./_stackDelete":1164,"./_stackGet":1165,"./_stackHas":1166,"./_stackSet":1167}],1072:[function(e,t,r){var n=e("./_root");var o=n.Symbol;t.exports=o},{"./_root":1159}],1073:[function(e,t,r){var n=e("./_root");var o=n.Uint8Array;t.exports=o},{"./_root":1159}],1074:[function(e,t,r){var n=e("./_getNative"),o=e("./_root");var s=n(o,"WeakMap");t.exports=s},{"./_getNative":1124,"./_root":1159}],1075:[function(e,t,r){function n(e,t,r,n){var o=-1,s=e==null?0:e.length;while(++o<s){var i=e[o];t(n,i,r(i),e)}return n}t.exports=n},{}],1076:[function(e,t,r){function n(e,t){var r=-1,n=e==null?0:e.length,o=0,s=[];while(++r<n){var i=e[r];if(t(i,r,e)){s[o++]=i}}return s}t.exports=n},{}],1077:[function(e,t,r){var n=e("./_baseTimes"),o=e("./isArguments"),s=e("./isArray"),i=e("./isBuffer"),a=e("./_isIndex"),l=e("./isTypedArray");var u=Object.prototype;var c=u.hasOwnProperty;function f(e,t){var r=s(e),u=!r&&o(e),f=!r&&!u&&i(e),d=!r&&!u&&!f&&l(e),p=r||u||f||d,_=p?n(e.length,String):[],m=_.length;for(var y in e){if((t||c.call(e,y))&&!(p&&(y=="length"||f&&(y=="offset"||y=="parent")||d&&(y=="buffer"||y=="byteLength"||y=="byteOffset")||a(y,m)))){_.push(y)}}return _}t.exports=f},{"./_baseTimes":1105,"./_isIndex":1135,"./isArguments":1180,"./isArray":1181,"./isBuffer":1183,"./isTypedArray":1190}],1078:[function(e,t,r){function n(e,t){var r=-1,n=e==null?0:e.length,o=Array(n);while(++r<n){o[r]=t(e[r],r,e)}return o}t.exports=n},{}],1079:[function(e,t,r){function n(e,t){var r=-1,n=t.length,o=e.length;while(++r<n){e[o+r]=t[r]}return e}t.exports=n},{}],1080:[function(e,t,r){function n(e,t){var r=-1,n=e==null?0:e.length;while(++r<n){if(t(e[r],r,e)){return true}}return false}t.exports=n},{}],1081:[function(e,t,r){var n=e("./eq");function o(e,t){var r=e.length;while(r--){if(n(e[r][0],t)){return r}}return-1}t.exports=o},{"./eq":1175}],1082:[function(e,t,r){var n=e("./_baseEach");function o(e,t,r,o){n(e,(function(e,n,s){t(o,e,r(e),s)}));return o}t.exports=o},{"./_baseEach":1084}],1083:[function(e,t,r){var n=e("./_defineProperty");function o(e,t,r){if(t=="__proto__"&&n){n(e,t,{configurable:true,enumerable:true,value:r,writable:true})}else{e[t]=r}}t.exports=o},{"./_defineProperty":1115}],1084:[function(e,t,r){var n=e("./_baseForOwn"),o=e("./_createBaseEach");var s=o(n);t.exports=s},{"./_baseForOwn":1086,"./_createBaseEach":1113}],1085:[function(e,t,r){var n=e("./_createBaseFor");var o=n();t.exports=o},{"./_createBaseFor":1114}],1086:[function(e,t,r){var n=e("./_baseFor"),o=e("./keys");function s(e,t){return e&&n(e,t,o)}t.exports=s},{"./_baseFor":1085,"./keys":1192}],1087:[function(e,t,r){var n=e("./_castPath"),o=e("./_toKey");function s(e,t){t=n(t,e);var r=0,s=t.length;while(e!=null&&r<s){e=e[o(t[r++])]}return r&&r==s?e:undefined}t.exports=s},{"./_castPath":1110,"./_toKey":1169}],1088:[function(e,t,r){var n=e("./_arrayPush"),o=e("./isArray");function s(e,t,r){var s=t(e);return o(e)?s:n(s,r(e))}t.exports=s},{"./_arrayPush":1079,"./isArray":1181}],1089:[function(e,t,r){var n=e("./_Symbol"),o=e("./_getRawTag"),s=e("./_objectToString");var i="[object Null]",a="[object Undefined]";var l=n?n.toStringTag:undefined;function u(e){if(e==null){return e===undefined?a:i}return l&&l in Object(e)?o(e):s(e)}t.exports=u},{"./_Symbol":1072,"./_getRawTag":1125,"./_objectToString":1157}],1090:[function(e,t,r){function n(e,t){return e!=null&&t in Object(e)}t.exports=n},{}],1091:[function(e,t,r){var n=e("./_baseGetTag"),o=e("./isObjectLike");var s="[object Arguments]";function i(e){return o(e)&&n(e)==s}t.exports=i},{"./_baseGetTag":1089,"./isObjectLike":1188}],1092:[function(e,t,r){var n=e("./_baseIsEqualDeep"),o=e("./isObjectLike");function s(e,t,r,i,a){if(e===t){return true}if(e==null||t==null||!o(e)&&!o(t)){return e!==e&&t!==t}return n(e,t,r,i,s,a)}t.exports=s},{"./_baseIsEqualDeep":1093,"./isObjectLike":1188}],1093:[function(e,t,r){var n=e("./_Stack"),o=e("./_equalArrays"),s=e("./_equalByTag"),i=e("./_equalObjects"),a=e("./_getTag"),l=e("./isArray"),u=e("./isBuffer"),c=e("./isTypedArray");var f=1;var d="[object Arguments]",p="[object Array]",_="[object Object]";var m=Object.prototype;var y=m.hasOwnProperty;function v(e,t,r,m,v,b){var h=l(e),j=l(t),g=h?p:a(e),w=j?p:a(t);g=g==d?_:g;w=w==d?_:w;var O=g==_,S=w==_,k=g==w;if(k&&u(e)){if(!u(t)){return false}h=true;O=false}if(k&&!O){b||(b=new n);return h||c(e)?o(e,t,r,m,v,b):s(e,t,g,r,m,v,b)}if(!(r&f)){var A=O&&y.call(e,"__wrapped__"),E=S&&y.call(t,"__wrapped__");if(A||E){var x=A?e.value():e,M=E?t.value():t;b||(b=new n);return v(x,M,r,m,b)}}if(!k){return false}b||(b=new n);return i(e,t,r,m,v,b)}t.exports=v},{"./_Stack":1071,"./_equalArrays":1116,"./_equalByTag":1117,"./_equalObjects":1118,"./_getTag":1127,"./isArray":1181,"./isBuffer":1183,"./isTypedArray":1190}],1094:[function(e,t,r){var n=e("./_Stack"),o=e("./_baseIsEqual");var s=1,i=2;function a(e,t,r,a){var l=r.length,u=l,c=!a;if(e==null){return!u}e=Object(e);while(l--){var f=r[l];if(c&&f[2]?f[1]!==e[f[0]]:!(f[0]in e)){return false}}while(++l<u){f=r[l];var d=f[0],p=e[d],_=f[1];if(c&&f[2]){if(p===undefined&&!(d in e)){return false}}else{var m=new n;if(a){var y=a(p,_,d,e,t,m)}if(!(y===undefined?o(_,p,s|i,a,m):y)){return false}}}return true}t.exports=a},{"./_Stack":1071,"./_baseIsEqual":1092}],1095:[function(e,t,r){var n=e("./isFunction"),o=e("./_isMasked"),s=e("./isObject"),i=e("./_toSource");var a=/[\\^$.*+?()[\]{}|]/g;var l=/^\[object .+?Constructor\]$/;var u=Function.prototype,c=Object.prototype;var f=u.toString;var d=c.hasOwnProperty;var p=RegExp("^"+f.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _(e){if(!s(e)||o(e)){return false}var t=n(e)?p:l;return t.test(i(e))}t.exports=_},{"./_isMasked":1138,"./_toSource":1170,"./isFunction":1185,"./isObject":1187}],1096:[function(e,t,r){var n=e("./_baseGetTag"),o=e("./isLength"),s=e("./isObjectLike");var i="[object Arguments]",a="[object Array]",l="[object Boolean]",u="[object Date]",c="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",_="[object Object]",m="[object RegExp]",y="[object Set]",v="[object String]",b="[object WeakMap]";var h="[object ArrayBuffer]",j="[object DataView]",g="[object Float32Array]",w="[object Float64Array]",O="[object Int8Array]",S="[object Int16Array]",k="[object Int32Array]",A="[object Uint8Array]",E="[object Uint8ClampedArray]",x="[object Uint16Array]",M="[object Uint32Array]";var P={};P[g]=P[w]=P[O]=P[S]=P[k]=P[A]=P[E]=P[x]=P[M]=true;P[i]=P[a]=P[h]=P[l]=P[j]=P[u]=P[c]=P[f]=P[d]=P[p]=P[_]=P[m]=P[y]=P[v]=P[b]=false;function T(e){return s(e)&&o(e.length)&&!!P[n(e)]}t.exports=T},{"./_baseGetTag":1089,"./isLength":1186,"./isObjectLike":1188}],1097:[function(e,t,r){var n=e("./_baseMatches"),o=e("./_baseMatchesProperty"),s=e("./identity"),i=e("./isArray"),a=e("./property");function l(e){if(typeof e=="function"){return e}if(e==null){return s}if(typeof e=="object"){return i(e)?o(e[0],e[1]):n(e)}return a(e)}t.exports=l},{"./_baseMatches":1100,"./_baseMatchesProperty":1101,"./identity":1179,"./isArray":1181,"./property":1197}],1098:[function(e,t,r){var n=e("./_isPrototype"),o=e("./_nativeKeys");var s=Object.prototype;var i=s.hasOwnProperty;function a(e){if(!n(e)){return o(e)}var t=[];for(var r in Object(e)){if(i.call(e,r)&&r!="constructor"){t.push(r)}}return t}t.exports=a},{"./_isPrototype":1139,"./_nativeKeys":1155}],1099:[function(e,t,r){var n=e("./_baseEach"),o=e("./isArrayLike");function s(e,t){var r=-1,s=o(e)?Array(e.length):[];n(e,(function(e,n,o){s[++r]=t(e,n,o)}));return s}t.exports=s},{"./_baseEach":1084,"./isArrayLike":1182}],1100:[function(e,t,r){var n=e("./_baseIsMatch"),o=e("./_getMatchData"),s=e("./_matchesStrictComparable");function i(e){var t=o(e);if(t.length==1&&t[0][2]){return s(t[0][0],t[0][1])}return function(r){return r===e||n(r,e,t)}}t.exports=i},{"./_baseIsMatch":1094,"./_getMatchData":1123,"./_matchesStrictComparable":1152}],1101:[function(e,t,r){var n=e("./_baseIsEqual"),o=e("./get"),s=e("./hasIn"),i=e("./_isKey"),a=e("./_isStrictComparable"),l=e("./_matchesStrictComparable"),u=e("./_toKey");var c=1,f=2;function d(e,t){if(i(e)&&a(t)){return l(u(e),t)}return function(r){var i=o(r,e);return i===undefined&&i===t?s(r,e):n(t,i,c|f)}}t.exports=d},{"./_baseIsEqual":1092,"./_isKey":1136,"./_isStrictComparable":1140,"./_matchesStrictComparable":1152,"./_toKey":1169,"./get":1177,"./hasIn":1178}],1102:[function(e,t,r){function n(e){return function(t){return t==null?undefined:t[e]}}t.exports=n},{}],1103:[function(e,t,r){var n=e("./_baseGet");function o(e){return function(t){return n(t,e)}}t.exports=o},{"./_baseGet":1087}],1104:[function(e,t,r){function n(e){return function(t){return e==null?undefined:e[t]}}t.exports=n},{}],1105:[function(e,t,r){function n(e,t){var r=-1,n=Array(e);while(++r<e){n[r]=t(r)}return n}t.exports=n},{}],1106:[function(e,t,r){var n=e("./_Symbol"),o=e("./_arrayMap"),s=e("./isArray"),i=e("./isSymbol");var a=1/0;var l=n?n.prototype:undefined,u=l?l.toString:undefined;function c(e){if(typeof e=="string"){return e}if(s(e)){return o(e,c)+""}if(i(e)){return u?u.call(e):""}var t=e+"";return t=="0"&&1/e==-a?"-0":t}t.exports=c},{"./_Symbol":1072,"./_arrayMap":1078,"./isArray":1181,"./isSymbol":1189}],1107:[function(e,t,r){var n=e("./_trimmedEndIndex");var o=/^\s+/;function s(e){return e?e.slice(0,n(e)+1).replace(o,""):e}t.exports=s},{"./_trimmedEndIndex":1171}],1108:[function(e,t,r){function n(e){return function(t){return e(t)}}t.exports=n},{}],1109:[function(e,t,r){function n(e,t){return e.has(t)}t.exports=n},{}],1110:[function(e,t,r){var n=e("./isArray"),o=e("./_isKey"),s=e("./_stringToPath"),i=e("./toString");function a(e,t){if(n(e)){return e}return o(e,t)?[e]:s(i(e))}t.exports=a},{"./_isKey":1136,"./_stringToPath":1168,"./isArray":1181,"./toString":1201}],1111:[function(e,t,r){var n=e("./_root");var o=n["__core-js_shared__"];t.exports=o},{"./_root":1159}],1112:[function(e,t,r){var n=e("./_arrayAggregator"),o=e("./_baseAggregator"),s=e("./_baseIteratee"),i=e("./isArray");function a(e,t){return function(r,a){var l=i(r)?n:o,u=t?t():{};return l(r,e,s(a,2),u)}}t.exports=a},{"./_arrayAggregator":1075,"./_baseAggregator":1082,"./_baseIteratee":1097,"./isArray":1181}],1113:[function(e,t,r){var n=e("./isArrayLike");function o(e,t){return function(r,o){if(r==null){return r}if(!n(r)){return e(r,o)}var s=r.length,i=t?s:-1,a=Object(r);while(t?i--:++i<s){if(o(a[i],i,a)===false){break}}return r}}t.exports=o},{"./isArrayLike":1182}],1114:[function(e,t,r){function n(e){return function(t,r,n){var o=-1,s=Object(t),i=n(t),a=i.length;while(a--){var l=i[e?a:++o];if(r(s[l],l,s)===false){break}}return t}}t.exports=n},{}],1115:[function(e,t,r){var n=e("./_getNative");var o=function(){try{var e=n(Object,"defineProperty");e({},"",{});return e}catch(e){}}();t.exports=o},{"./_getNative":1124}],1116:[function(e,t,r){var n=e("./_SetCache"),o=e("./_arraySome"),s=e("./_cacheHas");var i=1,a=2;function l(e,t,r,l,u,c){var f=r&i,d=e.length,p=t.length;if(d!=p&&!(f&&p>d)){return false}var _=c.get(e);var m=c.get(t);if(_&&m){return _==t&&m==e}var y=-1,v=true,b=r&a?new n:undefined;c.set(e,t);c.set(t,e);while(++y<d){var h=e[y],j=t[y];if(l){var g=f?l(j,h,y,t,e,c):l(h,j,y,e,t,c)}if(g!==undefined){if(g){continue}v=false;break}if(b){if(!o(t,(function(e,t){if(!s(b,t)&&(h===e||u(h,e,r,l,c))){return b.push(t)}}))){v=false;break}}else if(!(h===j||u(h,j,r,l,c))){v=false;break}}c["delete"](e);c["delete"](t);return v}t.exports=l},{"./_SetCache":1070,"./_arraySome":1080,"./_cacheHas":1109}],1117:[function(e,t,r){var n=e("./_Symbol"),o=e("./_Uint8Array"),s=e("./eq"),i=e("./_equalArrays"),a=e("./_mapToArray"),l=e("./_setToArray");var u=1,c=2;var f="[object Boolean]",d="[object Date]",p="[object Error]",_="[object Map]",m="[object Number]",y="[object RegExp]",v="[object Set]",b="[object String]",h="[object Symbol]";var j="[object ArrayBuffer]",g="[object DataView]";var w=n?n.prototype:undefined,O=w?w.valueOf:undefined;function S(e,t,r,n,w,S,k){switch(r){case g:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset){return false}e=e.buffer;t=t.buffer;case j:if(e.byteLength!=t.byteLength||!S(new o(e),new o(t))){return false}return true;case f:case d:case m:return s(+e,+t);case p:return e.name==t.name&&e.message==t.message;case y:case b:return e==t+"";case _:var A=a;case v:var E=n&u;A||(A=l);if(e.size!=t.size&&!E){return false}var x=k.get(e);if(x){return x==t}n|=c;k.set(e,t);var M=i(A(e),A(t),n,w,S,k);k["delete"](e);return M;case h:if(O){return O.call(e)==O.call(t)}}return false}t.exports=S},{"./_Symbol":1072,"./_Uint8Array":1073,"./_equalArrays":1116,"./_mapToArray":1151,"./_setToArray":1162,"./eq":1175}],1118:[function(e,t,r){var n=e("./_getAllKeys");var o=1;var s=Object.prototype;var i=s.hasOwnProperty;function a(e,t,r,s,a,l){var u=r&o,c=n(e),f=c.length,d=n(t),p=d.length;if(f!=p&&!u){return false}var _=f;while(_--){var m=c[_];if(!(u?m in t:i.call(t,m))){return false}}var y=l.get(e);var v=l.get(t);if(y&&v){return y==t&&v==e}var b=true;l.set(e,t);l.set(t,e);var h=u;while(++_<f){m=c[_];var j=e[m],g=t[m];if(s){var w=u?s(g,j,m,t,e,l):s(j,g,m,e,t,l)}if(!(w===undefined?j===g||a(j,g,r,s,l):w)){b=false;break}h||(h=m=="constructor")}if(b&&!h){var O=e.constructor,S=t.constructor;if(O!=S&&("constructor"in e&&"constructor"in t)&&!(typeof O=="function"&&O instanceof O&&typeof S=="function"&&S instanceof S)){b=false}}l["delete"](e);l["delete"](t);return b}t.exports=a},{"./_getAllKeys":1121}],1119:[function(e,t,r){var n=e("./_basePropertyOf");var o={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};var s=n(o);t.exports=s},{"./_basePropertyOf":1104}],1120:[function(e,t,r){(function(e){(function(){var r=typeof e=="object"&&e&&e.Object===Object&&e;t.exports=r}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],1121:[function(e,t,r){var n=e("./_baseGetAllKeys"),o=e("./_getSymbols"),s=e("./keys");function i(e){return n(e,s,o)}t.exports=i},{"./_baseGetAllKeys":1088,"./_getSymbols":1126,"./keys":1192}],1122:[function(e,t,r){var n=e("./_isKeyable");function o(e,t){var r=e.__data__;return n(t)?r[typeof t=="string"?"string":"hash"]:r.map}t.exports=o},{"./_isKeyable":1137}],1123:[function(e,t,r){var n=e("./_isStrictComparable"),o=e("./keys");function s(e){var t=o(e),r=t.length;while(r--){var s=t[r],i=e[s];t[r]=[s,i,n(i)]}return t}t.exports=s},{"./_isStrictComparable":1140,"./keys":1192}],1124:[function(e,t,r){var n=e("./_baseIsNative"),o=e("./_getValue");function s(e,t){var r=o(e,t);return n(r)?r:undefined}t.exports=s},{"./_baseIsNative":1095,"./_getValue":1128}],1125:[function(e,t,r){var n=e("./_Symbol");var o=Object.prototype;var s=o.hasOwnProperty;var i=o.toString;var a=n?n.toStringTag:undefined;function l(e){var t=s.call(e,a),r=e[a];try{e[a]=undefined;var n=true}catch(e){}var o=i.call(e);if(n){if(t){e[a]=r}else{delete e[a]}}return o}t.exports=l},{"./_Symbol":1072}],1126:[function(e,t,r){var n=e("./_arrayFilter"),o=e("./stubArray");var s=Object.prototype;var i=s.propertyIsEnumerable;var a=Object.getOwnPropertySymbols;var l=!a?o:function(e){if(e==null){return[]}e=Object(e);return n(a(e),(function(t){return i.call(e,t)}))};t.exports=l},{"./_arrayFilter":1076,"./stubArray":1198}],1127:[function(e,t,r){var n=e("./_DataView"),o=e("./_Map"),s=e("./_Promise"),i=e("./_Set"),a=e("./_WeakMap"),l=e("./_baseGetTag"),u=e("./_toSource");var c="[object Map]",f="[object Object]",d="[object Promise]",p="[object Set]",_="[object WeakMap]";var m="[object DataView]";var y=u(n),v=u(o),b=u(s),h=u(i),j=u(a);var g=l;if(n&&g(new n(new ArrayBuffer(1)))!=m||o&&g(new o)!=c||s&&g(s.resolve())!=d||i&&g(new i)!=p||a&&g(new a)!=_){g=function(e){var t=l(e),r=t==f?e.constructor:undefined,n=r?u(r):"";if(n){switch(n){case y:return m;case v:return c;case b:return d;case h:return p;case j:return _}}return t}}t.exports=g},{"./_DataView":1063,"./_Map":1066,"./_Promise":1068,"./_Set":1069,"./_WeakMap":1074,"./_baseGetTag":1089,"./_toSource":1170}],1128:[function(e,t,r){function n(e,t){return e==null?undefined:e[t]}t.exports=n},{}],1129:[function(e,t,r){var n=e("./_castPath"),o=e("./isArguments"),s=e("./isArray"),i=e("./_isIndex"),a=e("./isLength"),l=e("./_toKey");function u(e,t,r){t=n(t,e);var u=-1,c=t.length,f=false;while(++u<c){var d=l(t[u]);if(!(f=e!=null&&r(e,d))){break}e=e[d]}if(f||++u!=c){return f}c=e==null?0:e.length;return!!c&&a(c)&&i(d,c)&&(s(e)||o(e))}t.exports=u},{"./_castPath":1110,"./_isIndex":1135,"./_toKey":1169,"./isArguments":1180,"./isArray":1181,"./isLength":1186}],1130:[function(e,t,r){var n=e("./_nativeCreate");function o(){this.__data__=n?n(null):{};this.size=0}t.exports=o},{"./_nativeCreate":1154}],1131:[function(e,t,r){function n(e){var t=this.has(e)&&delete this.__data__[e];this.size-=t?1:0;return t}t.exports=n},{}],1132:[function(e,t,r){var n=e("./_nativeCreate");var o="__lodash_hash_undefined__";var s=Object.prototype;var i=s.hasOwnProperty;function a(e){var t=this.__data__;if(n){var r=t[e];return r===o?undefined:r}return i.call(t,e)?t[e]:undefined}t.exports=a},{"./_nativeCreate":1154}],1133:[function(e,t,r){var n=e("./_nativeCreate");var o=Object.prototype;var s=o.hasOwnProperty;function i(e){var t=this.__data__;return n?t[e]!==undefined:s.call(t,e)}t.exports=i},{"./_nativeCreate":1154}],1134:[function(e,t,r){var n=e("./_nativeCreate");var o="__lodash_hash_undefined__";function s(e,t){var r=this.__data__;this.size+=this.has(e)?0:1;r[e]=n&&t===undefined?o:t;return this}t.exports=s},{"./_nativeCreate":1154}],1135:[function(e,t,r){var n=9007199254740991;var o=/^(?:0|[1-9]\d*)$/;function s(e,t){var r=typeof e;t=t==null?n:t;return!!t&&(r=="number"||r!="symbol"&&o.test(e))&&(e>-1&&e%1==0&&e<t)}t.exports=s},{}],1136:[function(e,t,r){var n=e("./isArray"),o=e("./isSymbol");var s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function a(e,t){if(n(e)){return false}var r=typeof e;if(r=="number"||r=="symbol"||r=="boolean"||e==null||o(e)){return true}return i.test(e)||!s.test(e)||t!=null&&e in Object(t)}t.exports=a},{"./isArray":1181,"./isSymbol":1189}],1137:[function(e,t,r){function n(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}t.exports=n},{}],1138:[function(e,t,r){var n=e("./_coreJsData");var o=function(){var e=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function s(e){return!!o&&o in e}t.exports=s},{"./_coreJsData":1111}],1139:[function(e,t,r){var n=Object.prototype;function o(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||n;return e===r}t.exports=o},{}],1140:[function(e,t,r){var n=e("./isObject");function o(e){return e===e&&!n(e)}t.exports=o},{"./isObject":1187}],1141:[function(e,t,r){function n(){this.__data__=[];this.size=0}t.exports=n},{}],1142:[function(e,t,r){var n=e("./_assocIndexOf");var o=Array.prototype;var s=o.splice;function i(e){var t=this.__data__,r=n(t,e);if(r<0){return false}var o=t.length-1;if(r==o){t.pop()}else{s.call(t,r,1)}--this.size;return true}t.exports=i},{"./_assocIndexOf":1081}],1143:[function(e,t,r){var n=e("./_assocIndexOf");function o(e){var t=this.__data__,r=n(t,e);return r<0?undefined:t[r][1]}t.exports=o},{"./_assocIndexOf":1081}],1144:[function(e,t,r){var n=e("./_assocIndexOf");function o(e){return n(this.__data__,e)>-1}t.exports=o},{"./_assocIndexOf":1081}],1145:[function(e,t,r){var n=e("./_assocIndexOf");function o(e,t){var r=this.__data__,o=n(r,e);if(o<0){++this.size;r.push([e,t])}else{r[o][1]=t}return this}t.exports=o},{"./_assocIndexOf":1081}],1146:[function(e,t,r){var n=e("./_Hash"),o=e("./_ListCache"),s=e("./_Map");function i(){this.size=0;this.__data__={hash:new n,map:new(s||o),string:new n}}t.exports=i},{"./_Hash":1064,"./_ListCache":1065,"./_Map":1066}],1147:[function(e,t,r){var n=e("./_getMapData");function o(e){var t=n(this,e)["delete"](e);this.size-=t?1:0;return t}t.exports=o},{"./_getMapData":1122}],1148:[function(e,t,r){var n=e("./_getMapData");function o(e){return n(this,e).get(e)}t.exports=o},{"./_getMapData":1122}],1149:[function(e,t,r){var n=e("./_getMapData");function o(e){return n(this,e).has(e)}t.exports=o},{"./_getMapData":1122}],1150:[function(e,t,r){var n=e("./_getMapData");function o(e,t){var r=n(this,e),o=r.size;r.set(e,t);this.size+=r.size==o?0:1;return this}t.exports=o},{"./_getMapData":1122}],1151:[function(e,t,r){function n(e){var t=-1,r=Array(e.size);e.forEach((function(e,n){r[++t]=[n,e]}));return r}t.exports=n},{}],1152:[function(e,t,r){function n(e,t){return function(r){if(r==null){return false}return r[e]===t&&(t!==undefined||e in Object(r))}}t.exports=n},{}],1153:[function(e,t,r){var n=e("./memoize");var o=500;function s(e){var t=n(e,(function(e){if(r.size===o){r.clear()}return e}));var r=t.cache;return t}t.exports=s},{"./memoize":1195}],1154:[function(e,t,r){var n=e("./_getNative");var o=n(Object,"create");t.exports=o},{"./_getNative":1124}],1155:[function(e,t,r){var n=e("./_overArg");var o=n(Object.keys,Object);t.exports=o},{"./_overArg":1158}],1156:[function(e,t,r){var n=e("./_freeGlobal");var o=typeof r=="object"&&r&&!r.nodeType&&r;var s=o&&typeof t=="object"&&t&&!t.nodeType&&t;var i=s&&s.exports===o;var a=i&&n.process;var l=function(){try{var e=s&&s.require&&s.require("util").types;if(e){return e}return a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=l},{"./_freeGlobal":1120}],1157:[function(e,t,r){var n=Object.prototype;var o=n.toString;function s(e){return o.call(e)}t.exports=s},{}],1158:[function(e,t,r){function n(e,t){return function(r){return e(t(r))}}t.exports=n},{}],1159:[function(e,t,r){var n=e("./_freeGlobal");var o=typeof self=="object"&&self&&self.Object===Object&&self;var s=n||o||Function("return this")();t.exports=s},{"./_freeGlobal":1120}],1160:[function(e,t,r){var n="__lodash_hash_undefined__";function o(e){this.__data__.set(e,n);return this}t.exports=o},{}],1161:[function(e,t,r){function n(e){return this.__data__.has(e)}t.exports=n},{}],1162:[function(e,t,r){function n(e){var t=-1,r=Array(e.size);e.forEach((function(e){r[++t]=e}));return r}t.exports=n},{}],1163:[function(e,t,r){var n=e("./_ListCache");function o(){this.__data__=new n;this.size=0}t.exports=o},{"./_ListCache":1065}],1164:[function(e,t,r){function n(e){var t=this.__data__,r=t["delete"](e);this.size=t.size;return r}t.exports=n},{}],1165:[function(e,t,r){function n(e){return this.__data__.get(e)}t.exports=n},{}],1166:[function(e,t,r){function n(e){return this.__data__.has(e)}t.exports=n},{}],1167:[function(e,t,r){var n=e("./_ListCache"),o=e("./_Map"),s=e("./_MapCache");var i=200;function a(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<i-1){a.push([e,t]);this.size=++r.size;return this}r=this.__data__=new s(a)}r.set(e,t);this.size=r.size;return this}t.exports=a},{"./_ListCache":1065,"./_Map":1066,"./_MapCache":1067}],1168:[function(e,t,r){var n=e("./_memoizeCapped");var o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g;var s=/\\(\\)?/g;var i=n((function(e){var t=[];if(e.charCodeAt(0)===46){t.push("")}e.replace(o,(function(e,r,n,o){t.push(n?o.replace(s,"$1"):r||e)}));return t}));t.exports=i},{"./_memoizeCapped":1153}],1169:[function(e,t,r){var n=e("./isSymbol");var o=1/0;function s(e){if(typeof e=="string"||n(e)){return e}var t=e+"";return t=="0"&&1/e==-o?"-0":t}t.exports=s},{"./isSymbol":1189}],1170:[function(e,t,r){var n=Function.prototype;var o=n.toString;function s(e){if(e!=null){try{return o.call(e)}catch(e){}try{return e+""}catch(e){}}return""}t.exports=s},{}],1171:[function(e,t,r){var n=/\s/;function o(e){var t=e.length;while(t--&&n.test(e.charAt(t))){}return t}t.exports=o},{}],1172:[function(e,t,r){var n=e("./_basePropertyOf");var o={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"};var s=n(o);t.exports=s},{"./_basePropertyOf":1104}],1173:[function(e,t,r){function n(e){var t=-1,r=e==null?0:e.length,n=0,o=[];while(++t<r){var s=e[t];if(s){o[n++]=s}}return o}t.exports=n},{}],1174:[function(e,t,r){var n=e("./isObject"),o=e("./now"),s=e("./toNumber");var i="Expected a function";var a=Math.max,l=Math.min;function u(e,t,r){var u,c,f,d,p,_,m=0,y=false,v=false,b=true;if(typeof e!="function"){throw new TypeError(i)}t=s(t)||0;if(n(r)){y=!!r.leading;v="maxWait"in r;f=v?a(s(r.maxWait)||0,t):f;b="trailing"in r?!!r.trailing:b}function h(t){var r=u,n=c;u=c=undefined;m=t;d=e.apply(n,r);return d}function j(e){m=e;p=setTimeout(O,t);return y?h(e):d}function g(e){var r=e-_,n=e-m,o=t-r;return v?l(o,f-n):o}function w(e){var r=e-_,n=e-m;return _===undefined||r>=t||r<0||v&&n>=f}function O(){var e=o();if(w(e)){return S(e)}p=setTimeout(O,g(e))}function S(e){p=undefined;if(b&&u){return h(e)}u=c=undefined;return d}function k(){if(p!==undefined){clearTimeout(p)}m=0;u=_=c=p=undefined}function A(){return p===undefined?d:S(o())}function E(){var e=o(),r=w(e);u=arguments;c=this;_=e;if(r){if(p===undefined){return j(_)}if(v){clearTimeout(p);p=setTimeout(O,t);return h(_)}}if(p===undefined){p=setTimeout(O,t)}return d}E.cancel=k;E.flush=A;return E}t.exports=u},{"./isObject":1187,"./now":1196,"./toNumber":1200}],1175:[function(e,t,r){function n(e,t){return e===t||e!==e&&t!==t}t.exports=n},{}],1176:[function(e,t,r){var n=e("./_escapeHtmlChar"),o=e("./toString");var s=/[&<>"']/g,i=RegExp(s.source);function a(e){e=o(e);return e&&i.test(e)?e.replace(s,n):e}t.exports=a},{"./_escapeHtmlChar":1119,"./toString":1201}],1177:[function(e,t,r){var n=e("./_baseGet");function o(e,t,r){var o=e==null?undefined:n(e,t);return o===undefined?r:o}t.exports=o},{"./_baseGet":1087}],1178:[function(e,t,r){var n=e("./_baseHasIn"),o=e("./_hasPath");function s(e,t){return e!=null&&o(e,t,n)}t.exports=s},{"./_baseHasIn":1090,"./_hasPath":1129}],1179:[function(e,t,r){function n(e){return e}t.exports=n},{}],1180:[function(e,t,r){var n=e("./_baseIsArguments"),o=e("./isObjectLike");var s=Object.prototype;var i=s.hasOwnProperty;var a=s.propertyIsEnumerable;var l=n(function(){return arguments}())?n:function(e){return o(e)&&i.call(e,"callee")&&!a.call(e,"callee")};t.exports=l},{"./_baseIsArguments":1091,"./isObjectLike":1188}],1181:[function(e,t,r){var n=Array.isArray;t.exports=n},{}],1182:[function(e,t,r){var n=e("./isFunction"),o=e("./isLength");function s(e){return e!=null&&o(e.length)&&!n(e)}t.exports=s},{"./isFunction":1185,"./isLength":1186}],1183:[function(e,t,r){var n=e("./_root"),o=e("./stubFalse");var s=typeof r=="object"&&r&&!r.nodeType&&r;var i=s&&typeof t=="object"&&t&&!t.nodeType&&t;var a=i&&i.exports===s;var l=a?n.Buffer:undefined;var u=l?l.isBuffer:undefined;var c=u||o;t.exports=c},{"./_root":1159,"./stubFalse":1199}],1184:[function(e,t,r){var n=e("./_baseIsEqual");function o(e,t){return n(e,t)}t.exports=o},{"./_baseIsEqual":1092}],1185:[function(e,t,r){var n=e("./_baseGetTag"),o=e("./isObject");var s="[object AsyncFunction]",i="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function u(e){if(!o(e)){return false}var t=n(e);return t==i||t==a||t==s||t==l}t.exports=u},{"./_baseGetTag":1089,"./isObject":1187}],1186:[function(e,t,r){var n=9007199254740991;function o(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=n}t.exports=o},{}],1187:[function(e,t,r){function n(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}t.exports=n},{}],1188:[function(e,t,r){function n(e){return e!=null&&typeof e=="object"}t.exports=n},{}],1189:[function(e,t,r){var n=e("./_baseGetTag"),o=e("./isObjectLike");var s="[object Symbol]";function i(e){return typeof e=="symbol"||o(e)&&n(e)==s}t.exports=i},{"./_baseGetTag":1089,"./isObjectLike":1188}],1190:[function(e,t,r){var n=e("./_baseIsTypedArray"),o=e("./_baseUnary"),s=e("./_nodeUtil");var i=s&&s.isTypedArray;var a=i?o(i):n;t.exports=a},{"./_baseIsTypedArray":1096,"./_baseUnary":1108,"./_nodeUtil":1156}],1191:[function(e,t,r){var n=e("./_baseAssignValue"),o=e("./_createAggregator");var s=o((function(e,t,r){n(e,r,t)}));t.exports=s},{"./_baseAssignValue":1083,"./_createAggregator":1112}],1192:[function(e,t,r){var n=e("./_arrayLikeKeys"),o=e("./_baseKeys"),s=e("./isArrayLike");function i(e){return s(e)?n(e):o(e)}t.exports=i},{"./_arrayLikeKeys":1077,"./_baseKeys":1098,"./isArrayLike":1182}],1193:[function(e,t,r){var n=e("./_arrayMap"),o=e("./_baseIteratee"),s=e("./_baseMap"),i=e("./isArray");function a(e,t){var r=i(e)?n:s;return r(e,o(t,3))}t.exports=a},{"./_arrayMap":1078,"./_baseIteratee":1097,"./_baseMap":1099,"./isArray":1181}],1194:[function(e,t,r){var n=e("./_baseAssignValue"),o=e("./_baseForOwn"),s=e("./_baseIteratee");function i(e,t){var r={};t=s(t,3);o(e,(function(e,o,s){n(r,o,t(e,o,s))}));return r}t.exports=i},{"./_baseAssignValue":1083,"./_baseForOwn":1086,"./_baseIteratee":1097}],1195:[function(e,t,r){var n=e("./_MapCache");var o="Expected a function";function s(e,t){if(typeof e!="function"||t!=null&&typeof t!="function"){throw new TypeError(o)}var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],s=r.cache;if(s.has(o)){return s.get(o)}var i=e.apply(this,n);r.cache=s.set(o,i)||s;return i};r.cache=new(s.Cache||n);return r}s.Cache=n;t.exports=s},{"./_MapCache":1067}],1196:[function(e,t,r){var n=e("./_root");var o=function(){return n.Date.now()};t.exports=o},{"./_root":1159}],1197:[function(e,t,r){var n=e("./_baseProperty"),o=e("./_basePropertyDeep"),s=e("./_isKey"),i=e("./_toKey");function a(e){return s(e)?n(i(e)):o(e)}t.exports=a},{"./_baseProperty":1102,"./_basePropertyDeep":1103,"./_isKey":1136,"./_toKey":1169}],1198:[function(e,t,r){function n(){return[]}t.exports=n},{}],1199:[function(e,t,r){function n(){return false}t.exports=n},{}],1200:[function(e,t,r){var n=e("./_baseTrim"),o=e("./isObject"),s=e("./isSymbol");var i=0/0;var a=/^[-+]0x[0-9a-f]+$/i;var l=/^0b[01]+$/i;var u=/^0o[0-7]+$/i;var c=parseInt;function f(e){if(typeof e=="number"){return e}if(s(e)){return i}if(o(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=o(t)?t+"":t}if(typeof e!="string"){return e===0?e:+e}e=n(e);var r=l.test(e);return r||u.test(e)?c(e.slice(2),r?2:8):a.test(e)?i:+e}t.exports=f},{"./_baseTrim":1107,"./isObject":1187,"./isSymbol":1189}],1201:[function(e,t,r){var n=e("./_baseToString");function o(e){return e==null?"":n(e)}t.exports=o},{"./_baseToString":1106}],1202:[function(e,t,r){var n=e("./toString"),o=e("./_unescapeHtmlChar");var s=/&(?:amp|lt|gt|quot|#39);/g,i=RegExp(s.source);function a(e){e=n(e);return e&&i.test(e)?e.replace(s,o):e}t.exports=a},{"./_unescapeHtmlChar":1172,"./toString":1201}],1203:[function(e,t,r){"use strict";var n=e("es5-ext/number/to-pos-integer"),o=Object.create,s=Object.prototype.hasOwnProperty;t.exports=function(e){var t=0,r=1,i=o(null),a=o(null),l=0,u;e=n(e);return{hit:function(n){var o=a[n],c=++l;i[c]=n;a[n]=c;if(!o){++t;if(t<=e)return;n=i[r];u(n);return n}delete i[o];if(r!==o)return;while(!s.call(i,++r))continue},delete:u=function(e){var n=a[e];if(!n)return;delete i[n];delete a[e];--t;if(r!==n)return;if(!t){l=0;r=1;return}while(!s.call(i,++r))continue},clear:function(){t=0;r=1;i=o(null);a=o(null);l=0}}}},{"es5-ext/number/to-pos-integer":1017}],1204:[function(e,t,r){"use strict";var n=e("inherits");var o=e("hash-base");var s=e("safe-buffer").Buffer;var i=new Array(16);function a(){o.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878}n(a,o);a.prototype._update=function(){var e=i;for(var t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a;var n=this._b;var o=this._c;var s=this._d;r=u(r,n,o,s,e[0],3614090360,7);s=u(s,r,n,o,e[1],3905402710,12);o=u(o,s,r,n,e[2],606105819,17);n=u(n,o,s,r,e[3],3250441966,22);r=u(r,n,o,s,e[4],4118548399,7);s=u(s,r,n,o,e[5],1200080426,12);o=u(o,s,r,n,e[6],2821735955,17);n=u(n,o,s,r,e[7],4249261313,22);r=u(r,n,o,s,e[8],1770035416,7);s=u(s,r,n,o,e[9],2336552879,12);o=u(o,s,r,n,e[10],4294925233,17);n=u(n,o,s,r,e[11],2304563134,22);r=u(r,n,o,s,e[12],1804603682,7);s=u(s,r,n,o,e[13],4254626195,12);o=u(o,s,r,n,e[14],2792965006,17);n=u(n,o,s,r,e[15],1236535329,22);r=c(r,n,o,s,e[1],4129170786,5);s=c(s,r,n,o,e[6],3225465664,9);o=c(o,s,r,n,e[11],643717713,14);n=c(n,o,s,r,e[0],3921069994,20);r=c(r,n,o,s,e[5],3593408605,5);s=c(s,r,n,o,e[10],38016083,9);o=c(o,s,r,n,e[15],3634488961,14);n=c(n,o,s,r,e[4],3889429448,20);r=c(r,n,o,s,e[9],568446438,5);s=c(s,r,n,o,e[14],3275163606,9);o=c(o,s,r,n,e[3],4107603335,14);n=c(n,o,s,r,e[8],1163531501,20);r=c(r,n,o,s,e[13],2850285829,5);s=c(s,r,n,o,e[2],4243563512,9);o=c(o,s,r,n,e[7],1735328473,14);n=c(n,o,s,r,e[12],2368359562,20);r=f(r,n,o,s,e[5],4294588738,4);s=f(s,r,n,o,e[8],2272392833,11);o=f(o,s,r,n,e[11],1839030562,16);n=f(n,o,s,r,e[14],4259657740,23);r=f(r,n,o,s,e[1],2763975236,4);s=f(s,r,n,o,e[4],1272893353,11);o=f(o,s,r,n,e[7],4139469664,16);n=f(n,o,s,r,e[10],3200236656,23);r=f(r,n,o,s,e[13],681279174,4);s=f(s,r,n,o,e[0],3936430074,11);o=f(o,s,r,n,e[3],3572445317,16);n=f(n,o,s,r,e[6],76029189,23);r=f(r,n,o,s,e[9],3654602809,4);s=f(s,r,n,o,e[12],3873151461,11);o=f(o,s,r,n,e[15],530742520,16);n=f(n,o,s,r,e[2],3299628645,23);r=d(r,n,o,s,e[0],4096336452,6);s=d(s,r,n,o,e[7],1126891415,10);o=d(o,s,r,n,e[14],2878612391,15);n=d(n,o,s,r,e[5],4237533241,21);r=d(r,n,o,s,e[12],1700485571,6);s=d(s,r,n,o,e[3],2399980690,10);o=d(o,s,r,n,e[10],4293915773,15);n=d(n,o,s,r,e[1],2240044497,21);r=d(r,n,o,s,e[8],1873313359,6);s=d(s,r,n,o,e[15],4264355552,10);o=d(o,s,r,n,e[6],2734768916,15);n=d(n,o,s,r,e[13],1309151649,21);r=d(r,n,o,s,e[4],4149444226,6);s=d(s,r,n,o,e[11],3174756917,10);o=d(o,s,r,n,e[2],718787259,15);n=d(n,o,s,r,e[9],3951481745,21);this._a=this._a+r|0;this._b=this._b+n|0;this._c=this._c+o|0;this._d=this._d+s|0};a.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var e=s.allocUnsafe(16);e.writeInt32LE(this._a,0);e.writeInt32LE(this._b,4);e.writeInt32LE(this._c,8);e.writeInt32LE(this._d,12);return e};function l(e,t){return e<<t|e>>>32-t}function u(e,t,r,n,o,s,i){return l(e+(t&r|~t&n)+o+s|0,i)+t|0}function c(e,t,r,n,o,s,i){return l(e+(t&n|r&~n)+o+s|0,i)+t|0}function f(e,t,r,n,o,s,i){return l(e+(t^r^n)+o+s|0,i)+t|0}function d(e,t,r,n,o,s,i){return l(e+(r^(t|~n))+o+s|0,i)+t|0}t.exports=a},{"hash-base":1057,inherits:1059,"safe-buffer":1254}],1205:[function(e,t,r){"use strict";var n=e("es5-ext/array/from"),o=e("es5-ext/object/map"),s=e("es5-ext/object/mixin"),i=e("es5-ext/function/_define-length"),a=e("next-tick");var l=Array.prototype.slice,u=Function.prototype.apply,c=Object.create;e("../lib/registered-extensions").async=function(e,t){var r=c(null),f=c(null),d=t.memoized,p=t.original,_,m,y;t.memoized=i((function(e){var t=arguments,r=t[t.length-1];if(typeof r==="function"){_=r;t=l.call(t,0,-1)}return d.apply(m=this,y=t)}),d);try{s(t.memoized,d)}catch(e){}t.on("get",(function(e){var n,o,s;if(!_)return;if(r[e]){if(typeof r[e]==="function")r[e]=[r[e],_];else r[e].push(_);_=null;return}n=_;o=m;s=y;_=m=y=null;a((function(){var r;if(hasOwnProperty.call(f,e)){r=f[e];t.emit("getasync",e,s,o);u.call(n,r.context,r.args)}else{_=n;m=o;y=s;d.apply(o,s)}}))}));t.original=function(){var e,o,s,i;if(!_)return u.call(p,this,arguments);e=n(arguments);o=function e(o){var s,l,c=e.id;if(c==null){a(u.bind(e,this,arguments));return undefined}delete e.id;s=r[c];delete r[c];if(!s){return undefined}l=n(arguments);if(t.has(c)){if(o){t.delete(c)}else{f[c]={context:this,args:l};t.emit("setasync",c,typeof s==="function"?1:s.length)}}if(typeof s==="function"){i=u.call(s,this,l)}else{s.forEach((function(e){i=u.call(e,this,l)}),this)}return i};s=_;_=m=y=null;e.push(o);i=u.call(p,this,e);o.cb=s;_=o;return i};t.on("set",(function(e){if(!_){t.delete(e);return}if(r[e]){if(typeof r[e]==="function")r[e]=[r[e],_.cb];else r[e].push(_.cb)}else{r[e]=_.cb}delete _.cb;_.id=e;_=null}));t.on("delete",(function(e){var n;if(hasOwnProperty.call(r,e))return;if(!f[e])return;n=f[e];delete f[e];t.emit("deleteasync",e,l.call(n.args,1))}));t.on("clear",(function(){var e=f;f=c(null);t.emit("clearasync",o(e,(function(e){return l.call(e.args,1)})))}))}},{"../lib/registered-extensions":1213,"es5-ext/array/from":1001,"es5-ext/function/_define-length":1006,"es5-ext/object/map":1029,"es5-ext/object/mixin":1030,"next-tick":1224}],1206:[function(e,t,r){"use strict";var n=e("es5-ext/object/valid-callable"),o=e("es5-ext/object/for-each"),s=e("../lib/registered-extensions"),i=Function.prototype.apply;s.dispose=function(e,t,r){var a;n(e);if(r.async&&s.async||r.promise&&s.promise){t.on("deleteasync",a=function(t,r){i.call(e,null,r)});t.on("clearasync",(function(e){o(e,(function(e,t){a(t,e)}))}));return}t.on("delete",a=function(t,r){e(r)});t.on("clear",(function(e){o(e,(function(e,t){a(t,e)}))}))}},{"../lib/registered-extensions":1213,"es5-ext/object/for-each":1022,"es5-ext/object/valid-callable":1033}],1207:[function(e,t,r){"use strict";var n=e("es5-ext/array/from"),o=e("es5-ext/object/for-each"),s=e("next-tick"),i=e("is-promise"),a=e("timers-ext/valid-timeout"),l=e("../lib/registered-extensions");var u=Function.prototype,c=Math.max,f=Math.min,d=Object.create;l.maxAge=function(e,t,r){var p,_,m,y;e=a(e);if(!e)return;p=d(null);_=r.async&&l.async||r.promise&&l.promise?"async":"";t.on("set"+_,(function(r){p[r]=setTimeout((function(){t.delete(r)}),e);if(typeof p[r].unref==="function")p[r].unref();if(!y)return;if(y[r]){if(y[r]!=="nextTick")clearTimeout(y[r])}y[r]=setTimeout((function(){delete y[r]}),m);if(typeof y[r].unref==="function")y[r].unref()}));t.on("delete"+_,(function(e){clearTimeout(p[e]);delete p[e];if(!y)return;if(y[e]!=="nextTick")clearTimeout(y[e]);delete y[e]}));if(r.preFetch){if(r.preFetch===true||isNaN(r.preFetch)){m=.333}else{m=c(f(Number(r.preFetch),1),0)}if(m){y={};m=(1-m)*e;t.on("get"+_,(function(e,o,a){if(!y[e]){y[e]="nextTick";s((function(){var s;if(y[e]!=="nextTick")return;delete y[e];t.delete(e);if(r.async){o=n(o);o.push(u)}s=t.memoized.apply(a,o);if(r.promise){if(i(s)){if(typeof s.done==="function")s.done(u,u);else s.then(u,u)}}}))}}))}}t.on("clear"+_,(function(){o(p,(function(e){clearTimeout(e)}));p={};if(y){o(y,(function(e){if(e!=="nextTick")clearTimeout(e)}));y={}}}))}},{"../lib/registered-extensions":1213,"es5-ext/array/from":1001,"es5-ext/object/for-each":1022,"is-promise":1061,"next-tick":1224,"timers-ext/valid-timeout":1292}],1208:[function(e,t,r){"use strict";var n=e("es5-ext/number/to-pos-integer"),o=e("lru-queue"),s=e("../lib/registered-extensions");s.max=function(e,t,r){var i,a,l;e=n(e);if(!e)return;a=o(e);i=r.async&&s.async||r.promise&&s.promise?"async":"";t.on("set"+i,l=function(e){e=a.hit(e);if(e===undefined)return;t.delete(e)});t.on("get"+i,l);t.on("delete"+i,a.delete);t.on("clear"+i,a.clear)}},{"../lib/registered-extensions":1213,"es5-ext/number/to-pos-integer":1017,"lru-queue":1203}],1209:[function(e,t,r){"use strict";var n=e("es5-ext/object/map"),o=e("es5-ext/object/primitive-set"),s=e("es5-ext/object/validate-stringifiable-value"),i=e("es5-ext/to-short-string-representation"),a=e("is-promise"),l=e("next-tick");var u=Object.create,c=o("then","then:finally","done","done:finally");e("../lib/registered-extensions").promise=function(e,t){var r=u(null),o=u(null),f=u(null);if(e===true){e=null}else{e=s(e);if(!c[e]){throw new TypeError("'"+i(e)+"' is not valid promise mode")}}t.on("set",(function(n,s,i){var u=false;if(!a(i)){o[n]=i;t.emit("setasync",n,1);return}r[n]=1;f[n]=i;var c=function(e){var s=r[n];if(u){throw new Error("Memoizee error: Detected unordered then|done & finally resolution, which "+"in turn makes proper detection of success/failure impossible (when in "+"'done:finally' mode)\n"+"Consider to rely on 'then' or 'done' mode instead.")}if(!s)return;delete r[n];o[n]=e;t.emit("setasync",n,s)};var d=function(){u=true;if(!r[n])return;delete r[n];delete f[n];t.delete(n)};var p=e;if(!p)p="then";if(p==="then"){var _=function(){l(d)};i=i.then((function(e){l(c.bind(this,e))}),_);if(typeof i.finally==="function"){i.finally(_)}}else if(p==="done"){if(typeof i.done!=="function"){throw new Error("Memoizee error: Retrieved promise does not implement 'done' "+"in 'done' mode")}i.done(c,d)}else if(p==="done:finally"){if(typeof i.done!=="function"){throw new Error("Memoizee error: Retrieved promise does not implement 'done' "+"in 'done:finally' mode")}if(typeof i.finally!=="function"){throw new Error("Memoizee error: Retrieved promise does not implement 'finally' "+"in 'done:finally' mode")}i.done(c);i.finally(d)}}));t.on("get",(function(e,n,o){var s;if(r[e]){++r[e];return}s=f[e];var i=function(){t.emit("getasync",e,n,o)};if(a(s)){if(typeof s.done==="function")s.done(i);else{s.then((function(){l(i)}))}}else{i()}}));t.on("delete",(function(e){delete f[e];if(r[e]){delete r[e];return}if(!hasOwnProperty.call(o,e))return;var n=o[e];delete o[e];t.emit("deleteasync",e,[n])}));t.on("clear",(function(){var e=o;o=u(null);r=u(null);f=u(null);t.emit("clearasync",n(e,(function(e){return[e]})))}))}},{"../lib/registered-extensions":1213,"es5-ext/object/map":1029,"es5-ext/object/primitive-set":1032,"es5-ext/object/validate-stringifiable-value":1035,"es5-ext/to-short-string-representation":1042,"is-promise":1061,"next-tick":1224}],1210:[function(e,t,r){"use strict";var n=e("d"),o=e("../lib/registered-extensions"),s=Object.create,i=Object.defineProperties;o.refCounter=function(e,t,r){var a,l;a=s(null);l=r.async&&o.async||r.promise&&o.promise?"async":"";t.on("set"+l,(function(e,t){a[e]=t||1}));t.on("get"+l,(function(e){++a[e]}));t.on("delete"+l,(function(e){delete a[e]}));t.on("clear"+l,(function(){a={}}));i(t.memoized,{deleteRef:n((function(){var e=t.get(arguments);if(e===null)return null;if(!a[e])return null;if(!--a[e]){t.delete(e);return true}return false})),getRefCount:n((function(){var e=t.get(arguments);if(e===null)return 0;if(!a[e])return 0;return a[e]}))})}},{"../lib/registered-extensions":1213,d:999}],1211:[function(e,t,r){"use strict";var n=e("es5-ext/object/normalize-options"),o=e("./lib/resolve-length"),s=e("./plain");t.exports=function(t){var r=n(arguments[1]),i;if(!r.normalizer){i=r.length=o(r.length,t.length,r.async);if(i!==0){if(r.primitive){if(i===false){r.normalizer=e("./normalizers/primitive")}else if(i>1){r.normalizer=e("./normalizers/get-primitive-fixed")(i)}}else if(i===false)r.normalizer=e("./normalizers/get")();else if(i===1)r.normalizer=e("./normalizers/get-1")();else r.normalizer=e("./normalizers/get-fixed")(i)}}if(r.async)e("./ext/async");if(r.promise)e("./ext/promise");if(r.dispose)e("./ext/dispose");if(r.maxAge)e("./ext/max-age");if(r.max)e("./ext/max");if(r.refCounter)e("./ext/ref-counter");return s(t,r)}},{"./ext/async":1205,"./ext/dispose":1206,"./ext/max":1208,"./ext/max-age":1207,"./ext/promise":1209,"./ext/ref-counter":1210,"./lib/resolve-length":1214,"./normalizers/get":1220,"./normalizers/get-1":1217,"./normalizers/get-fixed":1218,"./normalizers/get-primitive-fixed":1219,"./normalizers/primitive":1221,"./plain":1222,"es5-ext/object/normalize-options":1031}],1212:[function(e,t,r){"use strict";var n=e("es5-ext/error/custom"),o=e("es5-ext/function/_define-length"),s=e("d"),i=e("event-emitter").methods,a=e("./resolve-resolve"),l=e("./resolve-normalize");var u=Function.prototype.apply,c=Function.prototype.call,f=Object.create,d=Object.defineProperties,p=i.on,_=i.emit;t.exports=function(e,t,r){var i=f(null),m,y,v,b,h,j,g,w,O,S,k,A,E,x,M;if(t!==false)y=t;else if(isNaN(e.length))y=1;else y=e.length;if(r.normalizer){S=l(r.normalizer);v=S.get;b=S.set;h=S.delete;j=S.clear}if(r.resolvers!=null)M=a(r.resolvers);if(v){x=o((function(t){var r,o,s=arguments;if(M)s=M(s);r=v(s);if(r!==null){if(hasOwnProperty.call(i,r)){if(k)m.emit("get",r,s,this);return i[r]}}if(s.length===1)o=c.call(e,this,s[0]);else o=u.call(e,this,s);if(r===null){r=v(s);if(r!==null)throw n("Circular invocation","CIRCULAR_INVOCATION");r=b(s)}else if(hasOwnProperty.call(i,r)){throw n("Circular invocation","CIRCULAR_INVOCATION")}i[r]=o;if(A)m.emit("set",r,null,o);return o}),y)}else if(t===0){x=function(){var t;if(hasOwnProperty.call(i,"data")){if(k)m.emit("get","data",arguments,this);return i.data}if(arguments.length)t=u.call(e,this,arguments);else t=c.call(e,this);if(hasOwnProperty.call(i,"data")){throw n("Circular invocation","CIRCULAR_INVOCATION")}i.data=t;if(A)m.emit("set","data",null,t);return t}}else{x=function(t){var r,o=arguments,s;if(M)o=M(arguments);s=String(o[0]);if(hasOwnProperty.call(i,s)){if(k)m.emit("get",s,o,this);return i[s]}if(o.length===1)r=c.call(e,this,o[0]);else r=u.call(e,this,o);if(hasOwnProperty.call(i,s)){throw n("Circular invocation","CIRCULAR_INVOCATION")}i[s]=r;if(A)m.emit("set",s,null,r);return r}}m={original:e,memoized:x,profileName:r.profileName,get:function(e){if(M)e=M(e);if(v)return v(e);return String(e[0])},has:function(e){return hasOwnProperty.call(i,e)},delete:function(e){var t;if(!hasOwnProperty.call(i,e))return;if(h)h(e);t=i[e];delete i[e];if(E)m.emit("delete",e,t)},clear:function(){var e=i;if(j)j();i=f(null);m.emit("clear",e)},on:function(e,t){if(e==="get")k=true;else if(e==="set")A=true;else if(e==="delete")E=true;return p.call(this,e,t)},emit:_,updateEnv:function(){e=m.original}};if(v){g=o((function(e){var t,r=arguments;if(M)r=M(r);t=v(r);if(t===null)return;m.delete(t)}),y)}else if(t===0){g=function(){return m.delete("data")}}else{g=function(e){if(M)e=M(arguments)[0];return m.delete(e)}}w=o((function(){var e,r=arguments;if(t===0)return i.data;if(M)r=M(r);if(v)e=v(r);else e=String(r[0]);return i[e]}));O=o((function(){var e,r=arguments;if(t===0)return m.has("data");if(M)r=M(r);if(v)e=v(r);else e=String(r[0]);if(e===null)return false;return m.has(e)}));d(x,{__memoized__:s(true),delete:s(g),clear:s(m.clear),_get:s(w),_has:s(O)});return m}},{"./resolve-normalize":1215,"./resolve-resolve":1216,d:999,"es5-ext/error/custom":1005,"es5-ext/function/_define-length":1006,"event-emitter":1051}],1213:[function(e,t,r){"use strict"},{}],1214:[function(e,t,r){"use strict";var n=e("es5-ext/number/to-pos-integer");t.exports=function(e,t,r){var o;if(isNaN(e)){o=t;if(!(o>=0))return 1;if(r&&o)return o-1;return o}if(e===false)return false;return n(e)}},{"es5-ext/number/to-pos-integer":1017}],1215:[function(e,t,r){"use strict";var n=e("es5-ext/object/valid-callable");t.exports=function(e){var t;if(typeof e==="function")return{set:e,get:e};t={get:n(e.get)};if(e.set!==undefined){t.set=n(e.set);if(e.delete)t.delete=n(e.delete);if(e.clear)t.clear=n(e.clear);return t}t.set=t.get;return t}},{"es5-ext/object/valid-callable":1033}],1216:[function(e,t,r){"use strict";var n=e("es5-ext/array/to-array"),o=e("es5-ext/object/is-value"),s=e("es5-ext/object/valid-callable");var i=Array.prototype.slice,a;a=function(e){return this.map((function(t,r){return t?t(e[r]):e[r]})).concat(i.call(e,this.length))};t.exports=function(e){e=n(e);e.forEach((function(e){if(o(e))s(e)}));return a.bind(e)}},{"es5-ext/array/to-array":1004,"es5-ext/object/is-value":1025,"es5-ext/object/valid-callable":1033}],1217:[function(e,t,r){"use strict";var n=e("es5-ext/array/#/e-index-of");t.exports=function(){var e=0,t=[],r=[];return{get:function(e){var o=n.call(t,e[0]);return o===-1?null:r[o]},set:function(n){t.push(n[0]);r.push(++e);return e},delete:function(e){var o=n.call(r,e);if(o!==-1){t.splice(o,1);r.splice(o,1)}},clear:function(){t=[];r=[]}}}},{"es5-ext/array/#/e-index-of":1e3}],1218:[function(e,t,r){"use strict";var n=e("es5-ext/array/#/e-index-of"),o=Object.create;t.exports=function(e){var t=0,r=[[],[]],s=o(null);return{get:function(t){var o=0,s=r,i;while(o<e-1){i=n.call(s[0],t[o]);if(i===-1)return null;s=s[1][i];++o}i=n.call(s[0],t[o]);if(i===-1)return null;return s[1][i]||null},set:function(o){var i=0,a=r,l;while(i<e-1){l=n.call(a[0],o[i]);if(l===-1){l=a[0].push(o[i])-1;a[1].push([[],[]])}a=a[1][l];++i}l=n.call(a[0],o[i]);if(l===-1){l=a[0].push(o[i])-1}a[1][l]=++t;s[t]=o;return t},delete:function(t){var o=0,i=r,a,l=[],u=s[t];while(o<e-1){a=n.call(i[0],u[o]);if(a===-1){return}l.push(i,a);i=i[1][a];++o}a=n.call(i[0],u[o]);if(a===-1){return}t=i[1][a];i[0].splice(a,1);i[1].splice(a,1);while(!i[0].length&&l.length){a=l.pop();i=l.pop();i[0].splice(a,1);i[1].splice(a,1)}delete s[t]},clear:function(){r=[[],[]];s=o(null)}}}},{"es5-ext/array/#/e-index-of":1e3}],1219:[function(e,t,r){"use strict";t.exports=function(e){if(!e){return function(){return""}}return function(t){var r=String(t[0]),n=0,o=e;while(--o){r+=""+t[++n]}return r}}},{}],1220:[function(e,t,r){"use strict";var n=e("es5-ext/array/#/e-index-of");var o=Object.create;t.exports=function(){var e=0,t=[],r=o(null);return{get:function(e){var r=0,o=t,s,i=e.length;if(i===0)return o[i]||null;if(o=o[i]){while(r<i-1){s=n.call(o[0],e[r]);if(s===-1)return null;o=o[1][s];++r}s=n.call(o[0],e[r]);if(s===-1)return null;return o[1][s]||null}return null},set:function(o){var s=0,i=t,a,l=o.length;if(l===0){i[l]=++e}else{if(!i[l]){i[l]=[[],[]]}i=i[l];while(s<l-1){a=n.call(i[0],o[s]);if(a===-1){a=i[0].push(o[s])-1;i[1].push([[],[]])}i=i[1][a];++s}a=n.call(i[0],o[s]);if(a===-1){a=i[0].push(o[s])-1}i[1][a]=++e}r[e]=o;return e},delete:function(e){var o=0,s=t,i,a=r[e],l=a.length,u=[];if(l===0){delete s[l]}else if(s=s[l]){while(o<l-1){i=n.call(s[0],a[o]);if(i===-1){return}u.push(s,i);s=s[1][i];++o}i=n.call(s[0],a[o]);if(i===-1){return}e=s[1][i];s[0].splice(i,1);s[1].splice(i,1);while(!s[0].length&&u.length){i=u.pop();s=u.pop();s[0].splice(i,1);s[1].splice(i,1)}}delete r[e]},clear:function(){t=[];r=o(null)}}}},{"es5-ext/array/#/e-index-of":1e3}],1221:[function(e,t,r){"use strict";t.exports=function(e){var t,r,n=e.length;if(!n)return"";t=String(e[r=0]);while(--n)t+=""+e[++r];return t}},{}],1222:[function(e,t,r){"use strict";var n=e("es5-ext/object/valid-callable"),o=e("es5-ext/object/for-each"),s=e("./lib/registered-extensions"),i=e("./lib/configure-map"),a=e("./lib/resolve-length");t.exports=function e(t){var r,l,u;n(t);r=Object(arguments[1]);if(r.async&&r.promise){throw new Error("Options 'async' and 'promise' cannot be used together")}if(hasOwnProperty.call(t,"__memoized__")&&!r.force)return t;l=a(r.length,t.length,r.async&&s.async);u=i(t,l,r);o(s,(function(e,t){if(r[t])e(r[t],u,r)}));if(e.__profiler__)e.__profiler__(u);u.updateEnv();return u.memoized}},{"./lib/configure-map":1212,"./lib/registered-extensions":1213,"./lib/resolve-length":1214,"es5-ext/object/for-each":1022,"es5-ext/object/valid-callable":1033}],1223:[function(e,t,r){(function(e,n){typeof r==="object"&&typeof t!=="undefined"?t.exports=n():typeof define==="function"&&define.amd?define(n):e.moment=n()})(this,(function(){"use strict";var r;function n(){return r.apply(null,arguments)}function o(e){r=e}function s(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function i(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(e).length===0}else{var t;for(t in e){if(a(e,t)){return false}}return true}}function u(e){return e===void 0}function c(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function f(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function d(e,t){var r=[],n,o=e.length;for(n=0;n<o;++n){r.push(t(e[n],n))}return r}function p(e,t){for(var r in t){if(a(t,r)){e[r]=t[r]}}if(a(t,"toString")){e.toString=t.toString}if(a(t,"valueOf")){e.valueOf=t.valueOf}return e}function _(e,t,r,n){return Hr(e,t,r,n,true).utc()}function m(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidEra:null,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],era:null,meridiem:null,rfc2822:false,weekdayMismatch:false}}function y(e){if(e._pf==null){e._pf=m()}return e._pf}var v;if(Array.prototype.some){v=Array.prototype.some}else{v=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++){if(n in t&&e.call(this,t[n],n,t)){return true}}return false}}function b(e){if(e._isValid==null){var t=y(e),r=v.call(t.parsedDateParts,(function(e){return e!=null})),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict){n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=n}else{return n}}return e._isValid}function h(e){var t=_(NaN);if(e!=null){p(y(t),e)}else{y(t).userInvalidated=true}return t}var j=n.momentProperties=[],g=false;function w(e,t){var r,n,o,s=j.length;if(!u(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!u(t._i)){e._i=t._i}if(!u(t._f)){e._f=t._f}if(!u(t._l)){e._l=t._l}if(!u(t._strict)){e._strict=t._strict}if(!u(t._tzm)){e._tzm=t._tzm}if(!u(t._isUTC)){e._isUTC=t._isUTC}if(!u(t._offset)){e._offset=t._offset}if(!u(t._pf)){e._pf=y(t)}if(!u(t._locale)){e._locale=t._locale}if(s>0){for(r=0;r<s;r++){n=j[r];o=t[n];if(!u(o)){e[n]=o}}}return e}function O(e){w(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(g===false){g=true;n.updateOffset(this);g=false}}function S(e){return e instanceof O||e!=null&&e._isAMomentObject!=null}function k(e){if(n.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function A(e,t){var r=true;return p((function(){if(n.deprecationHandler!=null){n.deprecationHandler(null,e)}if(r){var o=[],s,i,l,u=arguments.length;for(i=0;i<u;i++){s="";if(typeof arguments[i]==="object"){s+="\n["+i+"] ";for(l in arguments[0]){if(a(arguments[0],l)){s+=l+": "+arguments[0][l]+", "}}s=s.slice(0,-2)}else{s=arguments[i]}o.push(s)}k(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack);r=false}return t.apply(this,arguments)}),t)}var E={};function x(e,t){if(n.deprecationHandler!=null){n.deprecationHandler(e,t)}if(!E[e]){k(t);E[e]=true}}n.suppressDeprecationWarnings=false;n.deprecationHandler=null;function M(e){return typeof Function!=="undefined"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function P(e){var t,r;for(r in e){if(a(e,r)){t=e[r];if(M(t)){this[r]=t}else{this["_"+r]=t}}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var r=p({},e),n;for(n in t){if(a(t,n)){if(i(e[n])&&i(t[n])){r[n]={};p(r[n],e[n]);p(r[n],t[n])}else if(t[n]!=null){r[n]=t[n]}else{delete r[n]}}}for(n in e){if(a(e,n)&&!a(t,n)&&i(e[n])){r[n]=p({},r[n])}}return r}function I(e){if(e!=null){this.set(e)}}var C;if(Object.keys){C=Object.keys}else{C=function(e){var t,r=[];for(t in e){if(a(e,t)){r.push(t)}}return r}}var R={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function N(e,t,r){var n=this._calendar[e]||this._calendar["sameElse"];return M(n)?n.call(t,r):n}function L(e,t,r){var n=""+Math.abs(e),o=t-n.length,s=e>=0;return(s?r?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}var z=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,D=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,q={},B={};function U(e,t,r,n){var o=n;if(typeof n==="string"){o=function(){return this[n]()}}if(e){B[e]=o}if(t){B[t[0]]=function(){return L(o.apply(this,arguments),t[1],t[2])}}if(r){B[r]=function(){return this.localeData().ordinal(o.apply(this,arguments),e)}}}function W(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function F(e){var t=e.match(z),r,n;for(r=0,n=t.length;r<n;r++){if(B[t[r]]){t[r]=B[t[r]]}else{t[r]=W(t[r])}}return function(r){var o="",s;for(s=0;s<n;s++){o+=M(t[s])?t[s].call(r,e):t[s]}return o}}function G(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=X(t,e.localeData());q[t]=q[t]||F(t);return q[t](e)}function X(e,t){var r=5;function n(e){return t.longDateFormat(e)||e}D.lastIndex=0;while(r>=0&&D.test(e)){e=e.replace(D,n);D.lastIndex=0;r-=1}return e}var $={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function V(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];if(t||!r){return t}this._longDateFormat[e]=r.match(z).map((function(e){if(e==="MMMM"||e==="MM"||e==="DD"||e==="dddd"){return e.slice(1)}return e})).join("");return this._longDateFormat[e]}var H="Invalid date";function Y(){return this._invalidDate}var K="%d",J=/\d{1,2}/;function Z(e){return this._ordinal.replace("%d",e)}var Q={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ee(e,t,r,n){var o=this._relativeTime[r];return M(o)?o(e,t,r,n):o.replace(/%d/i,e)}function te(e,t){var r=this._relativeTime[e>0?"future":"past"];return M(r)?r(t):r.replace(/%s/i,t)}var re={};function ne(e,t){var r=e.toLowerCase();re[r]=re[r+"s"]=re[t]=e}function oe(e){return typeof e==="string"?re[e]||re[e.toLowerCase()]:undefined}function se(e){var t={},r,n;for(n in e){if(a(e,n)){r=oe(n);if(r){t[r]=e[n]}}}return t}var ie={};function ae(e,t){ie[e]=t}function le(e){var t=[],r;for(r in e){if(a(e,r)){t.push({unit:r,priority:ie[r]})}}t.sort((function(e,t){return e.priority-t.priority}));return t}function ue(e){return e%4===0&&e%100!==0||e%400===0}function ce(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function fe(e){var t=+e,r=0;if(t!==0&&isFinite(t)){r=ce(t)}return r}function de(e,t){return function(r){if(r!=null){_e(this,e,r);n.updateOffset(this,t);return this}else{return pe(this,e)}}}function pe(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function _e(e,t,r){if(e.isValid()&&!isNaN(r)){if(t==="FullYear"&&ue(e.year())&&e.month()===1&&e.date()===29){r=fe(r);e._d["set"+(e._isUTC?"UTC":"")+t](r,e.month(),et(r,e.month()))}else{e._d["set"+(e._isUTC?"UTC":"")+t](r)}}}function me(e){e=oe(e);if(M(this[e])){return this[e]()}return this}function ye(e,t){if(typeof e==="object"){e=se(e);var r=le(e),n,o=r.length;for(n=0;n<o;n++){this[r[n].unit](e[r[n].unit])}}else{e=oe(e);if(M(this[e])){return this[e](t)}}return this}var ve=/\d/,be=/\d\d/,he=/\d{3}/,je=/\d{4}/,ge=/[+-]?\d{6}/,we=/\d\d?/,Oe=/\d\d\d\d?/,Se=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,Ae=/\d{1,4}/,Ee=/[+-]?\d{1,6}/,xe=/\d+/,Me=/[+-]?\d+/,Pe=/Z|[+-]\d\d:?\d\d/gi,Te=/Z|[+-]\d\d(?::?\d\d)?/gi,Ie=/[+-]?\d+(\.\d{1,3})?/,Ce=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Re;Re={};function Ne(e,t,r){Re[e]=M(t)?t:function(e,n){return e&&r?r:t}}function Le(e,t){if(!a(Re,e)){return new RegExp(ze(e))}return Re[e](t._strict,t._locale)}function ze(e){return De(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,r,n,o){return t||r||n||o})))}function De(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var qe={};function Be(e,t){var r,n=t,o;if(typeof e==="string"){e=[e]}if(c(t)){n=function(e,r){r[t]=fe(e)}}o=e.length;for(r=0;r<o;r++){qe[e[r]]=n}}function Ue(e,t){Be(e,(function(e,r,n,o){n._w=n._w||{};t(e,n._w,n,o)}))}function We(e,t,r){if(t!=null&&a(qe,e)){qe[e](t,r._a,r,e)}}var Fe=0,Ge=1,Xe=2,$e=3,Ve=4,He=5,Ye=6,Ke=7,Je=8;function Ze(e,t){return(e%t+t)%t}var Qe;if(Array.prototype.indexOf){Qe=Array.prototype.indexOf}else{Qe=function(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}function et(e,t){if(isNaN(e)||isNaN(t)){return NaN}var r=Ze(t,12);e+=(t-r)/12;return r===1?ue(e)?29:28:31-r%7%2}U("M",["MM",2],"Mo",(function(){return this.month()+1}));U("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)}));U("MMMM",0,0,(function(e){return this.localeData().months(this,e)}));ne("month","M");ae("month",8);Ne("M",we);Ne("MM",we,be);Ne("MMM",(function(e,t){return t.monthsShortRegex(e)}));Ne("MMMM",(function(e,t){return t.monthsRegex(e)}));Be(["M","MM"],(function(e,t){t[Ge]=fe(e)-1}));Be(["MMM","MMMM"],(function(e,t,r,n){var o=r._locale.monthsParse(e,n,r._strict);if(o!=null){t[Ge]=o}else{y(r).invalidMonth=e}}));var tt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot=Ce,st=Ce;function it(e,t){if(!e){return s(this._months)?this._months:this._months["standalone"]}return s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]}function at(e,t){if(!e){return s(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]}function lt(e,t,r){var n,o,s,i=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(n=0;n<12;++n){s=_([2e3,n]);this._shortMonthsParse[n]=this.monthsShort(s,"").toLocaleLowerCase();this._longMonthsParse[n]=this.months(s,"").toLocaleLowerCase()}}if(r){if(t==="MMM"){o=Qe.call(this._shortMonthsParse,i);return o!==-1?o:null}else{o=Qe.call(this._longMonthsParse,i);return o!==-1?o:null}}else{if(t==="MMM"){o=Qe.call(this._shortMonthsParse,i);if(o!==-1){return o}o=Qe.call(this._longMonthsParse,i);return o!==-1?o:null}else{o=Qe.call(this._longMonthsParse,i);if(o!==-1){return o}o=Qe.call(this._shortMonthsParse,i);return o!==-1?o:null}}}function ut(e,t,r){var n,o,s;if(this._monthsParseExact){return lt.call(this,e,t,r)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){o=_([2e3,n]);if(r&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(o,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(o,"").replace(".","")+"$","i")}if(!r&&!this._monthsParse[n]){s="^"+this.months(o,"")+"|^"+this.monthsShort(o,"");this._monthsParse[n]=new RegExp(s.replace(".",""),"i")}if(r&&t==="MMMM"&&this._longMonthsParse[n].test(e)){return n}else if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e)){return n}else if(!r&&this._monthsParse[n].test(e)){return n}}}function ct(e,t){var r;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=fe(t)}else{t=e.localeData().monthsParse(t);if(!c(t)){return e}}}r=Math.min(e.date(),et(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,r);return e}function ft(e){if(e!=null){ct(this,e);n.updateOffset(this,true);return this}else{return pe(this,"Month")}}function dt(){return et(this.year(),this.month())}function pt(e){if(this._monthsParseExact){if(!a(this,"_monthsRegex")){mt.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!a(this,"_monthsShortRegex")){this._monthsShortRegex=ot}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}function _t(e){if(this._monthsParseExact){if(!a(this,"_monthsRegex")){mt.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!a(this,"_monthsRegex")){this._monthsRegex=st}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function mt(){function e(e,t){return t.length-e.length}var t=[],r=[],n=[],o,s;for(o=0;o<12;o++){s=_([2e3,o]);t.push(this.monthsShort(s,""));r.push(this.months(s,""));n.push(this.months(s,""));n.push(this.monthsShort(s,""))}t.sort(e);r.sort(e);n.sort(e);for(o=0;o<12;o++){t[o]=De(t[o]);r[o]=De(r[o])}for(o=0;o<24;o++){n[o]=De(n[o])}this._monthsRegex=new RegExp("^("+n.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}U("Y",0,0,(function(){var e=this.year();return e<=9999?L(e,4):"+"+e}));U(0,["YY",2],0,(function(){return this.year()%100}));U(0,["YYYY",4],0,"year");U(0,["YYYYY",5],0,"year");U(0,["YYYYYY",6,true],0,"year");ne("year","y");ae("year",1);Ne("Y",Me);Ne("YY",we,be);Ne("YYYY",Ae,je);Ne("YYYYY",Ee,ge);Ne("YYYYYY",Ee,ge);Be(["YYYYY","YYYYYY"],Fe);Be("YYYY",(function(e,t){t[Fe]=e.length===2?n.parseTwoDigitYear(e):fe(e)}));Be("YY",(function(e,t){t[Fe]=n.parseTwoDigitYear(e)}));Be("Y",(function(e,t){t[Fe]=parseInt(e,10)}));function yt(e){return ue(e)?366:365}n.parseTwoDigitYear=function(e){return fe(e)+(fe(e)>68?1900:2e3)};var vt=de("FullYear",true);function bt(){return ue(this.year())}function ht(e,t,r,n,o,s,i){var a;if(e<100&&e>=0){a=new Date(e+400,t,r,n,o,s,i);if(isFinite(a.getFullYear())){a.setFullYear(e)}}else{a=new Date(e,t,r,n,o,s,i)}return a}function jt(e){var t,r;if(e<100&&e>=0){r=Array.prototype.slice.call(arguments);r[0]=e+400;t=new Date(Date.UTC.apply(null,r));if(isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}}else{t=new Date(Date.UTC.apply(null,arguments))}return t}function gt(e,t,r){var n=7+t-r,o=(7+jt(e,0,n).getUTCDay()-t)%7;return-o+n-1}function wt(e,t,r,n,o){var s=(7+r-n)%7,i=gt(e,n,o),a=1+7*(t-1)+s+i,l,u;if(a<=0){l=e-1;u=yt(l)+a}else if(a>yt(e)){l=e+1;u=a-yt(e)}else{l=e;u=a}return{year:l,dayOfYear:u}}function Ot(e,t,r){var n=gt(e.year(),t,r),o=Math.floor((e.dayOfYear()-n-1)/7)+1,s,i;if(o<1){i=e.year()-1;s=o+St(i,t,r)}else if(o>St(e.year(),t,r)){s=o-St(e.year(),t,r);i=e.year()+1}else{i=e.year();s=o}return{week:s,year:i}}function St(e,t,r){var n=gt(e,t,r),o=gt(e+1,t,r);return(yt(e)-n+o)/7}U("w",["ww",2],"wo","week");U("W",["WW",2],"Wo","isoWeek");ne("week","w");ne("isoWeek","W");ae("week",5);ae("isoWeek",5);Ne("w",we);Ne("ww",we,be);Ne("W",we);Ne("WW",we,be);Ue(["w","ww","W","WW"],(function(e,t,r,n){t[n.substr(0,1)]=fe(e)}));function kt(e){return Ot(e,this._week.dow,this._week.doy).week}var At={dow:0,doy:6};function Et(){return this._week.dow}function xt(){return this._week.doy}function Mt(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function Pt(e){var t=Ot(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}U("d",0,"do","day");U("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)}));U("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)}));U("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)}));U("e",0,0,"weekday");U("E",0,0,"isoWeekday");ne("day","d");ne("weekday","e");ne("isoWeekday","E");ae("day",11);ae("weekday",11);ae("isoWeekday",11);Ne("d",we);Ne("e",we);Ne("E",we);Ne("dd",(function(e,t){return t.weekdaysMinRegex(e)}));Ne("ddd",(function(e,t){return t.weekdaysShortRegex(e)}));Ne("dddd",(function(e,t){return t.weekdaysRegex(e)}));Ue(["dd","ddd","dddd"],(function(e,t,r,n){var o=r._locale.weekdaysParse(e,n,r._strict);if(o!=null){t.d=o}else{y(r).invalidWeekday=e}}));Ue(["d","e","E"],(function(e,t,r,n){t[n]=fe(e)}));function Tt(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function It(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}function Ct(e,t){return e.slice(t,7).concat(e.slice(0,t))}var Rt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Nt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Lt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),zt=Ce,Dt=Ce,qt=Ce;function Bt(e,t){var r=s(this._weekdays)?this._weekdays:this._weekdays[e&&e!==true&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===true?Ct(r,this._week.dow):e?r[e.day()]:r}function Ut(e){return e===true?Ct(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Wt(e){return e===true?Ct(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ft(e,t,r){var n,o,s,i=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(n=0;n<7;++n){s=_([2e3,1]).day(n);this._minWeekdaysParse[n]=this.weekdaysMin(s,"").toLocaleLowerCase();this._shortWeekdaysParse[n]=this.weekdaysShort(s,"").toLocaleLowerCase();this._weekdaysParse[n]=this.weekdays(s,"").toLocaleLowerCase()}}if(r){if(t==="dddd"){o=Qe.call(this._weekdaysParse,i);return o!==-1?o:null}else if(t==="ddd"){o=Qe.call(this._shortWeekdaysParse,i);return o!==-1?o:null}else{o=Qe.call(this._minWeekdaysParse,i);return o!==-1?o:null}}else{if(t==="dddd"){o=Qe.call(this._weekdaysParse,i);if(o!==-1){return o}o=Qe.call(this._shortWeekdaysParse,i);if(o!==-1){return o}o=Qe.call(this._minWeekdaysParse,i);return o!==-1?o:null}else if(t==="ddd"){o=Qe.call(this._shortWeekdaysParse,i);if(o!==-1){return o}o=Qe.call(this._weekdaysParse,i);if(o!==-1){return o}o=Qe.call(this._minWeekdaysParse,i);return o!==-1?o:null}else{o=Qe.call(this._minWeekdaysParse,i);if(o!==-1){return o}o=Qe.call(this._weekdaysParse,i);if(o!==-1){return o}o=Qe.call(this._shortWeekdaysParse,i);return o!==-1?o:null}}}function Gt(e,t,r){var n,o,s;if(this._weekdaysParseExact){return Ft.call(this,e,t,r)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){o=_([2e3,1]).day(n);if(r&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(o,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(o,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(o,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[n]){s="^"+this.weekdays(o,"")+"|^"+this.weekdaysShort(o,"")+"|^"+this.weekdaysMin(o,"");this._weekdaysParse[n]=new RegExp(s.replace(".",""),"i")}if(r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e)){return n}else if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e)){return n}else if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e)){return n}else if(!r&&this._weekdaysParse[n].test(e)){return n}}}function Xt(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=Tt(e,this.localeData());return this.add(e-t,"d")}else{return t}}function $t(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function Vt(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=It(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}function Ht(e){if(this._weekdaysParseExact){if(!a(this,"_weekdaysRegex")){Jt.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!a(this,"_weekdaysRegex")){this._weekdaysRegex=zt}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}function Yt(e){if(this._weekdaysParseExact){if(!a(this,"_weekdaysRegex")){Jt.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!a(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=Dt}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}function Kt(e){if(this._weekdaysParseExact){if(!a(this,"_weekdaysRegex")){Jt.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!a(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=qt}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function Jt(){function e(e,t){return t.length-e.length}var t=[],r=[],n=[],o=[],s,i,a,l,u;for(s=0;s<7;s++){i=_([2e3,1]).day(s);a=De(this.weekdaysMin(i,""));l=De(this.weekdaysShort(i,""));u=De(this.weekdays(i,""));t.push(a);r.push(l);n.push(u);o.push(a);o.push(l);o.push(u)}t.sort(e);r.sort(e);n.sort(e);o.sort(e);this._weekdaysRegex=new RegExp("^("+o.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Zt(){return this.hours()%12||12}function Qt(){return this.hours()||24}U("H",["HH",2],0,"hour");U("h",["hh",2],0,Zt);U("k",["kk",2],0,Qt);U("hmm",0,0,(function(){return""+Zt.apply(this)+L(this.minutes(),2)}));U("hmmss",0,0,(function(){return""+Zt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}));U("Hmm",0,0,(function(){return""+this.hours()+L(this.minutes(),2)}));U("Hmmss",0,0,(function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}));function er(e,t){U(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}er("a",true);er("A",false);ne("hour","h");ae("hour",13);function tr(e,t){return t._meridiemParse}Ne("a",tr);Ne("A",tr);Ne("H",we);Ne("h",we);Ne("k",we);Ne("HH",we,be);Ne("hh",we,be);Ne("kk",we,be);Ne("hmm",Oe);Ne("hmmss",Se);Ne("Hmm",Oe);Ne("Hmmss",Se);Be(["H","HH"],$e);Be(["k","kk"],(function(e,t,r){var n=fe(e);t[$e]=n===24?0:n}));Be(["a","A"],(function(e,t,r){r._isPm=r._locale.isPM(e);r._meridiem=e}));Be(["h","hh"],(function(e,t,r){t[$e]=fe(e);y(r).bigHour=true}));Be("hmm",(function(e,t,r){var n=e.length-2;t[$e]=fe(e.substr(0,n));t[Ve]=fe(e.substr(n));y(r).bigHour=true}));Be("hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[$e]=fe(e.substr(0,n));t[Ve]=fe(e.substr(n,2));t[He]=fe(e.substr(o));y(r).bigHour=true}));Be("Hmm",(function(e,t,r){var n=e.length-2;t[$e]=fe(e.substr(0,n));t[Ve]=fe(e.substr(n))}));Be("Hmmss",(function(e,t,r){var n=e.length-4,o=e.length-2;t[$e]=fe(e.substr(0,n));t[Ve]=fe(e.substr(n,2));t[He]=fe(e.substr(o))}));function rr(e){return(e+"").toLowerCase().charAt(0)==="p"}var nr=/[ap]\.?m?\.?/i,or=de("Hours",true);function sr(e,t,r){if(e>11){return r?"pm":"PM"}else{return r?"am":"AM"}}var ir={calendar:R,longDateFormat:$,invalidDate:H,ordinal:K,dayOfMonthOrdinalParse:J,relativeTime:Q,months:tt,monthsShort:rt,week:At,weekdays:Rt,weekdaysMin:Lt,weekdaysShort:Nt,meridiemParse:nr};var ar={},lr={},ur;function cr(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1){if(e[r]!==t[r]){return r}}return n}function fr(e){return e?e.toLowerCase().replace("_","-"):e}function dr(e){var t=0,r,n,o,s;while(t<e.length){s=fr(e[t]).split("-");r=s.length;n=fr(e[t+1]);n=n?n.split("-"):null;while(r>0){o=_r(s.slice(0,r).join("-"));if(o){return o}if(n&&n.length>=r&&cr(s,n)>=r-1){break}r--}t++}return ur}function pr(e){return e.match("^[^/\\\\]*$")!=null}function _r(r){var n=null,o;if(ar[r]===undefined&&typeof t!=="undefined"&&t&&t.exports&&pr(r)){try{n=ur._abbr;o=e;o("./locale/"+r);mr(n)}catch(e){ar[r]=null}}return ar[r]}function mr(e,t){var r;if(e){if(u(t)){r=br(e)}else{r=yr(e,t)}if(r){ur=r}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+e+" not found. Did you forget to load it?")}}}return ur._abbr}function yr(e,t){if(t!==null){var r,n=ir;t.abbr=e;if(ar[e]!=null){x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");n=ar[e]._config}else if(t.parentLocale!=null){if(ar[t.parentLocale]!=null){n=ar[t.parentLocale]._config}else{r=_r(t.parentLocale);if(r!=null){n=r._config}else{if(!lr[t.parentLocale]){lr[t.parentLocale]=[]}lr[t.parentLocale].push({name:e,config:t});return null}}}ar[e]=new I(T(n,t));if(lr[e]){lr[e].forEach((function(e){yr(e.name,e.config)}))}mr(e);return ar[e]}else{delete ar[e];return null}}function vr(e,t){if(t!=null){var r,n,o=ir;if(ar[e]!=null&&ar[e].parentLocale!=null){ar[e].set(T(ar[e]._config,t))}else{n=_r(e);if(n!=null){o=n._config}t=T(o,t);if(n==null){t.abbr=e}r=new I(t);r.parentLocale=ar[e];ar[e]=r}mr(e)}else{if(ar[e]!=null){if(ar[e].parentLocale!=null){ar[e]=ar[e].parentLocale;if(e===mr()){mr(e)}}else if(ar[e]!=null){delete ar[e]}}}return ar[e]}function br(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return ur}if(!s(e)){t=_r(e);if(t){return t}e=[e]}return dr(e)}function hr(){return C(ar)}function jr(e){var t,r=e._a;if(r&&y(e).overflow===-2){t=r[Ge]<0||r[Ge]>11?Ge:r[Xe]<1||r[Xe]>et(r[Fe],r[Ge])?Xe:r[$e]<0||r[$e]>24||r[$e]===24&&(r[Ve]!==0||r[He]!==0||r[Ye]!==0)?$e:r[Ve]<0||r[Ve]>59?Ve:r[He]<0||r[He]>59?He:r[Ye]<0||r[Ye]>999?Ye:-1;if(y(e)._overflowDayOfYear&&(t<Fe||t>Xe)){t=Xe}if(y(e)._overflowWeeks&&t===-1){t=Ke}if(y(e)._overflowWeekday&&t===-1){t=Je}y(e).overflow=t}return e}var gr=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,wr=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Or=/Z|[+-]\d\d(?::?\d\d)?/,Sr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,false],["YYYY",/\d{4}/,false]],kr=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ar=/^\/?Date\((-?\d+)/i,Er=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xr={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Mr(e){var t,r,n=e._i,o=gr.exec(n)||wr.exec(n),s,i,a,l,u=Sr.length,c=kr.length;if(o){y(e).iso=true;for(t=0,r=u;t<r;t++){if(Sr[t][1].exec(o[1])){i=Sr[t][0];s=Sr[t][2]!==false;break}}if(i==null){e._isValid=false;return}if(o[3]){for(t=0,r=c;t<r;t++){if(kr[t][1].exec(o[3])){a=(o[2]||" ")+kr[t][0];break}}if(a==null){e._isValid=false;return}}if(!s&&a!=null){e._isValid=false;return}if(o[4]){if(Or.exec(o[4])){l="Z"}else{e._isValid=false;return}}e._f=i+(a||"")+(l||"");Ur(e)}else{e._isValid=false}}function Pr(e,t,r,n,o,s){var i=[Tr(e),rt.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(o,10)];if(s){i.push(parseInt(s,10))}return i}function Tr(e){var t=parseInt(e,10);if(t<=49){return 2e3+t}else if(t<=999){return 1900+t}return t}function Ir(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Cr(e,t,r){if(e){var n=Nt.indexOf(e),o=new Date(t[0],t[1],t[2]).getDay();if(n!==o){y(r).weekdayMismatch=true;r._isValid=false;return false}}return true}function Rr(e,t,r){if(e){return xr[e]}else if(t){return 0}else{var n=parseInt(r,10),o=n%100,s=(n-o)/100;return s*60+o}}function Nr(e){var t=Er.exec(Ir(e._i)),r;if(t){r=Pr(t[4],t[3],t[2],t[5],t[6],t[7]);if(!Cr(t[1],r,e)){return}e._a=r;e._tzm=Rr(t[8],t[9],t[10]);e._d=jt.apply(null,e._a);e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm);y(e).rfc2822=true}else{e._isValid=false}}function Lr(e){var t=Ar.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}Mr(e);if(e._isValid===false){delete e._isValid}else{return}Nr(e);if(e._isValid===false){delete e._isValid}else{return}if(e._strict){e._isValid=false}else{n.createFromInputFallback(e)}}n.createFromInputFallback=A("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}));function zr(e,t,r){if(e!=null){return e}if(t!=null){return t}return r}function Dr(e){var t=new Date(n.now());if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}return[t.getFullYear(),t.getMonth(),t.getDate()]}function qr(e){var t,r,n=[],o,s,i;if(e._d){return}o=Dr(e);if(e._w&&e._a[Xe]==null&&e._a[Ge]==null){Br(e)}if(e._dayOfYear!=null){i=zr(e._a[Fe],o[Fe]);if(e._dayOfYear>yt(i)||e._dayOfYear===0){y(e)._overflowDayOfYear=true}r=jt(i,0,e._dayOfYear);e._a[Ge]=r.getUTCMonth();e._a[Xe]=r.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=n[t]=o[t]}for(;t<7;t++){e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[$e]===24&&e._a[Ve]===0&&e._a[He]===0&&e._a[Ye]===0){e._nextDay=true;e._a[$e]=0}e._d=(e._useUTC?jt:ht).apply(null,n);s=e._useUTC?e._d.getUTCDay():e._d.getDay();if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[$e]=24}if(e._w&&typeof e._w.d!=="undefined"&&e._w.d!==s){y(e).weekdayMismatch=true}}function Br(e){var t,r,n,o,s,i,a,l,u;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){s=1;i=4;r=zr(t.GG,e._a[Fe],Ot(Yr(),1,4).year);n=zr(t.W,1);o=zr(t.E,1);if(o<1||o>7){l=true}}else{s=e._locale._week.dow;i=e._locale._week.doy;u=Ot(Yr(),s,i);r=zr(t.gg,e._a[Fe],u.year);n=zr(t.w,u.week);if(t.d!=null){o=t.d;if(o<0||o>6){l=true}}else if(t.e!=null){o=t.e+s;if(t.e<0||t.e>6){l=true}}else{o=s}}if(n<1||n>St(r,s,i)){y(e)._overflowWeeks=true}else if(l!=null){y(e)._overflowWeekday=true}else{a=wt(r,n,o,s,i);e._a[Fe]=a.year;e._dayOfYear=a.dayOfYear}}n.ISO_8601=function(){};n.RFC_2822=function(){};function Ur(e){if(e._f===n.ISO_8601){Mr(e);return}if(e._f===n.RFC_2822){Nr(e);return}e._a=[];y(e).empty=true;var t=""+e._i,r,o,s,i,a,l=t.length,u=0,c,f;s=X(e._f,e._locale).match(z)||[];f=s.length;for(r=0;r<f;r++){i=s[r];o=(t.match(Le(i,e))||[])[0];if(o){a=t.substr(0,t.indexOf(o));if(a.length>0){y(e).unusedInput.push(a)}t=t.slice(t.indexOf(o)+o.length);u+=o.length}if(B[i]){if(o){y(e).empty=false}else{y(e).unusedTokens.push(i)}We(i,o,e)}else if(e._strict&&!o){y(e).unusedTokens.push(i)}}y(e).charsLeftOver=l-u;if(t.length>0){y(e).unusedInput.push(t)}if(e._a[$e]<=12&&y(e).bigHour===true&&e._a[$e]>0){y(e).bigHour=undefined}y(e).parsedDateParts=e._a.slice(0);y(e).meridiem=e._meridiem;e._a[$e]=Wr(e._locale,e._a[$e],e._meridiem);c=y(e).era;if(c!==null){e._a[Fe]=e._locale.erasConvertYear(c,e._a[Fe])}qr(e);jr(e)}function Wr(e,t,r){var n;if(r==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,r)}else if(e.isPM!=null){n=e.isPM(r);if(n&&t<12){t+=12}if(!n&&t===12){t=0}return t}else{return t}}function Fr(e){var t,r,n,o,s,i,a=false,l=e._f.length;if(l===0){y(e).invalidFormat=true;e._d=new Date(NaN);return}for(o=0;o<l;o++){s=0;i=false;t=w({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[o];Ur(t);if(b(t)){i=true}s+=y(t).charsLeftOver;s+=y(t).unusedTokens.length*10;y(t).score=s;if(!a){if(n==null||s<n||i){n=s;r=t;if(i){a=true}}}else{if(s<n){n=s;r=t}}}p(e,r||t)}function Gr(e){if(e._d){return}var t=se(e._i),r=t.day===undefined?t.date:t.day;e._a=d([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)}));qr(e)}function Xr(e){var t=new O(jr($r(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function $r(e){var t=e._i,r=e._f;e._locale=e._locale||br(e._l);if(t===null||r===undefined&&t===""){return h({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(S(t)){return new O(jr(t))}else if(f(t)){e._d=t}else if(s(r)){Fr(e)}else if(r){Ur(e)}else{Vr(e)}if(!b(e)){e._d=null}return e}function Vr(e){var t=e._i;if(u(t)){e._d=new Date(n.now())}else if(f(t)){e._d=new Date(t.valueOf())}else if(typeof t==="string"){Lr(e)}else if(s(t)){e._a=d(t.slice(0),(function(e){return parseInt(e,10)}));qr(e)}else if(i(t)){Gr(e)}else if(c(t)){e._d=new Date(t)}else{n.createFromInputFallback(e)}}function Hr(e,t,r,n,o){var a={};if(t===true||t===false){n=t;t=undefined}if(r===true||r===false){n=r;r=undefined}if(i(e)&&l(e)||s(e)&&e.length===0){e=undefined}a._isAMomentObject=true;a._useUTC=a._isUTC=o;a._l=r;a._i=e;a._f=t;a._strict=n;return Xr(a)}function Yr(e,t,r,n){return Hr(e,t,r,n,false)}var Kr=A("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yr.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return h()}})),Jr=A("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Yr.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return h()}}));function Zr(e,t){var r,n;if(t.length===1&&s(t[0])){t=t[0]}if(!t.length){return Yr()}r=t[0];for(n=1;n<t.length;++n){if(!t[n].isValid()||t[n][e](r)){r=t[n]}}return r}function Qr(){var e=[].slice.call(arguments,0);return Zr("isBefore",e)}function en(){var e=[].slice.call(arguments,0);return Zr("isAfter",e)}var tn=function(){return Date.now?Date.now():+new Date};var rn=["year","quarter","month","week","day","hour","minute","second","millisecond"];function nn(e){var t,r=false,n,o=rn.length;for(t in e){if(a(e,t)&&!(Qe.call(rn,t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}for(n=0;n<o;++n){if(e[rn[n]]){if(r){return false}if(parseFloat(e[rn[n]])!==fe(e[rn[n]])){r=true}}}return true}function on(){return this._isValid}function sn(){return Mn(NaN)}function an(e){var t=se(e),r=t.year||0,n=t.quarter||0,o=t.month||0,s=t.week||t.isoWeek||0,i=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=nn(t);this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60;this._days=+i+s*7;this._months=+o+n*3+r*12;this._data={};this._locale=br();this._bubble()}function ln(e){return e instanceof an}function un(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function cn(e,t,r){var n=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),s=0,i;for(i=0;i<n;i++){if(r&&e[i]!==t[i]||!r&&fe(e[i])!==fe(t[i])){s++}}return s+o}function fn(e,t){U(e,0,0,(function(){var e=this.utcOffset(),r="+";if(e<0){e=-e;r="-"}return r+L(~~(e/60),2)+t+L(~~e%60,2)}))}fn("Z",":");fn("ZZ","");Ne("Z",Te);Ne("ZZ",Te);Be(["Z","ZZ"],(function(e,t,r){r._useUTC=true;r._tzm=pn(Te,e)}));var dn=/([\+\-]|\d\d)/gi;function pn(e,t){var r=(t||"").match(e),n,o,s;if(r===null){return null}n=r[r.length-1]||[];o=(n+"").match(dn)||["-",0,0];s=+(o[1]*60)+fe(o[2]);return s===0?0:o[0]==="+"?s:-s}function _n(e,t){var r,o;if(t._isUTC){r=t.clone();o=(S(e)||f(e)?e.valueOf():Yr(e).valueOf())-r.valueOf();r._d.setTime(r._d.valueOf()+o);n.updateOffset(r,false);return r}else{return Yr(e).local()}}function mn(e){return-Math.round(e._d.getTimezoneOffset())}n.updateOffset=function(){};function yn(e,t,r){var o=this._offset||0,s;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=pn(Te,e);if(e===null){return this}}else if(Math.abs(e)<16&&!r){e=e*60}if(!this._isUTC&&t){s=mn(this)}this._offset=e;this._isUTC=true;if(s!=null){this.add(s,"m")}if(o!==e){if(!t||this._changeInProgress){Rn(this,Mn(e-o,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;n.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?o:mn(this)}}function vn(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function bn(e){return this.utcOffset(0,e)}function hn(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(mn(this),"m")}}return this}function jn(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=pn(Pe,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function gn(e){if(!this.isValid()){return false}e=e?Yr(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function wn(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function On(){if(!u(this._isDSTShifted)){return this._isDSTShifted}var e={},t;w(e,this);e=$r(e);if(e._a){t=e._isUTC?_(e._a):Yr(e._a);this._isDSTShifted=this.isValid()&&cn(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function Sn(){return this.isValid()?!this._isUTC:false}function kn(){return this.isValid()?this._isUTC:false}function An(){return this.isValid()?this._isUTC&&this._offset===0:false}var En=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xn=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Mn(e,t){var r=e,n=null,o,s,i;if(ln(e)){r={ms:e._milliseconds,d:e._days,M:e._months}}else if(c(e)||!isNaN(+e)){r={};if(t){r[t]=+e}else{r.milliseconds=+e}}else if(n=En.exec(e)){o=n[1]==="-"?-1:1;r={y:0,d:fe(n[Xe])*o,h:fe(n[$e])*o,m:fe(n[Ve])*o,s:fe(n[He])*o,ms:fe(un(n[Ye]*1e3))*o}}else if(n=xn.exec(e)){o=n[1]==="-"?-1:1;r={y:Pn(n[2],o),M:Pn(n[3],o),w:Pn(n[4],o),d:Pn(n[5],o),h:Pn(n[6],o),m:Pn(n[7],o),s:Pn(n[8],o)}}else if(r==null){r={}}else if(typeof r==="object"&&("from"in r||"to"in r)){i=In(Yr(r.from),Yr(r.to));r={};r.ms=i.milliseconds;r.M=i.months}s=new an(r);if(ln(e)&&a(e,"_locale")){s._locale=e._locale}if(ln(e)&&a(e,"_isValid")){s._isValid=e._isValid}return s}Mn.fn=an.prototype;Mn.invalid=sn;function Pn(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function Tn(e,t){var r={};r.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(r.months,"M").isAfter(t)){--r.months}r.milliseconds=+t-+e.clone().add(r.months,"M");return r}function In(e,t){var r;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=_n(t,e);if(e.isBefore(t)){r=Tn(e,t)}else{r=Tn(t,e);r.milliseconds=-r.milliseconds;r.months=-r.months}return r}function Cn(e,t){return function(r,n){var o,s;if(n!==null&&!isNaN(+n)){x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");s=r;r=n;n=s}o=Mn(r,n);Rn(this,o,e);return this}}function Rn(e,t,r,o){var s=t._milliseconds,i=un(t._days),a=un(t._months);if(!e.isValid()){return}o=o==null?true:o;if(a){ct(e,pe(e,"Month")+a*r)}if(i){_e(e,"Date",pe(e,"Date")+i*r)}if(s){e._d.setTime(e._d.valueOf()+s*r)}if(o){n.updateOffset(e,i||a)}}var Nn=Cn(1,"add"),Ln=Cn(-1,"subtract");function zn(e){return typeof e==="string"||e instanceof String}function Dn(e){return S(e)||f(e)||zn(e)||c(e)||Bn(e)||qn(e)||e===null||e===undefined}function qn(e){var t=i(e)&&!l(e),r=false,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],o,s,u=n.length;for(o=0;o<u;o+=1){s=n[o];r=r||a(e,s)}return t&&r}function Bn(e){var t=s(e),r=false;if(t){r=e.filter((function(t){return!c(t)&&zn(e)})).length===0}return t&&r}function Un(e){var t=i(e)&&!l(e),r=false,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],o,s;for(o=0;o<n.length;o+=1){s=n[o];r=r||a(e,s)}return t&&r}function Wn(e,t){var r=e.diff(t,"days",true);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function Fn(e,t){if(arguments.length===1){if(!arguments[0]){e=undefined;t=undefined}else if(Dn(arguments[0])){e=arguments[0];t=undefined}else if(Un(arguments[0])){t=arguments[0];e=undefined}}var r=e||Yr(),o=_n(r,this).startOf("day"),s=n.calendarFormat(this,o)||"sameElse",i=t&&(M(t[s])?t[s].call(this,r):t[s]);return this.format(i||this.localeData().calendar(s,this,Yr(r)))}function Gn(){return new O(this)}function Xn(e,t){var r=S(e)?e:Yr(e);if(!(this.isValid()&&r.isValid())){return false}t=oe(t)||"millisecond";if(t==="millisecond"){return this.valueOf()>r.valueOf()}else{return r.valueOf()<this.clone().startOf(t).valueOf()}}function $n(e,t){var r=S(e)?e:Yr(e);if(!(this.isValid()&&r.isValid())){return false}t=oe(t)||"millisecond";if(t==="millisecond"){return this.valueOf()<r.valueOf()}else{return this.clone().endOf(t).valueOf()<r.valueOf()}}function Vn(e,t,r,n){var o=S(e)?e:Yr(e),s=S(t)?t:Yr(t);if(!(this.isValid()&&o.isValid()&&s.isValid())){return false}n=n||"()";return(n[0]==="("?this.isAfter(o,r):!this.isBefore(o,r))&&(n[1]===")"?this.isBefore(s,r):!this.isAfter(s,r))}function Hn(e,t){var r=S(e)?e:Yr(e),n;if(!(this.isValid()&&r.isValid())){return false}t=oe(t)||"millisecond";if(t==="millisecond"){return this.valueOf()===r.valueOf()}else{n=r.valueOf();return this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()}}function Yn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Kn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Jn(e,t,r){var n,o,s;if(!this.isValid()){return NaN}n=_n(e,this);if(!n.isValid()){return NaN}o=(n.utcOffset()-this.utcOffset())*6e4;t=oe(t);switch(t){case"year":s=Zn(this,n)/12;break;case"month":s=Zn(this,n);break;case"quarter":s=Zn(this,n)/3;break;case"second":s=(this-n)/1e3;break;case"minute":s=(this-n)/6e4;break;case"hour":s=(this-n)/36e5;break;case"day":s=(this-n-o)/864e5;break;case"week":s=(this-n-o)/6048e5;break;default:s=this-n}return r?s:ce(s)}function Zn(e,t){if(e.date()<t.date()){return-Zn(t,e)}var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),o,s;if(t-n<0){o=e.clone().add(r-1,"months");s=(t-n)/(n-o)}else{o=e.clone().add(r+1,"months");s=(t-n)/(o-n)}return-(r+s)||0}n.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";n.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function Qn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function eo(e){if(!this.isValid()){return null}var t=e!==true,r=t?this.clone().utc():this;if(r.year()<0||r.year()>9999){return G(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(M(Date.prototype.toISOString)){if(t){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",G(r,"Z"))}}return G(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function to(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment",t="",r,n,o,s;if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}r="["+e+'("]';n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";o="-MM-DD[T]HH:mm:ss.SSS";s=t+'[")]';return this.format(r+n+o+s)}function ro(e){if(!e){e=this.isUtc()?n.defaultFormatUtc:n.defaultFormat}var t=G(this,e);return this.localeData().postformat(t)}function no(e,t){if(this.isValid()&&(S(e)&&e.isValid()||Yr(e).isValid())){return Mn({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function oo(e){return this.from(Yr(),e)}function so(e,t){if(this.isValid()&&(S(e)&&e.isValid()||Yr(e).isValid())){return Mn({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function io(e){return this.to(Yr(),e)}function ao(e){var t;if(e===undefined){return this._locale._abbr}else{t=br(e);if(t!=null){this._locale=t}return this}}var lo=A("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}}));function uo(){return this._locale}var co=1e3,fo=60*co,po=60*fo,_o=(365*400+97)*24*po;function mo(e,t){return(e%t+t)%t}function yo(e,t,r){if(e<100&&e>=0){return new Date(e+400,t,r)-_o}else{return new Date(e,t,r).valueOf()}}function vo(e,t,r){if(e<100&&e>=0){return Date.UTC(e+400,t,r)-_o}else{return Date.UTC(e,t,r)}}function bo(e){var t,r;e=oe(e);if(e===undefined||e==="millisecond"||!this.isValid()){return this}r=this._isUTC?vo:yo;switch(e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf();t-=mo(t+(this._isUTC?0:this.utcOffset()*fo),po);break;case"minute":t=this._d.valueOf();t-=mo(t,fo);break;case"second":t=this._d.valueOf();t-=mo(t,co);break}this._d.setTime(t);n.updateOffset(this,true);return this}function ho(e){var t,r;e=oe(e);if(e===undefined||e==="millisecond"||!this.isValid()){return this}r=this._isUTC?vo:yo;switch(e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf();t+=po-mo(t+(this._isUTC?0:this.utcOffset()*fo),po)-1;break;case"minute":t=this._d.valueOf();t+=fo-mo(t,fo)-1;break;case"second":t=this._d.valueOf();t+=co-mo(t,co)-1;break}this._d.setTime(t);n.updateOffset(this,true);return this}function jo(){return this._d.valueOf()-(this._offset||0)*6e4}function go(){return Math.floor(this.valueOf()/1e3)}function wo(){return new Date(this.valueOf())}function Oo(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function So(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function ko(){return this.isValid()?this.toISOString():null}function Ao(){return b(this)}function Eo(){return p({},y(this))}function xo(){return y(this).overflow}function Mo(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}U("N",0,0,"eraAbbr");U("NN",0,0,"eraAbbr");U("NNN",0,0,"eraAbbr");U("NNNN",0,0,"eraName");U("NNNNN",0,0,"eraNarrow");U("y",["y",1],"yo","eraYear");U("y",["yy",2],0,"eraYear");U("y",["yyy",3],0,"eraYear");U("y",["yyyy",4],0,"eraYear");Ne("N",Bo);Ne("NN",Bo);Ne("NNN",Bo);Ne("NNNN",Uo);Ne("NNNNN",Wo);Be(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,r,n){var o=r._locale.erasParse(e,n,r._strict);if(o){y(r).era=o}else{y(r).invalidEra=e}}));Ne("y",xe);Ne("yy",xe);Ne("yyy",xe);Ne("yyyy",xe);Ne("yo",Fo);Be(["y","yy","yyy","yyyy"],Fe);Be(["yo"],(function(e,t,r,n){var o;if(r._locale._eraYearOrdinalRegex){o=e.match(r._locale._eraYearOrdinalRegex)}if(r._locale.eraYearOrdinalParse){t[Fe]=r._locale.eraYearOrdinalParse(e,o)}else{t[Fe]=parseInt(e,10)}}));function Po(e,t){var r,o,s,i=this._eras||br("en")._eras;for(r=0,o=i.length;r<o;++r){switch(typeof i[r].since){case"string":s=n(i[r].since).startOf("day");i[r].since=s.valueOf();break}switch(typeof i[r].until){case"undefined":i[r].until=+Infinity;break;case"string":s=n(i[r].until).startOf("day").valueOf();i[r].until=s.valueOf();break}}return i}function To(e,t,r){var n,o,s=this.eras(),i,a,l;e=e.toUpperCase();for(n=0,o=s.length;n<o;++n){i=s[n].name.toUpperCase();a=s[n].abbr.toUpperCase();l=s[n].narrow.toUpperCase();if(r){switch(t){case"N":case"NN":case"NNN":if(a===e){return s[n]}break;case"NNNN":if(i===e){return s[n]}break;case"NNNNN":if(l===e){return s[n]}break}}else if([i,a,l].indexOf(e)>=0){return s[n]}}}function Io(e,t){var r=e.since<=e.until?+1:-1;if(t===undefined){return n(e.since).year()}else{return n(e.since).year()+(t-e.offset)*r}}function Co(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){r=this.clone().startOf("day").valueOf();if(n[e].since<=r&&r<=n[e].until){return n[e].name}if(n[e].until<=r&&r<=n[e].since){return n[e].name}}return""}function Ro(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){r=this.clone().startOf("day").valueOf();if(n[e].since<=r&&r<=n[e].until){return n[e].narrow}if(n[e].until<=r&&r<=n[e].since){return n[e].narrow}}return""}function No(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e){r=this.clone().startOf("day").valueOf();if(n[e].since<=r&&r<=n[e].until){return n[e].abbr}if(n[e].until<=r&&r<=n[e].since){return n[e].abbr}}return""}function Lo(){var e,t,r,o,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e){r=s[e].since<=s[e].until?+1:-1;o=this.clone().startOf("day").valueOf();if(s[e].since<=o&&o<=s[e].until||s[e].until<=o&&o<=s[e].since){return(this.year()-n(s[e].since).year())*r+s[e].offset}}return this.year()}function zo(e){if(!a(this,"_erasNameRegex")){Go.call(this)}return e?this._erasNameRegex:this._erasRegex}function Do(e){if(!a(this,"_erasAbbrRegex")){Go.call(this)}return e?this._erasAbbrRegex:this._erasRegex}function qo(e){if(!a(this,"_erasNarrowRegex")){Go.call(this)}return e?this._erasNarrowRegex:this._erasRegex}function Bo(e,t){return t.erasAbbrRegex(e)}function Uo(e,t){return t.erasNameRegex(e)}function Wo(e,t){return t.erasNarrowRegex(e)}function Fo(e,t){return t._eraYearOrdinalRegex||xe}function Go(){var e=[],t=[],r=[],n=[],o,s,i=this.eras();for(o=0,s=i.length;o<s;++o){t.push(De(i[o].name));e.push(De(i[o].abbr));r.push(De(i[o].narrow));n.push(De(i[o].name));n.push(De(i[o].abbr));n.push(De(i[o].narrow))}this._erasRegex=new RegExp("^("+n.join("|")+")","i");this._erasNameRegex=new RegExp("^("+t.join("|")+")","i");this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i");this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}U(0,["gg",2],0,(function(){return this.weekYear()%100}));U(0,["GG",2],0,(function(){return this.isoWeekYear()%100}));function Xo(e,t){U(0,[e,e.length],0,t)}Xo("gggg","weekYear");Xo("ggggg","weekYear");Xo("GGGG","isoWeekYear");Xo("GGGGG","isoWeekYear");ne("weekYear","gg");ne("isoWeekYear","GG");ae("weekYear",1);ae("isoWeekYear",1);Ne("G",Me);Ne("g",Me);Ne("GG",we,be);Ne("gg",we,be);Ne("GGGG",Ae,je);Ne("gggg",Ae,je);Ne("GGGGG",Ee,ge);Ne("ggggg",Ee,ge);Ue(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,r,n){t[n.substr(0,2)]=fe(e)}));Ue(["gg","GG"],(function(e,t,r,o){t[o]=n.parseTwoDigitYear(e)}));function $o(e){return Zo.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Vo(e){return Zo.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ho(){return St(this.year(),1,4)}function Yo(){return St(this.isoWeekYear(),1,4)}function Ko(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Jo(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Zo(e,t,r,n,o){var s;if(e==null){return Ot(this,n,o).year}else{s=St(e,n,o);if(t>s){t=s}return Qo.call(this,e,t,r,n,o)}}function Qo(e,t,r,n,o){var s=wt(e,t,r,n,o),i=jt(s.year,0,s.dayOfYear);this.year(i.getUTCFullYear());this.month(i.getUTCMonth());this.date(i.getUTCDate());return this}U("Q",0,"Qo","quarter");ne("quarter","Q");ae("quarter",7);Ne("Q",ve);Be("Q",(function(e,t){t[Ge]=(fe(e)-1)*3}));function es(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}U("D",["DD",2],"Do","date");ne("date","D");ae("date",9);Ne("D",we);Ne("DD",we,be);Ne("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}));Be(["D","DD"],Xe);Be("Do",(function(e,t){t[Xe]=fe(e.match(we)[0])}));var ts=de("Date",true);U("DDD",["DDDD",3],"DDDo","dayOfYear");ne("dayOfYear","DDD");ae("dayOfYear",4);Ne("DDD",ke);Ne("DDDD",he);Be(["DDD","DDDD"],(function(e,t,r){r._dayOfYear=fe(e)}));function rs(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}U("m",["mm",2],0,"minute");ne("minute","m");ae("minute",14);Ne("m",we);Ne("mm",we,be);Be(["m","mm"],Ve);var ns=de("Minutes",false);U("s",["ss",2],0,"second");ne("second","s");ae("second",15);Ne("s",we);Ne("ss",we,be);Be(["s","ss"],He);var os=de("Seconds",false);U("S",0,0,(function(){return~~(this.millisecond()/100)}));U(0,["SS",2],0,(function(){return~~(this.millisecond()/10)}));U(0,["SSS",3],0,"millisecond");U(0,["SSSS",4],0,(function(){return this.millisecond()*10}));U(0,["SSSSS",5],0,(function(){return this.millisecond()*100}));U(0,["SSSSSS",6],0,(function(){return this.millisecond()*1e3}));U(0,["SSSSSSS",7],0,(function(){return this.millisecond()*1e4}));U(0,["SSSSSSSS",8],0,(function(){return this.millisecond()*1e5}));U(0,["SSSSSSSSS",9],0,(function(){return this.millisecond()*1e6}));ne("millisecond","ms");ae("millisecond",16);Ne("S",ke,ve);Ne("SS",ke,be);Ne("SSS",ke,he);var ss,is;for(ss="SSSS";ss.length<=9;ss+="S"){Ne(ss,xe)}function as(e,t){t[Ye]=fe(("0."+e)*1e3)}for(ss="S";ss.length<=9;ss+="S"){Be(ss,as)}is=de("Milliseconds",false);U("z",0,0,"zoneAbbr");U("zz",0,0,"zoneName");function ls(){return this._isUTC?"UTC":""}function us(){return this._isUTC?"Coordinated Universal Time":""}var cs=O.prototype;cs.add=Nn;cs.calendar=Fn;cs.clone=Gn;cs.diff=Jn;cs.endOf=ho;cs.format=ro;cs.from=no;cs.fromNow=oo;cs.to=so;cs.toNow=io;cs.get=me;cs.invalidAt=xo;cs.isAfter=Xn;cs.isBefore=$n;cs.isBetween=Vn;cs.isSame=Hn;cs.isSameOrAfter=Yn;cs.isSameOrBefore=Kn;cs.isValid=Ao;cs.lang=lo;cs.locale=ao;cs.localeData=uo;cs.max=Jr;cs.min=Kr;cs.parsingFlags=Eo;cs.set=ye;cs.startOf=bo;cs.subtract=Ln;cs.toArray=Oo;cs.toObject=So;cs.toDate=wo;cs.toISOString=eo;cs.inspect=to;if(typeof Symbol!=="undefined"&&Symbol.for!=null){cs[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}}cs.toJSON=ko;cs.toString=Qn;cs.unix=go;cs.valueOf=jo;cs.creationData=Mo;cs.eraName=Co;cs.eraNarrow=Ro;cs.eraAbbr=No;cs.eraYear=Lo;cs.year=vt;cs.isLeapYear=bt;cs.weekYear=$o;cs.isoWeekYear=Vo;cs.quarter=cs.quarters=es;cs.month=ft;cs.daysInMonth=dt;cs.week=cs.weeks=Mt;cs.isoWeek=cs.isoWeeks=Pt;cs.weeksInYear=Ko;cs.weeksInWeekYear=Jo;cs.isoWeeksInYear=Ho;cs.isoWeeksInISOWeekYear=Yo;cs.date=ts;cs.day=cs.days=Xt;cs.weekday=$t;cs.isoWeekday=Vt;cs.dayOfYear=rs;cs.hour=cs.hours=or;cs.minute=cs.minutes=ns;cs.second=cs.seconds=os;cs.millisecond=cs.milliseconds=is;cs.utcOffset=yn;cs.utc=bn;cs.local=hn;cs.parseZone=jn;cs.hasAlignedHourOffset=gn;cs.isDST=wn;cs.isLocal=Sn;cs.isUtcOffset=kn;cs.isUtc=An;cs.isUTC=An;cs.zoneAbbr=ls;cs.zoneName=us;cs.dates=A("dates accessor is deprecated. Use date instead.",ts);cs.months=A("months accessor is deprecated. Use month instead",ft);cs.years=A("years accessor is deprecated. Use year instead",vt);cs.zone=A("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",vn);cs.isDSTShifted=A("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",On);function fs(e){return Yr(e*1e3)}function ds(){return Yr.apply(null,arguments).parseZone()}function ps(e){return e}var _s=I.prototype;_s.calendar=N;_s.longDateFormat=V;_s.invalidDate=Y;_s.ordinal=Z;_s.preparse=ps;_s.postformat=ps;_s.relativeTime=ee;_s.pastFuture=te;_s.set=P;_s.eras=Po;_s.erasParse=To;_s.erasConvertYear=Io;_s.erasAbbrRegex=Do;_s.erasNameRegex=zo;_s.erasNarrowRegex=qo;_s.months=it;_s.monthsShort=at;_s.monthsParse=ut;_s.monthsRegex=_t;_s.monthsShortRegex=pt;_s.week=kt;_s.firstDayOfYear=xt;_s.firstDayOfWeek=Et;_s.weekdays=Bt;_s.weekdaysMin=Wt;_s.weekdaysShort=Ut;_s.weekdaysParse=Gt;_s.weekdaysRegex=Ht;_s.weekdaysShortRegex=Yt;_s.weekdaysMinRegex=Kt;_s.isPM=rr;_s.meridiem=sr;function ms(e,t,r,n){var o=br(),s=_().set(n,t);return o[r](s,e)}function ys(e,t,r){if(c(e)){t=e;e=undefined}e=e||"";if(t!=null){return ms(e,t,r,"month")}var n,o=[];for(n=0;n<12;n++){o[n]=ms(e,n,r,"month")}return o}function vs(e,t,r,n){if(typeof e==="boolean"){if(c(t)){r=t;t=undefined}t=t||""}else{t=e;r=t;e=false;if(c(t)){r=t;t=undefined}t=t||""}var o=br(),s=e?o._week.dow:0,i,a=[];if(r!=null){return ms(t,(r+s)%7,n,"day")}for(i=0;i<7;i++){a[i]=ms(t,(i+s)%7,n,"day")}return a}function bs(e,t){return ys(e,t,"months")}function hs(e,t){return ys(e,t,"monthsShort")}function js(e,t,r){return vs(e,t,r,"weekdays")}function gs(e,t,r){return vs(e,t,r,"weekdaysShort")}function ws(e,t,r){return vs(e,t,r,"weekdaysMin")}mr("en",{eras:[{since:"0001-01-01",until:+Infinity,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-Infinity,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=fe(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});n.lang=A("moment.lang is deprecated. Use moment.locale instead.",mr);n.langData=A("moment.langData is deprecated. Use moment.localeData instead.",br);var Os=Math.abs;function Ss(){var e=this._data;this._milliseconds=Os(this._milliseconds);this._days=Os(this._days);this._months=Os(this._months);e.milliseconds=Os(e.milliseconds);e.seconds=Os(e.seconds);e.minutes=Os(e.minutes);e.hours=Os(e.hours);e.months=Os(e.months);e.years=Os(e.years);return this}function ks(e,t,r,n){var o=Mn(t,r);e._milliseconds+=n*o._milliseconds;e._days+=n*o._days;e._months+=n*o._months;return e._bubble()}function As(e,t){return ks(this,e,t,1)}function Es(e,t){return ks(this,e,t,-1)}function xs(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function Ms(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,o,s,i,a,l;if(!(e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0)){e+=xs(Ts(r)+t)*864e5;t=0;r=0}n.milliseconds=e%1e3;o=ce(e/1e3);n.seconds=o%60;s=ce(o/60);n.minutes=s%60;i=ce(s/60);n.hours=i%24;t+=ce(i/24);l=ce(Ps(t));r+=l;t-=xs(Ts(l));a=ce(r/12);r%=12;n.days=t;n.months=r;n.years=a;return this}function Ps(e){return e*4800/146097}function Ts(e){return e*146097/4800}function Is(e){if(!this.isValid()){return NaN}var t,r,n=this._milliseconds;e=oe(e);if(e==="month"||e==="quarter"||e==="year"){t=this._days+n/864e5;r=this._months+Ps(t);switch(e){case"month":return r;case"quarter":return r/3;case"year":return r/12}}else{t=this._days+Math.round(Ts(this._months));switch(e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}}function Cs(){if(!this.isValid()){return NaN}return this._milliseconds+this._days*864e5+this._months%12*2592e6+fe(this._months/12)*31536e6}function Rs(e){return function(){return this.as(e)}}var Ns=Rs("ms"),Ls=Rs("s"),zs=Rs("m"),Ds=Rs("h"),qs=Rs("d"),Bs=Rs("w"),Us=Rs("M"),Ws=Rs("Q"),Fs=Rs("y");function Gs(){return Mn(this)}function Xs(e){e=oe(e);return this.isValid()?this[e+"s"]():NaN}function $s(e){return function(){return this.isValid()?this._data[e]:NaN}}var Vs=$s("milliseconds"),Hs=$s("seconds"),Ys=$s("minutes"),Ks=$s("hours"),Js=$s("days"),Zs=$s("months"),Qs=$s("years");function ei(){return ce(this.days()/7)}var ti=Math.round,ri={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function ni(e,t,r,n,o){return o.relativeTime(t||1,!!r,e,n)}function oi(e,t,r,n){var o=Mn(e).abs(),s=ti(o.as("s")),i=ti(o.as("m")),a=ti(o.as("h")),l=ti(o.as("d")),u=ti(o.as("M")),c=ti(o.as("w")),f=ti(o.as("y")),d=s<=r.ss&&["s",s]||s<r.s&&["ss",s]||i<=1&&["m"]||i<r.m&&["mm",i]||a<=1&&["h"]||a<r.h&&["hh",a]||l<=1&&["d"]||l<r.d&&["dd",l];if(r.w!=null){d=d||c<=1&&["w"]||c<r.w&&["ww",c]}d=d||u<=1&&["M"]||u<r.M&&["MM",u]||f<=1&&["y"]||["yy",f];d[2]=t;d[3]=+e>0;d[4]=n;return ni.apply(null,d)}function si(e){if(e===undefined){return ti}if(typeof e==="function"){ti=e;return true}return false}function ii(e,t){if(ri[e]===undefined){return false}if(t===undefined){return ri[e]}ri[e]=t;if(e==="s"){ri.ss=t-1}return true}function ai(e,t){if(!this.isValid()){return this.localeData().invalidDate()}var r=false,n=ri,o,s;if(typeof e==="object"){t=e;e=false}if(typeof e==="boolean"){r=e}if(typeof t==="object"){n=Object.assign({},ri,t);if(t.s!=null&&t.ss==null){n.ss=t.s-1}}o=this.localeData();s=oi(this,!r,n,o);if(r){s=o.pastFuture(+this,s)}return o.postformat(s)}var li=Math.abs;function ui(e){return(e>0)-(e<0)||+e}function ci(){if(!this.isValid()){return this.localeData().invalidDate()}var e=li(this._milliseconds)/1e3,t=li(this._days),r=li(this._months),n,o,s,i,a=this.asSeconds(),l,u,c,f;if(!a){return"P0D"}n=ce(e/60);o=ce(n/60);e%=60;n%=60;s=ce(r/12);r%=12;i=e?e.toFixed(3).replace(/\.?0+$/,""):"";l=a<0?"-":"";u=ui(this._months)!==ui(a)?"-":"";c=ui(this._days)!==ui(a)?"-":"";f=ui(this._milliseconds)!==ui(a)?"-":"";return l+"P"+(s?u+s+"Y":"")+(r?u+r+"M":"")+(t?c+t+"D":"")+(o||n||e?"T":"")+(o?f+o+"H":"")+(n?f+n+"M":"")+(e?f+i+"S":"")}var fi=an.prototype;fi.isValid=on;fi.abs=Ss;fi.add=As;fi.subtract=Es;fi.as=Is;fi.asMilliseconds=Ns;fi.asSeconds=Ls;fi.asMinutes=zs;fi.asHours=Ds;fi.asDays=qs;fi.asWeeks=Bs;fi.asMonths=Us;fi.asQuarters=Ws;fi.asYears=Fs;fi.valueOf=Cs;fi._bubble=Ms;fi.clone=Gs;fi.get=Xs;fi.milliseconds=Vs;fi.seconds=Hs;fi.minutes=Ys;fi.hours=Ks;fi.days=Js;fi.weeks=ei;fi.months=Zs;fi.years=Qs;fi.humanize=ai;fi.toISOString=ci;fi.toString=ci;fi.toJSON=ci;fi.locale=ao;fi.localeData=uo;fi.toIsoString=A("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ci);fi.lang=lo;U("X",0,0,"unix");U("x",0,0,"valueOf");Ne("x",Me);Ne("X",Ie);Be("X",(function(e,t,r){r._d=new Date(parseFloat(e)*1e3)}));Be("x",(function(e,t,r){r._d=new Date(fe(e))}));
//! moment.js
n.version="2.29.4";o(Yr);n.fn=cs;n.min=Qr;n.max=en;n.now=tn;n.utc=_;n.unix=fs;n.months=bs;n.isDate=f;n.locale=mr;n.invalid=h;n.duration=Mn;n.isMoment=S;n.weekdays=js;n.parseZone=ds;n.localeData=br;n.isDuration=ln;n.monthsShort=hs;n.weekdaysMin=ws;n.defineLocale=yr;n.updateLocale=vr;n.locales=hr;n.weekdaysShort=gs;n.normalizeUnits=oe;n.relativeTimeRounding=si;n.relativeTimeThreshold=ii;n.calendarFormat=Wn;n.prototype=cs;n.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};return n}))},{}],1224:[function(e,t,r){(function(e,r){(function(){"use strict";var n=function(e){if(typeof e!=="function")throw new TypeError(e+" is not a function");return e};var o=function(e){var t=document.createTextNode(""),r,o,s=0;new e((function(){var e;if(!r){if(!o)return;r=o}else if(o){r=o.concat(r)}o=r;r=null;if(typeof o==="function"){e=o;o=null;e();return}t.data=s=++s%2;while(o){e=o.shift();if(!o.length)o=null;e()}})).observe(t,{characterData:true});return function(e){n(e);if(r){if(typeof r==="function")r=[r,e];else r.push(e);return}r=e;t.data=s=++s%2}};t.exports=function(){if(typeof e==="object"&&e&&typeof e.nextTick==="function"){return e.nextTick}if(typeof queueMicrotask==="function"){return function(e){queueMicrotask(n(e))}}if(typeof document==="object"&&document){if(typeof MutationObserver==="function")return o(MutationObserver);if(typeof WebKitMutationObserver==="function")return o(WebKitMutationObserver)}if(typeof r==="function"){return function(e){r(n(e))}}if(typeof setTimeout==="function"||typeof setTimeout==="object"){return function(e){setTimeout(n(e),0)}}return null}()}).call(this)}).call(this,e("_process"),e("timers").setImmediate)},{_process:746,timers:1289}],1225:[function(e,t,r){var n="0123456789bcdefghjkmnpqrstuvwxyz";var o={};for(var s=0;s<n.length;s++){o[n.charAt(s)]=s}var i=function(e,t,r){var o=[],s=0,i=0,a=0,l=90,u=-90,c=180,f=-180,d;while(o.length<r){if(i%2===0){d=(c+f)/2;if(t>d){a=(a<<1)+1;f=d}else{a=(a<<1)+0;c=d}}else{d=(l+u)/2;if(e>d){a=(a<<1)+1;u=d}else{a=(a<<1)+0;l=d}}s++;i++;if(s===5){var p=n[a];o.push(p);s=0;a=0}}return o.join("")};var a=function(e,t,r){r=r||52;var n=0,o=90,s=-90,i=180,a=-180,l,u=0;while(n<r){u*=2;if(n%2===0){l=(i+a)/2;if(t>l){u+=1;a=l}else{i=l}}else{l=(o+s)/2;if(e>l){u+=1;s=l}else{o=l}}n++}return u};var l=function(e){var t=true;var r=90,n=-90;var s=180,i=-180;var a=0;for(var l=0,u=e.length;l<u;l++){var c=e[l].toLowerCase();a=o[c];for(var f=4;f>=0;f--){var d=a>>f&1;if(t){var p=(s+i)/2;if(d===1){i=p}else{s=p}}else{var p=(r+n)/2;if(d===1){n=p}else{r=p}}t=!t}}return[n,i,r,s]};var u=function(e,t){t=t||52;var r=0;var n=90,o=-90;var s=180,i=-180;var a=0,l=0;var u=t/2;for(var f=0;f<u;f++){l=c(e,(u-f)*2-1);a=c(e,(u-f)*2-2);if(a===0){n=(n+o)/2}else{o=(n+o)/2}if(l===0){s=(s+i)/2}else{i=(s+i)/2}}return[o,i,n,s]};function c(e,t){return e/Math.pow(2,t)&1}var f=function(e){var t=l(e);var r=(t[0]+t[2])/2;var n=(t[1]+t[3])/2;var o=t[2]-r;var s=t[3]-n;return{latitude:r,longitude:n,error:{latitude:o,longitude:s}}};var d=function(e,t){var r=u(e,t);var n=(r[0]+r[2])/2;var o=(r[1]+r[3])/2;var s=r[2]-n;var i=r[3]-o;return{latitude:n,longitude:o,error:{latitude:s,longitude:i}}};var p=function(e,t){var r=f(e);var n=r.latitude+t[0]*r.error.latitude*2;var o=r.longitude+t[1]*r.error.longitude*2;return i(n,o,e.length)};var _=function(e,t,r,n,o){o=o||9;var s=i(e,t,o);var a=i(r,n,o);var u=f(s);var c=u.error.latitude*2;var d=u.error.longitude*2;var _=l(s);var m=l(a);var y=Math.round((m[0]-_[0])/c);var v=Math.round((m[1]-_[1])/d);var b=[];for(var h=0;h<=y;h++){for(var j=0;j<=v;j++){b.push(p(s,[h,j]))}}return b};var m={encode:i,encode_uint64:a,decode:f,decode_uint64:d,decode_bbox:l,decode_bbox_uint64:u,neighbor:p,bboxes:_};t.exports=m},{}],1226:[function(e,t,r){(function(e){(function(){function t(e,t){var r=0;for(var n=e.length-1;n>=0;n--){var o=e[n];if(o==="."){e.splice(n,1)}else if(o===".."){e.splice(n,1);r++}else if(r){e.splice(n,1);r--}}if(t){for(;r--;r){e.unshift("..")}}return e}r.resolve=function(){var r="",n=false;for(var s=arguments.length-1;s>=-1&&!n;s--){var i=s>=0?arguments[s]:e.cwd();if(typeof i!=="string"){throw new TypeError("Arguments to path.resolve must be strings")}else if(!i){continue}r=i+"/"+r;n=i.charAt(0)==="/"}r=t(o(r.split("/"),(function(e){return!!e})),!n).join("/");return(n?"/":"")+r||"."};r.normalize=function(e){var n=r.isAbsolute(e),i=s(e,-1)==="/";e=t(o(e.split("/"),(function(e){return!!e})),!n).join("/");if(!e&&!n){e="."}if(e&&i){e+="/"}return(n?"/":"")+e};r.isAbsolute=function(e){return e.charAt(0)==="/"};r.join=function(){var e=Array.prototype.slice.call(arguments,0);return r.normalize(o(e,(function(e,t){if(typeof e!=="string"){throw new TypeError("Arguments to path.join must be strings")}return e})).join("/"))};r.relative=function(e,t){e=r.resolve(e).substr(1);t=r.resolve(t).substr(1);function n(e){var t=0;for(;t<e.length;t++){if(e[t]!=="")break}var r=e.length-1;for(;r>=0;r--){if(e[r]!=="")break}if(t>r)return[];return e.slice(t,r-t+1)}var o=n(e.split("/"));var s=n(t.split("/"));var i=Math.min(o.length,s.length);var a=i;for(var l=0;l<i;l++){if(o[l]!==s[l]){a=l;break}}var u=[];for(var l=a;l<o.length;l++){u.push("..")}u=u.concat(s.slice(a));return u.join("/")};r.sep="/";r.delimiter=":";r.dirname=function(e){if(typeof e!=="string")e=e+"";if(e.length===0)return".";var t=e.charCodeAt(0);var r=t===47;var n=-1;var o=true;for(var s=e.length-1;s>=1;--s){t=e.charCodeAt(s);if(t===47){if(!o){n=s;break}}else{o=false}}if(n===-1)return r?"/":".";if(r&&n===1){return"/"}return e.slice(0,n)};function n(e){if(typeof e!=="string")e=e+"";var t=0;var r=-1;var n=true;var o;for(o=e.length-1;o>=0;--o){if(e.charCodeAt(o)===47){if(!n){t=o+1;break}}else if(r===-1){n=false;r=o+1}}if(r===-1)return"";return e.slice(t,r)}r.basename=function(e,t){var r=n(e);if(t&&r.substr(-1*t.length)===t){r=r.substr(0,r.length-t.length)}return r};r.extname=function(e){if(typeof e!=="string")e=e+"";var t=-1;var r=0;var n=-1;var o=true;var s=0;for(var i=e.length-1;i>=0;--i){var a=e.charCodeAt(i);if(a===47){if(!o){r=i+1;break}continue}if(n===-1){o=false;n=i+1}if(a===46){if(t===-1)t=i;else if(s!==1)s=1}else if(t!==-1){s=-1}}if(t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1){return""}return e.slice(t,n)};function o(e,t){if(e.filter)return e.filter(t);var r=[];for(var n=0;n<e.length;n++){if(t(e[n],n,e))r.push(e[n])}return r}var s="ab".substr(-1)==="b"?function(e,t,r){return e.substr(t,r)}:function(e,t,r){if(t<0)t=e.length+t;return e.substr(t,r)}}).call(this)}).call(this,e("_process"))},{_process:746}],1227:[function(e,t,r){r.pbkdf2=e("./lib/async");r.pbkdf2Sync=e("./lib/sync")},{"./lib/async":1228,"./lib/sync":1231}],1228:[function(e,t,r){(function(r){(function(){var n=e("safe-buffer").Buffer;var o=e("./precondition");var s=e("./default-encoding");var i=e("./sync");var a=e("./to-buffer");var l;var u=r.crypto&&r.crypto.subtle;var c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"};var f=[];function d(e){if(r.process&&!r.process.browser){return Promise.resolve(false)}if(!u||!u.importKey||!u.deriveBits){return Promise.resolve(false)}if(f[e]!==undefined){return f[e]}l=l||n.alloc(8);var t=m(l,l,10,128,e).then((function(){return true})).catch((function(){return false}));f[e]=t;return t}var p;function _(){if(p){return p}if(r.process&&r.process.nextTick){p=r.process.nextTick}else if(r.queueMicrotask){p=r.queueMicrotask}else if(r.setImmediate){p=r.setImmediate}else{p=r.setTimeout}return p}function m(e,t,r,o,s){return u.importKey("raw",e,{name:"PBKDF2"},false,["deriveBits"]).then((function(e){return u.deriveBits({name:"PBKDF2",salt:t,iterations:r,hash:{name:s}},e,o<<3)})).then((function(e){return n.from(e)}))}function y(e,t){e.then((function(e){_()((function(){t(null,e)}))}),(function(e){_()((function(){t(e)}))}))}t.exports=function(e,t,n,l,u,f){if(typeof u==="function"){f=u;u=undefined}u=u||"sha1";var p=c[u.toLowerCase()];if(!p||typeof r.Promise!=="function"){_()((function(){var r;try{r=i(e,t,n,l,u)}catch(e){return f(e)}f(null,r)}));return}o(n,l);e=a(e,s,"Password");t=a(t,s,"Salt");if(typeof f!=="function")throw new Error("No callback provided to pbkdf2");y(d(p).then((function(r){if(r)return m(e,t,n,l,p);return i(e,t,n,l,u)})),f)}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./default-encoding":1229,"./precondition":1230,"./sync":1231,"./to-buffer":1232,"safe-buffer":1254}],1229:[function(e,t,r){(function(e,r){(function(){var n;if(r.process&&r.process.browser){n="utf-8"}else if(r.process&&r.process.version){var o=parseInt(e.version.split(".")[0].slice(1),10);n=o>=6?"utf-8":"binary"}else{n="utf-8"}t.exports=n}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{_process:746}],1230:[function(e,t,r){var n=Math.pow(2,30)-1;t.exports=function(e,t){if(typeof e!=="number"){throw new TypeError("Iterations not a number")}if(e<0){throw new TypeError("Bad iterations")}if(typeof t!=="number"){throw new TypeError("Key length not a number")}if(t<0||t>n||t!==t){throw new TypeError("Bad key length")}}},{}],1231:[function(e,t,r){var n=e("create-hash/md5");var o=e("ripemd160");var s=e("sha.js");var i=e("safe-buffer").Buffer;var a=e("./precondition");var l=e("./default-encoding");var u=e("./to-buffer");var c=i.alloc(128);var f={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function d(e,t,r){var n=p(e);var o=e==="sha512"||e==="sha384"?128:64;if(t.length>o){t=n(t)}else if(t.length<o){t=i.concat([t,c],o)}var s=i.allocUnsafe(o+f[e]);var a=i.allocUnsafe(o+f[e]);for(var l=0;l<o;l++){s[l]=t[l]^54;a[l]=t[l]^92}var u=i.allocUnsafe(o+r+4);s.copy(u,0,0,o);this.ipad1=u;this.ipad2=s;this.opad=a;this.alg=e;this.blocksize=o;this.hash=n;this.size=f[e]}d.prototype.run=function(e,t){e.copy(t,this.blocksize);var r=this.hash(t);r.copy(this.opad,this.blocksize);return this.hash(this.opad)};function p(e){function t(t){return s(e).update(t).digest()}function r(e){return(new o).update(e).digest()}if(e==="rmd160"||e==="ripemd160")return r;if(e==="md5")return n;return t}function _(e,t,r,n,o){a(r,n);e=u(e,l,"Password");t=u(t,l,"Salt");o=o||"sha1";var s=new d(o,e,t.length);var c=i.allocUnsafe(n);var p=i.allocUnsafe(t.length+4);t.copy(p,0,0,t.length);var _=0;var m=f[o];var y=Math.ceil(n/m);for(var v=1;v<=y;v++){p.writeUInt32BE(v,t.length);var b=s.run(p,s.ipad1);var h=b;for(var j=1;j<r;j++){h=s.run(h,s.ipad2);for(var g=0;g<m;g++)b[g]^=h[g]}b.copy(c,_);_+=m}return c}t.exports=_},{"./default-encoding":1229,"./precondition":1230,"./to-buffer":1232,"create-hash/md5":998,ripemd160:1253,"safe-buffer":1254,"sha.js":1264}],1232:[function(e,t,r){var n=e("safe-buffer").Buffer;t.exports=function(e,t,r){if(n.isBuffer(e)){return e}else if(typeof e==="string"){return n.from(e,t)}else if(ArrayBuffer.isView(e)){return n.from(e.buffer)}else{throw new TypeError(r+" must be a string, a Buffer, a typed array or a DataView")}}},{"safe-buffer":1254}],1233:[function(e,t,r){(function(n,o){if(typeof e==="function"&&typeof r==="object"&&typeof t==="object"){t.exports=o()}else if(typeof define==="function"&&define.amd){define((function(){return o()}))}else{n.pluralize=o()}})(this,(function(){var e=[];var t=[];var r={};var n={};var o={};function s(e){if(typeof e==="string"){return new RegExp("^"+e+"$","i")}return e}function i(e,t){if(e===t)return t;if(e===e.toLowerCase())return t.toLowerCase();if(e===e.toUpperCase())return t.toUpperCase();if(e[0]===e[0].toUpperCase()){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()}return t.toLowerCase()}function a(e,t){return e.replace(/\$(\d{1,2})/g,(function(e,r){return t[r]||""}))}function l(e,t){return e.replace(t[0],(function(r,n){var o=a(t[1],arguments);if(r===""){return i(e[n-1],o)}return i(r,o)}))}function u(e,t,n){if(!e.length||r.hasOwnProperty(e)){return t}var o=n.length;while(o--){var s=n[o];if(s[0].test(t))return l(t,s)}return t}function c(e,t,r){return function(n){var o=n.toLowerCase();if(t.hasOwnProperty(o)){return i(n,o)}if(e.hasOwnProperty(o)){return i(n,e[o])}return u(o,n,r)}}function f(e,t,r,n){return function(n){var o=n.toLowerCase();if(t.hasOwnProperty(o))return true;if(e.hasOwnProperty(o))return false;return u(o,o,r)===o}}function d(e,t,r){var n=t===1?d.singular(e):d.plural(e);return(r?t+" ":"")+n}d.plural=c(o,n,e);d.isPlural=f(o,n,e);d.singular=c(n,o,t);d.isSingular=f(n,o,t);d.addPluralRule=function(t,r){e.push([s(t),r])};d.addSingularRule=function(e,r){t.push([s(e),r])};d.addUncountableRule=function(e){if(typeof e==="string"){r[e.toLowerCase()]=true;return}d.addPluralRule(e,"$0");d.addSingularRule(e,"$0")};d.addIrregularRule=function(e,t){t=t.toLowerCase();e=e.toLowerCase();o[e]=t;n[t]=e};[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach((function(e){return d.addIrregularRule(e[0],e[1])}));[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach((function(e){return d.addPluralRule(e[0],e[1])}));[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach((function(e){return d.addSingularRule(e[0],e[1])}));["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(d.addUncountableRule);return d}))},{}],1234:[function(e,t,r){(function(e){(function(){"use strict";if(typeof e==="undefined"||!e.version||e.version.indexOf("v0.")===0||e.version.indexOf("v1.")===0&&e.version.indexOf("v1.8.")!==0){t.exports={nextTick:r}}else{t.exports=e}function r(t,r,n,o){if(typeof t!=="function"){throw new TypeError('"callback" argument must be a function')}var s=arguments.length;var i,a;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function e(){t.call(null,r)}));case 3:return e.nextTick((function e(){t.call(null,r,n)}));case 4:return e.nextTick((function e(){t.call(null,r,n,o)}));default:i=new Array(s-1);a=0;while(a<i.length){i[a++]=arguments[a]}return e.nextTick((function e(){t.apply(null,i)}))}}}).call(this)}).call(this,e("_process"))},{_process:746}],1235:[function(e,t,r){"use strict";function n(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,r,s){t=t||"&";r=r||"=";var i={};if(typeof e!=="string"||e.length===0){return i}var a=/\+/g;e=e.split(t);var l=1e3;if(s&&typeof s.maxKeys==="number"){l=s.maxKeys}var u=e.length;if(l>0&&u>l){u=l}for(var c=0;c<u;++c){var f=e[c].replace(a,"%20"),d=f.indexOf(r),p,_,m,y;if(d>=0){p=f.substr(0,d);_=f.substr(d+1)}else{p=f;_=""}m=decodeURIComponent(p);y=decodeURIComponent(_);if(!n(i,m)){i[m]=y}else if(o(i[m])){i[m].push(y)}else{i[m]=[i[m],y]}}return i};var o=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},{}],1236:[function(e,t,r){"use strict";var n=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(e,t,r,a){t=t||"&";r=r||"=";if(e===null){e=undefined}if(typeof e==="object"){return s(i(e),(function(i){var a=encodeURIComponent(n(i))+r;if(o(e[i])){return s(e[i],(function(e){return a+encodeURIComponent(n(e))})).join(t)}else{return a+encodeURIComponent(n(e[i]))}})).join(t)}if(!a)return"";return encodeURIComponent(n(a))+r+encodeURIComponent(n(e))};var o=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function s(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var i=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},{}],1237:[function(e,t,r){"use strict";r.decode=r.parse=e("./decode");r.encode=r.stringify=e("./encode")},{"./decode":1235,"./encode":1236}],1238:[function(e,t,r){"use strict";function n(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var o={};function s(e,t,r){if(!r){r=Error}function s(e,r,n){if(typeof t==="string"){return t}else{return t(e,r,n)}}var i=function(e){n(t,e);function t(t,r,n){return e.call(this,s(t,r,n))||this}return t}(r);i.prototype.name=r.name;i.prototype.code=e;o[e]=i}function i(e,t){if(Array.isArray(e)){var r=e.length;e=e.map((function(e){return String(e)}));if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function a(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function l(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function u(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}s("ERR_INVALID_OPT_VALUE",(function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'}),TypeError);s("ERR_INVALID_ARG_TYPE",(function(e,t,r){var n;if(typeof t==="string"&&a(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var o;if(l(e," argument")){o="The ".concat(e," ").concat(n," ").concat(i(t,"type"))}else{var s=u(e,".")?"property":"argument";o='The "'.concat(e,'" ').concat(s," ").concat(n," ").concat(i(t,"type"))}o+=". Received type ".concat(typeof r);return o}),TypeError);s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");s("ERR_METHOD_NOT_IMPLEMENTED",(function(e){return"The "+e+" method is not implemented"}));s("ERR_STREAM_PREMATURE_CLOSE","Premature close");s("ERR_STREAM_DESTROYED",(function(e){return"Cannot call "+e+" after a stream was destroyed"}));s("ERR_MULTIPLE_CALLBACK","Callback called multiple times");s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");s("ERR_STREAM_WRITE_AFTER_END","write after end");s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);s("ERR_UNKNOWN_ENCODING",(function(e){return"Unknown encoding: "+e}),TypeError);s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");t.exports.codes=o},{}],1239:[function(e,t,r){(function(r){(function(){"use strict";var n=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};t.exports=u;var o=e("./_stream_readable");var s=e("./_stream_writable");e("inherits")(u,o);{var i=n(s.prototype);for(var a=0;a<i.length;a++){var l=i[a];if(!u.prototype[l])u.prototype[l]=s.prototype[l]}}function u(e){if(!(this instanceof u))return new u(e);o.call(this,e);s.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",c)}}}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(u.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(u.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function c(){if(this._writableState.ended)return;r.nextTick(f,this)}function f(e){e.end()}Object.defineProperty(u.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":1241,"./_stream_writable":1243,_process:746,inherits:1059}],1240:[function(e,t,r){"use strict";t.exports=o;var n=e("./_stream_transform");e("inherits")(o,n);function o(e){if(!(this instanceof o))return new o(e);n.call(this,e)}o.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":1242,inherits:1059}],1241:[function(e,t,r){(function(r,n){(function(){"use strict";t.exports=P;var o;P.ReadableState=M;var s=e("events").EventEmitter;var i=function e(t,r){return t.listeners(r).length};var a=e("./internal/streams/stream");var l=e("buffer").Buffer;var u=n.Uint8Array||function(){};function c(e){return l.from(e)}function f(e){return l.isBuffer(e)||e instanceof u}var d=e("util");var p;if(d&&d.debuglog){p=d.debuglog("stream")}else{p=function e(){}}var _=e("./internal/streams/buffer_list");var m=e("./internal/streams/destroy");var y=e("./internal/streams/state"),v=y.getHighWaterMark;var b=e("../errors").codes,h=b.ERR_INVALID_ARG_TYPE,j=b.ERR_STREAM_PUSH_AFTER_EOF,g=b.ERR_METHOD_NOT_IMPLEMENTED,w=b.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var O;var S;var k;e("inherits")(P,a);var A=m.errorOrDestroy;var E=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function M(t,r,n){o=o||e("./_stream_duplex");t=t||{};if(typeof n!=="boolean")n=r instanceof o;this.objectMode=!!t.objectMode;if(n)this.objectMode=this.objectMode||!!t.readableObjectMode;this.highWaterMark=v(this,t,"readableHighWaterMark",n);this.buffer=new _;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=t.emitClose!==false;this.autoDestroy=!!t.autoDestroy;this.destroyed=false;this.defaultEncoding=t.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!O)O=e("string_decoder/").StringDecoder;this.decoder=new O(t.encoding);this.encoding=t.encoding}}function P(t){o=o||e("./_stream_duplex");if(!(this instanceof P))return new P(t);var r=this instanceof o;this._readableState=new M(t,this,r);this.readable=true;if(t){if(typeof t.read==="function")this._read=t.read;if(typeof t.destroy==="function")this._destroy=t.destroy}a.call(this)}Object.defineProperty(P.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});P.prototype.destroy=m.destroy;P.prototype._undestroy=m.undestroy;P.prototype._destroy=function(e,t){t(e)};P.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=l.from(e,t);t=""}n=true}}else{n=true}return T(this,e,t,false,n)};P.prototype.unshift=function(e){return T(this,e,null,true,false)};function T(e,t,r,n,o){p("readableAddChunk",t);var s=e._readableState;if(t===null){s.reading=false;z(e,s)}else{var i;if(!o)i=C(s,t);if(i){A(e,i)}else if(s.objectMode||t&&t.length>0){if(typeof t!=="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==l.prototype){t=c(t)}if(n){if(s.endEmitted)A(e,new w);else I(e,s,t,true)}else if(s.ended){A(e,new j)}else if(s.destroyed){return false}else{s.reading=false;if(s.decoder&&!r){t=s.decoder.write(t);if(s.objectMode||t.length!==0)I(e,s,t,false);else B(e,s)}else{I(e,s,t,false)}}}else if(!n){s.reading=false;B(e,s)}}return!s.ended&&(s.length<s.highWaterMark||s.length===0)}function I(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}B(e,t)}function C(e,t){var r;if(!f(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new h("chunk",["string","Buffer","Uint8Array"],t)}return r}P.prototype.isPaused=function(){return this._readableState.flowing===false};P.prototype.setEncoding=function(t){if(!O)O=e("string_decoder/").StringDecoder;var r=new O(t);this._readableState.decoder=r;this._readableState.encoding=this._readableState.decoder.encoding;var n=this._readableState.buffer.head;var o="";while(n!==null){o+=r.write(n.data);n=n.next}this._readableState.buffer.clear();if(o!=="")this._readableState.buffer.push(o);this._readableState.length=o.length;return this};var R=1073741824;function N(e){if(e>=R){e=R}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function L(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=N(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}P.prototype.read=function(e){p("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){p("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)Y(this);else D(this);return null}e=L(e,t);if(e===0&&t.ended){if(t.length===0)Y(this);return null}var n=t.needReadable;p("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;p("length less than watermark",n)}if(t.ended||t.reading){n=false;p("reading or ended",n)}else if(n){p("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=L(r,t)}var o;if(e>0)o=H(e,t);else o=null;if(o===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)Y(this)}if(o!==null)this.emit("data",o);return o};function z(e,t){p("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;q(e)}}}function D(e){var t=e._readableState;p("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){p("emitReadable",t.flowing);t.emittedReadable=true;r.nextTick(q,e)}}function q(e){var t=e._readableState;p("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function B(e,t){if(!t.readingMore){t.readingMore=true;r.nextTick(U,e,t)}}function U(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;p("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}P.prototype._read=function(e){A(this,new g("_read()"))};P.prototype.pipe=function(e,t){var n=this;var o=this._readableState;switch(o.pipesCount){case 0:o.pipes=e;break;case 1:o.pipes=[o.pipes,e];break;default:o.pipes.push(e);break}o.pipesCount+=1;p("pipe count=%d opts=%j",o.pipesCount,t);var s=(!t||t.end!==false)&&e!==r.stdout&&e!==r.stderr;var a=s?u:b;if(o.endEmitted)r.nextTick(a);else n.once("end",a);e.on("unpipe",l);function l(e,t){p("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;d()}}}function u(){p("onend");e.end()}var c=W(n);e.on("drain",c);var f=false;function d(){p("cleanup");e.removeListener("close",y);e.removeListener("finish",v);e.removeListener("drain",c);e.removeListener("error",m);e.removeListener("unpipe",l);n.removeListener("end",u);n.removeListener("end",b);n.removeListener("data",_);f=true;if(o.awaitDrain&&(!e._writableState||e._writableState.needDrain))c()}n.on("data",_);function _(t){p("ondata");var r=e.write(t);p("dest.write",r);if(r===false){if((o.pipesCount===1&&o.pipes===e||o.pipesCount>1&&J(o.pipes,e)!==-1)&&!f){p("false write response, pause",o.awaitDrain);o.awaitDrain++}n.pause()}}function m(t){p("onerror",t);b();e.removeListener("error",m);if(i(e,"error")===0)A(e,t)}x(e,"error",m);function y(){e.removeListener("finish",v);b()}e.once("close",y);function v(){p("onfinish");e.removeListener("close",y);b()}e.once("finish",v);function b(){p("unpipe");n.unpipe(e)}e.emit("pipe",n);if(!o.flowing){p("pipe resume");n.resume()}return e};function W(e){return function t(){var r=e._readableState;p("pipeOnDrain",r.awaitDrain);if(r.awaitDrain)r.awaitDrain--;if(r.awaitDrain===0&&i(e,"data")){r.flowing=true;V(e)}}}P.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var o=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var s=0;s<o;s++){n[s].emit("unpipe",this,{hasUnpiped:false})}return this}var i=J(t.pipes,e);if(i===-1)return this;t.pipes.splice(i,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};P.prototype.on=function(e,t){var n=a.prototype.on.call(this,e,t);var o=this._readableState;if(e==="data"){o.readableListening=this.listenerCount("readable")>0;if(o.flowing!==false)this.resume()}else if(e==="readable"){if(!o.endEmitted&&!o.readableListening){o.readableListening=o.needReadable=true;o.flowing=false;o.emittedReadable=false;p("on readable",o.length,o.reading);if(o.length){D(this)}else if(!o.reading){r.nextTick(G,this)}}}return n};P.prototype.addListener=P.prototype.on;P.prototype.removeListener=function(e,t){var n=a.prototype.removeListener.call(this,e,t);if(e==="readable"){r.nextTick(F,this)}return n};P.prototype.removeAllListeners=function(e){var t=a.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){r.nextTick(F,this)}return t};function F(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function G(e){p("readable nexttick read 0");e.read(0)}P.prototype.resume=function(){var e=this._readableState;if(!e.flowing){p("resume");e.flowing=!e.readableListening;X(this,e)}e.paused=false;return this};function X(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;r.nextTick($,e,t)}}function $(e,t){p("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}P.prototype.pause=function(){p("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){p("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;p("flow",t.flowing);while(t.flowing&&e.read()!==null){}}P.prototype.wrap=function(e){var t=this;var r=this._readableState;var n=false;e.on("end",(function(){p("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();if(e&&e.length)t.push(e)}t.push(null)}));e.on("data",(function(o){p("wrapped data");if(r.decoder)o=r.decoder.write(o);if(r.objectMode&&(o===null||o===undefined))return;else if(!r.objectMode&&(!o||!o.length))return;var s=t.push(o);if(!s){n=true;e.pause()}}));for(var o in e){if(this[o]===undefined&&typeof e[o]==="function"){this[o]=function t(r){return function t(){return e[r].apply(e,arguments)}}(o)}}for(var s=0;s<E.length;s++){e.on(E[s],this.emit.bind(this,E[s]))}this._read=function(t){p("wrapped _read",t);if(n){n=false;e.resume()}};return this};if(typeof Symbol==="function"){P.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=e("./internal/streams/async_iterator")}return S(this)}}Object.defineProperty(P.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(P.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(P.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});P._fromList=H;Object.defineProperty(P.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function H(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function Y(e){var t=e._readableState;p("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;r.nextTick(K,t,e)}}function K(e,t){p("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){P.from=function(t,r){if(k===undefined){k=e("./internal/streams/from")}return k(P,t,r)}}function J(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":1238,"./_stream_duplex":1239,"./internal/streams/async_iterator":1244,"./internal/streams/buffer_list":1245,"./internal/streams/destroy":1246,"./internal/streams/from":1248,"./internal/streams/state":1250,"./internal/streams/stream":1251,_process:746,buffer:744,events:745,inherits:1059,"string_decoder/":1288,util:725}],1242:[function(e,t,r){"use strict";t.exports=c;var n=e("../errors").codes,o=n.ERR_METHOD_NOT_IMPLEMENTED,s=n.ERR_MULTIPLE_CALLBACK,i=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=n.ERR_TRANSFORM_WITH_LENGTH_0;var l=e("./_stream_duplex");e("inherits")(c,l);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new s)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var o=this._readableState;o.reading=false;if(o.needReadable||o.length<o.highWaterMark){this._read(o.highWaterMark)}}function c(e){if(!(this instanceof c))return new c(e);l.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",f)}function f(){var e=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush((function(t,r){d(e,t,r)}))}else{d(this,null,null)}}c.prototype.push=function(e,t){this._transformState.needTransform=false;return l.prototype.push.call(this,e,t)};c.prototype._transform=function(e,t,r){r(new o("_transform()"))};c.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var o=this._readableState;if(n.needTransform||o.needReadable||o.length<o.highWaterMark)this._read(o.highWaterMark)}};c.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};c.prototype._destroy=function(e,t){l.prototype._destroy.call(this,e,(function(e){t(e)}))};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new a;if(e._transformState.transforming)throw new i;return e.push(null)}},{"../errors":1238,"./_stream_duplex":1239,inherits:1059}],1243:[function(e,t,r){(function(r,n){(function(){"use strict";t.exports=M;function o(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function s(e){var t=this;this.next=null;this.entry=null;this.finish=function(){$(t,e)}}var i;M.WritableState=E;var a={deprecate:e("util-deprecate")};var l=e("./internal/streams/stream");var u=e("buffer").Buffer;var c=n.Uint8Array||function(){};function f(e){return u.from(e)}function d(e){return u.isBuffer(e)||e instanceof c}var p=e("./internal/streams/destroy");var _=e("./internal/streams/state"),m=_.getHighWaterMark;var y=e("../errors").codes,v=y.ERR_INVALID_ARG_TYPE,b=y.ERR_METHOD_NOT_IMPLEMENTED,h=y.ERR_MULTIPLE_CALLBACK,j=y.ERR_STREAM_CANNOT_PIPE,g=y.ERR_STREAM_DESTROYED,w=y.ERR_STREAM_NULL_VALUES,O=y.ERR_STREAM_WRITE_AFTER_END,S=y.ERR_UNKNOWN_ENCODING;var k=p.errorOrDestroy;e("inherits")(M,l);function A(){}function E(t,r,n){i=i||e("./_stream_duplex");t=t||{};if(typeof n!=="boolean")n=r instanceof i;this.objectMode=!!t.objectMode;if(n)this.objectMode=this.objectMode||!!t.writableObjectMode;this.highWaterMark=m(this,t,"writableHighWaterMark",n);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var o=t.decodeStrings===false;this.decodeStrings=!o;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){z(r,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=t.emitClose!==false;this.autoDestroy=!!t.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new s(this)}E.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(E.prototype,"buffer",{get:a.deprecate((function e(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(M,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==M)return false;return t&&t._writableState instanceof E}})}else{x=function e(t){return t instanceof this}}function M(t){i=i||e("./_stream_duplex");var r=this instanceof i;if(!r&&!x.call(M,this))return new M(t);this._writableState=new E(t,this,r);this.writable=true;if(t){if(typeof t.write==="function")this._write=t.write;if(typeof t.writev==="function")this._writev=t.writev;if(typeof t.destroy==="function")this._destroy=t.destroy;if(typeof t.final==="function")this._final=t.final}l.call(this)}M.prototype.pipe=function(){k(this,new j)};function P(e,t){var n=new O;k(e,n);r.nextTick(t,n)}function T(e,t,n,o){var s;if(n===null){s=new w}else if(typeof n!=="string"&&!t.objectMode){s=new v("chunk",["string","Buffer"],n)}if(s){k(e,s);r.nextTick(o,s);return false}return true}M.prototype.write=function(e,t,r){var n=this._writableState;var o=false;var s=!n.objectMode&&d(e);if(s&&!u.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(s)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=A;if(n.ending)P(this,r);else if(s||T(this,n,e,r)){n.pendingcb++;o=C(this,n,s,e,t,r)}return o};M.prototype.cork=function(){this._writableState.corked++};M.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)B(this,e)}};M.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(M.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function I(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=u.from(t,r)}return t}Object.defineProperty(M.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function C(e,t,r,n,o,s){if(!r){var i=I(t,n,o);if(n!==i){r=true;o="buffer";n=i}}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;if(!l)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:s,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{R(e,t,false,a,n,o,s)}return l}function R(e,t,r,n,o,s,i){t.writelen=n;t.writecb=i;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new g("write"));else if(r)e._writev(o,t.onwrite);else e._write(o,s,t.onwrite);t.sync=false}function N(e,t,n,o,s){--t.pendingcb;if(n){r.nextTick(s,o);r.nextTick(G,e,t);e._writableState.errorEmitted=true;k(e,o)}else{s(o);e._writableState.errorEmitted=true;k(e,o);G(e,t)}}function L(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function z(e,t){var n=e._writableState;var o=n.sync;var s=n.writecb;if(typeof s!=="function")throw new h;L(n);if(t)N(e,n,o,t,s);else{var i=U(n)||e.destroyed;if(!i&&!n.corked&&!n.bufferProcessing&&n.bufferedRequest){B(e,n)}if(o){r.nextTick(D,e,n,i,s)}else{D(e,n,i,s)}}}function D(e,t,r,n){if(!r)q(e,t);t.pendingcb--;n();G(e,t)}function q(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function B(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var o=new Array(n);var i=t.corkedRequestsFree;i.entry=r;var a=0;var l=true;while(r){o[a]=r;if(!r.isBuf)l=false;r=r.next;a+=1}o.allBuffers=l;R(e,t,true,t.length,o,"",i.finish);t.pendingcb++;t.lastBufferedRequest=null;if(i.next){t.corkedRequestsFree=i.next;i.next=null}else{t.corkedRequestsFree=new s(t)}t.bufferedRequestCount=0}else{while(r){var u=r.chunk;var c=r.encoding;var f=r.callback;var d=t.objectMode?1:u.length;R(e,t,false,d,u,c,f);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}M.prototype._write=function(e,t,r){r(new b("_write()"))};M.prototype._writev=null;M.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)X(this,n,r);return this};Object.defineProperty(M.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function U(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(e,t){e._final((function(r){t.pendingcb--;if(r){k(e,r)}t.prefinished=true;e.emit("prefinish");G(e,t)}))}function F(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;r.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function G(e,t){var r=U(t);if(r){F(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function X(e,t,n){t.ending=true;G(e,t);if(n){if(t.finished)r.nextTick(n);else e.once("finish",n)}t.ended=true;e.writable=false}function $(e,t,r){var n=e.entry;e.entry=null;while(n){var o=n.callback;t.pendingcb--;o(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});M.prototype.destroy=p.destroy;M.prototype._undestroy=p.undestroy;M.prototype._destroy=function(e,t){t(e)}}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"../errors":1238,"./_stream_duplex":1239,"./internal/streams/destroy":1246,"./internal/streams/state":1250,"./internal/streams/stream":1251,_process:746,buffer:744,inherits:1059,"util-deprecate":1298}],1244:[function(e,t,r){(function(r){(function(){"use strict";var n;function o(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var s=e("./end-of-stream");var i=Symbol("lastResolve");var a=Symbol("lastReject");var l=Symbol("error");var u=Symbol("ended");var c=Symbol("lastPromise");var f=Symbol("handlePromise");var d=Symbol("stream");function p(e,t){return{value:e,done:t}}function _(e){var t=e[i];if(t!==null){var r=e[d].read();if(r!==null){e[c]=null;e[i]=null;e[a]=null;t(p(r,false))}}}function m(e){r.nextTick(_,e)}function y(e,t){return function(r,n){e.then((function(){if(t[u]){r(p(undefined,true));return}t[f](r,n)}),n)}}var v=Object.getPrototypeOf((function(){}));var b=Object.setPrototypeOf((n={get stream(){return this[d]},next:function e(){var t=this;var n=this[l];if(n!==null){return Promise.reject(n)}if(this[u]){return Promise.resolve(p(undefined,true))}if(this[d].destroyed){return new Promise((function(e,n){r.nextTick((function(){if(t[l]){n(t[l])}else{e(p(undefined,true))}}))}))}var o=this[c];var s;if(o){s=new Promise(y(o,this))}else{var i=this[d].read();if(i!==null){return Promise.resolve(p(i,false))}s=new Promise(this[f])}this[c]=s;return s}},o(n,Symbol.asyncIterator,(function(){return this})),o(n,"return",(function e(){var t=this;return new Promise((function(e,r){t[d].destroy(null,(function(t){if(t){r(t);return}e(p(undefined,true))}))}))})),n),v);var h=function e(t){var r;var n=Object.create(b,(r={},o(r,d,{value:t,writable:true}),o(r,i,{value:null,writable:true}),o(r,a,{value:null,writable:true}),o(r,l,{value:null,writable:true}),o(r,u,{value:t._readableState.endEmitted,writable:true}),o(r,f,{value:function e(t,r){var o=n[d].read();if(o){n[c]=null;n[i]=null;n[a]=null;t(p(o,false))}else{n[i]=t;n[a]=r}},writable:true}),r));n[c]=null;s(t,(function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=n[a];if(t!==null){n[c]=null;n[i]=null;n[a]=null;t(e)}n[l]=e;return}var r=n[i];if(r!==null){n[c]=null;n[i]=null;n[a]=null;r(p(undefined,true))}n[u]=true}));t.on("readable",m.bind(null,n));return n};t.exports=h}).call(this)}).call(this,e("_process"))},{"./end-of-stream":1247,_process:746}],1245:[function(e,t,r){"use strict";function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);if(t)n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}));r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};if(t%2){n(Object(r),true).forEach((function(t){s(e,t,r[t])}))}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(e,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}}return e}function s(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}var u=e("buffer"),c=u.Buffer;var f=e("util"),d=f.inspect;var p=d&&d.custom||"inspect";function _(e,t,r){c.prototype.copy.call(e,t,r)}t.exports=function(){function e(){i(this,e);this.head=null;this.tail=null;this.length=0}l(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return c.alloc(0);var r=c.allocUnsafe(t>>>0);var n=this.head;var o=0;while(n){_(n.data,r,o);o+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var o=r.data;t-=o.length;while(r=r.next){var s=r.data;var i=t>s.length?s.length:t;if(i===s.length)o+=s;else o+=s.slice(0,t);t-=i;if(t===0){if(i===s.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=s.slice(i)}break}++n}this.length-=n;return o}},{key:"_getBuffer",value:function e(t){var r=c.allocUnsafe(t);var n=this.head;var o=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var s=n.data;var i=t>s.length?s.length:t;s.copy(r,r.length-t,0,i);t-=i;if(t===0){if(i===s.length){++o;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=s.slice(i)}break}++o}this.length-=o;return r}},{key:p,value:function e(t,r){return d(this,o({},r,{depth:0,customInspect:false}))}}]);return e}()},{buffer:744,util:725}],1246:[function(e,t,r){(function(e){(function(){"use strict";function r(t,r){var s=this;var a=this._readableState&&this._readableState.destroyed;var l=this._writableState&&this._writableState.destroyed;if(a||l){if(r){r(t)}else if(t){if(!this._writableState){e.nextTick(i,this,t)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;e.nextTick(i,this,t)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(t||null,(function(t){if(!r&&t){if(!s._writableState){e.nextTick(n,s,t)}else if(!s._writableState.errorEmitted){s._writableState.errorEmitted=true;e.nextTick(n,s,t)}else{e.nextTick(o,s)}}else if(r){e.nextTick(o,s);r(t)}else{e.nextTick(o,s)}}));return this}function n(e,t){i(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function s(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function i(e,t){e.emit("error",t)}function a(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}t.exports={destroy:r,undestroy:s,errorOrDestroy:a}}).call(this)}).call(this,e("_process"))},{_process:746}],1247:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function o(e){var t=false;return function(){if(t)return;t=true;for(var r=arguments.length,n=new Array(r),o=0;o<r;o++){n[o]=arguments[o]}e.apply(this,n)}}function s(){}function i(e){return e.setHeader&&typeof e.abort==="function"}function a(e,t,r){if(typeof t==="function")return a(e,null,t);if(!t)t={};r=o(r||s);var l=t.readable||t.readable!==false&&e.readable;var u=t.writable||t.writable!==false&&e.writable;var c=function t(){if(!e.writable)d()};var f=e._writableState&&e._writableState.finished;var d=function t(){u=false;f=true;if(!l)r.call(e)};var p=e._readableState&&e._readableState.endEmitted;var _=function t(){l=false;p=true;if(!u)r.call(e)};var m=function t(n){r.call(e,n)};var y=function t(){var o;if(l&&!p){if(!e._readableState||!e._readableState.ended)o=new n;return r.call(e,o)}if(u&&!f){if(!e._writableState||!e._writableState.ended)o=new n;return r.call(e,o)}};var v=function t(){e.req.on("finish",d)};if(i(e)){e.on("complete",d);e.on("abort",y);if(e.req)v();else e.on("request",v)}else if(u&&!e._writableState){e.on("end",c);e.on("close",c)}e.on("end",_);e.on("finish",d);if(t.error!==false)e.on("error",m);e.on("close",y);return function(){e.removeListener("complete",d);e.removeListener("abort",y);e.removeListener("request",v);if(e.req)e.req.removeListener("finish",d);e.removeListener("end",c);e.removeListener("close",c);e.removeListener("finish",d);e.removeListener("end",_);e.removeListener("error",m);e.removeListener("close",y)}}t.exports=a},{"../../../errors":1238}],1248:[function(e,t,r){t.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],1249:[function(e,t,r){"use strict";var n;function o(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var s=e("../../../errors").codes,i=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function l(e){if(e)throw e}function u(e){return e.setHeader&&typeof e.abort==="function"}function c(t,r,s,i){i=o(i);var l=false;t.on("close",(function(){l=true}));if(n===undefined)n=e("./end-of-stream");n(t,{readable:r,writable:s},(function(e){if(e)return i(e);l=true;i()}));var c=false;return function(e){if(l)return;if(c)return;c=true;if(u(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();i(e||new a("pipe"))}}function f(e){e()}function d(e,t){return e.pipe(t)}function p(e){if(!e.length)return l;if(typeof e[e.length-1]!=="function")return l;return e.pop()}function _(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}var n=p(t);if(Array.isArray(t[0]))t=t[0];if(t.length<2){throw new i("streams")}var o;var s=t.map((function(e,r){var i=r<t.length-1;var a=r>0;return c(e,i,a,(function(e){if(!o)o=e;if(e)s.forEach(f);if(i)return;s.forEach(f);n(o)}))}));return t.reduce(d)}t.exports=_},{"../../../errors":1238,"./end-of-stream":1247}],1250:[function(e,t,r){"use strict";var n=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function s(e,t,r,s){var i=o(t,s,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=s?r:"highWaterMark";throw new n(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}t.exports={getHighWaterMark:s}},{"../../../errors":1238}],1251:[function(e,t,r){t.exports=e("events").EventEmitter},{events:745}],1252:[function(e,t,r){r=t.exports=e("./lib/_stream_readable.js");r.Stream=r;r.Readable=r;r.Writable=e("./lib/_stream_writable.js");r.Duplex=e("./lib/_stream_duplex.js");r.Transform=e("./lib/_stream_transform.js");r.PassThrough=e("./lib/_stream_passthrough.js");r.finished=e("./lib/internal/streams/end-of-stream.js");r.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":1239,"./lib/_stream_passthrough.js":1240,"./lib/_stream_readable.js":1241,"./lib/_stream_transform.js":1242,"./lib/_stream_writable.js":1243,"./lib/internal/streams/end-of-stream.js":1247,"./lib/internal/streams/pipeline.js":1249}],1253:[function(e,t,r){"use strict";var n=e("buffer").Buffer;var o=e("inherits");var s=e("hash-base");var i=new Array(16);var a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13];var l=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11];var u=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6];var c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];var f=[0,1518500249,1859775393,2400959708,2840853838];var d=[1352829926,1548603684,1836072691,2053994217,0];function p(){s.call(this,64);this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520}o(p,s);p.prototype._update=function(){var e=i;for(var t=0;t<16;++t)e[t]=this._block.readInt32LE(t*4);var r=this._a|0;var n=this._b|0;var o=this._c|0;var s=this._d|0;var p=this._e|0;var j=this._a|0;var g=this._b|0;var w=this._c|0;var O=this._d|0;var S=this._e|0;for(var k=0;k<80;k+=1){var A;var E;if(k<16){A=m(r,n,o,s,p,e[a[k]],f[0],u[k]);E=h(j,g,w,O,S,e[l[k]],d[0],c[k])}else if(k<32){A=y(r,n,o,s,p,e[a[k]],f[1],u[k]);E=b(j,g,w,O,S,e[l[k]],d[1],c[k])}else if(k<48){A=v(r,n,o,s,p,e[a[k]],f[2],u[k]);E=v(j,g,w,O,S,e[l[k]],d[2],c[k])}else if(k<64){A=b(r,n,o,s,p,e[a[k]],f[3],u[k]);E=y(j,g,w,O,S,e[l[k]],d[3],c[k])}else{A=h(r,n,o,s,p,e[a[k]],f[4],u[k]);E=m(j,g,w,O,S,e[l[k]],d[4],c[k])}r=p;p=s;s=_(o,10);o=n;n=A;j=S;S=O;O=_(w,10);w=g;g=E}var x=this._b+o+O|0;this._b=this._c+s+S|0;this._c=this._d+p+j|0;this._d=this._e+r+g|0;this._e=this._a+n+w|0;this._a=x};p.prototype._digest=function(){this._block[this._blockOffset++]=128;if(this._blockOffset>56){this._block.fill(0,this._blockOffset,64);this._update();this._blockOffset=0}this._block.fill(0,this._blockOffset,56);this._block.writeUInt32LE(this._length[0],56);this._block.writeUInt32LE(this._length[1],60);this._update();var e=n.alloc?n.alloc(20):new n(20);e.writeInt32LE(this._a,0);e.writeInt32LE(this._b,4);e.writeInt32LE(this._c,8);e.writeInt32LE(this._d,12);e.writeInt32LE(this._e,16);return e};function _(e,t){return e<<t|e>>>32-t}function m(e,t,r,n,o,s,i,a){return _(e+(t^r^n)+s+i|0,a)+o|0}function y(e,t,r,n,o,s,i,a){return _(e+(t&r|~t&n)+s+i|0,a)+o|0}function v(e,t,r,n,o,s,i,a){return _(e+((t|~r)^n)+s+i|0,a)+o|0}function b(e,t,r,n,o,s,i,a){return _(e+(t&n|r&~n)+s+i|0,a)+o|0}function h(e,t,r,n,o,s,i,a){return _(e+(t^(r|~n))+s+i|0,a)+o|0}t.exports=p},{buffer:744,"hash-base":1057,inherits:1059}],1254:[function(e,t,r){
/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var n=e("buffer");var o=n.Buffer;function s(e,t){for(var r in e){t[r]=e[r]}}if(o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow){t.exports=n}else{s(n,r);r.Buffer=i}function i(e,t,r){return o(e,t,r)}i.prototype=Object.create(o.prototype);s(o,i);i.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return o(e,t,r)};i.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=o(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};i.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return o(e)};i.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},{buffer:744}],1255:[function(e,t,r){var n=e("./lib/alea");var o=e("./lib/xor128");var s=e("./lib/xorwow");var i=e("./lib/xorshift7");var a=e("./lib/xor4096");var l=e("./lib/tychei");var u=e("./seedrandom");u.alea=n;u.xor128=o;u.xorwow=s;u.xorshift7=i;u.xor4096=a;u.tychei=l;t.exports=u},{"./lib/alea":1256,"./lib/tychei":1257,"./lib/xor128":1258,"./lib/xor4096":1259,"./lib/xorshift7":1260,"./lib/xorwow":1261,"./seedrandom":1262}],1256:[function(e,t,r){(function(e,t,r){function n(e){var t=this,r=i();t.next=function(){var e=2091639*t.s0+t.c*2.3283064365386963e-10;t.s0=t.s1;t.s1=t.s2;return t.s2=e-(t.c=e|0)};t.c=1;t.s0=r(" ");t.s1=r(" ");t.s2=r(" ");t.s0-=r(e);if(t.s0<0){t.s0+=1}t.s1-=r(e);if(t.s1<0){t.s1+=1}t.s2-=r(e);if(t.s2<0){t.s2+=1}r=null}function o(e,t){t.c=e.c;t.s0=e.s0;t.s1=e.s1;t.s2=e.s2;return t}function s(e,t){var r=new n(e),s=t&&t.state,i=r.next;i.int32=function(){return r.next()*4294967296|0};i.double=function(){return i()+(i()*2097152|0)*11102230246251565e-32};i.quick=i;if(s){if(typeof s=="object")o(s,r);i.state=function(){return o(r,{})}}return i}function i(){var e=4022871197;var t=function(t){t=String(t);for(var r=0;r<t.length;r++){e+=t.charCodeAt(r);var n=.02519603282416938*e;e=n>>>0;n-=e;n*=e;e=n>>>0;n-=e;e+=n*4294967296}return(e>>>0)*2.3283064365386963e-10};return t}if(t&&t.exports){t.exports=s}else if(r&&r.amd){r((function(){return s}))}else{this.alea=s}})(this,typeof t=="object"&&t,typeof define=="function"&&define)},{}],1257:[function(e,t,r){(function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.b,r=t.c,n=t.d,o=t.a;e=e<<25^e>>>7^r;r=r-n|0;n=n<<24^n>>>8^o;o=o-e|0;t.b=e=e<<20^e>>>12^r;t.c=r=r-n|0;t.d=n<<16^r>>>16^o;return t.a=o-e|0};t.a=0;t.b=0;t.c=2654435769|0;t.d=1367130551;if(e===Math.floor(e)){t.a=e/4294967296|0;t.b=e|0}else{r+=e}for(var n=0;n<r.length+20;n++){t.b^=r.charCodeAt(n)|0;t.next()}}function o(e,t){t.a=e.a;t.b=e.b;t.c=e.c;t.d=e.d;return t}function s(e,t){var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};i.double=function(){do{var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21)}while(n===0);return n};i.int32=r.next;i.quick=i;if(s){if(typeof s=="object")o(s,r);i.state=function(){return o(r,{})}}return i}if(t&&t.exports){t.exports=s}else if(r&&r.amd){r((function(){return s}))}else{this.tychei=s}})(this,typeof t=="object"&&t,typeof define=="function"&&define)},{}],1258:[function(e,t,r){(function(e,t,r){function n(e){var t=this,r="";t.x=0;t.y=0;t.z=0;t.w=0;t.next=function(){var e=t.x^t.x<<11;t.x=t.y;t.y=t.z;t.z=t.w;return t.w^=t.w>>>19^e^e>>>8};if(e===(e|0)){t.x=e}else{r+=e}for(var n=0;n<r.length+64;n++){t.x^=r.charCodeAt(n)|0;t.next()}}function o(e,t){t.x=e.x;t.y=e.y;t.z=e.z;t.w=e.w;return t}function s(e,t){var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};i.double=function(){do{var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21)}while(n===0);return n};i.int32=r.next;i.quick=i;if(s){if(typeof s=="object")o(s,r);i.state=function(){return o(r,{})}}return i}if(t&&t.exports){t.exports=s}else if(r&&r.amd){r((function(){return s}))}else{this.xor128=s}})(this,typeof t=="object"&&t,typeof define=="function"&&define)},{}],1259:[function(e,t,r){(function(e,t,r){function n(e){var t=this;t.next=function(){var e=t.w,r=t.X,n=t.i,o,s;t.w=e=e+1640531527|0;s=r[n+34&127];o=r[n=n+1&127];s^=s<<13;o^=o<<17;s^=s>>>15;o^=o>>>12;s=r[n]=s^o;t.i=n;return s+(e^e>>>16)|0};function r(e,t){var r,n,o,s,i,a=[],l=128;if(t===(t|0)){n=t;t=null}else{t=t+"\0";n=0;l=Math.max(l,t.length)}for(o=0,s=-32;s<l;++s){if(t)n^=t.charCodeAt((s+32)%t.length);if(s===0)i=n;n^=n<<10;n^=n>>>15;n^=n<<4;n^=n>>>13;if(s>=0){i=i+1640531527|0;r=a[s&127]^=n+i;o=0==r?o+1:0}}if(o>=128){a[(t&&t.length||0)&127]=-1}o=127;for(s=4*128;s>0;--s){n=a[o+34&127];r=a[o=o+1&127];n^=n<<13;r^=r<<17;n^=n>>>15;r^=r>>>12;a[o]=n^r}e.w=i;e.X=a;e.i=o}r(t,e)}function o(e,t){t.i=e.i;t.w=e.w;t.X=e.X.slice();return t}function s(e,t){if(e==null)e=+new Date;var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};i.double=function(){do{var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21)}while(n===0);return n};i.int32=r.next;i.quick=i;if(s){if(s.X)o(s,r);i.state=function(){return o(r,{})}}return i}if(t&&t.exports){t.exports=s}else if(r&&r.amd){r((function(){return s}))}else{this.xor4096=s}})(this,typeof t=="object"&&t,typeof define=="function"&&define)},{}],1260:[function(e,t,r){(function(e,t,r){function n(e){var t=this;t.next=function(){var e=t.x,r=t.i,n,o,s;n=e[r];n^=n>>>7;o=n^n<<24;n=e[r+1&7];o^=n^n>>>10;n=e[r+3&7];o^=n^n>>>3;n=e[r+4&7];o^=n^n<<7;n=e[r+7&7];n=n^n<<13;o^=n^n<<9;e[r]=o;t.i=r+1&7;return o};function r(e,t){var r,n,o=[];if(t===(t|0)){n=o[0]=t}else{t=""+t;for(r=0;r<t.length;++r){o[r&7]=o[r&7]<<15^t.charCodeAt(r)+o[r+1&7]<<13}}while(o.length<8)o.push(0);for(r=0;r<8&&o[r]===0;++r);if(r==8)n=o[7]=-1;else n=o[r];e.x=o;e.i=0;for(r=256;r>0;--r){e.next()}}r(t,e)}function o(e,t){t.x=e.x.slice();t.i=e.i;return t}function s(e,t){if(e==null)e=+new Date;var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};i.double=function(){do{var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21)}while(n===0);return n};i.int32=r.next;i.quick=i;if(s){if(s.x)o(s,r);i.state=function(){return o(r,{})}}return i}if(t&&t.exports){t.exports=s}else if(r&&r.amd){r((function(){return s}))}else{this.xorshift7=s}})(this,typeof t=="object"&&t,typeof define=="function"&&define)},{}],1261:[function(e,t,r){(function(e,t,r){function n(e){var t=this,r="";t.next=function(){var e=t.x^t.x>>>2;t.x=t.y;t.y=t.z;t.z=t.w;t.w=t.v;return(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^(e^e<<1))|0};t.x=0;t.y=0;t.z=0;t.w=0;t.v=0;if(e===(e|0)){t.x=e}else{r+=e}for(var n=0;n<r.length+64;n++){t.x^=r.charCodeAt(n)|0;if(n==r.length){t.d=t.x<<10^t.x>>>4}t.next()}}function o(e,t){t.x=e.x;t.y=e.y;t.z=e.z;t.w=e.w;t.v=e.v;t.d=e.d;return t}function s(e,t){var r=new n(e),s=t&&t.state,i=function(){return(r.next()>>>0)/4294967296};i.double=function(){do{var e=r.next()>>>11,t=(r.next()>>>0)/4294967296,n=(e+t)/(1<<21)}while(n===0);return n};i.int32=r.next;i.quick=i;if(s){if(typeof s=="object")o(s,r);i.state=function(){return o(r,{})}}return i}if(t&&t.exports){t.exports=s}else if(r&&r.amd){r((function(){return s}))}else{this.xorwow=s}})(this,typeof t=="object"&&t,typeof define=="function"&&define)},{}],1262:[function(e,t,r){(function(r,n,o){var s=256,i=6,a=52,l="random",u=o.pow(s,i),c=o.pow(2,a),f=c*2,d=s-1,p;function _(e,t,r){var a=[];t=t==true?{entropy:true}:t||{};var d=b(v(t.entropy?[e,j(n)]:e==null?h():e,3),a);var p=new m(a);var _=function(){var e=p.g(i),t=u,r=0;while(e<c){e=(e+r)*s;t*=s;r=p.g(1)}while(e>=f){e/=2;t/=2;r>>>=1}return(e+r)/t};_.int32=function(){return p.g(4)|0};_.quick=function(){return p.g(4)/4294967296};_.double=_;b(j(p.S),n);return(t.pass||r||function(e,t,r,n){if(n){if(n.S){y(n,p)}e.state=function(){return y(p,{})}}if(r){o[l]=e;return t}else return e})(_,d,"global"in t?t.global:this==o,t.state)}function m(e){var t,r=e.length,n=this,o=0,i=n.i=n.j=0,a=n.S=[];if(!r){e=[r++]}while(o<s){a[o]=o++}for(o=0;o<s;o++){a[o]=a[i=d&i+e[o%r]+(t=a[o])];a[i]=t}(n.g=function(e){var t,r=0,o=n.i,i=n.j,a=n.S;while(e--){t=a[o=d&o+1];r=r*s+a[d&(a[o]=a[i=d&i+t])+(a[i]=t)]}n.i=o;n.j=i;return r})(s)}function y(e,t){t.i=e.i;t.j=e.j;t.S=e.S.slice();return t}function v(e,t){var r=[],n=typeof e,o;if(t&&n=="object"){for(o in e){try{r.push(v(e[o],t-1))}catch(e){}}}return r.length?r:n=="string"?e:e+"\0"}function b(e,t){var r=e+"",n,o=0;while(o<r.length){t[d&o]=d&(n^=t[d&o]*19)+r.charCodeAt(o++)}return j(t)}function h(){try{var e;if(p&&(e=p.randomBytes)){e=e(s)}else{e=new Uint8Array(s);(r.crypto||r.msCrypto).getRandomValues(e)}return j(e)}catch(e){var t=r.navigator,o=t&&t.plugins;return[+new Date,r,o,r.screen,j(n)]}}function j(e){return String.fromCharCode.apply(0,e)}b(o.random(),n);if(typeof t=="object"&&t.exports){t.exports=_;try{p=e("crypto")}catch(e){}}else if(typeof define=="function"&&define.amd){define((function(){return _}))}else{o["seed"+l]=_}})(typeof self!=="undefined"?self:this,[],Math)},{crypto:725}],1263:[function(e,t,r){var n=e("safe-buffer").Buffer;function o(e,t){this._block=n.alloc(e);this._finalSize=t;this._blockSize=e;this._len=0}o.prototype.update=function(e,t){if(typeof e==="string"){t=t||"utf8";e=n.from(e,t)}var r=this._block;var o=this._blockSize;var s=e.length;var i=this._len;for(var a=0;a<s;){var l=i%o;var u=Math.min(s-a,o-l);for(var c=0;c<u;c++){r[l+c]=e[a+c]}i+=u;a+=u;if(i%o===0){this._update(r)}}this._len+=s;return this};o.prototype.digest=function(e){var t=this._len%this._blockSize;this._block[t]=128;this._block.fill(0,t+1);if(t>=this._finalSize){this._update(this._block);this._block.fill(0)}var r=this._len*8;if(r<=4294967295){this._block.writeUInt32BE(r,this._blockSize-4)}else{var n=(r&4294967295)>>>0;var o=(r-n)/4294967296;this._block.writeUInt32BE(o,this._blockSize-8);this._block.writeUInt32BE(n,this._blockSize-4)}this._update(this._block);var s=this._hash();return e?s.toString(e):s};o.prototype._update=function(){throw new Error("_update must be implemented by subclass")};t.exports=o},{"safe-buffer":1254}],1264:[function(e,t,r){var r=t.exports=function e(t){t=t.toLowerCase();var n=r[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n};r.sha=e("./sha");r.sha1=e("./sha1");r.sha224=e("./sha224");r.sha256=e("./sha256");r.sha384=e("./sha384");r.sha512=e("./sha512")},{"./sha":1265,"./sha1":1266,"./sha224":1267,"./sha256":1268,"./sha384":1269,"./sha512":1270}],1265:[function(e,t,r){var n=e("inherits");var o=e("./hash");var s=e("safe-buffer").Buffer;var i=[1518500249,1859775393,2400959708|0,3395469782|0];var a=new Array(80);function l(){this.init();this._w=a;o.call(this,64,56)}n(l,o);l.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function u(e){return e<<5|e>>>27}function c(e){return e<<30|e>>>2}function f(e,t,r,n){if(e===0)return t&r|~t&n;if(e===2)return t&r|t&n|r&n;return t^r^n}l.prototype._update=function(e){var t=this._w;var r=this._a|0;var n=this._b|0;var o=this._c|0;var s=this._d|0;var a=this._e|0;for(var l=0;l<16;++l)t[l]=e.readInt32BE(l*4);for(;l<80;++l)t[l]=t[l-3]^t[l-8]^t[l-14]^t[l-16];for(var d=0;d<80;++d){var p=~~(d/20);var _=u(r)+f(p,n,o,s)+a+t[d]+i[p]|0;a=s;s=o;o=c(n);n=r;r=_}this._a=r+this._a|0;this._b=n+this._b|0;this._c=o+this._c|0;this._d=s+this._d|0;this._e=a+this._e|0};l.prototype._hash=function(){var e=s.allocUnsafe(20);e.writeInt32BE(this._a|0,0);e.writeInt32BE(this._b|0,4);e.writeInt32BE(this._c|0,8);e.writeInt32BE(this._d|0,12);e.writeInt32BE(this._e|0,16);return e};t.exports=l},{"./hash":1263,inherits:1059,"safe-buffer":1254}],1266:[function(e,t,r){var n=e("inherits");var o=e("./hash");var s=e("safe-buffer").Buffer;var i=[1518500249,1859775393,2400959708|0,3395469782|0];var a=new Array(80);function l(){this.init();this._w=a;o.call(this,64,56)}n(l,o);l.prototype.init=function(){this._a=1732584193;this._b=4023233417;this._c=2562383102;this._d=271733878;this._e=3285377520;return this};function u(e){return e<<1|e>>>31}function c(e){return e<<5|e>>>27}function f(e){return e<<30|e>>>2}function d(e,t,r,n){if(e===0)return t&r|~t&n;if(e===2)return t&r|t&n|r&n;return t^r^n}l.prototype._update=function(e){var t=this._w;var r=this._a|0;var n=this._b|0;var o=this._c|0;var s=this._d|0;var a=this._e|0;for(var l=0;l<16;++l)t[l]=e.readInt32BE(l*4);for(;l<80;++l)t[l]=u(t[l-3]^t[l-8]^t[l-14]^t[l-16]);for(var p=0;p<80;++p){var _=~~(p/20);var m=c(r)+d(_,n,o,s)+a+t[p]+i[_]|0;a=s;s=o;o=f(n);n=r;r=m}this._a=r+this._a|0;this._b=n+this._b|0;this._c=o+this._c|0;this._d=s+this._d|0;this._e=a+this._e|0};l.prototype._hash=function(){var e=s.allocUnsafe(20);e.writeInt32BE(this._a|0,0);e.writeInt32BE(this._b|0,4);e.writeInt32BE(this._c|0,8);e.writeInt32BE(this._d|0,12);e.writeInt32BE(this._e|0,16);return e};t.exports=l},{"./hash":1263,inherits:1059,"safe-buffer":1254}],1267:[function(e,t,r){var n=e("inherits");var o=e("./sha256");var s=e("./hash");var i=e("safe-buffer").Buffer;var a=new Array(64);function l(){this.init();this._w=a;s.call(this,64,56)}n(l,o);l.prototype.init=function(){this._a=3238371032;this._b=914150663;this._c=812702999;this._d=4144912697;this._e=4290775857;this._f=1750603025;this._g=1694076839;this._h=3204075428;return this};l.prototype._hash=function(){var e=i.allocUnsafe(28);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);return e};t.exports=l},{"./hash":1263,"./sha256":1268,inherits:1059,"safe-buffer":1254}],1268:[function(e,t,r){var n=e("inherits");var o=e("./hash");var s=e("safe-buffer").Buffer;var i=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];var a=new Array(64);function l(){this.init();this._w=a;o.call(this,64,56)}n(l,o);l.prototype.init=function(){this._a=1779033703;this._b=3144134277;this._c=1013904242;this._d=2773480762;this._e=1359893119;this._f=2600822924;this._g=528734635;this._h=1541459225;return this};function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function f(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function d(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function p(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function _(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}l.prototype._update=function(e){var t=this._w;var r=this._a|0;var n=this._b|0;var o=this._c|0;var s=this._d|0;var a=this._e|0;var l=this._f|0;var m=this._g|0;var y=this._h|0;for(var v=0;v<16;++v)t[v]=e.readInt32BE(v*4);for(;v<64;++v)t[v]=_(t[v-2])+t[v-7]+p(t[v-15])+t[v-16]|0;for(var b=0;b<64;++b){var h=y+d(a)+u(a,l,m)+i[b]+t[b]|0;var j=f(r)+c(r,n,o)|0;y=m;m=l;l=a;a=s+h|0;s=o;o=n;n=r;r=h+j|0}this._a=r+this._a|0;this._b=n+this._b|0;this._c=o+this._c|0;this._d=s+this._d|0;this._e=a+this._e|0;this._f=l+this._f|0;this._g=m+this._g|0;this._h=y+this._h|0};l.prototype._hash=function(){var e=s.allocUnsafe(32);e.writeInt32BE(this._a,0);e.writeInt32BE(this._b,4);e.writeInt32BE(this._c,8);e.writeInt32BE(this._d,12);e.writeInt32BE(this._e,16);e.writeInt32BE(this._f,20);e.writeInt32BE(this._g,24);e.writeInt32BE(this._h,28);return e};t.exports=l},{"./hash":1263,inherits:1059,"safe-buffer":1254}],1269:[function(e,t,r){var n=e("inherits");var o=e("./sha512");var s=e("./hash");var i=e("safe-buffer").Buffer;var a=new Array(160);function l(){this.init();this._w=a;s.call(this,128,112)}n(l,o);l.prototype.init=function(){this._ah=3418070365;this._bh=1654270250;this._ch=2438529370;this._dh=355462360;this._eh=1731405415;this._fh=2394180231;this._gh=3675008525;this._hh=1203062813;this._al=3238371032;this._bl=914150663;this._cl=812702999;this._dl=4144912697;this._el=4290775857;this._fl=1750603025;this._gl=1694076839;this._hl=3204075428;return this};l.prototype._hash=function(){var e=i.allocUnsafe(48);function t(t,r,n){e.writeInt32BE(t,n);e.writeInt32BE(r,n+4)}t(this._ah,this._al,0);t(this._bh,this._bl,8);t(this._ch,this._cl,16);t(this._dh,this._dl,24);t(this._eh,this._el,32);t(this._fh,this._fl,40);return e};t.exports=l},{"./hash":1263,"./sha512":1270,inherits:1059,"safe-buffer":1254}],1270:[function(e,t,r){var n=e("inherits");var o=e("./hash");var s=e("safe-buffer").Buffer;var i=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];var a=new Array(160);function l(){this.init();this._w=a;o.call(this,128,112)}n(l,o);l.prototype.init=function(){this._ah=1779033703;this._bh=3144134277;this._ch=1013904242;this._dh=2773480762;this._eh=1359893119;this._fh=2600822924;this._gh=528734635;this._hh=1541459225;this._al=4089235720;this._bl=2227873595;this._cl=4271175723;this._dl=1595750129;this._el=2917565137;this._fl=725511199;this._gl=4215389547;this._hl=327033209;return this};function u(e,t,r){return r^e&(t^r)}function c(e,t,r){return e&t|r&(e|t)}function f(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function d(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function p(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function _(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function m(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function y(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function v(e,t){return e>>>0<t>>>0?1:0}l.prototype._update=function(e){var t=this._w;var r=this._ah|0;var n=this._bh|0;var o=this._ch|0;var s=this._dh|0;var a=this._eh|0;var l=this._fh|0;var b=this._gh|0;var h=this._hh|0;var j=this._al|0;var g=this._bl|0;var w=this._cl|0;var O=this._dl|0;var S=this._el|0;var k=this._fl|0;var A=this._gl|0;var E=this._hl|0;for(var x=0;x<32;x+=2){t[x]=e.readInt32BE(x*4);t[x+1]=e.readInt32BE(x*4+4)}for(;x<160;x+=2){var M=t[x-15*2];var P=t[x-15*2+1];var T=p(M,P);var I=_(P,M);M=t[x-2*2];P=t[x-2*2+1];var C=m(M,P);var R=y(P,M);var N=t[x-7*2];var L=t[x-7*2+1];var z=t[x-16*2];var D=t[x-16*2+1];var q=I+L|0;var B=T+N+v(q,I)|0;q=q+R|0;B=B+C+v(q,R)|0;q=q+D|0;B=B+z+v(q,D)|0;t[x]=B;t[x+1]=q}for(var U=0;U<160;U+=2){B=t[U];q=t[U+1];var W=c(r,n,o);var F=c(j,g,w);var G=f(r,j);var X=f(j,r);var $=d(a,S);var V=d(S,a);var H=i[U];var Y=i[U+1];var K=u(a,l,b);var J=u(S,k,A);var Z=E+V|0;var Q=h+$+v(Z,E)|0;Z=Z+J|0;Q=Q+K+v(Z,J)|0;Z=Z+Y|0;Q=Q+H+v(Z,Y)|0;Z=Z+q|0;Q=Q+B+v(Z,q)|0;var ee=X+F|0;var te=G+W+v(ee,X)|0;h=b;E=A;b=l;A=k;l=a;k=S;S=O+Z|0;a=s+Q+v(S,O)|0;s=o;O=w;o=n;w=g;n=r;g=j;j=Z+ee|0;r=Q+te+v(j,Z)|0}this._al=this._al+j|0;this._bl=this._bl+g|0;this._cl=this._cl+w|0;this._dl=this._dl+O|0;this._el=this._el+S|0;this._fl=this._fl+k|0;this._gl=this._gl+A|0;this._hl=this._hl+E|0;this._ah=this._ah+r+v(this._al,j)|0;this._bh=this._bh+n+v(this._bl,g)|0;this._ch=this._ch+o+v(this._cl,w)|0;this._dh=this._dh+s+v(this._dl,O)|0;this._eh=this._eh+a+v(this._el,S)|0;this._fh=this._fh+l+v(this._fl,k)|0;this._gh=this._gh+b+v(this._gl,A)|0;this._hh=this._hh+h+v(this._hl,E)|0};l.prototype._hash=function(){var e=s.allocUnsafe(64);function t(t,r,n){e.writeInt32BE(t,n);e.writeInt32BE(r,n+4)}t(this._ah,this._al,0);t(this._bh,this._bl,8);t(this._ch,this._cl,16);t(this._dh,this._dl,24);t(this._eh,this._el,32);t(this._fh,this._fl,40);t(this._gh,this._gl,48);t(this._hh,this._hl,56);return e};t.exports=l},{"./hash":1263,inherits:1059,"safe-buffer":1254}],1271:[function(e,t,r){t.exports=s;var n=e("events").EventEmitter;var o=e("inherits");o(s,n);s.Readable=e("readable-stream/readable.js");s.Writable=e("readable-stream/writable.js");s.Duplex=e("readable-stream/duplex.js");s.Transform=e("readable-stream/transform.js");s.PassThrough=e("readable-stream/passthrough.js");s.Stream=s;function s(){n.call(this)}s.prototype.pipe=function(e,t){var r=this;function o(t){if(e.writable){if(false===e.write(t)&&r.pause){r.pause()}}}r.on("data",o);function s(){if(r.readable&&r.resume){r.resume()}}e.on("drain",s);if(!e._isStdio&&(!t||t.end!==false)){r.on("end",a);r.on("close",l)}var i=false;function a(){if(i)return;i=true;e.end()}function l(){if(i)return;i=true;if(typeof e.destroy==="function")e.destroy()}function u(e){c();if(n.listenerCount(this,"error")===0){throw e}}r.on("error",u);e.on("error",u);function c(){r.removeListener("data",o);e.removeListener("drain",s);r.removeListener("end",a);r.removeListener("close",l);r.removeListener("error",u);e.removeListener("error",u);r.removeListener("end",c);r.removeListener("close",c);e.removeListener("close",c)}r.on("end",c);r.on("close",c);e.on("close",c);e.emit("pipe",r);return e}},{events:745,inherits:1059,"readable-stream/duplex.js":1273,"readable-stream/passthrough.js":1282,"readable-stream/readable.js":1283,"readable-stream/transform.js":1284,"readable-stream/writable.js":1285}],1272:[function(e,t,r){var n={}.toString;t.exports=Array.isArray||function(e){return n.call(e)=="[object Array]"}},{}],1273:[function(e,t,r){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":1274}],1274:[function(e,t,r){"use strict";var n=e("process-nextick-args");var o=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};t.exports=f;var s=Object.create(e("core-util-is"));s.inherits=e("inherits");var i=e("./_stream_readable");var a=e("./_stream_writable");s.inherits(f,i);{var l=o(a.prototype);for(var u=0;u<l.length;u++){var c=l[u];if(!f.prototype[c])f.prototype[c]=a.prototype[c]}}function f(e){if(!(this instanceof f))return new f(e);i.call(this,e);a.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",d)}Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function d(){if(this.allowHalfOpen||this._writableState.ended)return;n.nextTick(p,this)}function p(e){e.end()}Object.defineProperty(f.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});f.prototype._destroy=function(e,t){this.push(null);this.end();n.nextTick(t,e)}},{"./_stream_readable":1276,"./_stream_writable":1278,"core-util-is":996,inherits:1059,"process-nextick-args":1234}],1275:[function(e,t,r){"use strict";t.exports=s;var n=e("./_stream_transform");var o=Object.create(e("core-util-is"));o.inherits=e("inherits");o.inherits(s,n);function s(e){if(!(this instanceof s))return new s(e);n.call(this,e)}s.prototype._transform=function(e,t,r){r(null,e)}},{"./_stream_transform":1277,"core-util-is":996,inherits:1059}],1276:[function(e,t,r){(function(r,n){(function(){"use strict";var o=e("process-nextick-args");t.exports=O;var s=e("isarray");var i;O.ReadableState=w;var a=e("events").EventEmitter;var l=function(e,t){return e.listeners(t).length};var u=e("./internal/streams/stream");var c=e("safe-buffer").Buffer;var f=n.Uint8Array||function(){};function d(e){return c.from(e)}function p(e){return c.isBuffer(e)||e instanceof f}var _=Object.create(e("core-util-is"));_.inherits=e("inherits");var m=e("util");var y=void 0;if(m&&m.debuglog){y=m.debuglog("stream")}else{y=function(){}}var v=e("./internal/streams/BufferList");var b=e("./internal/streams/destroy");var h;_.inherits(O,u);var j=["error","close","destroy","pause","resume"];function g(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(s(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function w(t,r){i=i||e("./_stream_duplex");t=t||{};var n=r instanceof i;this.objectMode=!!t.objectMode;if(n)this.objectMode=this.objectMode||!!t.readableObjectMode;var o=t.highWaterMark;var s=t.readableHighWaterMark;var a=this.objectMode?16:16*1024;if(o||o===0)this.highWaterMark=o;else if(n&&(s||s===0))this.highWaterMark=s;else this.highWaterMark=a;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new v;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=t.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(t.encoding){if(!h)h=e("string_decoder/").StringDecoder;this.decoder=new h(t.encoding);this.encoding=t.encoding}}function O(t){i=i||e("./_stream_duplex");if(!(this instanceof O))return new O(t);this._readableState=new w(t,this);this.readable=true;if(t){if(typeof t.read==="function")this._read=t.read;if(typeof t.destroy==="function")this._destroy=t.destroy}u.call(this)}Object.defineProperty(O.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});O.prototype.destroy=b.destroy;O.prototype._undestroy=b.undestroy;O.prototype._destroy=function(e,t){this.push(null);t(e)};O.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=c.from(e,t);t=""}n=true}}else{n=true}return S(this,e,t,false,n)};O.prototype.unshift=function(e){return S(this,e,null,true,false)};function S(e,t,r,n,o){var s=e._readableState;if(t===null){s.reading=false;T(e,s)}else{var i;if(!o)i=A(s,t);if(i){e.emit("error",i)}else if(s.objectMode||t&&t.length>0){if(typeof t!=="string"&&!s.objectMode&&Object.getPrototypeOf(t)!==c.prototype){t=d(t)}if(n){if(s.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else k(e,s,t,true)}else if(s.ended){e.emit("error",new Error("stream.push() after EOF"))}else{s.reading=false;if(s.decoder&&!r){t=s.decoder.write(t);if(s.objectMode||t.length!==0)k(e,s,t,false);else R(e,s)}else{k(e,s,t,false)}}}else if(!n){s.reading=false}}return E(s)}function k(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)I(e)}R(e,t)}function A(e,t){var r;if(!p(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function E(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}O.prototype.isPaused=function(){return this._readableState.flowing===false};O.prototype.setEncoding=function(t){if(!h)h=e("string_decoder/").StringDecoder;this._readableState.decoder=new h(t);this._readableState.encoding=t;return this};var x=8388608;function M(e){if(e>=x){e=x}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function P(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=M(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}O.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)X(this);else I(this);return null}e=P(e,t);if(e===0&&t.ended){if(t.length===0)X(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=P(r,t)}var o;if(e>0)o=U(e,t);else o=null;if(o===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)X(this)}if(o!==null)this.emit("data",o);return o};function T(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;I(e)}function I(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)o.nextTick(C,e);else C(e)}}function C(e){y("emit readable");e.emit("readable");B(e)}function R(e,t){if(!t.readingMore){t.readingMore=true;o.nextTick(N,e,t)}}function N(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){y("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}O.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};O.prototype.pipe=function(e,t){var n=this;var s=this._readableState;switch(s.pipesCount){case 0:s.pipes=e;break;case 1:s.pipes=[s.pipes,e];break;default:s.pipes.push(e);break}s.pipesCount+=1;y("pipe count=%d opts=%j",s.pipesCount,t);var i=(!t||t.end!==false)&&e!==r.stdout&&e!==r.stderr;var a=i?c:j;if(s.endEmitted)o.nextTick(a);else n.once("end",a);e.on("unpipe",u);function u(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;p()}}}function c(){y("onend");e.end()}var f=L(n);e.on("drain",f);var d=false;function p(){y("cleanup");e.removeListener("close",b);e.removeListener("finish",h);e.removeListener("drain",f);e.removeListener("error",v);e.removeListener("unpipe",u);n.removeListener("end",c);n.removeListener("end",j);n.removeListener("data",m);d=true;if(s.awaitDrain&&(!e._writableState||e._writableState.needDrain))f()}var _=false;n.on("data",m);function m(t){y("ondata");_=false;var r=e.write(t);if(false===r&&!_){if((s.pipesCount===1&&s.pipes===e||s.pipesCount>1&&V(s.pipes,e)!==-1)&&!d){y("false write response, pause",n._readableState.awaitDrain);n._readableState.awaitDrain++;_=true}n.pause()}}function v(t){y("onerror",t);j();e.removeListener("error",v);if(l(e,"error")===0)e.emit("error",t)}g(e,"error",v);function b(){e.removeListener("finish",h);j()}e.once("close",b);function h(){y("onfinish");e.removeListener("close",b);j()}e.once("finish",h);function j(){y("unpipe");n.unpipe(e)}e.emit("pipe",n);if(!s.flowing){y("pipe resume");n.resume()}return e};function L(e){return function(){var t=e._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&l(e,"data")){t.flowing=true;B(e)}}}O.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var o=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var s=0;s<o;s++){n[s].emit("unpipe",this,r)}return this}var i=V(t.pipes,e);if(i===-1)return this;t.pipes.splice(i,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};O.prototype.on=function(e,t){var r=u.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var n=this._readableState;if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.emittedReadable=false;if(!n.reading){o.nextTick(z,this)}else if(n.length){I(this)}}}return r};O.prototype.addListener=O.prototype.on;function z(e){y("readable nexttick read 0");e.read(0)}O.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=true;D(this,e)}return this};function D(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;o.nextTick(q,e,t)}}function q(e,t){if(!t.reading){y("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");B(e);if(t.flowing&&!t.reading)e.read(0)}O.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){y("pause");this._readableState.flowing=false;this.emit("pause")}return this};function B(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}O.prototype.wrap=function(e){var t=this;var r=this._readableState;var n=false;e.on("end",(function(){y("wrapped end");if(r.decoder&&!r.ended){var e=r.decoder.end();if(e&&e.length)t.push(e)}t.push(null)}));e.on("data",(function(o){y("wrapped data");if(r.decoder)o=r.decoder.write(o);if(r.objectMode&&(o===null||o===undefined))return;else if(!r.objectMode&&(!o||!o.length))return;var s=t.push(o);if(!s){n=true;e.pause()}}));for(var o in e){if(this[o]===undefined&&typeof e[o]==="function"){this[o]=function(t){return function(){return e[t].apply(e,arguments)}}(o)}}for(var s=0;s<j.length;s++){e.on(j[s],this.emit.bind(this,j[s]))}this._read=function(t){y("wrapped _read",t);if(n){n=false;e.resume()}};return this};Object.defineProperty(O.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});O._fromList=U;function U(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.head.data;else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=W(e,t.buffer,t.decoder)}return r}function W(e,t,r){var n;if(e<t.head.data.length){n=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){n=t.shift()}else{n=r?F(e,t):G(e,t)}return n}function F(e,t){var r=t.head;var n=1;var o=r.data;e-=o.length;while(r=r.next){var s=r.data;var i=e>s.length?s.length:e;if(i===s.length)o+=s;else o+=s.slice(0,e);e-=i;if(e===0){if(i===s.length){++n;if(r.next)t.head=r.next;else t.head=t.tail=null}else{t.head=r;r.data=s.slice(i)}break}++n}t.length-=n;return o}function G(e,t){var r=c.allocUnsafe(e);var n=t.head;var o=1;n.data.copy(r);e-=n.data.length;while(n=n.next){var s=n.data;var i=e>s.length?s.length:e;s.copy(r,r.length-e,0,i);e-=i;if(e===0){if(i===s.length){++o;if(n.next)t.head=n.next;else t.head=t.tail=null}else{t.head=n;n.data=s.slice(i)}break}++o}t.length-=o;return r}function X(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;o.nextTick($,t,e)}}function $(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function V(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./_stream_duplex":1274,"./internal/streams/BufferList":1279,"./internal/streams/destroy":1280,"./internal/streams/stream":1281,_process:746,"core-util-is":996,events:745,inherits:1059,isarray:1272,"process-nextick-args":1234,"safe-buffer":1286,"string_decoder/":1287,util:725}],1277:[function(e,t,r){"use strict";t.exports=i;var n=e("./_stream_duplex");var o=Object.create(e("core-util-is"));o.inherits=e("inherits");o.inherits(i,n);function s(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(!n){return this.emit("error",new Error("write callback called multiple times"))}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var o=this._readableState;o.reading=false;if(o.needReadable||o.length<o.highWaterMark){this._read(o.highWaterMark)}}function i(e){if(!(this instanceof i))return new i(e);n.call(this,e);this._transformState={afterTransform:s.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",a)}function a(){var e=this;if(typeof this._flush==="function"){this._flush((function(t,r){l(e,t,r)}))}else{l(this,null,null)}}i.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};i.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};i.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var o=this._readableState;if(n.needTransform||o.needReadable||o.length<o.highWaterMark)this._read(o.highWaterMark)}};i.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};i.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,(function(e){t(e);r.emit("close")}))};function l(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},{"./_stream_duplex":1274,"core-util-is":996,inherits:1059}],1278:[function(e,t,r){(function(r,n,o){(function(){"use strict";var s=e("process-nextick-args");t.exports=g;function i(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function a(e){var t=this;this.next=null;this.entry=null;this.finish=function(){D(t,e)}}var l=!r.browser&&["v0.10","v0.9."].indexOf(r.version.slice(0,5))>-1?o:s.nextTick;var u;g.WritableState=h;var c=Object.create(e("core-util-is"));c.inherits=e("inherits");var f={deprecate:e("util-deprecate")};var d=e("./internal/streams/stream");var p=e("safe-buffer").Buffer;var _=n.Uint8Array||function(){};function m(e){return p.from(e)}function y(e){return p.isBuffer(e)||e instanceof _}var v=e("./internal/streams/destroy");c.inherits(g,d);function b(){}function h(t,r){u=u||e("./_stream_duplex");t=t||{};var n=r instanceof u;this.objectMode=!!t.objectMode;if(n)this.objectMode=this.objectMode||!!t.writableObjectMode;var o=t.highWaterMark;var s=t.writableHighWaterMark;var i=this.objectMode?16:16*1024;if(o||o===0)this.highWaterMark=o;else if(n&&(s||s===0))this.highWaterMark=s;else this.highWaterMark=i;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var l=t.decodeStrings===false;this.decodeStrings=!l;this.defaultEncoding=t.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){M(r,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new a(this)}h.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(h.prototype,"buffer",{get:f.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var j;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){j=Function.prototype[Symbol.hasInstance];Object.defineProperty(g,Symbol.hasInstance,{value:function(e){if(j.call(this,e))return true;if(this!==g)return false;return e&&e._writableState instanceof h}})}else{j=function(e){return e instanceof this}}function g(t){u=u||e("./_stream_duplex");if(!j.call(g,this)&&!(this instanceof u)){return new g(t)}this._writableState=new h(t,this);this.writable=true;if(t){if(typeof t.write==="function")this._write=t.write;if(typeof t.writev==="function")this._writev=t.writev;if(typeof t.destroy==="function")this._destroy=t.destroy;if(typeof t.final==="function")this._final=t.final}d.call(this)}g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function w(e,t){var r=new Error("write after end");e.emit("error",r);s.nextTick(t,r)}function O(e,t,r,n){var o=true;var i=false;if(r===null){i=new TypeError("May not write null values to stream")}else if(typeof r!=="string"&&r!==undefined&&!t.objectMode){i=new TypeError("Invalid non-string/buffer chunk")}if(i){e.emit("error",i);s.nextTick(n,i);o=false}return o}g.prototype.write=function(e,t,r){var n=this._writableState;var o=false;var s=!n.objectMode&&y(e);if(s&&!p.isBuffer(e)){e=m(e)}if(typeof t==="function"){r=t;t=null}if(s)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=b;if(n.ended)w(this,r);else if(s||O(this,n,e,r)){n.pendingcb++;o=k(this,n,s,e,t,r)}return o};g.prototype.cork=function(){var e=this._writableState;e.corked++};g.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)I(this,e)}};g.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t;return this};function S(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=p.from(t,r)}return t}Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function k(e,t,r,n,o,s){if(!r){var i=S(t,n,o);if(n!==i){r=true;o="buffer";n=i}}var a=t.objectMode?1:n.length;t.length+=a;var l=t.length<t.highWaterMark;if(!l)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:o,isBuf:r,callback:s,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{A(e,t,false,a,n,o,s)}return l}function A(e,t,r,n,o,s,i){t.writelen=n;t.writecb=i;t.writing=true;t.sync=true;if(r)e._writev(o,t.onwrite);else e._write(o,s,t.onwrite);t.sync=false}function E(e,t,r,n,o){--t.pendingcb;if(r){s.nextTick(o,n);s.nextTick(L,e,t);e._writableState.errorEmitted=true;e.emit("error",n)}else{o(n);e._writableState.errorEmitted=true;e.emit("error",n);L(e,t)}}function x(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function M(e,t){var r=e._writableState;var n=r.sync;var o=r.writecb;x(r);if(t)E(e,r,n,t,o);else{var s=C(r);if(!s&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){I(e,r)}if(n){l(P,e,r,s,o)}else{P(e,r,s,o)}}}function P(e,t,r,n){if(!r)T(e,t);t.pendingcb--;n();L(e,t)}function T(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function I(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var o=new Array(n);var s=t.corkedRequestsFree;s.entry=r;var i=0;var l=true;while(r){o[i]=r;if(!r.isBuf)l=false;r=r.next;i+=1}o.allBuffers=l;A(e,t,true,t.length,o,"",s.finish);t.pendingcb++;t.lastBufferedRequest=null;if(s.next){t.corkedRequestsFree=s.next;s.next=null}else{t.corkedRequestsFree=new a(t)}t.bufferedRequestCount=0}else{while(r){var u=r.chunk;var c=r.encoding;var f=r.callback;var d=t.objectMode?1:u.length;A(e,t,false,d,u,c,f);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}g.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};g.prototype._writev=null;g.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)z(this,n,r)};function C(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function R(e,t){e._final((function(r){t.pendingcb--;if(r){e.emit("error",r)}t.prefinished=true;e.emit("prefinish");L(e,t)}))}function N(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"){t.pendingcb++;t.finalCalled=true;s.nextTick(R,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function L(e,t){var r=C(t);if(r){N(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish")}}return r}function z(e,t,r){t.ending=true;L(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function D(e,t,r){var n=e.entry;e.entry=null;while(n){var o=n.callback;t.pendingcb--;o(r);n=n.next}if(t.corkedRequestsFree){t.corkedRequestsFree.next=e}else{t.corkedRequestsFree=e}}Object.defineProperty(g.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});g.prototype.destroy=v.destroy;g.prototype._undestroy=v.undestroy;g.prototype._destroy=function(e,t){this.end();t(e)}}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{},e("timers").setImmediate)},{"./_stream_duplex":1274,"./internal/streams/destroy":1280,"./internal/streams/stream":1281,_process:746,"core-util-is":996,inherits:1059,"process-nextick-args":1234,"safe-buffer":1286,timers:1289,"util-deprecate":1298}],1279:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=e("safe-buffer").Buffer;var s=e("util");function i(e,t,r){e.copy(t,r)}t.exports=function(){function e(){n(this,e);this.head=null;this.tail=null;this.length=0}e.prototype.push=function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length};e.prototype.unshift=function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length};e.prototype.shift=function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t};e.prototype.clear=function e(){this.head=this.tail=null;this.length=0};e.prototype.join=function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n};e.prototype.concat=function e(t){if(this.length===0)return o.alloc(0);if(this.length===1)return this.head.data;var r=o.allocUnsafe(t>>>0);var n=this.head;var s=0;while(n){i(n.data,r,s);s+=n.data.length;n=n.next}return r};return e}();if(s&&s.inspect&&s.inspect.custom){t.exports.prototype[s.inspect.custom]=function(){var e=s.inspect({length:this.length});return this.constructor.name+" "+e}}},{"safe-buffer":1286,util:725}],1280:[function(e,t,r){"use strict";var n=e("process-nextick-args");function o(e,t){var r=this;var o=this._readableState&&this._readableState.destroyed;var s=this._writableState&&this._writableState.destroyed;if(o||s){if(t){t(e)}else if(e&&(!this._writableState||!this._writableState.errorEmitted)){n.nextTick(i,this,e)}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,(function(e){if(!t&&e){n.nextTick(i,r,e);if(r._writableState){r._writableState.errorEmitted=true}}else if(t){t(e)}}));return this}function s(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function i(e,t){e.emit("error",t)}t.exports={destroy:o,undestroy:s}},{"process-nextick-args":1234}],1281:[function(e,t,r){arguments[4][1251][0].apply(r,arguments)},{dup:1251,events:745}],1282:[function(e,t,r){t.exports=e("./readable").PassThrough},{"./readable":1283}],1283:[function(e,t,r){r=t.exports=e("./lib/_stream_readable.js");r.Stream=r;r.Readable=r;r.Writable=e("./lib/_stream_writable.js");r.Duplex=e("./lib/_stream_duplex.js");r.Transform=e("./lib/_stream_transform.js");r.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":1274,"./lib/_stream_passthrough.js":1275,"./lib/_stream_readable.js":1276,"./lib/_stream_transform.js":1277,"./lib/_stream_writable.js":1278}],1284:[function(e,t,r){t.exports=e("./readable").Transform},{"./readable":1283}],1285:[function(e,t,r){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":1278}],1286:[function(e,t,r){var n=e("buffer");var o=n.Buffer;function s(e,t){for(var r in e){t[r]=e[r]}}if(o.from&&o.alloc&&o.allocUnsafe&&o.allocUnsafeSlow){t.exports=n}else{s(n,r);r.Buffer=i}function i(e,t,r){return o(e,t,r)}s(o,i);i.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return o(e,t,r)};i.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=o(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};i.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return o(e)};i.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},{buffer:744}],1287:[function(e,t,r){"use strict";var n=e("safe-buffer").Buffer;var o=n.isEncoding||function(e){e=""+e;switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return true;default:return false}};function s(e){if(!e)return"utf8";var t;while(true){switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase();t=true}}}function i(e){var t=s(e);if(typeof t!=="string"&&(n.isEncoding===o||!o(e)))throw new Error("Unknown encoding: "+e);return t||e}r.StringDecoder=a;function a(e){this.encoding=i(e);var t;switch(this.encoding){case"utf16le":this.text=_;this.end=m;t=4;break;case"utf8":this.fillLast=f;t=4;break;case"base64":this.text=y;this.end=v;t=3;break;default:this.write=b;this.end=h;return}this.lastNeed=0;this.lastTotal=0;this.lastChar=n.allocUnsafe(t)}a.prototype.write=function(e){if(e.length===0)return"";var t;var r;if(this.lastNeed){t=this.fillLast(e);if(t===undefined)return"";r=this.lastNeed;this.lastNeed=0}else{r=0}if(r<e.length)return t?t+this.text(e,r):this.text(e,r);return t||""};a.prototype.end=p;a.prototype.text=d;a.prototype.fillLast=function(e){if(this.lastNeed<=e.length){e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length);this.lastNeed-=e.length};function l(e){if(e<=127)return 0;else if(e>>5===6)return 2;else if(e>>4===14)return 3;else if(e>>3===30)return 4;return e>>6===2?-1:-2}function u(e,t,r){var n=t.length-1;if(n<r)return 0;var o=l(t[n]);if(o>=0){if(o>0)e.lastNeed=o-1;return o}if(--n<r||o===-2)return 0;o=l(t[n]);if(o>=0){if(o>0)e.lastNeed=o-2;return o}if(--n<r||o===-2)return 0;o=l(t[n]);if(o>=0){if(o>0){if(o===2)o=0;else e.lastNeed=o-3}return o}return 0}function c(e,t,r){if((t[0]&192)!==128){e.lastNeed=0;return""}if(e.lastNeed>1&&t.length>1){if((t[1]&192)!==128){e.lastNeed=1;return""}if(e.lastNeed>2&&t.length>2){if((t[2]&192)!==128){e.lastNeed=2;return""}}}}function f(e){var t=this.lastTotal-this.lastNeed;var r=c(this,e,t);if(r!==undefined)return r;if(this.lastNeed<=e.length){e.copy(this.lastChar,t,0,this.lastNeed);return this.lastChar.toString(this.encoding,0,this.lastTotal)}e.copy(this.lastChar,t,0,e.length);this.lastNeed-=e.length}function d(e,t){var r=u(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);e.copy(this.lastChar,0,n);return e.toString("utf8",t,n)}function p(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+"";return t}function _(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319){this.lastNeed=2;this.lastTotal=4;this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1];return r.slice(0,-1)}}return r}this.lastNeed=1;this.lastTotal=2;this.lastChar[0]=e[e.length-1];return e.toString("utf16le",t,e.length-1)}function m(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function y(e,t){var r=(e.length-t)%3;if(r===0)return e.toString("base64",t);this.lastNeed=3-r;this.lastTotal=3;if(r===1){this.lastChar[0]=e[e.length-1]}else{this.lastChar[0]=e[e.length-2];this.lastChar[1]=e[e.length-1]}return e.toString("base64",t,e.length-r)}function v(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed)return t+this.lastChar.toString("base64",0,3-this.lastNeed);return t}function b(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}},{"safe-buffer":1286}],1288:[function(e,t,r){arguments[4][1287][0].apply(r,arguments)},{dup:1287,"safe-buffer":1254}],1289:[function(e,t,r){(function(t,n){(function(){var o=e("process/browser.js").nextTick;var s=Function.prototype.apply;var i=Array.prototype.slice;var a={};var l=0;r.setTimeout=function(){return new u(s.call(setTimeout,window,arguments),clearTimeout)};r.setInterval=function(){return new u(s.call(setInterval,window,arguments),clearInterval)};r.clearTimeout=r.clearInterval=function(e){e.close()};function u(e,t){this._id=e;this._clearFn=t}u.prototype.unref=u.prototype.ref=function(){};u.prototype.close=function(){this._clearFn.call(window,this._id)};r.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};r.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};r._unrefActive=r.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout((function t(){if(e._onTimeout)e._onTimeout()}),t)}};r.setImmediate=typeof t==="function"?t:function(e){var t=l++;var n=arguments.length<2?false:i.call(arguments,1);a[t]=true;o((function o(){if(a[t]){if(n){e.apply(null,n)}else{e.call(null)}r.clearImmediate(t)}}));return t};r.clearImmediate=typeof n==="function"?n:function(e){delete a[e]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1290,timers:1289}],1290:[function(e,t,r){arguments[4][746][0].apply(r,arguments)},{dup:746}],1291:[function(e,t,r){"use strict";t.exports=2147483647},{}],1292:[function(e,t,r){"use strict";var n=e("es5-ext/number/to-pos-integer"),o=e("./max-timeout");t.exports=function(e){e=n(e);if(e>o)throw new TypeError(e+" exceeds maximum possible timeout");return e}},{"./max-timeout":1291,"es5-ext/number/to-pos-integer":1017}],1293:[function(e,t,r){"use strict";var n=e("../prototype/is");t.exports=function(e){if(typeof e!=="function")return false;if(!hasOwnProperty.call(e,"length"))return false;try{if(typeof e.length!=="number")return false;if(typeof e.call!=="function")return false;if(typeof e.apply!=="function")return false}catch(e){return false}return!n(e)}},{"../prototype/is":1296}],1294:[function(e,t,r){"use strict";var n=e("../value/is");var o={object:true,function:true,undefined:true};t.exports=function(e){if(!n(e))return false;return hasOwnProperty.call(o,typeof e)}},{"../value/is":1297}],1295:[function(e,t,r){"use strict";var n=e("../function/is");var o=/^\s*class[\s{/}]/,s=Function.prototype.toString;t.exports=function(e){if(!n(e))return false;if(o.test(s.call(e)))return false;return true}},{"../function/is":1293}],1296:[function(e,t,r){"use strict";var n=e("../object/is");t.exports=function(e){if(!n(e))return false;try{if(!e.constructor)return false;return e.constructor.prototype===e}catch(e){return false}}},{"../object/is":1294}],1297:[function(e,t,r){"use strict";var n=void 0;t.exports=function(e){return e!==n&&e!==null}},{}],1298:[function(e,t,r){(function(e){(function(){t.exports=r;function r(e,t){if(n("noDeprecation")){return e}var r=false;function o(){if(!r){if(n("throwDeprecation")){throw new Error(t)}else if(n("traceDeprecation")){console.trace(t)}else{console.warn(t)}r=true}return e.apply(this,arguments)}return o}function n(t){try{if(!e.localStorage)return false}catch(e){return false}var r=e.localStorage[t];if(null==r)return false;return String(r).toLowerCase()==="true"}}).call(this)}).call(this,typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{}],1299:[function(e,t,r){if(typeof Object.create==="function"){t.exports=function e(t,r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}else{t.exports=function e(t,r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}},{}],1300:[function(e,t,r){t.exports=function e(t){return t&&typeof t==="object"&&typeof t.copy==="function"&&typeof t.fill==="function"&&typeof t.readUInt8==="function"}},{}],1301:[function(e,t,r){(function(t,n){(function(){var o=/%[sdj%]/g;r.format=function(e){if(!w(e)){var t=[];for(var r=0;r<arguments.length;r++){t.push(a(arguments[r]))}return t.join(" ")}var r=1;var n=arguments;var s=n.length;var i=String(e).replace(o,(function(e){if(e==="%%")return"%";if(r>=s)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}));for(var l=n[r];r<s;l=n[++r]){if(h(l)||!A(l)){i+=" "+l}else{i+=" "+a(l)}}return i};r.deprecate=function(e,o){if(S(n.process)){return function(){return r.deprecate(e,o).apply(this,arguments)}}if(t.noDeprecation===true){return e}var s=false;function i(){if(!s){if(t.throwDeprecation){throw new Error(o)}else if(t.traceDeprecation){console.trace(o)}else{console.error(o)}s=true}return e.apply(this,arguments)}return i};var s={};var i;r.debuglog=function(e){if(S(i))i=t.env.NODE_DEBUG||"";e=e.toUpperCase();if(!s[e]){if(new RegExp("\\b"+e+"\\b","i").test(i)){var n=t.pid;s[e]=function(){var t=r.format.apply(r,arguments);console.error("%s %d: %s",e,n,t)}}else{s[e]=function(){}}}return s[e]};function a(e,t){var n={seen:[],stylize:u};if(arguments.length>=3)n.depth=arguments[2];if(arguments.length>=4)n.colors=arguments[3];if(b(t)){n.showHidden=t}else if(t){r._extend(n,t)}if(S(n.showHidden))n.showHidden=false;if(S(n.depth))n.depth=2;if(S(n.colors))n.colors=false;if(S(n.customInspect))n.customInspect=true;if(n.colors)n.stylize=l;return f(n,e,n.depth)}r.inspect=a;a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]};a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function l(e,t){var r=a.styles[t];if(r){return"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m"}else{return e}}function u(e,t){return e}function c(e){var t={};e.forEach((function(e,r){t[e]=true}));return t}function f(e,t,n){if(e.customInspect&&t&&M(t.inspect)&&t.inspect!==r.inspect&&!(t.constructor&&t.constructor.prototype===t)){var o=t.inspect(n,e);if(!w(o)){o=f(e,o,n)}return o}var s=d(e,t);if(s){return s}var i=Object.keys(t);var a=c(i);if(e.showHidden){i=Object.getOwnPropertyNames(t)}if(x(t)&&(i.indexOf("message")>=0||i.indexOf("description")>=0)){return p(t)}if(i.length===0){if(M(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(k(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}if(E(t)){return e.stylize(Date.prototype.toString.call(t),"date")}if(x(t)){return p(t)}}var u="",b=false,h=["{","}"];if(v(t)){b=true;h=["[","]"]}if(M(t)){var j=t.name?": "+t.name:"";u=" [Function"+j+"]"}if(k(t)){u=" "+RegExp.prototype.toString.call(t)}if(E(t)){u=" "+Date.prototype.toUTCString.call(t)}if(x(t)){u=" "+p(t)}if(i.length===0&&(!b||t.length==0)){return h[0]+u+h[1]}if(n<0){if(k(t)){return e.stylize(RegExp.prototype.toString.call(t),"regexp")}else{return e.stylize("[Object]","special")}}e.seen.push(t);var g;if(b){g=_(e,t,n,a,i)}else{g=i.map((function(r){return m(e,t,n,a,r,b)}))}e.seen.pop();return y(g,u,h)}function d(e,t){if(S(t))return e.stylize("undefined","undefined");if(w(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(g(t))return e.stylize(""+t,"number");if(b(t))return e.stylize(""+t,"boolean");if(h(t))return e.stylize("null","null")}function p(e){return"["+Error.prototype.toString.call(e)+"]"}function _(e,t,r,n,o){var s=[];for(var i=0,a=t.length;i<a;++i){if(N(t,String(i))){s.push(m(e,t,r,n,String(i),true))}else{s.push("")}}o.forEach((function(o){if(!o.match(/^\d+$/)){s.push(m(e,t,r,n,o,true))}}));return s}function m(e,t,r,n,o,s){var i,a,l;l=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]};if(l.get){if(l.set){a=e.stylize("[Getter/Setter]","special")}else{a=e.stylize("[Getter]","special")}}else{if(l.set){a=e.stylize("[Setter]","special")}}if(!N(n,o)){i="["+o+"]"}if(!a){if(e.seen.indexOf(l.value)<0){if(h(r)){a=f(e,l.value,null)}else{a=f(e,l.value,r-1)}if(a.indexOf("\n")>-1){if(s){a=a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2)}else{a="\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")}}}else{a=e.stylize("[Circular]","special")}}if(S(i)){if(s&&o.match(/^\d+$/)){return a}i=JSON.stringify(""+o);if(i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)){i=i.substr(1,i.length-2);i=e.stylize(i,"name")}else{i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'");i=e.stylize(i,"string")}}return i+": "+a}function y(e,t,r){var n=0;var o=e.reduce((function(e,t){n++;if(t.indexOf("\n")>=0)n++;return e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0);if(o>60){return r[0]+(t===""?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1]}return r[0]+t+" "+e.join(", ")+" "+r[1]}function v(e){return Array.isArray(e)}r.isArray=v;function b(e){return typeof e==="boolean"}r.isBoolean=b;function h(e){return e===null}r.isNull=h;function j(e){return e==null}r.isNullOrUndefined=j;function g(e){return typeof e==="number"}r.isNumber=g;function w(e){return typeof e==="string"}r.isString=w;function O(e){return typeof e==="symbol"}r.isSymbol=O;function S(e){return e===void 0}r.isUndefined=S;function k(e){return A(e)&&T(e)==="[object RegExp]"}r.isRegExp=k;function A(e){return typeof e==="object"&&e!==null}r.isObject=A;function E(e){return A(e)&&T(e)==="[object Date]"}r.isDate=E;function x(e){return A(e)&&(T(e)==="[object Error]"||e instanceof Error)}r.isError=x;function M(e){return typeof e==="function"}r.isFunction=M;function P(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}r.isPrimitive=P;r.isBuffer=e("./support/isBuffer");function T(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}var C=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function R(){var e=new Date;var t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),C[e.getMonth()],t].join(" ")}r.log=function(){console.log("%s - %s",R(),r.format.apply(r,arguments))};r.inherits=e("inherits");r._extend=function(e,t){if(!t||!A(t))return e;var r=Object.keys(t);var n=r.length;while(n--){e[r[n]]=t[r[n]]}return e};function N(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}).call(this)}).call(this,e("_process"),typeof global!=="undefined"?global:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":1300,_process:746,inherits:1299}],1302:[function(e,t,r){(function(e){if(e.fn.dotdotdot){return}e.fn.dotdotdot=function(o){if(this.length==0){d(true,'No element found for "'+this.selector+'".');return this}if(this.length>1){return this.each((function(){e(this).dotdotdot(o)}))}var i=this;if(i.data("dotdotdot")){i.trigger("destroy.dot")}i.bind_events=function(){i.bind("update.dot",(function(t,o){t.preventDefault();t.stopPropagation();u.maxHeight=typeof u.height=="number"?u.height:f(i);u.maxHeight+=u.tolerance;if(typeof o!="undefined"){if(typeof o=="string"||o instanceof HTMLElement){o=e("<div />").append(o).contents()}if(o instanceof e){l=o}}y=i.wrapInner('<div class="dotdotdot" />').children();y.empty().append(l.clone(true)).css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var a=false,c=false;if(p.afterElement){a=p.afterElement.clone(true);p.afterElement.remove()}if(s(y,u)){if(u.wrap=="children"){c=r(y,u,a)}else{c=n(y,i,y,u,a)}}y.replaceWith(y.contents());y=null;if(e.isFunction(u.callback)){u.callback.call(i[0],c,l)}p.isTruncated=c;return c})).bind("isTruncated.dot",(function(e,t){e.preventDefault();e.stopPropagation();if(typeof t=="function"){t.call(i[0],p.isTruncated)}return p.isTruncated})).bind("originalContent.dot",(function(e,t){e.preventDefault();e.stopPropagation();if(typeof t=="function"){t.call(i[0],l)}return l})).bind("destroy.dot",(function(e){e.preventDefault();e.stopPropagation();i.unwatch().unbind_events().empty().append(l).data("dotdotdot",false)}));return i};i.unbind_events=function(){i.unbind(".dot");return i};i.watch=function(){i.unwatch();if(u.watch=="window"){var t=e(window),r=t.width(),n=t.height();t.bind("resize.dot"+p.dotId,(function(){if(r!=t.width()||n!=t.height()||!u.windowResizeFix){r=t.width();n=t.height();if(m){clearInterval(m)}m=setTimeout((function(){i.trigger("update.dot")}),10)}}))}else{_=a(i);m=setInterval((function(){var e=a(i);if(_.width!=e.width||_.height!=e.height){i.trigger("update.dot");_=a(i)}}),100)}return i};i.unwatch=function(){e(window).unbind("resize.dot"+p.dotId);if(m){clearInterval(m)}return i};var l=i.contents(),u=e.extend(true,{},e.fn.dotdotdot.defaults,o),p={},_={},m=null,y=null;p.afterElement=c(u.after,i);p.isTruncated=false;p.dotId=t++;i.data("dotdotdot",true).bind_events().trigger("update.dot");if(u.watch){i.watch()}return i};e.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",lastCharacter:{remove:[" ",",",";",".","!","?"],noEllipsis:[]},tolerance:0,callback:null,after:null,height:null,watch:false,windowResizeFix:true,debug:false};var t=1;function r(e,t,r){var n=e.children(),o=false;e.empty();for(var i=0,a=n.length;i<a;i++){var l=n.eq(i);e.append(l);if(r){e.append(r)}if(s(e,t)){l.remove();o=true;break}else{if(r){r.remove()}}}return o}function n(t,r,a,c,f){var d=t.contents(),p=false;t.empty();if(s(a,c)){var _=t.prev().contents();var m=_.contents();while(m.size()!=0){_=m.eq(-1);m=_.contents()}var y=_[0];if(typeof y!="undefined"){var v=i(u(y),c);l(y,v)}t.remove();return true}var b="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, select, optgroup, option, textarea, script, style";for(var h=0,j=d.length;h<j;h++){if(p){break}var y=d[h],g=e(y);if(typeof y=="undefined"){continue}t.append(g);if(f){t[t.is(b)?"after":"append"](f)}if(y.nodeType==3){if(s(a,c)){p=o(g,r,a,c,f)}}else{p=n(g,r,a,c,f)}if(!p){if(f){f.remove()}}}return p}function o(e,t,r,n,a){var c=false,f=e[0];if(typeof f=="undefined"){return false}var d=n.wrap=="letter"?"":" ",p=u(f).split(d),_=-1,m=-1,y=0,v=p.length-1;while(y<=v){var b=Math.floor((y+v)/2);if(b==m){break}m=b;l(f,p.slice(0,m+1).join(d)+n.ellipsis);if(!s(r,n)){_=m;y=m}else{v=m}}if(_!=-1&&!(p.length==1&&p[0].length==0)){var h=i(p.slice(0,_+1).join(d),n);c=true;l(f,h)}else{var j=e.parent();e.remove();var g=a?a.length:0;if(j.contents().size()>g){var w=j.contents().eq(-1-g);c=o(w,t,r,n,a)}else{var f=j.prev().contents().eq(-1)[0];if(typeof f!="undefined"){var h=i(u(f),n);l(f,h);j.remove();c=true}}}return c}function s(e,t){return e.innerHeight()>t.maxHeight}function i(t,r){while(e.inArray(t.slice(-1),r.lastCharacter.remove)>-1){t=t.slice(0,-1)}if(e.inArray(t.slice(-1),r.lastCharacter.noEllipsis)<0){t+=r.ellipsis}return t}function a(e){return{width:e.innerWidth(),height:e.innerHeight()}}function l(e,t){if(e.innerText){e.innerText=t}else if(e.nodeValue){e.nodeValue=t}else if(e.textContent){e.textContent=t}}function u(e){if(e.innerText){return e.innerText}else if(e.nodeValue){return e.nodeValue}else if(e.textContent){return e.textContent}else{return""}}function c(t,r){if(typeof t=="undefined"){return false}if(!t){return false}if(typeof t=="string"){t=e(t,r);return t.length?t:false}if(typeof t=="object"){return typeof t.jquery=="undefined"?false:t}return false}function f(e){var t=e.innerHeight(),r=["paddingTop","paddingBottom"];for(var n=0,o=r.length;n<o;n++){var s=parseInt(e.css(r[n]),10);if(isNaN(s)){s=0}t-=s}return t}function d(e,t){if(!e){return false}if(typeof t=="string"){t="dotdotdot: "+t}else{t=["dotdotdot:",t]}if(typeof window.console!="undefined"){if(typeof window.console.log!="undefined"){window.console.log(t)}}return false}var p=e.fn.html;e.fn.html=function(e){if(typeof e!="undefined"){if(this.data("dotdotdot")){if(typeof e!="function"){p.call(this,e);return this.trigger("update",[e])}}return p.call(this,e)}return p.call(this)};var _=e.fn.text;e.fn.text=function(t){if(typeof t!="undefined"){if(this.data("dotdotdot")){_.call(this,t);var r=e("<div />");r.text(t);t=r.html();r.remove();return this.trigger("update",[t])}return _.call(this,t)}return _.call(this)}})(jQuery)},{}],1303:[function(e,t,r){
/*! VelocityJS.org (1.4.0). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */
/*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */
!function(e){"use strict";function t(e){var t=e.length,n=r.type(e);return"function"!==n&&!r.isWindow(e)&&(!(1!==e.nodeType||!t)||"array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}if(!e.jQuery){var r=function(e,t){return new r.fn.init(e,t)};r.isWindow=function(e){return e&&e===e.window},r.type=function(e){return e?"object"==typeof e||"function"==typeof e?o[i.call(e)]||"object":typeof e:e+""},r.isArray=Array.isArray||function(e){return"array"===r.type(e)},r.isPlainObject=function(e){var t;if(!e||"object"!==r.type(e)||e.nodeType||r.isWindow(e))return!1;try{if(e.constructor&&!s.call(e,"constructor")&&!s.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}for(t in e);return void 0===t||s.call(e,t)},r.each=function(e,r,n){var o,s=0,i=e.length,a=t(e);if(n){if(a)for(;s<i&&(o=r.apply(e[s],n),o!==!1);s++);else for(s in e)if(e.hasOwnProperty(s)&&(o=r.apply(e[s],n),o===!1))break}else if(a)for(;s<i&&(o=r.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(e.hasOwnProperty(s)&&(o=r.call(e[s],s,e[s]),o===!1))break;return e},r.data=function(e,t,o){if(void 0===o){var s=e[r.expando],i=s&&n[s];if(void 0===t)return i;if(i&&t in i)return i[t]}else if(void 0!==t){var a=e[r.expando]||(e[r.expando]=++r.uuid);return n[a]=n[a]||{},n[a][t]=o,o}},r.removeData=function(e,t){var o=e[r.expando],s=o&&n[o];s&&(t?r.each(t,(function(e,t){delete s[t]})):delete n[o])},r.extend=function(){var e,t,n,o,s,i,a=arguments[0]||{},l=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[l]||{},l++),"object"!=typeof a&&"function"!==r.type(a)&&(a={}),l===u&&(a=this,l--);l<u;l++)if(s=arguments[l])for(o in s)s.hasOwnProperty(o)&&(e=a[o],n=s[o],a!==n&&(c&&n&&(r.isPlainObject(n)||(t=r.isArray(n)))?(t?(t=!1,i=e&&r.isArray(e)?e:[]):i=e&&r.isPlainObject(e)?e:{},a[o]=r.extend(c,i,n)):void 0!==n&&(a[o]=n)));return a},r.queue=function(e,n,o){function s(e,r){var n=r||[];return e&&(t(Object(e))?!function(e,t){for(var r=+t.length,n=0,o=e.length;n<r;)e[o++]=t[n++];if(r!==r)for(;void 0!==t[n];)e[o++]=t[n++];return e.length=o,e}(n,"string"==typeof e?[e]:e):[].push.call(n,e)),n}if(e){n=(n||"fx")+"queue";var i=r.data(e,n);return o?(!i||r.isArray(o)?i=r.data(e,n,s(o)):i.push(o),i):i||[]}},r.dequeue=function(e,t){r.each(e.nodeType?[e]:e,(function(e,n){t=t||"fx";var o=r.queue(n,t),s=o.shift();"inprogress"===s&&(s=o.shift()),s&&("fx"===t&&o.unshift("inprogress"),s.call(n,(function(){r.dequeue(n,t)})))}))},r.fn=r.prototype={init:function(e){if(e.nodeType)return this[0]=e,this;throw new Error("Not a DOM node.")},offset:function(){var t=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:t.top+(e.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:t.left+(e.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function e(e){for(var t=e.offsetParent;t&&"html"!==t.nodeName.toLowerCase()&&t.style&&"static"===t.style.position;)t=t.offsetParent;return t||document}var t=this[0],n=e(t),o=this.offset(),s=/^(?:body|html)$/i.test(n.nodeName)?{top:0,left:0}:r(n).offset();return o.top-=parseFloat(t.style.marginTop)||0,o.left-=parseFloat(t.style.marginLeft)||0,n.style&&(s.top+=parseFloat(n.style.borderTopWidth)||0,s.left+=parseFloat(n.style.borderLeftWidth)||0),{top:o.top-s.top,left:o.left-s.left}}};var n={};r.expando="velocity"+(new Date).getTime(),r.uuid=0;for(var o={},s=o.hasOwnProperty,i=o.toString,a="Boolean Number String Function Array Date RegExp Object Error".split(" "),l=0;l<a.length;l++)o["[object "+a[l]+"]"]=a[l].toLowerCase();r.fn.init.prototype=r.fn,e.Velocity={Utilities:r}}}(window),function(e){"use strict";"object"==typeof t&&"object"==typeof t.exports?t.exports=e():"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";return function(e,t,r,n){function o(e){for(var t=-1,r=e?e.length:0,n=[];++t<r;){var o=e[t];o&&n.push(o)}return n}function s(e){return b.isWrapped(e)?e=[].slice.call(e):b.isNode(e)&&(e=[e]),e}function i(e){var t=_.data(e,"velocity");return null===t?n:t}function a(e,t){var r=i(e);r&&r.delayTimer&&!r.delayPaused&&(r.delayRemaining=r.delay-t+r.delayBegin,r.delayPaused=!0,clearTimeout(r.delayTimer.setTimeout))}function l(e,t){var r=i(e);r&&r.delayTimer&&r.delayPaused&&(r.delayPaused=!1,r.delayTimer.setTimeout=setTimeout(r.delayTimer.next,r.delayRemaining))}function u(e){return function(t){return Math.round(t*e)*(1/e)}}function c(e,r,n,o){function s(e,t){return 1-3*t+3*e}function i(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,r){return((s(t,r)*e+i(t,r))*e+a(t))*e}function u(e,t,r){return 3*s(t,r)*e*e+2*i(t,r)*e+a(t)}function c(t,r){for(var o=0;o<m;++o){var s=u(r,e,n);if(0===s)return r;var i=l(r,e,n)-t;r-=i/s}return r}function f(){for(var t=0;t<h;++t)O[t]=l(t*j,e,n)}function d(t,r,o){var s,i,a=0;do{i=r+(o-r)/2,s=l(i,e,n)-t,s>0?o=i:r=i}while(Math.abs(s)>v&&++a<b);return i}function p(t){for(var r=0,o=1,s=h-1;o!==s&&O[o]<=t;++o)r+=j;--o;var i=(t-O[o])/(O[o+1]-O[o]),a=r+i*j,l=u(a,e,n);return l>=y?c(t,a):0===l?a:d(t,r,r+j)}function _(){S=!0,e===r&&n===o||f()}var m=4,y=.001,v=1e-7,b=10,h=11,j=1/(h-1),g="Float32Array"in t;if(4!==arguments.length)return!1;for(var w=0;w<4;++w)if("number"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var O=g?new Float32Array(h):new Array(h),S=!1,k=function(t){return S||_(),e===r&&n===o?t:0===t?0:1===t?1:l(p(t),r,o)};k.getControlPoints=function(){return[{x:e,y:r},{x:n,y:o}]};var A="generateBezier("+[e,r,n,o]+")";return k.toString=function(){return A},k}function f(e,t){var r=e;return b.isString(e)?w.Easings[e]||(r=!1):r=b.isArray(e)&&1===e.length?u.apply(null,e):b.isArray(e)&&2===e.length?O.apply(null,e.concat([t])):!(!b.isArray(e)||4!==e.length)&&c.apply(null,e),r===!1&&(r=w.Easings[w.defaults.easing]?w.defaults.easing:g),r}function d(e){if(e){var t=w.timestamp&&e!==!0?e:v.now(),r=w.State.calls.length;r>1e4&&(w.State.calls=o(w.State.calls),r=w.State.calls.length);for(var s=0;s<r;s++)if(w.State.calls[s]){var a=w.State.calls[s],l=a[0],u=a[2],c=a[3],f=!!c,y=null,h=a[5],j=a[6];if(c||(c=w.State.calls[s][3]=t-16),h){if(h.resume!==!0)continue;c=a[3]=Math.round(t-j-16),a[5]=null}j=a[6]=t-c;for(var g=Math.min(j/u.duration,1),O=0,k=l.length;O<k;O++){var E=l[O],x=E.element;if(i(x)){var M=!1;if(u.display!==n&&null!==u.display&&"none"!==u.display){if("flex"===u.display){var P=["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex"];_.each(P,(function(e,t){S.setPropertyValue(x,"display",t)}))}S.setPropertyValue(x,"display",u.display)}u.visibility!==n&&"hidden"!==u.visibility&&S.setPropertyValue(x,"visibility",u.visibility);for(var T in E)if(E.hasOwnProperty(T)&&"element"!==T){var I,C=E[T],R=b.isString(C.easing)?w.Easings[C.easing]:C.easing;if(b.isString(C.pattern)){var N=1===g?function(e,t,r){var n=C.endValue[t];return r?Math.round(n):n}:function(e,t,r){var n=C.startValue[t],o=C.endValue[t]-n,s=n+o*R(g,u,o);return r?Math.round(s):s};I=C.pattern.replace(/{(\d+)(!)?}/g,N)}else if(1===g)I=C.endValue;else{var L=C.endValue-C.startValue;I=C.startValue+L*R(g,u,L)}if(!f&&I===C.currentValue)continue;if(C.currentValue=I,"tween"===T)y=I;else{var z;if(S.Hooks.registered[T]){z=S.Hooks.getRoot(T);var D=i(x).rootPropertyValueCache[z];D&&(C.rootPropertyValue=D)}var q=S.setPropertyValue(x,T,C.currentValue+(m<9&&0===parseFloat(I)?"":C.unitType),C.rootPropertyValue,C.scrollData);S.Hooks.registered[T]&&(S.Normalizations.registered[z]?i(x).rootPropertyValueCache[z]=S.Normalizations.registered[z]("extract",null,q[1]):i(x).rootPropertyValueCache[z]=q[1]),"transform"===q[0]&&(M=!0)}}u.mobileHA&&i(x).transformCache.translate3d===n&&(i(x).transformCache.translate3d="(0px, 0px, 0px)",M=!0),M&&S.flushTransformCache(x)}}u.display!==n&&"none"!==u.display&&(w.State.calls[s][2].display=!1),u.visibility!==n&&"hidden"!==u.visibility&&(w.State.calls[s][2].visibility=!1),u.progress&&u.progress.call(a[1],a[1],g,Math.max(0,c+u.duration-t),c,y),1===g&&p(s)}}w.State.isTicking&&A(d)}function p(e,t){if(!w.State.calls[e])return!1;for(var r=w.State.calls[e][0],o=w.State.calls[e][1],s=w.State.calls[e][2],a=w.State.calls[e][4],l=!1,u=0,c=r.length;u<c;u++){var f=r[u].element;t||s.loop||("none"===s.display&&S.setPropertyValue(f,"display",s.display),"hidden"===s.visibility&&S.setPropertyValue(f,"visibility",s.visibility));var d=i(f);if(s.loop!==!0&&(_.queue(f)[1]===n||!/\.velocityQueueEntryFlag/i.test(_.queue(f)[1]))&&d){d.isAnimating=!1,d.rootPropertyValueCache={};var p=!1;_.each(S.Lists.transforms3D,(function(e,t){var r=/^scale/.test(t)?1:0,o=d.transformCache[t];d.transformCache[t]!==n&&new RegExp("^\\("+r+"[^.]").test(o)&&(p=!0,delete d.transformCache[t])})),s.mobileHA&&(p=!0,delete d.transformCache.translate3d),p&&S.flushTransformCache(f),S.Values.removeClass(f,"velocity-animating")}if(!t&&s.complete&&!s.loop&&u===c-1)try{s.complete.call(o,o)}catch(e){setTimeout((function(){throw e}),1)}a&&s.loop!==!0&&a(o),d&&s.loop===!0&&!t&&(_.each(d.tweensContainer,(function(e,t){if(/^rotate/.test(e)&&(parseFloat(t.startValue)-parseFloat(t.endValue))%360===0){var r=t.startValue;t.startValue=t.endValue,t.endValue=r}/^backgroundPosition/.test(e)&&100===parseFloat(t.endValue)&&"%"===t.unitType&&(t.endValue=0,t.startValue=100)})),w(f,"reverse",{loop:!0,delay:s.delay})),s.queue!==!1&&_.dequeue(f,s.queue)}w.State.calls[e]=!1;for(var m=0,y=w.State.calls.length;m<y;m++)if(w.State.calls[m]!==!1){l=!0;break}l===!1&&(w.State.isTicking=!1,delete w.State.calls,w.State.calls=[])}var _,m=function(){if(r.documentMode)return r.documentMode;for(var e=7;e>4;e--){var t=r.createElement("div");if(t.innerHTML="\x3c!--[if IE "+e+"]><span></span><![endif]--\x3e",t.getElementsByTagName("span").length)return t=null,e}return n}(),y=function(){var e=0;return t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||function(t){var r,n=(new Date).getTime();return r=Math.max(0,16-(n-e)),e=n+r,setTimeout((function(){t(n+r)}),r)}}(),v=function(){var e=t.performance||{};if(!e.hasOwnProperty("now")){var r=e.timing&&e.timing.domComplete?e.timing.domComplete:(new Date).getTime();e.now=function(){return(new Date).getTime()-r}}return e}(),b={isNumber:function(e){return"number"==typeof e},isString:function(e){return"string"==typeof e},isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isNode:function(e){return e&&e.nodeType},isNodeList:function(e){return"object"==typeof e&&/^\[object (HTMLCollection|NodeList|Object)\]$/.test(Object.prototype.toString.call(e))&&e.length!==n&&(0===e.length||"object"==typeof e[0]&&e[0].nodeType>0)},isWrapped:function(e){return e&&(b.isArray(e)||b.isNumber(e.length)&&!b.isString(e)&&!b.isFunction(e))},isSVG:function(e){return t.SVGElement&&e instanceof t.SVGElement},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0}},h=!1;if(e.fn&&e.fn.jquery?(_=e,h=!0):_=t.Velocity.Utilities,m<=8&&!h)throw new Error("Velocity: IE8 and below require jQuery to be loaded before Velocity.");if(m<=7)return void(jQuery.fn.velocity=jQuery.fn.animate);var j=400,g="swing",w={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\.3\.[3-7]/i.test(navigator.userAgent),isChrome:t.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:r.createElement("div"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[],delayedElements:{count:0}},CSS:{},Utilities:_,Redirects:{},Easings:{},Promise:t.Promise,defaults:{queue:"",duration:j,easing:g,begin:n,complete:n,progress:n,display:n,visibility:n,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0,promiseRejectEmpty:!0},init:function(e){_.data(e,"velocity",{isSVG:b.isSVG(e),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:4,patch:0},debug:!1,timestamp:!0,pauseAll:function(e){var t=(new Date).getTime();_.each(w.State.calls,(function(t,r){if(r){if(e!==n&&(r[2].queue!==e||r[2].queue===!1))return!0;r[5]={resume:!1}}})),_.each(w.State.delayedElements,(function(e,r){r&&a(r,t)}))},resumeAll:function(e){var t=(new Date).getTime();_.each(w.State.calls,(function(t,r){if(r){if(e!==n&&(r[2].queue!==e||r[2].queue===!1))return!0;r[5]&&(r[5].resume=!0)}})),_.each(w.State.delayedElements,(function(e,r){r&&l(r,t)}))}};t.pageYOffset!==n?(w.State.scrollAnchor=t,w.State.scrollPropertyLeft="pageXOffset",w.State.scrollPropertyTop="pageYOffset"):(w.State.scrollAnchor=r.documentElement||r.body.parentNode||r.body,w.State.scrollPropertyLeft="scrollLeft",w.State.scrollPropertyTop="scrollTop");var O=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var o={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:o.v,dv:e(o)}}function r(r,n){var o={dx:r.v,dv:e(r)},s=t(r,.5*n,o),i=t(r,.5*n,s),a=t(r,n,i),l=1/6*(o.dx+2*(s.dx+i.dx)+a.dx),u=1/6*(o.dv+2*(s.dv+i.dv)+a.dv);return r.x=r.x+l*n,r.v=r.v+u*n,r}return function e(t,n,o){var s,i,a,l={x:-1,v:0,tension:null,friction:null},u=[0],c=0,f=1e-4,d=.016;for(t=parseFloat(t)||500,n=parseFloat(n)||20,o=o||null,l.tension=t,l.friction=n,s=null!==o,s?(c=e(t,n),i=c/o*d):i=d;;)if(a=r(a||l,i),u.push(1+a.x),c+=16,!(Math.abs(a.x)>f&&Math.abs(a.v)>f))break;return s?function(e){return u[e*(u.length-1)|0]}:c}}();w.Easings={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},spring:function(e){return 1-Math.cos(4.5*e*Math.PI)*Math.exp(6*-e)}},_.each([["ease",[.25,.1,.25,1]],["ease-in",[.42,0,1,1]],["ease-out",[0,0,.58,1]],["ease-in-out",[.42,0,.58,1]],["easeInSine",[.47,0,.745,.715]],["easeOutSine",[.39,.575,.565,1]],["easeInOutSine",[.445,.05,.55,.95]],["easeInQuad",[.55,.085,.68,.53]],["easeOutQuad",[.25,.46,.45,.94]],["easeInOutQuad",[.455,.03,.515,.955]],["easeInCubic",[.55,.055,.675,.19]],["easeOutCubic",[.215,.61,.355,1]],["easeInOutCubic",[.645,.045,.355,1]],["easeInQuart",[.895,.03,.685,.22]],["easeOutQuart",[.165,.84,.44,1]],["easeInOutQuart",[.77,0,.175,1]],["easeInQuint",[.755,.05,.855,.06]],["easeOutQuint",[.23,1,.32,1]],["easeInOutQuint",[.86,0,.07,1]],["easeInExpo",[.95,.05,.795,.035]],["easeOutExpo",[.19,1,.22,1]],["easeInOutExpo",[1,0,0,1]],["easeInCirc",[.6,.04,.98,.335]],["easeOutCirc",[.075,.82,.165,1]],["easeInOutCirc",[.785,.135,.15,.86]]],(function(e,t){w.Easings[t[0]]=c.apply(null,t[1])}));var S=w.CSS={RegEx:{isHex:/^#([A-f\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\((.*)\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\(.+\))|(([A-z0-9#-.]+?)(?=\s|$))/gi},Lists:{colors:["fill","stroke","stopColor","color","backgroundColor","borderColor","borderTopColor","borderRightColor","borderBottomColor","borderLeftColor","outlineColor"],transformsBase:["translateX","translateY","scale","scaleX","scaleY","skewX","skewY","rotateZ"],transforms3D:["transformPerspective","translateZ","scaleZ","rotateX","rotateY"],units:["%","em","ex","ch","rem","vw","vh","vmin","vmax","cm","mm","Q","in","pc","pt","px","deg","grad","rad","turn","s","ms"],colorNames:{aliceblue:"240,248,255",antiquewhite:"250,235,215",aquamarine:"127,255,212",aqua:"0,255,255",azure:"240,255,255",beige:"245,245,220",bisque:"255,228,196",black:"0,0,0",blanchedalmond:"255,235,205",blueviolet:"138,43,226",blue:"0,0,255",brown:"165,42,42",burlywood:"222,184,135",cadetblue:"95,158,160",chartreuse:"127,255,0",chocolate:"210,105,30",coral:"255,127,80",cornflowerblue:"100,149,237",cornsilk:"255,248,220",crimson:"220,20,60",cyan:"0,255,255",darkblue:"0,0,139",darkcyan:"0,139,139",darkgoldenrod:"184,134,11",darkgray:"169,169,169",darkgrey:"169,169,169",darkgreen:"0,100,0",darkkhaki:"189,183,107",darkmagenta:"139,0,139",darkolivegreen:"85,107,47",darkorange:"255,140,0",darkorchid:"153,50,204",darkred:"139,0,0",darksalmon:"233,150,122",darkseagreen:"143,188,143",darkslateblue:"72,61,139",darkslategray:"47,79,79",darkturquoise:"0,206,209",darkviolet:"148,0,211",deeppink:"255,20,147",deepskyblue:"0,191,255",dimgray:"105,105,105",dimgrey:"105,105,105",dodgerblue:"30,144,255",firebrick:"178,34,34",floralwhite:"255,250,240",forestgreen:"34,139,34",fuchsia:"255,0,255",gainsboro:"220,220,220",ghostwhite:"248,248,255",gold:"255,215,0",goldenrod:"218,165,32",gray:"128,128,128",grey:"128,128,128",greenyellow:"173,255,47",green:"0,128,0",honeydew:"240,255,240",hotpink:"255,105,180",indianred:"205,92,92",indigo:"75,0,130",ivory:"255,255,240",khaki:"240,230,140",lavenderblush:"255,240,245",lavender:"230,230,250",lawngreen:"124,252,0",lemonchiffon:"255,250,205",lightblue:"173,216,230",lightcoral:"240,128,128",lightcyan:"224,255,255",lightgoldenrodyellow:"250,250,210",lightgray:"211,211,211",lightgrey:"211,211,211",lightgreen:"144,238,144",lightpink:"255,182,193",lightsalmon:"255,160,122",lightseagreen:"32,178,170",lightskyblue:"135,206,250",lightslategray:"119,136,153",lightsteelblue:"176,196,222",lightyellow:"255,255,224",limegreen:"50,205,50",lime:"0,255,0",linen:"250,240,230",magenta:"255,0,255",maroon:"128,0,0",mediumaquamarine:"102,205,170",mediumblue:"0,0,205",mediumorchid:"186,85,211",mediumpurple:"147,112,219",mediumseagreen:"60,179,113",mediumslateblue:"123,104,238",mediumspringgreen:"0,250,154",mediumturquoise:"72,209,204",mediumvioletred:"199,21,133",midnightblue:"25,25,112",mintcream:"245,255,250",mistyrose:"255,228,225",moccasin:"255,228,181",navajowhite:"255,222,173",navy:"0,0,128",oldlace:"253,245,230",olivedrab:"107,142,35",olive:"128,128,0",orangered:"255,69,0",orange:"255,165,0",orchid:"218,112,214",palegoldenrod:"238,232,170",palegreen:"152,251,152",paleturquoise:"175,238,238",palevioletred:"219,112,147",papayawhip:"255,239,213",peachpuff:"255,218,185",peru:"205,133,63",pink:"255,192,203",plum:"221,160,221",powderblue:"176,224,230",purple:"128,0,128",red:"255,0,0",rosybrown:"188,143,143",royalblue:"65,105,225",saddlebrown:"139,69,19",salmon:"250,128,114",sandybrown:"244,164,96",seagreen:"46,139,87",seashell:"255,245,238",sienna:"160,82,45",silver:"192,192,192",skyblue:"135,206,235",slateblue:"106,90,205",slategray:"112,128,144",snow:"255,250,250",springgreen:"0,255,127",steelblue:"70,130,180",tan:"210,180,140",teal:"0,128,128",thistle:"216,191,216",tomato:"255,99,71",turquoise:"64,224,208",violet:"238,130,238",wheat:"245,222,179",whitesmoke:"245,245,245",white:"255,255,255",yellowgreen:"154,205,50",yellow:"255,255,0"}},Hooks:{templates:{textShadow:["Color X Y Blur","black 0px 0px 0px"],boxShadow:["Color X Y Blur Spread","black 0px 0px 0px 0px"],clip:["Top Right Bottom Left","0px 0px 0px 0px"],backgroundPosition:["X Y","0% 0%"],transformOrigin:["X Y Z","50% 50% 0px"],perspectiveOrigin:["X Y","50% 50%"]},registered:{},register:function(){for(var e=0;e<S.Lists.colors.length;e++){var t="color"===S.Lists.colors[e]?"0 0 0 1":"255 255 255 1";S.Hooks.templates[S.Lists.colors[e]]=["Red Green Blue Alpha",t]}var r,n,o;if(m)for(r in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(r)){n=S.Hooks.templates[r],o=n[0].split(" ");var s=n[1].match(S.RegEx.valueSplit);"Color"===o[0]&&(o.push(o.shift()),s.push(s.shift()),S.Hooks.templates[r]=[o.join(" "),s.join(" ")])}for(r in S.Hooks.templates)if(S.Hooks.templates.hasOwnProperty(r)){n=S.Hooks.templates[r],o=n[0].split(" ");for(var i in o)if(o.hasOwnProperty(i)){var a=r+o[i],l=i;S.Hooks.registered[a]=[r,l]}}},getRoot:function(e){var t=S.Hooks.registered[e];return t?t[0]:e},getUnit:function(e,t){var r=(e.substr(t||0,5).match(/^[a-z%]+/)||[])[0]||"";return r&&S.Lists.units.indexOf(r)>=0?r:""},fixColors:function(e){return e.replace(/(rgba?\(\s*)?(\b[a-z]+\b)/g,(function(e,t,r){return S.Lists.colorNames.hasOwnProperty(r)?(t?t:"rgba(")+S.Lists.colorNames[r]+(t?"":",1)"):t+r}))},cleanRootPropertyValue:function(e,t){return S.RegEx.valueUnwrap.test(t)&&(t=t.match(S.RegEx.valueUnwrap)[1]),S.Values.isCSSNullValue(t)&&(t=S.Hooks.templates[e][1]),t},extractValue:function(e,t){var r=S.Hooks.registered[e];if(r){var n=r[0],o=r[1];return t=S.Hooks.cleanRootPropertyValue(n,t),t.toString().match(S.RegEx.valueSplit)[o]}return t},injectValue:function(e,t,r){var n=S.Hooks.registered[e];if(n){var o,s,i=n[0],a=n[1];return r=S.Hooks.cleanRootPropertyValue(i,r),o=r.toString().match(S.RegEx.valueSplit),o[a]=t,s=o.join(" ")}return r}},Normalizations:{registered:{clip:function(e,t,r){switch(e){case"name":return"clip";case"extract":var n;return S.RegEx.wrappedValueAlreadyExtracted.test(r)?n=r:(n=r.toString().match(S.RegEx.valueUnwrap),n=n?n[1].replace(/,(\s+)?/g," "):r),n;case"inject":return"rect("+r+")"}},blur:function(e,t,r){switch(e){case"name":return w.State.isFirefox?"filter":"-webkit-filter";case"extract":var n=parseFloat(r);if(!n&&0!==n){var o=r.toString().match(/blur\(([0-9]+[A-z]+)\)/i);n=o?o[1]:0}return n;case"inject":return parseFloat(r)?"blur("+r+")":"none"}},opacity:function(e,t,r){if(m<=8)switch(e){case"name":return"filter";case"extract":var n=r.toString().match(/alpha\(opacity=(.*)\)/i);return r=n?n[1]/100:1;case"inject":return t.style.zoom=1,parseFloat(r)>=1?"":"alpha(opacity="+parseInt(100*parseFloat(r),10)+")"}else switch(e){case"name":return"opacity";case"extract":return r;case"inject":return r}}},register:function(){function e(e,t,r){var n="border-box"===S.getPropertyValue(t,"boxSizing").toString().toLowerCase();if(n===(r||!1)){var o,s,i=0,a="width"===e?["Left","Right"]:["Top","Bottom"],l=["padding"+a[0],"padding"+a[1],"border"+a[0]+"Width","border"+a[1]+"Width"];for(o=0;o<l.length;o++)s=parseFloat(S.getPropertyValue(t,l[o])),isNaN(s)||(i+=s);return r?-i:i}return 0}function t(t,r){return function(n,o,s){switch(n){case"name":return t;case"extract":return parseFloat(s)+e(t,o,r);case"inject":return parseFloat(s)-e(t,o,r)+"px"}}}m&&!(m>9)||w.State.isGingerbread||(S.Lists.transformsBase=S.Lists.transformsBase.concat(S.Lists.transforms3D));for(var r=0;r<S.Lists.transformsBase.length;r++)!function(){var e=S.Lists.transformsBase[r];S.Normalizations.registered[e]=function(t,r,o){switch(t){case"name":return"transform";case"extract":return i(r)===n||i(r).transformCache[e]===n?/^scale/i.test(e)?1:0:i(r).transformCache[e].replace(/[()]/g,"");case"inject":var s=!1;switch(e.substr(0,e.length-1)){case"translate":s=!/(%|px|em|rem|vw|vh|\d)$/i.test(o);break;case"scal":case"scale":w.State.isAndroid&&i(r).transformCache[e]===n&&o<1&&(o=1),s=!/(\d)$/i.test(o);break;case"skew":s=!/(deg|\d)$/i.test(o);break;case"rotate":s=!/(deg|\d)$/i.test(o)}return s||(i(r).transformCache[e]="("+o+")"),i(r).transformCache[e]}}}();for(var o=0;o<S.Lists.colors.length;o++)!function(){var e=S.Lists.colors[o];S.Normalizations.registered[e]=function(t,r,o){switch(t){case"name":return e;case"extract":var s;if(S.RegEx.wrappedValueAlreadyExtracted.test(o))s=o;else{var i,a={black:"rgb(0, 0, 0)",blue:"rgb(0, 0, 255)",gray:"rgb(128, 128, 128)",green:"rgb(0, 128, 0)",red:"rgb(255, 0, 0)",white:"rgb(255, 255, 255)"};/^[A-z]+$/i.test(o)?i=a[o]!==n?a[o]:a.black:S.RegEx.isHex.test(o)?i="rgb("+S.Values.hexToRgb(o).join(" ")+")":/^rgba?\(/i.test(o)||(i=a.black),s=(i||o).toString().match(S.RegEx.valueUnwrap)[1].replace(/,(\s+)?/g," ")}return(!m||m>8)&&3===s.split(" ").length&&(s+=" 1"),s;case"inject":return/^rgb/.test(o)?o:(m<=8?4===o.split(" ").length&&(o=o.split(/\s+/).slice(0,3).join(" ")):3===o.split(" ").length&&(o+=" 1"),(m<=8?"rgb":"rgba")+"("+o.replace(/\s+/g,",").replace(/\.(\d)+(?=,)/g,"")+")")}}}();S.Normalizations.registered.innerWidth=t("width",!0),S.Normalizations.registered.innerHeight=t("height",!0),S.Normalizations.registered.outerWidth=t("width"),S.Normalizations.registered.outerHeight=t("height")}},Names:{camelCase:function(e){return e.replace(/-(\w)/g,(function(e,t){return t.toUpperCase()}))},SVGAttribute:function(e){var t="width|height|x|y|cx|cy|r|rx|ry|x1|x2|y1|y2";return(m||w.State.isAndroid&&!w.State.isChrome)&&(t+="|transform"),new RegExp("^("+t+")$","i").test(e)},prefixCheck:function(e){if(w.State.prefixMatches[e])return[w.State.prefixMatches[e],!0];for(var t=["","Webkit","Moz","ms","O"],r=0,n=t.length;r<n;r++){var o;if(o=0===r?e:t[r]+e.replace(/^\w/,(function(e){return e.toUpperCase()})),b.isString(w.State.prefixElement.style[o]))return w.State.prefixMatches[e]=o,[o,!0]}return[e,!1]}},Values:{hexToRgb:function(e){var t,r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;return e=e.replace(r,(function(e,t,r,n){return t+t+r+r+n+n})),t=n.exec(e),t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:[0,0,0]},isCSSNullValue:function(e){return!e||/^(none|auto|transparent|(rgba\(0, ?0, ?0, ?0\)))$/i.test(e)},getUnitType:function(e){return/^(rotate|skew)/i.test(e)?"deg":/(^(scale|scaleX|scaleY|scaleZ|alpha|flexGrow|flexHeight|zIndex|fontWeight)$)|((opacity|red|green|blue|alpha)$)/i.test(e)?"":"px"},getDisplayType:function(e){var t=e&&e.tagName.toString().toLowerCase();return/^(b|big|i|small|tt|abbr|acronym|cite|code|dfn|em|kbd|strong|samp|var|a|bdo|br|img|map|object|q|script|span|sub|sup|button|input|label|select|textarea)$/i.test(t)?"inline":/^(li)$/i.test(t)?"list-item":/^(tr)$/i.test(t)?"table-row":/^(table)$/i.test(t)?"table":/^(tbody)$/i.test(t)?"table-row-group":"block"},addClass:function(e,t){if(e)if(e.classList)e.classList.add(t);else if(b.isString(e.className))e.className+=(e.className.length?" ":"")+t;else{var r=e.getAttribute(m<=7?"className":"class")||"";e.setAttribute("class",r+(r?" ":"")+t)}},removeClass:function(e,t){if(e)if(e.classList)e.classList.remove(t);else if(b.isString(e.className))e.className=e.className.toString().replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," ");else{var r=e.getAttribute(m<=7?"className":"class")||"";e.setAttribute("class",r.replace(new RegExp("(^|s)"+t.split(" ").join("|")+"(s|$)","gi")," "))}}},getPropertyValue:function(e,r,o,s){function a(e,r){var o=0;if(m<=8)o=_.css(e,r);else{var l=!1;/^(width|height)$/.test(r)&&0===S.getPropertyValue(e,"display")&&(l=!0,S.setPropertyValue(e,"display",S.Values.getDisplayType(e)));var u=function(){l&&S.setPropertyValue(e,"display","none")};if(!s){if("height"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var c=e.offsetHeight-(parseFloat(S.getPropertyValue(e,"borderTopWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderBottomWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingTop"))||0)-(parseFloat(S.getPropertyValue(e,"paddingBottom"))||0);return u(),c}if("width"===r&&"border-box"!==S.getPropertyValue(e,"boxSizing").toString().toLowerCase()){var f=e.offsetWidth-(parseFloat(S.getPropertyValue(e,"borderLeftWidth"))||0)-(parseFloat(S.getPropertyValue(e,"borderRightWidth"))||0)-(parseFloat(S.getPropertyValue(e,"paddingLeft"))||0)-(parseFloat(S.getPropertyValue(e,"paddingRight"))||0);return u(),f}}var d;d=i(e)===n?t.getComputedStyle(e,null):i(e).computedStyle?i(e).computedStyle:i(e).computedStyle=t.getComputedStyle(e,null),"borderColor"===r&&(r="borderTopColor"),o=9===m&&"filter"===r?d.getPropertyValue(r):d[r],""!==o&&null!==o||(o=e.style[r]),u()}if("auto"===o&&/^(top|right|bottom|left)$/i.test(r)){var p=a(e,"position");("fixed"===p||"absolute"===p&&/top|left/i.test(r))&&(o=_(e).position()[r]+"px")}return o}var l;if(S.Hooks.registered[r]){var u=r,c=S.Hooks.getRoot(u);o===n&&(o=S.getPropertyValue(e,S.Names.prefixCheck(c)[0])),S.Normalizations.registered[c]&&(o=S.Normalizations.registered[c]("extract",e,o)),l=S.Hooks.extractValue(u,o)}else if(S.Normalizations.registered[r]){var f,d;f=S.Normalizations.registered[r]("name",e),"transform"!==f&&(d=a(e,S.Names.prefixCheck(f)[0]),S.Values.isCSSNullValue(d)&&S.Hooks.templates[r]&&(d=S.Hooks.templates[r][1])),l=S.Normalizations.registered[r]("extract",e,d)}if(!/^[\d-]/.test(l)){var p=i(e);if(p&&p.isSVG&&S.Names.SVGAttribute(r)){if(/^(height|width)$/i.test(r))try{l=e.getBBox()[r]}catch(e){l=0}else l=e.getAttribute(r)}else l=a(e,S.Names.prefixCheck(r)[0])}return S.Values.isCSSNullValue(l)&&(l=0),w.debug>=2&&console.log("Get "+r+": "+l),l},setPropertyValue:function(e,r,n,o,s){var a=r;if("scroll"===r)s.container?s.container["scroll"+s.direction]=n:"Left"===s.direction?t.scrollTo(n,s.alternateValue):t.scrollTo(s.alternateValue,n);else if(S.Normalizations.registered[r]&&"transform"===S.Normalizations.registered[r]("name",e))S.Normalizations.registered[r]("inject",e,n),a="transform",n=i(e).transformCache[r];else{if(S.Hooks.registered[r]){var l=r,u=S.Hooks.getRoot(r);o=o||S.getPropertyValue(e,u),n=S.Hooks.injectValue(l,n,o),r=u}if(S.Normalizations.registered[r]&&(n=S.Normalizations.registered[r]("inject",e,n),r=S.Normalizations.registered[r]("name",e)),a=S.Names.prefixCheck(r)[0],m<=8)try{e.style[a]=n}catch(e){w.debug&&console.log("Browser does not support ["+n+"] for ["+a+"]")}else{var c=i(e);c&&c.isSVG&&S.Names.SVGAttribute(r)?e.setAttribute(r,n):e.style[a]=n}w.debug>=2&&console.log("Set "+r+" ("+a+"): "+n)}return[a,n]},flushTransformCache:function(e){var t="",r=i(e);if((m||w.State.isAndroid&&!w.State.isChrome)&&r&&r.isSVG){var n=function(t){return parseFloat(S.getPropertyValue(e,t))},o={translate:[n("translateX"),n("translateY")],skewX:[n("skewX")],skewY:[n("skewY")],scale:1!==n("scale")?[n("scale"),n("scale")]:[n("scaleX"),n("scaleY")],rotate:[n("rotateZ"),0,0]};_.each(i(e).transformCache,(function(e){/^translate/i.test(e)?e="translate":/^scale/i.test(e)?e="scale":/^rotate/i.test(e)&&(e="rotate"),o[e]&&(t+=e+"("+o[e].join(" ")+") ",delete o[e])}))}else{var s,a;_.each(i(e).transformCache,(function(r){return s=i(e).transformCache[r],"transformPerspective"===r?(a=s,!0):(9===m&&"rotateZ"===r&&(r="rotate"),void(t+=r+s+" "))})),a&&(t="perspective"+a+" "+t)}S.setPropertyValue(e,"transform",t)}};S.Hooks.register(),S.Normalizations.register(),w.hook=function(e,t,r){var o;return e=s(e),_.each(e,(function(e,s){if(i(s)===n&&w.init(s),r===n)o===n&&(o=S.getPropertyValue(s,t));else{var a=S.setPropertyValue(s,t,r);"transform"===a[0]&&w.CSS.flushTransformCache(s),o=a}})),o};var k=function(){function e(){return c?A.promise||null:m}function o(e,o){function s(s){var c,p;if(l.begin&&0===x)try{l.begin.call(v,v)}catch(e){setTimeout((function(){throw e}),1)}if("scroll"===T){var m,y,j,O=/^x$/i.test(l.axis)?"Left":"Top",k=parseFloat(l.offset)||0;l.container?b.isWrapped(l.container)||b.isNode(l.container)?(l.container=l.container[0]||l.container,m=l.container["scroll"+O],j=m+_(e).position()[O.toLowerCase()]+k):l.container=null:(m=w.State.scrollAnchor[w.State["scrollProperty"+O]],y=w.State.scrollAnchor[w.State["scrollProperty"+("Left"===O?"Top":"Left")]],j=_(e).offset()[O.toLowerCase()]+k),u={scroll:{rootPropertyValue:!1,startValue:m,currentValue:m,endValue:j,unitType:"",easing:l.easing,scrollData:{container:l.container,direction:O,alternateValue:y}},element:e},w.debug&&console.log("tweensContainer (scroll): ",u.scroll,e)}else if("reverse"===T){if(c=i(e),!c)return;if(!c.tweensContainer)return void _.dequeue(e,l.queue);"none"===c.opts.display&&(c.opts.display="auto"),"hidden"===c.opts.visibility&&(c.opts.visibility="visible"),c.opts.loop=!1,c.opts.begin=null,c.opts.complete=null,g.easing||delete l.easing,g.duration||delete l.duration,l=_.extend({},c.opts,l),p=_.extend(!0,{},c?c.tweensContainer:null);for(var M in p)if(p.hasOwnProperty(M)&&"element"!==M){var P=p[M].startValue;p[M].startValue=p[M].currentValue=p[M].endValue,p[M].endValue=P,b.isEmptyObject(g)||(p[M].easing=l.easing),w.debug&&console.log("reverse tweensContainer ("+M+"): "+JSON.stringify(p[M]),e)}u=p}else if("start"===T){c=i(e),c&&c.tweensContainer&&c.isAnimating===!0&&(p=c.tweensContainer);var I=function(t,r){var n,s,i;return b.isFunction(t)&&(t=t.call(e,o,E)),b.isArray(t)?(n=t[0],!b.isArray(t[1])&&/^[\d-]/.test(t[1])||b.isFunction(t[1])||S.RegEx.isHex.test(t[1])?i=t[1]:b.isString(t[1])&&!S.RegEx.isHex.test(t[1])&&w.Easings[t[1]]||b.isArray(t[1])?(s=r?t[1]:f(t[1],l.duration),i=t[2]):i=t[1]||t[2]):n=t,r||(s=s||l.easing),b.isFunction(n)&&(n=n.call(e,o,E)),b.isFunction(i)&&(i=i.call(e,o,E)),[n||0,s,i]},C=function(o,s){var i,f=S.Hooks.getRoot(o),d=!1,m=s[0],y=s[1],v=s[2];if(!(c&&c.isSVG||"tween"===f||S.Names.prefixCheck(f)[1]!==!1||S.Normalizations.registered[f]!==n))return void(w.debug&&console.log("Skipping ["+f+"] due to a lack of browser support."));(l.display!==n&&null!==l.display&&"none"!==l.display||l.visibility!==n&&"hidden"!==l.visibility)&&/opacity|filter/.test(o)&&!v&&0!==m&&(v=0),l._cacheValues&&p&&p[o]?(v===n&&(v=p[o].endValue+p[o].unitType),d=c.rootPropertyValueCache[f]):S.Hooks.registered[o]?v===n?(d=S.getPropertyValue(e,f),v=S.getPropertyValue(e,o,d)):d=S.Hooks.templates[f][1]:v===n&&(v=S.getPropertyValue(e,o));var h,j,g,O=!1,k=function(e,t){var r,n;return n=(t||"0").toString().toLowerCase().replace(/[%A-z]+$/,(function(e){return r=e,""})),r||(r=S.Values.getUnitType(e)),[n,r]};if(v!==m&&b.isString(v)&&b.isString(m)){i="";var A=0,E=0,x=[],M=[],P=0,T=0,I=0;for(v=S.Hooks.fixColors(v),m=S.Hooks.fixColors(m);A<v.length&&E<m.length;){var C=v[A],R=m[E];if(/[\d\.]/.test(C)&&/[\d\.]/.test(R)){for(var N=C,L=R,D=".",q=".";++A<v.length;){if(C=v[A],C===D)D="..";else if(!/\d/.test(C))break;N+=C}for(;++E<m.length;){if(R=m[E],R===q)q="..";else if(!/\d/.test(R))break;L+=R}var B=S.Hooks.getUnit(v,A),U=S.Hooks.getUnit(m,E);if(A+=B.length,E+=U.length,B===U)N===L?i+=N+B:(i+="{"+x.length+(T?"!":"")+"}"+B,x.push(parseFloat(N)),M.push(parseFloat(L)));else{var W=parseFloat(N),F=parseFloat(L);i+=(P<5?"calc":"")+"("+(W?"{"+x.length+(T?"!":"")+"}":"0")+B+" + "+(F?"{"+(x.length+1)+(T?"!":"")+"}":"0")+U+")",W&&(x.push(parseFloat(N)),x.push(parseFloat(0))),F&&(M.push(parseFloat(0)),M.push(parseFloat(L)))}}else{if(C!==R){P=0;break}i+=C,A++,E++,0===P&&"c"===C||1===P&&"a"===C||2===P&&"l"===C||3===P&&"c"===C||P>=4&&"("===C?P++:(P&&P<5||P>=4&&")"===C&&--P<5)&&(P=0),0===T&&"r"===C||1===T&&"g"===C||2===T&&"b"===C||3===T&&"a"===C||T>=3&&"("===C?(3===T&&"a"===C&&(I=1),T++):I&&","===C?++I>3&&(T=I=0):(I&&T<(I?5:4)||T>=(I?4:3)&&")"===C&&--T<(I?5:4))&&(T=I=0)}}A===v.length&&E===m.length||(w.debug&&console.error('Trying to pattern match mis-matched strings ["'+m+'", "'+v+'"]'),i=n),i&&(x.length?(w.debug&&console.log('Pattern found "'+i+'" -> ',x,M,"["+v+","+m+"]"),v=x,m=M,j=g=""):i=n)}i||(h=k(o,v),v=h[0],g=h[1],h=k(o,m),m=h[0].replace(/^([+-\/*])=/,(function(e,t){return O=t,""})),j=h[1],v=parseFloat(v)||0,m=parseFloat(m)||0,"%"===j&&(/^(fontSize|lineHeight)$/.test(o)?(m/=100,j="em"):/^scale/.test(o)?(m/=100,j=""):/(Red|Green|Blue)$/i.test(o)&&(m=m/100*255,j="")));var G=function(){var n={myParent:e.parentNode||r.body,position:S.getPropertyValue(e,"position"),fontSize:S.getPropertyValue(e,"fontSize")},o=n.position===z.lastPosition&&n.myParent===z.lastParent,s=n.fontSize===z.lastFontSize;z.lastParent=n.myParent,z.lastPosition=n.position,z.lastFontSize=n.fontSize;var i=100,a={};if(s&&o)a.emToPx=z.lastEmToPx,a.percentToPxWidth=z.lastPercentToPxWidth,a.percentToPxHeight=z.lastPercentToPxHeight;else{var l=c&&c.isSVG?r.createElementNS("http://www.w3.org/2000/svg","rect"):r.createElement("div");w.init(l),n.myParent.appendChild(l),_.each(["overflow","overflowX","overflowY"],(function(e,t){w.CSS.setPropertyValue(l,t,"hidden")})),w.CSS.setPropertyValue(l,"position",n.position),w.CSS.setPropertyValue(l,"fontSize",n.fontSize),w.CSS.setPropertyValue(l,"boxSizing","content-box"),_.each(["minWidth","maxWidth","width","minHeight","maxHeight","height"],(function(e,t){w.CSS.setPropertyValue(l,t,i+"%")})),w.CSS.setPropertyValue(l,"paddingLeft",i+"em"),a.percentToPxWidth=z.lastPercentToPxWidth=(parseFloat(S.getPropertyValue(l,"width",null,!0))||1)/i,a.percentToPxHeight=z.lastPercentToPxHeight=(parseFloat(S.getPropertyValue(l,"height",null,!0))||1)/i,a.emToPx=z.lastEmToPx=(parseFloat(S.getPropertyValue(l,"paddingLeft"))||1)/i,n.myParent.removeChild(l)}return null===z.remToPx&&(z.remToPx=parseFloat(S.getPropertyValue(r.body,"fontSize"))||16),null===z.vwToPx&&(z.vwToPx=parseFloat(t.innerWidth)/100,z.vhToPx=parseFloat(t.innerHeight)/100),a.remToPx=z.remToPx,a.vwToPx=z.vwToPx,a.vhToPx=z.vhToPx,w.debug>=1&&console.log("Unit ratios: "+JSON.stringify(a),e),a};if(/[\/*]/.test(O))j=g;else if(g!==j&&0!==v)if(0===m)j=g;else{a=a||G();var X=/margin|padding|left|right|width|text|word|letter/i.test(o)||/X$/.test(o)||"x"===o?"x":"y";switch(g){case"%":v*="x"===X?a.percentToPxWidth:a.percentToPxHeight;break;case"px":break;default:v*=a[g+"ToPx"]}switch(j){case"%":v*=1/("x"===X?a.percentToPxWidth:a.percentToPxHeight);break;case"px":break;default:v*=1/a[j+"ToPx"]}}switch(O){case"+":m=v+m;break;case"-":m=v-m;break;case"*":m=v*m;break;case"/":m=v/m}u[o]={rootPropertyValue:d,startValue:v,currentValue:v,endValue:m,unitType:j,easing:y},i&&(u[o].pattern=i),w.debug&&console.log("tweensContainer ("+o+"): "+JSON.stringify(u[o]),e)};for(var R in h)if(h.hasOwnProperty(R)){var N=S.Names.camelCase(R),L=I(h[R]);if(S.Lists.colors.indexOf(N)>=0){var q=L[0],B=L[1],U=L[2];if(S.RegEx.isHex.test(q)){for(var W=["Red","Green","Blue"],F=S.Values.hexToRgb(q),G=U?S.Values.hexToRgb(U):n,X=0;X<W.length;X++){var $=[F[X]];B&&$.push(B),G!==n&&$.push(G[X]),C(N+W[X],$)}continue}}C(N,L)}u.element=e}u.element&&(S.Values.addClass(e,"velocity-animating"),D.push(u),c=i(e),c&&(""===l.queue&&(c.tweensContainer=u,c.opts=l),c.isAnimating=!0),x===E-1?(w.State.calls.push([D,v,l,null,A.resolver,null,0]),w.State.isTicking===!1&&(w.State.isTicking=!0,d())):x++)}var a,l=_.extend({},w.defaults,g),u={};switch(i(e)===n&&w.init(e),parseFloat(l.delay)&&l.queue!==!1&&_.queue(e,l.queue,(function(t){w.velocityQueueEntryFlag=!0;var r=w.State.delayedElements.count++;w.State.delayedElements[r]=e;var n=function(e){return function(){w.State.delayedElements[e]=!1,t()}}(r);i(e).delayBegin=(new Date).getTime(),i(e).delay=parseFloat(l.delay),i(e).delayTimer={setTimeout:setTimeout(t,parseFloat(l.delay)),next:n}})),l.duration.toString().toLowerCase()){case"fast":l.duration=200;break;case"normal":l.duration=j;break;case"slow":l.duration=600;break;default:l.duration=parseFloat(l.duration)||1}if(w.mock!==!1&&(w.mock===!0?l.duration=l.delay=1:(l.duration*=parseFloat(w.mock)||1,l.delay*=parseFloat(w.mock)||1)),l.easing=f(l.easing,l.duration),l.begin&&!b.isFunction(l.begin)&&(l.begin=null),l.progress&&!b.isFunction(l.progress)&&(l.progress=null),l.complete&&!b.isFunction(l.complete)&&(l.complete=null),l.display!==n&&null!==l.display&&(l.display=l.display.toString().toLowerCase(),"auto"===l.display&&(l.display=w.CSS.Values.getDisplayType(e))),l.visibility!==n&&null!==l.visibility&&(l.visibility=l.visibility.toString().toLowerCase()),l.mobileHA=l.mobileHA&&w.State.isMobile&&!w.State.isGingerbread,l.queue===!1){if(l.delay){var c=w.State.delayedElements.count++;w.State.delayedElements[c]=e;var p=function(e){return function(){w.State.delayedElements[e]=!1,s()}}(c);i(e).delayBegin=(new Date).getTime(),i(e).delay=parseFloat(l.delay),i(e).delayTimer={setTimeout:setTimeout(s,parseFloat(l.delay)),next:p}}else s()}else _.queue(e,l.queue,(function(e,t){return t===!0?(A.promise&&A.resolver(v),!0):(w.velocityQueueEntryFlag=!0,void s(e))}));""!==l.queue&&"fx"!==l.queue||"inprogress"===_.queue(e)[0]||_.dequeue(e)}var u,c,m,y,v,h,g,O=arguments[0]&&(arguments[0].p||_.isPlainObject(arguments[0].properties)&&!arguments[0].properties.names||b.isString(arguments[0].properties));b.isWrapped(this)?(c=!1,y=0,v=this,m=this):(c=!0,y=1,v=O?arguments[0].elements||arguments[0].e:arguments[0]);var A={promise:null,resolver:null,rejecter:null};if(c&&w.Promise&&(A.promise=new w.Promise((function(e,t){A.resolver=e,A.rejecter=t}))),O?(h=arguments[0].properties||arguments[0].p,g=arguments[0].options||arguments[0].o):(h=arguments[y],g=arguments[y+1]),v=s(v),!v)return void(A.promise&&(h&&g&&g.promiseRejectEmpty===!1?A.resolver():A.rejecter()));var E=v.length,x=0;if(!/^(stop|finish|finishAll|pause|resume)$/i.test(h)&&!_.isPlainObject(g)){var M=y+1;g={};for(var P=M;P<arguments.length;P++)b.isArray(arguments[P])||!/^(fast|normal|slow)$/i.test(arguments[P])&&!/^\d/.test(arguments[P])?b.isString(arguments[P])||b.isArray(arguments[P])?g.easing=arguments[P]:b.isFunction(arguments[P])&&(g.complete=arguments[P]):g.duration=arguments[P]}var T;switch(h){case"scroll":T="scroll";break;case"reverse":T="reverse";break;case"pause":var I=(new Date).getTime();return _.each(v,(function(e,t){a(t,I)})),_.each(w.State.calls,(function(e,t){var r=!1;t&&_.each(t[1],(function(e,o){var s=g===n?"":g;return s!==!0&&t[2].queue!==s&&(g!==n||t[2].queue!==!1)||(_.each(v,(function(e,n){if(n===o)return t[5]={resume:!1},r=!0,!1})),!r&&void 0)}))})),e();case"resume":return _.each(v,(function(e,t){l(t,I)})),_.each(w.State.calls,(function(e,t){var r=!1;t&&_.each(t[1],(function(e,o){var s=g===n?"":g;return s!==!0&&t[2].queue!==s&&(g!==n||t[2].queue!==!1)||!t[5]||(_.each(v,(function(e,n){if(n===o)return t[5].resume=!0,r=!0,!1})),!r&&void 0)}))})),e();case"finish":case"finishAll":case"stop":_.each(v,(function(e,t){i(t)&&i(t).delayTimer&&(clearTimeout(i(t).delayTimer.setTimeout),i(t).delayTimer.next&&i(t).delayTimer.next(),delete i(t).delayTimer),"finishAll"!==h||g!==!0&&!b.isString(g)||(_.each(_.queue(t,b.isString(g)?g:""),(function(e,t){b.isFunction(t)&&t()})),_.queue(t,b.isString(g)?g:"",[]))}));var C=[];return _.each(w.State.calls,(function(e,t){t&&_.each(t[1],(function(r,o){var s=g===n?"":g;return s!==!0&&t[2].queue!==s&&(g!==n||t[2].queue!==!1)||void _.each(v,(function(r,n){if(n===o)if((g===!0||b.isString(g))&&(_.each(_.queue(n,b.isString(g)?g:""),(function(e,t){b.isFunction(t)&&t(null,!0)})),_.queue(n,b.isString(g)?g:"",[])),"stop"===h){var a=i(n);a&&a.tweensContainer&&s!==!1&&_.each(a.tweensContainer,(function(e,t){t.endValue=t.currentValue})),C.push(e)}else"finish"!==h&&"finishAll"!==h||(t[2].duration=1)}))}))})),"stop"===h&&(_.each(C,(function(e,t){p(t,!0)})),A.promise&&A.resolver(v)),e();default:if(!_.isPlainObject(h)||b.isEmptyObject(h)){if(b.isString(h)&&w.Redirects[h]){u=_.extend({},g);var R=u.duration,N=u.delay||0;return u.backwards===!0&&(v=_.extend(!0,[],v).reverse()),_.each(v,(function(e,t){parseFloat(u.stagger)?u.delay=N+parseFloat(u.stagger)*e:b.isFunction(u.stagger)&&(u.delay=N+u.stagger.call(t,e,E)),u.drag&&(u.duration=parseFloat(R)||(/^(callout|transition)/.test(h)?1e3:j),u.duration=Math.max(u.duration*(u.backwards?1-e/E:(e+1)/E),.75*u.duration,200)),w.Redirects[h].call(t,t,u||{},e,E,v,A.promise?A:n)})),e()}var L="Velocity: First argument ("+h+") was not a property map, a known action, or a registered redirect. Aborting.";return A.promise?A.rejecter(new Error(L)):console.log(L),e()}T="start"}var z={lastParent:null,lastPosition:null,lastFontSize:null,lastPercentToPxWidth:null,lastPercentToPxHeight:null,lastEmToPx:null,remToPx:null,vwToPx:null,vhToPx:null},D=[];_.each(v,(function(e,t){b.isNode(t)&&o(t,e)})),u=_.extend({},w.defaults,g),u.loop=parseInt(u.loop,10);var q=2*u.loop-1;if(u.loop)for(var B=0;B<q;B++){var U={delay:u.delay,progress:u.progress};B===q-1&&(U.display=u.display,U.visibility=u.visibility,U.complete=u.complete),k(v,"reverse",U)}return e()};w=_.extend(k,w),w.animate=k;var A=t.requestAnimationFrame||y;if(!w.State.isMobile&&r.hidden!==n){var E=function(){r.hidden?(A=function(e){return setTimeout((function(){e(!0)}),16)},d()):A=t.requestAnimationFrame||y};E(),r.addEventListener("visibilitychange",E)}return e.Velocity=w,e!==t&&(e.fn.velocity=k,e.fn.velocity.defaults=w.defaults),_.each(["Down","Up"],(function(e,t){w.Redirects["slide"+t]=function(e,r,o,s,i,a){var l=_.extend({},r),u=l.begin,c=l.complete,f={},d={height:"",marginTop:"",marginBottom:"",paddingTop:"",paddingBottom:""};l.display===n&&(l.display="Down"===t?"inline"===w.CSS.Values.getDisplayType(e)?"inline-block":"block":"none"),l.begin=function(){0===o&&u&&u.call(i,i);for(var r in d)if(d.hasOwnProperty(r)){f[r]=e.style[r];var n=S.getPropertyValue(e,r);d[r]="Down"===t?[n,0]:[0,n]}f.overflow=e.style.overflow,e.style.overflow="hidden"},l.complete=function(){for(var t in f)f.hasOwnProperty(t)&&(e.style[t]=f[t]);o===s-1&&(c&&c.call(i,i),a&&a.resolver(i))},w(e,d,l)}})),_.each(["In","Out"],(function(e,t){w.Redirects["fade"+t]=function(e,r,o,s,i,a){var l=_.extend({},r),u=l.complete,c={opacity:"In"===t?1:0};0!==o&&(l.begin=null),o!==s-1?l.complete=null:l.complete=function(){u&&u.call(i,i),a&&a.resolver(i)},l.display===n&&(l.display="In"===t?"auto":"none"),w(this,c,l)}})),w}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}))},{}],1304:[function(e,t,r){!function(n){"use strict";"function"==typeof e&&"object"==typeof r?t.exports=n():"function"==typeof define&&define.amd?define(["velocity"],n):n()}((function(){"use strict";return function(e,t,r,n){function o(e,t){var r=[];return!(!e||!t)&&(i.each([e,t],(function(e,t){var n=[];i.each(t,(function(e,t){for(;t.toString().length<5;)t="0"+t;n.push(t)})),r.push(n.join(""))})),parseFloat(r[0])>parseFloat(r[1]))}var s=e.Velocity;if(!s||!s.Utilities)return void(t.console&&console.log("Velocity UI Pack: Velocity must be loaded first. Aborting."));var i=s.Utilities,a=s.version,l={major:1,minor:1,patch:0};if(o(l,a)){var u="Velocity UI Pack: You need to update Velocity (velocity.js) to a newer version. Visit http://github.com/julianshapiro/velocity.";throw alert(u),new Error(u)}s.RegisterEffect=s.RegisterUI=function(e,t){function r(e,t,r,n){var o,a=0;i.each(e.nodeType?[e]:e,(function(e,t){n&&(r+=e*n),o=t.parentNode;var l=["height","paddingTop","paddingBottom","marginTop","marginBottom"];"border-box"===s.CSS.getPropertyValue(t,"boxSizing").toString().toLowerCase()&&(l=["height"]),i.each(l,(function(e,r){a+=parseFloat(s.CSS.getPropertyValue(t,r))}))})),s.animate(o,{height:("In"===t?"+":"-")+"="+a},{queue:!1,easing:"ease-in-out",duration:r*("In"===t?.6:1)})}return s.Redirects[e]=function(o,a,l,u,c,f,d){var p=l===u-1;d=d||t.loop,"function"==typeof t.defaultDuration?t.defaultDuration=t.defaultDuration.call(c,c):t.defaultDuration=parseFloat(t.defaultDuration);for(var _=0;_<t.calls.length;_++){var m=t.calls[_],y=m[0],v=1e3,b=m[1],h=m[2]||{},j={};if(a.duration!==n?v=a.duration:t.defaultDuration!==n&&(v=t.defaultDuration),j.duration=v*(b||1),j.queue=a.queue||"",j.easing=h.easing||"ease",j.delay=parseFloat(h.delay)||0,j.loop=!t.loop&&h.loop,j._cacheValues=h._cacheValues||!0,0===_){if(j.delay+=parseFloat(a.delay)||0,0===l&&(j.begin=function(){a.begin&&a.begin.call(c,c);var t=e.match(/(In|Out)$/);t&&"In"===t[0]&&y.opacity!==n&&i.each(c.nodeType?[c]:c,(function(e,t){s.CSS.setPropertyValue(t,"opacity",0)})),a.animateParentHeight&&t&&r(c,t[0],v+j.delay,a.stagger)}),null!==a.display)if(a.display!==n&&"none"!==a.display)j.display=a.display;else if(/In$/.test(e)){var g=s.CSS.Values.getDisplayType(o);j.display="inline"===g?"inline-block":g}a.visibility&&"hidden"!==a.visibility&&(j.visibility=a.visibility)}if(_===t.calls.length-1){var w=function(){a.display!==n&&"none"!==a.display||!/Out$/.test(e)||i.each(c.nodeType?[c]:c,(function(e,t){s.CSS.setPropertyValue(t,"display","none")})),a.complete&&a.complete.call(c,c),f&&f.resolver(c||o)};j.complete=function(){if(d&&s.Redirects[e](o,a,l,u,c,f,d===!0||Math.max(0,d-1)),t.reset){for(var r in t.reset)if(t.reset.hasOwnProperty(r)){var i=t.reset[r];s.CSS.Hooks.registered[r]!==n||"string"!=typeof i&&"number"!=typeof i||(t.reset[r]=[t.reset[r],t.reset[r]])}var _={duration:0,queue:!1};p&&(_.complete=w),s.animate(o,t.reset,_)}else p&&w()},"hidden"===a.visibility&&(j.visibility=a.visibility)}s.animate(o,y,j)}},s},s.RegisterEffect.packagedEffects={"callout.bounce":{defaultDuration:550,calls:[[{translateY:-30},.25],[{translateY:0},.125],[{translateY:-15},.125],[{translateY:0},.25]]},"callout.shake":{defaultDuration:800,calls:[[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:11},.125],[{translateX:-11},.125],[{translateX:0},.125]]},"callout.flash":{defaultDuration:1100,calls:[[{opacity:[0,"easeInOutQuad",1]},.25],[{opacity:[1,"easeInOutQuad"]},.25],[{opacity:[0,"easeInOutQuad"]},.25],[{opacity:[1,"easeInOutQuad"]},.25]]},"callout.pulse":{defaultDuration:825,calls:[[{scaleX:1.1,scaleY:1.1},.5,{easing:"easeInExpo"}],[{scaleX:1,scaleY:1},.5]]},"callout.swing":{defaultDuration:950,calls:[[{rotateZ:15},.2],[{rotateZ:-10},.2],[{rotateZ:5},.2],[{rotateZ:-5},.2],[{rotateZ:0},.2]]},"callout.tada":{defaultDuration:1e3,calls:[[{scaleX:.9,scaleY:.9,rotateZ:-3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:3},.1],[{scaleX:1.1,scaleY:1.1,rotateZ:-3},.1],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],["reverse",.125],[{scaleX:1,scaleY:1,rotateZ:0},.2]]},"transition.fadeIn":{defaultDuration:500,calls:[[{opacity:[1,0]}]]},"transition.fadeOut":{defaultDuration:500,calls:[[{opacity:[0,1]}]]},"transition.flipXIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateY:[0,-55]}]],reset:{transformPerspective:0}},"transition.flipXOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateY:55}]],reset:{transformPerspective:0,rotateY:0}},"transition.flipYIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],rotateX:[0,-45]}]],reset:{transformPerspective:0}},"transition.flipYOut":{defaultDuration:800,calls:[[{opacity:[0,1],transformPerspective:[800,800],rotateX:25}]],reset:{transformPerspective:0,rotateX:0}},"transition.flipBounceXIn":{defaultDuration:900,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateY:[-10,90]},.5],[{opacity:.8,rotateY:10},.25],[{opacity:1,rotateY:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceXOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateY:-10},.5],[{opacity:0,rotateY:90},.5]],reset:{transformPerspective:0,rotateY:0}},"transition.flipBounceYIn":{defaultDuration:850,calls:[[{opacity:[.725,0],transformPerspective:[400,400],rotateX:[-10,90]},.5],[{opacity:.8,rotateX:10},.25],[{opacity:1,rotateX:0},.25]],reset:{transformPerspective:0}},"transition.flipBounceYOut":{defaultDuration:800,calls:[[{opacity:[.9,1],transformPerspective:[400,400],rotateX:-15},.5],[{opacity:0,rotateX:90},.5]],reset:{transformPerspective:0,rotateX:0}},"transition.swoopIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["100%","50%"],transformOriginY:["100%","100%"],scaleX:[1,0],scaleY:[1,0],translateX:[0,-700],translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%"}},"transition.swoopOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformOriginX:["50%","100%"],transformOriginY:["100%","100%"],scaleX:0,scaleY:0,translateX:-700,translateZ:0}]],reset:{transformOriginX:"50%",transformOriginY:"50%",scaleX:1,scaleY:1,translateX:0}},"transition.whirlIn":{defaultDuration:850,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,0],scaleY:[1,0],rotateY:[0,160]},1,{easing:"easeInOutSine"}]]},"transition.whirlOut":{defaultDuration:750,calls:[[{opacity:[0,"easeInOutQuint",1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:0,scaleY:0,rotateY:160},1,{easing:"swing"}]],reset:{scaleX:1,scaleY:1,rotateY:0}},"transition.shrinkIn":{defaultDuration:750,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,1.5],scaleY:[1,1.5],translateZ:0}]]},"transition.shrinkOut":{defaultDuration:600,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:1.3,scaleY:1.3,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.expandIn":{defaultDuration:700,calls:[[{opacity:[1,0],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:[1,.625],scaleY:[1,.625],translateZ:0}]]},"transition.expandOut":{defaultDuration:700,calls:[[{opacity:[0,1],transformOriginX:["50%","50%"],transformOriginY:["50%","50%"],scaleX:.5,scaleY:.5,translateZ:0}]],reset:{scaleX:1,scaleY:1}},"transition.bounceIn":{defaultDuration:800,calls:[[{opacity:[1,0],scaleX:[1.05,.3],scaleY:[1.05,.3]},.4],[{scaleX:.9,scaleY:.9,translateZ:0},.2],[{scaleX:1,scaleY:1},.5]]},"transition.bounceOut":{defaultDuration:800,calls:[[{scaleX:.95,scaleY:.95},.35],[{scaleX:1.1,scaleY:1.1,translateZ:0},.35],[{opacity:[0,1],scaleX:.3,scaleY:.3},.3]],reset:{scaleX:1,scaleY:1}},"transition.bounceUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[-30,1e3]},.6,{easing:"easeOutCirc"}],[{translateY:10},.2],[{translateY:0},.2]]},"transition.bounceUpOut":{defaultDuration:1e3,calls:[[{translateY:20},.2],[{opacity:[0,"easeInCirc",1],translateY:-1e3},.8]],reset:{translateY:0}},"transition.bounceDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateY:[30,-1e3]},.6,{easing:"easeOutCirc"}],[{translateY:-10},.2],[{translateY:0},.2]]},"transition.bounceDownOut":{defaultDuration:1e3,calls:[[{translateY:-20},.2],[{opacity:[0,"easeInCirc",1],translateY:1e3},.8]],reset:{translateY:0}},"transition.bounceLeftIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[30,-1250]},.6,{easing:"easeOutCirc"}],[{translateX:-10},.2],[{translateX:0},.2]]},"transition.bounceLeftOut":{defaultDuration:750,calls:[[{translateX:30},.2],[{opacity:[0,"easeInCirc",1],translateX:-1250},.8]],reset:{translateX:0}},"transition.bounceRightIn":{defaultDuration:750,calls:[[{opacity:[1,0],translateX:[-30,1250]},.6,{easing:"easeOutCirc"}],[{translateX:10},.2],[{translateX:0},.2]]},"transition.bounceRightOut":{defaultDuration:750,calls:[[{translateX:-30},.2],[{opacity:[0,"easeInCirc",1],translateX:1250},.8]],reset:{translateX:0}},"transition.slideUpIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,20],translateZ:0}]]},"transition.slideUpOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:-20,translateZ:0}]],reset:{translateY:0}},"transition.slideDownIn":{defaultDuration:900,calls:[[{opacity:[1,0],translateY:[0,-20],translateZ:0}]]},"transition.slideDownOut":{defaultDuration:900,calls:[[{opacity:[0,1],translateY:20,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,-20],translateZ:0}]]},"transition.slideLeftOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:-20,translateZ:0}]],reset:{translateX:0}},"transition.slideRightIn":{defaultDuration:1e3,calls:[[{opacity:[1,0],translateX:[0,20],translateZ:0}]]},"transition.slideRightOut":{defaultDuration:1050,calls:[[{opacity:[0,1],translateX:20,translateZ:0}]],reset:{translateX:0}},"transition.slideUpBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,75],translateZ:0}]]},"transition.slideUpBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:-75,translateZ:0}]],reset:{translateY:0}},"transition.slideDownBigIn":{defaultDuration:850,calls:[[{opacity:[1,0],translateY:[0,-75],translateZ:0}]]},"transition.slideDownBigOut":{defaultDuration:800,calls:[[{opacity:[0,1],translateY:75,translateZ:0}]],reset:{translateY:0}},"transition.slideLeftBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,-75],translateZ:0}]]},"transition.slideLeftBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:-75,translateZ:0}]],reset:{translateX:0}},"transition.slideRightBigIn":{defaultDuration:800,calls:[[{opacity:[1,0],translateX:[0,75],translateZ:0}]]},"transition.slideRightBigOut":{defaultDuration:750,calls:[[{opacity:[0,1],translateX:75,translateZ:0}]],reset:{translateX:0}},"transition.perspectiveUpIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveUpOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:["100%","100%"],rotateX:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveDownIn":{defaultDuration:800,calls:[[{opacity:[1,0],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveDownOut":{defaultDuration:850,calls:[[{opacity:[0,1],transformPerspective:[800,800],transformOriginX:[0,0],transformOriginY:[0,0],rotateX:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateX:0}},"transition.perspectiveLeftIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:[0,-180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveLeftOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:[0,0],transformOriginY:[0,0],rotateY:-180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}},"transition.perspectiveRightIn":{defaultDuration:950,calls:[[{opacity:[1,0],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:[0,180]}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%"}},"transition.perspectiveRightOut":{defaultDuration:950,calls:[[{opacity:[0,1],transformPerspective:[2e3,2e3],transformOriginX:["100%","100%"],transformOriginY:[0,0],rotateY:180}]],reset:{transformPerspective:0,transformOriginX:"50%",transformOriginY:"50%",rotateY:0}}};for(var c in s.RegisterEffect.packagedEffects)s.RegisterEffect.packagedEffects.hasOwnProperty(c)&&s.RegisterEffect(c,s.RegisterEffect.packagedEffects[c]);s.RunSequence=function(e){var t=i.extend(!0,[],e);t.length>1&&(i.each(t.reverse(),(function(e,r){var n=t[e+1];if(n){var o=r.o||r.options,a=n.o||n.options,l=o&&o.sequenceQueue===!1?"begin":"complete",u=a&&a[l],c={};c[l]=function(){var e=n.e||n.elements,t=e.nodeType?[e]:e;u&&u.call(t,t),s(r)},n.o?n.o=i.extend({},a,c):n.options=i.extend({},a,c)}})),t.reverse()),s(t[0])}}(window.jQuery||window.Zepto||window,window,window?window.document:void 0)}))},{}],1305:[function(e,t,r){!function(r,n){"use strict";"object"==typeof t&&t.exports?t.exports=n(e("moment")):"function"==typeof define&&define.amd?define(["moment"],n):n(r.moment)}(this,(function(e){"use strict";void 0===e.version&&e.default&&(e=e.default);var t,r={},n={},o={},s={},i={},a=(e&&"string"==typeof e.version||M("Moment Timezone requires Moment.js. See https://momentjs.com/timezone/docs/#/use-it/browser/"),e.version.split(".")),l=+a[0],u=+a[1];function c(e){return 96<e?e-87:64<e?e-29:e-48}function f(e){var t=0,r=e.split("."),n=r[0],o=r[1]||"",s=1,i=0,r=1;for(45===e.charCodeAt(0)&&(r=-(t=1));t<n.length;t++)i=60*i+c(n.charCodeAt(t));for(t=0;t<o.length;t++)s/=60,i+=c(o.charCodeAt(t))*s;return i*r}function d(e){for(var t=0;t<e.length;t++)e[t]=f(e[t])}function p(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=e[t[n]];return r}function _(e){for(var e=e.split("|"),t=e[2].split(" "),r=e[3].split(""),n=e[4].split(" "),o=(d(t),d(r),d(n),n),s=r.length,i=0;i<s;i++)o[i]=Math.round((o[i-1]||0)+6e4*o[i]);return o[s-1]=1/0,{name:e[0],abbrs:p(e[1].split(" "),r),offsets:p(t,r),untils:n,population:0|e[5]}}function m(e){e&&this._set(_(e))}function y(e,t){this.name=e,this.zones=t}function v(e){var t=e.toTimeString(),r=t.match(/\([a-z ]+\)/i);"GMT"===(r=r&&r[0]?(r=r[0].match(/[A-Z]/g))?r.join(""):void 0:(r=t.match(/[A-Z]{3,5}/g))?r[0]:void 0)&&(r=void 0),this.at=+e,this.abbr=r,this.offset=e.getTimezoneOffset()}function b(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function h(){for(var e,t,r=(new Date).getFullYear()-2,n=new v(new Date(r,0,1)),o=[n],s=1;s<48;s++)(t=new v(new Date(r,s,1))).offset!==n.offset&&(e=function(e,t){for(var r;r=6e4*((t.at-e.at)/12e4|0);)(r=new v(new Date(e.at+r))).offset===e.offset?e=r:t=r;return e}(n,t),o.push(e),o.push(new v(new Date(e.at+6e4)))),n=t;for(s=0;s<4;s++)o.push(new v(new Date(r+s,0,1))),o.push(new v(new Date(r+s,6,1)));return o}function j(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:e.zone.population!==t.zone.population?t.zone.population-e.zone.population:t.zone.name.localeCompare(e.zone.name)}function g(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e&&3<e.length){var t=s[w(e)];if(t)return t;M("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}for(var r,n,o=h(),a=o.length,l=function(e){for(var t,r,n=e.length,o={},a=[],l=0;l<n;l++)for(t in r=i[e[l].offset]||{})r.hasOwnProperty(t)&&(o[t]=!0);for(l in o)o.hasOwnProperty(l)&&a.push(s[l]);return a}(o),u=[],c=0;c<l.length;c++){for(r=new b(S(l[c])),n=0;n<a;n++)r.scoreOffsetAt(o[n]);u.push(r)}return u.sort(j),0<u.length?u[0].zone.name:void 0}function w(e){return(e||"").toLowerCase().replace(/\//g,"_")}function O(e){var t,n,o,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++){a=w(n=(o=e[t].split("|"))[0]),r[a]=e[t],s[a]=n,u=l=f=c=void 0;var l,u,c=a,f=o[2].split(" ");for(d(f),l=0;l<f.length;l++)u=f[l],i[u]=i[u]||{},i[u][c]=!0}}function S(e,t){e=w(e);var o=r[e];return o instanceof m?o:"string"==typeof o?(o=new m(o),r[e]=o):n[e]&&t!==S&&(t=S(n[e],S))?((o=r[e]=new m)._set(t),o.name=s[e],o):null}function k(e){var t,r,o,i;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)o=w((r=e[t].split("|"))[0]),i=w(r[1]),n[o]=i,s[o]=r[0],n[i]=o,s[i]=r[1]}function A(e){O(e.zones),k(e.links);var t,r,n,s=e.countries;if(s&&s.length)for(t=0;t<s.length;t++)r=(n=s[t].split("|"))[0].toUpperCase(),n=n[1].split(" "),o[r]=new y(r,n);P.dataVersion=e.version}function E(e){return E.didShowError||(E.didShowError=!0,M("moment.tz.zoneExists('"+e+"') has been deprecated in favor of !moment.tz.zone('"+e+"')")),!!S(e)}function x(e){var t="X"===e._f||"x"===e._f;return!(!e._a||void 0!==e._tzm||t)}function M(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function P(t){var r=Array.prototype.slice.call(arguments,0,-1),n=arguments[arguments.length-1],o=S(n),r=e.utc.apply(null,r);return o&&!e.isMoment(t)&&x(r)&&r.add(o.parse(r),"minutes"),r.tz(n),r}(l<2||2==l&&u<6)&&M("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),m.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){for(var t=+e,r=this.untils,n=0;n<r.length;n++)if(t<r[n])return n},countries:function(){var e=this.name;return Object.keys(o).filter((function(t){return-1!==o[t].zones.indexOf(e)}))},parse:function(e){for(var t,r,n,o=+e,s=this.offsets,i=this.untils,a=i.length-1,l=0;l<a;l++)if(t=s[l],r=s[l+1],n=s[l&&l-1],t<r&&P.moveAmbiguousForward?t=r:n<t&&P.moveInvalidForward&&(t=n),o<i[l]-6e4*t)return s[l];return s[a]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return M("zone.offset has been deprecated in favor of zone.utcOffset"),this.offsets[this._index(e)]},utcOffset:function(e){return this.offsets[this._index(e)]}},b.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.utcOffset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},P.version="0.5.43",P.dataVersion="",P._zones=r,P._links=n,P._names=s,P._countries=o,P.add=O,P.link=k,P.load=A,P.zone=S,P.zoneExists=E,P.guess=function(e){return t=t&&!e?t:g()},P.names=function(){var e,t=[];for(e in s)s.hasOwnProperty(e)&&(r[e]||r[n[e]])&&s[e]&&t.push(s[e]);return t.sort()},P.Zone=m,P.unpack=_,P.unpackBase60=f,P.needsOffset=x,P.moveInvalidForward=!0,P.moveAmbiguousForward=!1,P.countries=function(){return Object.keys(o)},P.zonesForCountry=function(e,t){var r;return r=(r=e).toUpperCase(),(e=o[r]||null)?(r=e.zones.sort(),t?r.map((function(e){return{name:e,offset:S(e).utcOffset(new Date)}})):r):null};var T,a=e.fn;function I(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}function C(e){return function(){return this._z=null,e.apply(this,arguments)}}e.tz=P,e.defaultZone=null,e.updateOffset=function(t,r){var n,o=e.defaultZone;void 0===t._z&&(o&&x(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(o.parse(t),"minutes")),t._z=o),t._z&&(o=t._z.utcOffset(t),Math.abs(o)<16&&(o/=60),void 0!==t.utcOffset?(n=t._z,t.utcOffset(-o,r),t._z=n):t.zone(o,r))},a.tz=function(t,r){if(t){if("string"!=typeof t)throw new Error("Time zone name must be a string, got "+t+" ["+typeof t+"]");return this._z=S(t),this._z?e.updateOffset(this,r):M("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this}if(this._z)return this._z.name},a.zoneName=I(a.zoneName),a.zoneAbbr=I(a.zoneAbbr),a.utc=C(a.utc),a.local=C(a.local),a.utcOffset=(T=a.utcOffset,function(){return 0<arguments.length&&(this._z=null),T.apply(this,arguments)}),e.tz.setDefault=function(t){return(l<2||2==l&&u<9)&&M("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?S(t):null,e};a=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(a)?(a.push("_z"),a.push("_a")):a&&(a._z=null),A({version:"2023c",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Nairobi|EAT|-30|0||47e5","Africa/Algiers|WET WEST CET CEST|0 -10 -10 -20|01012320102|3bX0 11A0 dDd0 17b0 11B0 1cN0 2Dy0 1cN0 1fB0 1cL0|26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Bissau|-01 GMT|10 0|01|cap0|39e4","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|LX0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1WL0 rd0 1Rz0 wp0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1qL0 Xd0 1oL0 11d0 1oL0 11d0 1pb0 11d0 1oL0 11d0 1oL0 11d0 1ny0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 11z0 1o10 11z0 1o10 WL0 1qN0 Rb0 1wp0 On0 1zd0 Lz0 1EN0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0 kSp0 1cL0 1cN0 1fz0 1a10 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0|15e6","Africa/Casablanca|+00 +01|0 -10|01010101010101010101010101010101010101010101010101010101010101010101010|aS00 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4mn0 SyN0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600|32e5","Africa/Ceuta|WET WEST CET CEST|0 -10 -10 -20|0101010102323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|aS00 rz0 43d0 AL0 1Nd0 XX0 1Cp0 pz0 dEp0 4VB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|85e3","Africa/El_Aaiun|-01 +00 +01|10 0 -10|01212121212121212121212121212121212121212121212121212121212121212121|fi10 6L0 AL0 1Nd0 XX0 1Cp0 pz0 1cBB0 AL0 1Nd0 wn0 1FB0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 28M0 e00 2600 gM0 2600 e00 2600 gM0 2600|20e4","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Juba|CAT CAST EAT|-20 -30 -30|01010101010101010101010101010101020|LW0 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 PeX0|","Africa/Khartoum|CAT CAST EAT|-20 -30 -30|01010101010101010101010101010101020|LW0 16L0 1iN0 17b0 1jd0 17b0 1ip0 17z0 1i10 17X0 1hB0 18n0 1hd0 19b0 1gp0 19z0 1iN0 17b0 1ip0 17z0 1i10 18n0 1hd0 18L0 1gN0 19b0 1gp0 19z0 1iN0 17z0 1i10 17X0 yGd0 HjL0|51e5","Africa/Monrovia|MMT GMT|I.u 0|01|4SoI.u|11e5","Africa/Ndjamena|WAT WAST|-10 -20|010|nNb0 Wn0|13e5","Africa/Sao_Tome|GMT WAT|0 -10|010|1UQN0 2q00|","Africa/Tripoli|EET CET CEST|-20 -10 -20|0121212121212121210120120|tda0 A10 1db0 1cN0 1db0 1dd0 1db0 1eN0 1bb0 1e10 1cL0 1c10 1db0 1dd0 1db0 1cN0 1db0 1q10 fAn0 1ep0 1db0 AKq0 TA0 1o00|11e5","Africa/Tunis|CET CEST|-10 -20|0101010101010101010|hOn0 WM0 1rA0 11c0 nwo0 Ko0 1cM0 1cM0 1rA0 10M0 zuM0 10N0 1aN0 1qM0 WM0 1qM0 11A0 1o00|20e5","Africa/Windhoek|SAST CAT WAT|-20 -20 -10|01212121212121212121212121212121212121212121212121|Ndy0 9Io0 16P0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0|32e4","America/Adak|BST BDT AHST HST HDT|b0 a0 a0 a0 90|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Kd0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AHST AHDT YST AKST AKDT|a0 90 90 90 80|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Kc0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cm0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Puerto_Rico|AST|40|0||24e5","America/Araguaina|-03 -02|30 20|01010101010101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 ny10 Lz0|14e4","America/Argentina/Buenos_Aires|-03 -02|30 20|01010101010101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 A4p0 uL0 1qN0 WL0|","America/Argentina/Catamarca|-03 -02 -04|30 20 40|01010101210102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Cordoba|-03 -02 -04|30 20 40|01010101210101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0 1qN0 WL0|","America/Argentina/Jujuy|-03 -02 -04|30 20 40|010101202101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1ze0 TX0 1ld0 WK0 1wp0 TX0 A4p0 uL0|","America/Argentina/La_Rioja|-03 -02 -04|30 20 40|010101012010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Mendoza|-03 -02 -04|30 20 40|01010120202102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1u20 SL0 1vd0 Tb0 1wp0 TW0 ri10 Op0 7TX0 uL0|","America/Argentina/Rio_Gallegos|-03 -02 -04|30 20 40|01010101010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rlB0 7B0 8zb0 uL0|","America/Argentina/Salta|-03 -02 -04|30 20 40|010101012101010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 A4p0 uL0|","America/Argentina/San_Juan|-03 -02 -04|30 20 40|010101012010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Qn0 qO0 16n0 Rb0 1wp0 TX0 rld0 m10 8lb0 uL0|","America/Argentina/San_Luis|-03 -02 -04|30 20 40|010101202020102020|9Rf0 Db0 zvd0 Bz0 1tB0 XX0 1q20 SL0 AN0 vDb0 m10 8lb0 8L0 jd0 1qN0 WL0 1qN0|","America/Argentina/Tucuman|-03 -02 -04|30 20 40|0101010121010201010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wq0 Ra0 1wp0 TX0 rlB0 4N0 8BX0 uL0 1qN0 WL0|","America/Argentina/Ushuaia|-03 -02 -04|30 20 40|01010101010102010|9Rf0 Db0 zvd0 Bz0 1tB0 TX0 1wp0 Rb0 1wp0 Rb0 1wp0 TX0 rkN0 8p0 8zb0 uL0|","America/Asuncion|-04 -03|40 30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|6FE0 3CL0 3Dd0 10L0 1pB0 10n0 1pB0 10n0 1pB0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1dd0 1cL0 1dd0 1cL0 1dd0 1db0 1dd0 1cL0 1lB0 14n0 1dd0 1cL0 1fd0 WL0 1rd0 1aL0 1dB0 Xz0 1qp0 Xb0 1qN0 10L0 1rB0 TX0 1tB0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 1cL0 WN0 1qL0 11B0 1nX0 1ip0 WL0 1qN0 WL0 1qN0 WL0 1tB0 TX0 1tB0 TX0 1tB0 19X0 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0|28e5","America/Panama|EST|50|0||15e5","America/Bahia_Banderas|PST MST MDT CDT CST|80 70 60 50 60|01212121212121212121212121212134343434343434343434343434|80 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|84e3","America/Bahia|-03 -02|30 20|010101010101010101010101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 l5B0 Rb0|27e5","America/Barbados|AST ADT|40 30|010101010|i7G0 IL0 1ip0 17b0 1ip0 17b0 1ld0 13b0|28e4","America/Belem|-03 -02|30 20|0101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0|20e5","America/Belize|CST CDT|60 50|01010|9xG0 qn0 lxB0 mn0|57e3","America/Boa_Vista|-04 -03|40 30|01010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 smp0 WL0 1tB0 2L0|62e2","America/Bogota|-05 -04|50 40|010|Snh0 1PX0|90e5","America/Boise|MST MDT|70 60|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 Dd0 1Kn0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e4","America/Cambridge_Bay|MST MDT CST CDT EST|70 60 60 50 50|010101010101010101010101010101010101010101010101010101012342101010101010101010101010101010101010101010101010101010101010|5E90 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11A0 1nX0 2K0 WQ0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e2","America/Campo_Grande|-04 -03|40 30|010101010101010101010101010101010101010101010101010101010101010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|77e4","America/Cancun|CST EST EDT CDT|60 50 40 50|012121230303030303030303030303030303030301|t9G0 yLB0 1lb0 14p0 1lb0 14p0 Lz0 xB0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|-04 -0430|40 4u|010|1wmv0 kqo0|29e5","America/Cayenne|-03|30|0||58e3","America/Chicago|CST CDT|60 50|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|CST CDT MDT MST|60 50 60 70|0101023232323232323232323232323232323232323232323232320|13Vk0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|81e4","America/Ciudad_Juarez|CST CDT MDT MST|60 50 60 70|010102323232323232323232323232323232323232323232323232032323232323232323|13Vk0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1wn0 cm0 EP0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Costa_Rica|CST CDT|60 50|010101010|mgS0 Db0 1Kp0 Db0 pRB0 15b0 1kp0 mL0|12e5","America/Phoenix|MST|70|0||42e5","America/Cuiaba|-04 -03|40 30|0101010101010101010101010101010101010101010101010101010101010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 4a10 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|54e4","America/Danmarkshavn|-03 -02 GMT|30 20 0|0101010101010101010101010101010102|oXh0 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 DC0|8","America/Dawson_Creek|PST PDT MST|80 70 70|0101012|Ka0 1cL0 1cN0 1fz0 1cN0 ML0|12e3","America/Dawson|YST PST PDT MST|90 80 70 70|012121212121212121212121212121212121212121212121212121212121212121212121212121212123|9ix0 fNd0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1z90|13e2","America/Denver|MST MDT|70 60|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Detroit|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|85H0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e5","America/Edmonton|MST MDT|70 60|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|5E90 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|10e5","America/Eirunepe|-05 -04|50 40|01010101010|CxF0 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0 yTd0 d5X0|31e3","America/El_Salvador|CST CDT|60 50|01010|Gcu0 WL0 1qN0 WL0|11e5","America/Tijuana|PST PDT|80 70|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|fmy0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|20e5","America/Fort_Nelson|PST PDT MST|80 70 70|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010102|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Fort_Wayne|EST EDT|50 40|01010101010101010101010101010101010101010101010101010|K70 1cL0 1qhd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Fortaleza|-03 -02|30 20|01010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 5z0 2mN0 On0|34e5","America/Glace_Bay|AST ADT|40 30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|5E60 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|19e3","America/Godthab|-03 -02 -01|30 20 10|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010121212121212121|oXh0 19U0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 2so0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|17e3","America/Goose_Bay|AST ADT ADDT|40 30 20|010101010101010101010101010101010101020101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K60 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|EST EDT AST|50 40 40|0101010101010101010101010101010101010101010101010101010101010101010101010210101010101010101010101010|mG70 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 7jA0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guatemala|CST CDT|60 50|010101010|9tG0 An0 mtd0 Nz0 ifB0 17b0 zDB0 11z0|13e5","America/Guayaquil|-05 -04|50 40|010|TKR0 rz0|27e5","America/Guyana|-0345 -03 -04|3J 30 40|012|dzfJ Ey0f|80e4","America/Halifax|AST ADT|40 30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K60 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Havana|CST CDT|50 40|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K50 1cL0 1cN0 1fz0 1cN0 14n0 1ld0 14L0 1kN0 15b0 1kp0 1cL0 1cN0 1fz0 1a10 1fz0 1fB0 11z0 14p0 1nX0 11B0 1nX0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 1a10 1in0 1a10 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 17c0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 11A0 6i00 Rc0 1wo0 U00 1tA0 Rc0 1wo0 U00 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/Hermosillo|PST MST MDT|80 70 60|01212121|80 13Vd0 1lb0 14p0 1lb0 14p0 1lb0|64e4","America/Indiana/Knox|CST CDT EST|60 50 50|01010101010101010101010101010101010101010101210101010101010101010101010101010101010101010101010|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 z8o0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Marengo|EST EDT CDT|50 40 50|010101010201010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1e6p0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Petersburg|CST CDT EST EDT|60 50 50 40|0101010101010101210123232323232323232323232323232323232323232323232|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 19co0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Tell_City|EST EDT CDT CST|50 40 50 60|01023232323232323232323232323232323232323232323232323|K70 1cL0 1qhd0 1o00 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Vevay|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1lnd0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Vincennes|EST EDT CDT CST|50 40 50 60|01023201010101010101010101010101010101010101010101010|K70 1cL0 1qhd0 1o00 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Indiana/Winamac|EST EDT CDT CST|50 40 50 60|01023101010101010101010101010101010101010101010101010|K70 1cL0 1qhd0 1o00 Rd0 1za0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Inuvik|PST PDT MDT MST|80 70 60 70|01010101010101023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323|5Ea0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cK0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|35e2","America/Iqaluit|EST EDT CST CDT|50 40 60 50|01010101010101010101010101010101010101010101010101010101230101010101010101010101010101010101010101010101010101010101010|5E70 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11C0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|67e2","America/Jamaica|EST EDT|50 40|010101010101010101010|9Kv0 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0|94e4","America/Juneau|PST PDT YDT YST AKST AKDT|80 70 80 90 90 80|0101010101010101010102010101345454545454545454545454545454545454545454545454545454545454545454545454545454545454545454545454|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cM0 1cM0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|33e3","America/Kentucky/Louisville|EST EDT CDT|50 40 50|010101010201010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1VA0 LA0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Kentucky/Monticello|CST CDT EST EDT|60 50 50 40|010101010101010101010101010101010101010101010101010101010101012323232323232323232323232323232323232323232323232323232323232|K80 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11A0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/La_Paz|-04|40|0||19e5","America/Lima|-05 -04|50 40|010101010|CVF0 zX0 1O10 zX0 6Gp0 zX0 98p0 zX0|11e6","America/Los_Angeles|PST PDT|80 70|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/Maceio|-03 -02|30 20|0101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 dMN0 Lz0 8Q10 WL0 1tB0 5z0 2mN0 On0|93e4","America/Managua|CST EST CDT|60 50 50|010202010102020|86u0 4mn0 9Up0 Dz0 1K10 Dz0 s3F0 1KH0 DB0 9In0 k8p0 19X0 1o30 11y0|22e5","America/Manaus|-04 -03|40 30|010101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 dPB0 On0|19e5","America/Martinique|AST ADT|40 30|010|oXg0 19X0|39e4","America/Matamoros|CST CDT|60 50|0101010101010101010101010101010101010101010101010101010101010101010101010|IqU0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|45e4","America/Mazatlan|PST MST MDT|80 70 60|01212121212121212121212121212121212121212121212121212121|80 13Vd0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|44e4","America/Menominee|EST CDT CST|50 50 60|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212|85H0 1cM0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|85e2","America/Merida|CST EST CDT|60 50 50|010202020202020202020202020202020202020202020202020202020|t9G0 2hz0 wu30 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|11e5","America/Metlakatla|PST PDT AKST AKDT|80 70 90 80|0101010101010101010101010101023232302323232323232323232323232|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1hU10 Rd0 1zb0 Op0 1zb0 Op0 1zb0 uM0 jB0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Mexico_City|CST CDT|60 50|0101010101010101010101010101010101010101010101010101010|13Vk0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|20e6","America/Miquelon|AST -03 -02|40 30 20|012121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|p9g0 gQ10 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Moncton|AST ADT|40 30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K60 1cL0 1cN0 1fz0 1cN0 1cL0 3Cp0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14n1 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 ReX 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|64e3","America/Monterrey|CST CDT|60 50|010101010101010101010101010101010101010101010101010101010|IqU0 1nX0 i6p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0|41e5","America/Montevideo|-03 -02 -0130 -0230|30 20 1u 2u|0101023010101010101010101010101010101010101010101010|JD0 jX0 4vB0 xz0 3Cp0 mmu 1a10 IMu Db0 4c10 uL0 1Nd0 An0 1SN0 uL0 mp0 28L0 iPB0 un0 1SN0 xz0 1zd0 Lz0 1zd0 Rb0 1zd0 On0 1wp0 Rb0 s8p0 1fB0 1ip0 11z0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 14n0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Toronto|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e5","America/New_York|EST EDT|50 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K70 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Nome|BST BDT YST AKST AKDT|b0 a0 90 90 80|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Kd0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cl0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|38e2","America/Noronha|-02 -01|20 10|01010101010101010|CxC0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|30e2","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|010101010101010101010101010101010101010101010101010101010101010101010101010101010123232323232323232323232323232323232323232|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/North_Dakota/Center|MST MDT CST CDT|70 60 60 50|010101010101010101010101010101010101010101010123232323232323232323232323232323232323232323232323232323232323232323232323232|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/North_Dakota/New_Salem|MST MDT CST CDT|70 60 60 50|010101010101010101010101010101010101010101010101010101010101010101012323232323232323232323232323232323232323232323232323232|K90 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14o0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|","America/Ojinaga|CST CDT MDT MST|60 50 60 70|01010232323232323232323232323232323232323232323232323201010101010101010|13Vk0 1lb0 14p0 1lb0 14q0 1lb0 14p0 1nX0 11B0 1nX0 1fB0 WL0 1fB0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 U10 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1wn0 Rc0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e3","America/Paramaribo|-0330 -03|3u 30|01|zSPu|24e4","America/Port-au-Prince|EST EDT|50 40|01010101010101010101010101010101010101010101010101010101010101010101010|wu50 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14q0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 i6n0 1nX0 11B0 1nX0 d430 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 3iN0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Rio_Branco|-05 -04|50 40|010101010|CxF0 Rb0 1tB0 IL0 1Fd0 FX0 NBd0 d5X0|31e4","America/Porto_Velho|-04 -03|40 30|0101010|CxE0 Rb0 1tB0 IL0 1Fd0 FX0|37e4","America/Punta_Arenas|-03 -04|30 40|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|yP0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|","America/Winnipeg|CST CDT|60 50|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K80 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1a00 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1o00 14o0 1lc0 14o0 1lc0 14o0 1o00 11A0 1o00 11A0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|66e4","America/Rankin_Inlet|CST CDT EST|60 50 50|01010101010101010101010101010101010101010101010101010101012101010101010101010101010101010101010101010101010101010101010|5E80 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e2","America/Recife|-03 -02|30 20|01010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 nsp0 WL0 1tB0 2L0 2pB0 On0|33e5","America/Regina|CST|60|0||19e4","America/Resolute|CST CDT EST|60 50 50|01010101010101010101010101010101010101010101010101010101012101010101012101010101010101010101010101010101010101010101010|5E80 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|229","America/Santarem|-04 -03|40 30|01010101|CxE0 Rb0 1tB0 IL0 1Fd0 FX0 NBd0|21e4","America/Santiago|-03 -04|30 40|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|yP0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0|62e5","America/Santo_Domingo|-0430 EST AST|4u 50 40|0101010101212|ksu 1Cou yLu 1RAu wLu 1QMu xzu 1Q0u xXu 1PAu 13jB0 e00|29e5","America/Sao_Paulo|-03 -02|30 20|010101010101010101010101010101010101010101010101010101010101010101010|CxD0 Rb0 1tB0 IL0 1Fd0 FX0 1EN0 FX0 1HB0 Lz0 1EN0 Lz0 1C10 IL0 1HB0 Db0 1HB0 On0 1zd0 On0 1zd0 Lz0 1zd0 Rb0 1wN0 Wn0 1tB0 Rb0 1tB0 WL0 1tB0 Rb0 1zd0 On0 1HB0 FX0 1C10 Lz0 1Ip0 HX0 1zd0 On0 1HB0 IL0 1wp0 On0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1HB0 FX0|20e6","America/Scoresbysund|-02 -01 +00|20 10 0|0102121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121212121|oXg0 1a00 1cK0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|452","America/Sitka|PST PDT YST AKST AKDT|80 70 90 90 80|0101010101010101010101010101234343434343434343434343434343434343434343434343434343434343434343434343434343434343434343434343|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 co0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|90e2","America/St_Johns|NST NDT NDDT|3u 2u 1u|010101010101010101010101010101010101020101010101010101010101010101010101010101010101010101010101010101010101010101010101010|K5u 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14n1 1lb0 14p0 1nW0 11C0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","America/Swift_Current|MST CST|70 60|01|5E90|16e3","America/Tegucigalpa|CST CDT|60 50|0101010|Gcu0 WL0 1qN0 WL0 GRd0 AL0|11e5","America/Thule|AST ADT|40 30|010101010101010101010101010101010101010101010101010101010101010101010101010101010|PHG0 1cL0 1cN0 1cL0 1fB0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|656","America/Vancouver|PST PDT|80 70|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|Ka0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Whitehorse|PST PDT MST|80 70 70|01010101010101010101010101010101010101010101010101010101010101010101010101010101012|p7K0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1z90|23e3","America/Yakutat|YST YDT AKST AKDT|90 80 90 80|0101010101010101010101010101023232323232323232323232323232323232323232323232323232323232323232323232323232323232323232323232|Kb0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 s10 1Vz0 LB0 1BX0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 cn0 10q0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|642","Antarctica/Casey|+08 +11|-80 -b0|010101010101|1ARS0 T90 40P0 KL0 blz0 3m10 1o30 14k0 1kr0 12l0 1o01|10","Antarctica/Davis|+07 +05|-70 -50|01010|1ART0 VB0 3Wn0 KN0|70","Pacific/Port_Moresby|+10|-a0|0||25e4","Antarctica/Macquarie|AEDT AEST|-b0 -a0|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|qg0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 3Co0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|1","Antarctica/Mawson|+06 +05|-60 -50|01|1ARU0|60","Pacific/Auckland|NZST NZDT|-c0 -d0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|bKC0 IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00|14e5","Antarctica/Palmer|-03 -02 -04|30 20 40|01020202020202020202020202020202020202020202020202020202020202020202020|9Rf0 Db0 jsN0 14N0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0|40","Antarctica/Rothera|-00 -03|0 30|01|gOo0|130","Asia/Riyadh|+03|-30|0||57e5","Antarctica/Troll|-00 +00 +02|0 0 -20|012121212121212121212121212121212121212121212121212121|1puo0 hd0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|40","Asia/Urumqi|+06|-60|0||32e5","Europe/Berlin|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXd0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|41e5","Asia/Almaty|+06 +07 +05|-60 -70 -50|0101010101010101010102010101010101010101010101010|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|15e5","Asia/Amman|EET EEST +03|-20 -30 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101012|8kK0 KL0 1oN0 11b0 1oN0 11b0 1pd0 1dz0 1cp0 11b0 1op0 11b0 fO10 1db0 1e10 1cL0 1cN0 1cL0 1cN0 1fz0 1pd0 10n0 1ld0 14n0 1hB0 15b0 1ip0 19X0 1cN0 1cL0 1cN0 17b0 1ld0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1So0 y00 1fc0 1dc0 1co0 1dc0 1cM0 1cM0 1cM0 1o00 11A0 1lc0 17c0 1cM0 1cM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 LA0 1C00|25e5","Asia/Anadyr|+13 +14 +12 +11|-d0 -e0 -c0 -b0|010202020202020202023202020202020202020202020202020202020232|rmX0 1db0 2q10 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|13e3","Asia/Aqtau|+05 +06 +04|-50 -60 -40|0101010101010101010201010120202020202020202020|sAj0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|15e4","Asia/Aqtobe|+05 +06 +04|-50 -60 -40|01010101010101010102010101010101010101010101010|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0|27e4","Asia/Ashgabat|+05 +06 +04|-50 -60 -40|01010101010101010101020|rn70 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0|41e4","Asia/Atyrau|+05 +06 +04|-50 -60 -40|010101010101010101020101010101010102020202020|sAj0 2pX0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 2sp0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|","Asia/Baghdad|+03 +04|-30 -40|01010101010101010101010101010101010101010101010101010|u190 11b0 1cp0 1dz0 1dd0 1db0 1cN0 1cp0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1de0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0 1dc0 1dc0 1cM0 1dc0 1cM0 1dc0 1cM0 1dc0|66e5","Asia/Qatar|+04 +03|-40 -30|01|5QI0|96e4","Asia/Baku|+04 +05 +03|-40 -50 -30|010101010101010101010201010101010101010101010101010101010101010|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 9Je0 1o00 11z0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|+07|-70|0||15e6","Asia/Barnaul|+07 +08 +06|-70 -80 -60|01010101010101010101020101010102020202020202020202020202020202020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 p90 LE0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|","Asia/Beirut|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|61a0 En0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1op0 11b0 dA10 17b0 1iN0 17b0 1iN0 17b0 1iN0 17b0 1vB0 SL0 1mp0 13z0 1iN0 17b0 1iN0 17b0 1jd0 12n0 1a10 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|22e5","Asia/Bishkek|+06 +07 +05|-60 -70 -50|0101010101010101010102020202020202020202020202020|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2e00 1tX0 17b0 1ip0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1cPu 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0|87e4","Asia/Brunei|+08|-80|0||42e4","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+09 +10 +08|-90 -a0 -80|0101010101010101010102010101010101010101010101010101010101010120|rn30 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|+07 +08 +10 +09|-70 -80 -a0 -90|012323232323232323232323232323232323232323232313131|jsF0 cKn0 1da0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 3Db0 h1f0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST CDT|-80 -90|0101010101010|DKG0 Rb0 1o10 11z0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0|23e6","Asia/Colombo|+0530 +0630 +06|-5u -6u -60|0120|14giu 11zu n3cu|22e5","Asia/Dhaka|+06 +07|-60 -70|010|1A5R0 1i00|16e6","Asia/Damascus|EET EEST +03|-20 -30 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101012|M00 11b0 1oN0 11b0 1pd0 11b0 1oN0 11b0 1oN0 11b0 1oN0 11b0 1pd0 11b0 1oN0 Nb0 1AN0 Nb0 bcp0 19X0 1gp0 19X0 3ld0 1xX0 Vd0 1Bz0 Sp0 1vX0 10p0 1dz0 1cN0 1cL0 1db0 1db0 1g10 1an0 1ap0 1db0 1fd0 1db0 1cN0 1db0 1dd0 1db0 1cp0 1dz0 1c10 1dX0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 1db0 1cN0 1db0 1dd0 1db0 1cN0 1db0 1cN0 19z0 1fB0 1qL0 11B0 1on0 Wp0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0|26e5","Asia/Dili|+09 +08|-90 -80|010|fpr0 Xld0|19e4","Asia/Dubai|+04|-40|0||39e5","Asia/Dushanbe|+06 +07 +05|-60 -70 -50|0101010101010101010102|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2hB0|76e4","Asia/Famagusta|EET EEST +03|-20 -30 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101012010101010101010101010101010|cPa0 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0 2Ks0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|","Asia/Gaza|IST IDT EET EEST|-20 -30 -20 -30|010101010101010101010101010101023232323232323232323232323232323232323232323232323232323232323232323232|aXa0 Db0 1fB0 Rb0 bXB0 gM0 8Q00 IM0 1wo0 TX0 1HB0 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 11z0 1o10 14o0 1lA1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nA0 1210 1qL0 WN0 1qL0 WN0 1qL0 11c0 1on0 11B0 1o00 11A0 1qo0 XA0 1qp0 1cN0 1cL0 17d0 1in0 14p0 1lb0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|18e5","Asia/Hebron|IST IDT EET EEST|-20 -30 -20 -30|01010101010101010101010101010102323232323232323232323232323232323232323232323232323232323232323232323232|aXa0 Db0 1fB0 Rb0 bXB0 gM0 8Q00 IM0 1wo0 TX0 1HB0 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 M10 C00 17c0 1io0 17c0 1io0 17c0 1o00 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 17c0 1io0 18N0 1bz0 19z0 1gp0 1610 1iL0 12L0 1mN0 14o0 1lc0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nA0 1210 1qL0 WN0 1qL0 WN0 1qL0 11c0 1on0 11B0 1o00 11A0 1qo0 XA0 1qp0 1cN0 1cL0 17d0 1in0 14p0 1lb0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0|25e4","Asia/Ho_Chi_Minh|+08 +07|-80 -70|01|dfs0|90e5","Asia/Hong_Kong|HKT HKST|-80 -90|01010101010101010|H7u 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|73e5","Asia/Hovd|+06 +07 +08|-60 -70 -80|01212121212121212121212121212121212121212121212121|jsG0 cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+08 +09 +07|-80 -90 -70|010101010101010101010201010101010101010101010101010101010101010|rn40 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|EET EEST +03 +04|-20 -30 -30 -40|01010101010123201010101010101010101010101010101010101010101010101010101010101012|8jz0 11A0 WN0 1qL0 TB0 1tX0 U10 1tz0 11B0 1in0 17d0 z90 cne0 pb0 2Cp0 1800 14o0 1dc0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1a00 1fA0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WO0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|aXa0 Db0 1fB0 Rb0 bXB0 gM0 8Q00 IM0 1wo0 TX0 1HB0 IL0 1s10 10n0 1o10 WL0 1zd0 On0 1ld0 11z0 1o10 14n0 1o10 14n0 1nd0 12n0 1nd0 Xz0 1q10 12n0 1hB0 1dX0 1ep0 1aL0 1eN0 17X0 1nf0 11z0 1tB0 19W0 1e10 17b0 1ep0 1gL0 18N0 1fz0 1eN0 17b0 1gq0 1gn0 19d0 1dz0 1c10 17X0 1hB0 1gn0 19d0 1dz0 1c10 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0|81e4","Asia/Kabul|+0430|-4u|0||46e5","Asia/Kamchatka|+12 +13 +11|-c0 -d0 -b0|0101010101010101010102010101010101010101010101010101010101020|rn00 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|18e4","Asia/Karachi|+05 PKT PKST|-50 -50 -60|01212121|2Xv0 1fy00 1cL0 dK10 11b0 1610 1jX0|24e6","Asia/Kathmandu|+0530 +0545|-5u -5J|01|CVuu|12e5","Asia/Khandyga|+09 +10 +08 +11|-90 -a0 -80 -b0|01010101010101010101020101010101010101010101010131313131313131310|rn30 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 qK0 yN0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|+07 +08 +06|-70 -80 -60|010101010101010101010201010101010101010101010101010101010101010|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|+0730 +08|-7u -80|01|td40|71e5","Asia/Macau|CST CDT|-80 -90|01010101010101010|H7u 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 s10 1Vz0 1cN0 1cL0 1cN0 1cL0 6fd0 14n0|57e4","Asia/Magadan|+11 +12 +10|-b0 -c0 -a0|0101010101010101010102010101010101010101010101010101010101010120|rn10 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Asia/Manila|PST PDT|-80 -90|010|k0E0 1db0|24e6","Asia/Nicosia|EET EEST|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|cPa0 1cL0 1qp0 Xz0 19B0 19X0 1fB0 1db0 1cp0 1cL0 1fB0 19X0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1o30 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|32e4","Asia/Novokuznetsk|+07 +08 +06|-70 -80 -60|0101010101010101010102010101010101010101010101010101010101020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|55e4","Asia/Novosibirsk|+07 +08 +06|-70 -80 -60|01010101010101010101020101020202020202020202020202020202020202020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 ml0 Os0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|+06 +07 +05|-60 -70 -50|010101010101010101010201010101010101010101010101010101010101010|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|12e5","Asia/Oral|+05 +06 +04|-50 -60 -40|010101010101010202020202020202020202020202020|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 1cM0 IM0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|27e4","Asia/Pontianak|WITA WIB|-80 -70|01|HNs0|23e4","Asia/Pyongyang|KST KST|-90 -8u|010|1P4D0 6BA0|29e5","Asia/Qostanay|+05 +06 +04|-50 -60 -40|0101010101010101010201010101010101010101010101|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0|","Asia/Qyzylorda|+05 +06|-50 -60|010101010101010101010101010101010101010101010|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 3ao0 1EM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 zQl0|73e4","Asia/Rangoon|+0630|-6u|0||48e5","Asia/Sakhalin|+11 +12 +10|-b0 -c0 -a0|010101010101010101010201010101010202020202020202020202020202020|rn10 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 2pB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Samarkand|+05 +06|-50 -60|010101010101010101010|rn70 3Db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|36e4","Asia/Seoul|KST KDT|-90 -a0|01010|Gf50 11A0 1o00 11A0|23e6","Asia/Srednekolymsk|+11 +12 +10|-b0 -c0 -a0|010101010101010101010201010101010101010101010101010101010101010|rn10 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|35e2","Asia/Taipei|CST CDT|-80 -90|0101010|akg0 1db0 1cN0 1db0 97B0 AL0|74e5","Asia/Tashkent|+06 +07 +05|-60 -70 -50|0101010101010101010102|rn60 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0|23e5","Asia/Tbilisi|+04 +05 +03|-40 -50 -30|01010101010101010101020202010101010101010101020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cK0 1cL0 1cN0 1cL0 1cN0 2pz0 1cL0 1fB0 3Nz0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 An0 Os0 WM0|11e5","Asia/Tehran|+0330 +0430 +04 +05|-3u -4u -40 -50|0123201010101010101010101010101010101010101010101010101010101010101010|hyHu 1pc0 120u Rc0 XA0 Wou JX0 1dB0 1en0 pNB0 UL0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 64p0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|+0530 +06|-5u -60|01|HcGu|79e3","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+07 +08 +06|-70 -80 -60|01010101010101010101020101010101010101010101020202020202020202020|rn50 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 co0 1bB0 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|+07 +08 +09|-70 -80 -90|01212121212121212121212121212121212121212121212121|jsF0 cKn0 1db0 1dd0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 6hD0 11z0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 kEp0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|+09 +12 +11 +10|-90 -c0 -b0 -a0|0121212121212121212123212121212121212121212121212121212121212123|rn30 1d90 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|+10 +11 +09|-a0 -b0 -90|010101010101010101010201010101010101010101010101010101010101010|rn20 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|+09 +10 +08|-90 -a0 -80|010101010101010101010201010101010101010101010101010101010101010|rn30 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|+05 +06 +04|-50 -60 -40|010101010101010101010201010101010101010101010101010101010101010|rn70 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|+04 +05 +03|-40 -50 -30|01010101010101010101020202020101010101010101010101010101010|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 2pB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 4RX0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|-01 +00 WET|10 0 0|0101010101010101010101010101010121010101010101010101010101010101010101010101010101010101010101010101010101010|hAN0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cL0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|25e4","Atlantic/Bermuda|AST ADT|40 30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|avi0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1fz0 1a10 1fz0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|65e3","Atlantic/Canary|WET WEST|0 -10|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXc0 1a10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|54e4","Atlantic/Cape_Verde|-02 -01|20 10|01|elE0|50e4","Atlantic/Faroe|WET WEST|0 -10|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|rm10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|49e3","Atlantic/Madeira|WET WEST|0 -10|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hAM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|27e4","Atlantic/South_Georgia|-02|20|0||30","Atlantic/Stanley|-04 -03 -02|40 30 20|01212101010101010101010101010101010101010101010101010101|wrg0 WL0 1qL0 U10 1tz0 2mN0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 U10 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1tz0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qL0 WN0 1qN0 U10 1wn0 Rd0 1wn0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1tz0 U10 1wn0 U10 1tz0 U10 1tz0 U10|21e2","Australia/Sydney|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r40 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|40e5","Australia/Adelaide|ACST ACDT|-9u -au|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r4u LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 WM0 1qM0 Rc0 1zc0 U00 1tA0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|11e5","Australia/Brisbane|AEST AEDT|-a0 -b0|010101010|4r40 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0|20e5","Australia/Broken_Hill|ACST ACDT|-9u -au|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r4u LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 14o0 1o00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1tA0 WM0 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|18e3","Australia/Hobart|AEDT AEST|-b0 -a0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|qg0 1wo0 U00 1wo0 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 11A0 1qM0 WM0 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1wo0 WM0 1tA0 WM0 1tA0 U00 1tA0 U00 1tA0 11A0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 11A0 1o00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1cM0 1a00 1io0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|21e4","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|+0845 +0945|-8J -9J|0101010101010|bHRf Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|368","Australia/Lord_Howe|AEST +1030 +1130 +11|-a0 -au -bu -b0|01212121213131313131313131313131313131313131313131313131313131313131313131313131313131313131313131313|raC0 1zdu Rb0 1zd0 On0 1zd0 On0 1zd0 On0 1zd0 TXu 1qMu WLu 1tAu WLu 1tAu TXu 1tAu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu 11zu 1o0u 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 11Au 1nXu 1qMu 11zu 1o0u 11zu 1o0u 11zu 1qMu WLu 1qMu 11zu 1o0u WLu 1qMu 14nu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1fzu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu|347","Australia/Lindeman|AEST AEDT|-a0 -b0|0101010101010|4r40 LA0 H1A0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0|10","Australia/Melbourne|AEST AEDT|-a0 -b0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4r40 LA0 1C00 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 U00 1qM0 WM0 1qM0 11A0 1tA0 U00 1tA0 U00 1tA0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 11A0 1o00 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 WM0 1qM0 14o0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|39e5","Australia/Perth|AWST AWDT|-80 -90|0101010101010|bHS0 Oo0 l5A0 Oo0 iJA0 G00 zU00 IM0 1qM0 11A0 1o00 11A0|18e5","Europe/Brussels|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|21e5","Pacific/Easter|-06 -07 -05|60 70 50|010101010101010101010101020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202|yP0 1ip0 11z0 1o10 11z0 1qN0 WL0 1ld0 14n0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 2pA0 11z0 1o10 11z0 1qN0 WL0 1qN0 WL0 1qN0 1cL0 1cN0 11z0 1o10 11z0 1qN0 WL0 1fB0 19X0 1qN0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1ip0 1fz0 1fB0 11z0 1qN0 WL0 1qN0 WL0 1qN0 WL0 1qN0 11z0 1o10 11z0 1o10 11z0 1qN0 WL0 1qN0 17b0 1ip0 11z0 1o10 19X0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1zb0 11B0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 11B0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0|30e2","EET|EET EEST|-20 -30|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|","Europe/Dublin|IST GMT|-10 0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4re0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Etc/GMT-1|+01|-10|0||","Pacific/Guadalcanal|+11|-b0|0||11e4","Pacific/Tarawa|+12|-c0|0||29e3","Etc/GMT-13|+13|-d0|0||","Etc/GMT-14|+14|-e0|0||","Etc/GMT-2|+02|-20|0||","Indian/Maldives|+05|-50|0||35e4","Pacific/Palau|+09|-90|0||21e3","Etc/GMT+1|-01|10|0||","Pacific/Tahiti|-10|a0|0||18e4","Pacific/Niue|-11|b0|0||12e2","Etc/GMT+12|-12|c0|0||","Etc/GMT+5|-05|50|0||","Etc/GMT+6|-06|60|0||","Etc/GMT+7|-07|70|0||","Etc/GMT+8|-08|80|0||","Pacific/Gambier|-09|90|0||125","Etc/UTC|UTC|0|0||","Europe/Andorra|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|B7d0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|79e3","Europe/Astrakhan|+04 +05 +03|-40 -50 -30|0101010101010101020202020202020202020202020202020202020202020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|10e5","Europe/Athens|EET EEST|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|cOK0 1vc0 SO0 1cM0 1a00 1ao0 1fc0 1a10 1fG0 1cg0 1dX0 1bX0 1cQ0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|35e5","Europe/London|BST GMT|-10 0|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|4re0 U00 1tA0 U00 1tA0 U00 1tA0 U00 1tA0 WM0 1qM0 WM0 1qM0 WM0 1tA0 U00 1tA0 U00 1tA0 11z0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 14o0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|10e6","Europe/Belgrade|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|wdd0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Europe/Prague|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|muN0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|13e5","Europe/Bucharest|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|mRa0 On0 1fA0 1a10 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|19e5","Europe/Budapest|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXb0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cO0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|17e5","Europe/Zurich|CET CEST|-10 -20|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|rm10 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|38e4","Europe/Chisinau|MSK MSD EEST EET|-30 -40 -30 -20|010101010101010101012323232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 gL0 WO0 1cM0 1cM0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11D0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|67e4","Europe/Gibraltar|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|tLB0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|30e3","Europe/Helsinki|EET EEST|-20 -30|01010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|rm00 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Europe/Kaliningrad|MSK MSD EEST EET +03|-30 -40 -30 -20 -30|010101010101010102323232323232323232323232323232323232323232343|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|44e4","Europe/Kiev|MSK MSD EEST EET|-30 -40 -30 -20|0101010101010101010123232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 Db0 3220 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o10 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|34e5","Europe/Kirov|+04 +05 MSD MSK MSK|-40 -50 -40 -30 -40|01010101010101010232302323232323232323232323232323232323232343|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 2pz0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|48e4","Europe/Lisbon|CET WET WEST CEST|-10 0 -10 -20|01212121212121212121212121212121203030302121212121212121212121212121212121212121212121212121212121212121212121|go00 1cM0 1cM0 1fA0 1cM0 1cM0 1cN0 1cL0 1cN0 1cM0 1cM0 1cM0 1cM0 1cN0 1cL0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|27e5","Europe/Madrid|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|apy0 1a10 1fz0 1a10 19X0 1cN0 1fz0 1a10 1fC0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|62e5","Europe/Malta|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|XX0 LA0 1zc0 Oo0 1C00 Oo0 1co0 1cM0 1lA0 Xc0 1qq0 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1o10 11z0 1iN0 19z0 1fB0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|42e4","Europe/Minsk|MSK MSD EEST EET +03|-30 -40 -30 -20 -30|010101010101010101023232323232323232323232323232323232323234|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 3Fc0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0|19e5","Europe/Paris|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|fbc0 1cL0 1fC0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|11e6","Europe/Moscow|MSK MSD EEST EET MSK|-30 -40 -30 -20 -40|0101010101010101010102301010101010101010101010101010101010101040|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0|16e6","Europe/Riga|MSK MSD EEST EET|-30 -40 -30 -20|010101010101010102323232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cN0 1o00 11A0 1o00 11A0 1qM0 3oo0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|64e4","Europe/Rome|CET CEST|-10 -20|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|XX0 LA0 1zc0 Oo0 1C00 Oo0 1C00 LA0 1zc0 Oo0 1C00 LA0 1C00 LA0 1zc0 Oo0 1C00 Oo0 1zc0 Oo0 1fC0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|39e5","Europe/Samara|+04 +05 +03|-40 -50 -30|01010101010101010202010101010101010101010101010101010101020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2y10 14m0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 2sp0 WM0|12e5","Europe/Saratov|+04 +05 +03|-40 -50 -30|0101010101010102020202020202020202020202020202020202020202020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1cM0 1cM0 1fA0 1cM0 3Co0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 5810|","Europe/Simferopol|MSK MSD EET EEST MSK|-30 -40 -20 -30 -40|0101010101010101010232323101010323232323232323232323232323232323240|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1Q00 4eN0 1cM0 1cM0 1cM0 1cM0 dV0 WO0 1cM0 1cM0 1fy0 1o30 11B0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Europe/Sofia|EET EEST|-20 -30|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|muJ0 1dd0 1fb0 1ap0 1fb0 1a20 1fy0 1a30 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cK0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 1nX0 11E0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|12e5","Europe/Tallinn|MSK MSD EEST EET|-30 -40 -30 -20|0101010101010101023232323232323232323232323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o10 11A0 1qM0 5QM0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|41e4","Europe/Tirane|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|axz0 10n0 1op0 11z0 1pd0 11z0 1qN0 WL0 1qp0 Xb0 1qp0 Xb0 1qp0 11z0 1lB0 11z0 1qN0 11z0 1iN0 16n0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|42e4","Europe/Ulyanovsk|+04 +05 +03 +02|-40 -50 -30 -20|010101010101010102023202020202020202020202020202020202020202020|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 2pB0 1cM0 1fA0 2pB0 IM0 rX0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 3rd0|13e5","Europe/Vienna|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|oXb0 19X0 1cP0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|18e5","Europe/Vilnius|MSK MSD EEST EET CEST CET|-30 -40 -30 -20 -20 -10|01010101010101010232323232323232323454323232323232323232323232323232323232323232323232323232323|rn90 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11B0 1o00 11A0 1qM0 8io0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|54e4","Europe/Volgograd|+04 +05 MSD MSK MSK|-40 -50 -40 -30 -40|0101010101010102323230232323232323232323232323232323232323234303|rn80 1db0 1cN0 1db0 1cN0 1db0 1dd0 1cO0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1fA0 1cM0 2pz0 1cN0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 8Hz0 9Jd0 5gn0|10e5","Europe/Warsaw|CET CEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDA0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cN0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|17e5","Pacific/Honolulu|HST|a0|0||37e4","Indian/Chagos|+05 +06|-50 -60|01|13ij0|30e2","Indian/Mauritius|+04 +05|-40 -50|01010|v5U0 14L0 12kr0 11z0|15e4","Pacific/Kwajalein|-12 +12|c0 -c0|01|Vxo0|14e3","MET|MET MEST|-10 -20|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|","Pacific/Chatham|+1245 +1345|-cJ -dJ|010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101|bKC0 IM0 1C00 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1qM0 14o0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1lc0 14o0 1lc0 14o0 1lc0 17c0 1io0 17c0 1io0 17c0 1io0 17c0 1io0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1io0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00|600","Pacific/Apia|-11 -10 +14 +13|b0 a0 -e0 -d0|010123232323232323232323|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0|37e3","Pacific/Bougainville|+10 +11|-a0 -b0|01|1NwE0|18e4","Pacific/Efate|+11 +12|-b0 -c0|01010101010101010101010|9EA0 Dc0 n610 1cL0 1cN0 1cL0 1fB0 19X0 1fB0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1cN0 1cL0 1fB0 Lz0 1Nd0 An0|66e3","Pacific/Enderbury|-12 -11 +13|c0 b0 -d0|012|nIc0 B7X0|1","Pacific/Fakaofo|-11 +13|b0 -d0|01|1Gfn0|483","Pacific/Fiji|+12 +13|-c0 -d0|01010101010101010101010101010|1ace0 LA0 1EM0 IM0 nJc0 LA0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 s00 1VA0 s00 20o0 pc0 2hc0 bc0|88e4","Pacific/Galapagos|-05 -06|50 60|0101|CVF0 gNd0 rz0|25e3","Pacific/Guam|GST GDT ChST|-a0 -b0 -a0|010101010102|JQ0 Rb0 1wp0 Rb0 5xd0 rX0 5sN0 zb1 1C0X On0 ULb0|17e4","Pacific/Kiritimati|-1040 -10 +14|aE a0 -e0|012|nIaE B7Xk|51e2","Pacific/Kosrae|+12 +11|-c0 -b0|01|1aAA0|66e2","Pacific/Marquesas|-0930|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Nauru|+1130 +12|-bu -c0|01|maCu|10e3","Pacific/Norfolk|+1130 +1230 +11 +12|-bu -cu -b0 -c0|010232323232323232323232323|bHOu Oo0 1COo0 9Jcu 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0|25e4","Pacific/Noumea|+11 +12|-b0 -c0|0101010|jhp0 xX0 1PB0 yn0 HeP0 Ao0|98e3","Pacific/Pitcairn|-0830 -08|8u 80|01|18Vku|56","Pacific/Rarotonga|-1030 -0930 -10|au 9u a0|012121212121212121212121212|lyWu IL0 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Onu 1zcu Rbu 1zcu Onu 1zcu Onu 1zcu Onu|13e3","Pacific/Tongatapu|+13 +14|-d0 -e0|010101010|1csd0 15A0 1wo0 xz0 1Q10 xz0 zWN0 s00|75e3","WET|WET WEST|0 -10|0101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010101010|hDB0 1a00 1fA0 1cM0 1cM0 1cM0 1fA0 1a00 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00|"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Cairo|Egypt","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Nairobi|Africa/Addis_Ababa","Africa/Nairobi|Africa/Asmara","Africa/Nairobi|Africa/Asmera","Africa/Nairobi|Africa/Dar_es_Salaam","Africa/Nairobi|Africa/Djibouti","Africa/Nairobi|Africa/Kampala","Africa/Nairobi|Africa/Mogadishu","Africa/Nairobi|Indian/Antananarivo","Africa/Nairobi|Indian/Comoro","Africa/Nairobi|Indian/Mayotte","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Catamarca|America/Argentina/ComodRivadavia","America/Argentina/Catamarca|America/Catamarca","America/Argentina/Cordoba|America/Cordoba","America/Argentina/Cordoba|America/Rosario","America/Argentina/Jujuy|America/Jujuy","America/Argentina/Mendoza|America/Mendoza","America/Cayenne|Etc/GMT+3","America/Chicago|CST6CDT","America/Chicago|US/Central","America/Denver|America/Shiprock","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Detroit|US/Michigan","America/Edmonton|America/Yellowknife","America/Edmonton|Canada/Mountain","America/Fort_Wayne|America/Indiana/Indianapolis","America/Fort_Wayne|America/Indianapolis","America/Fort_Wayne|US/East-Indiana","America/Godthab|America/Nuuk","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Indiana/Knox|America/Knox_IN","America/Indiana/Knox|US/Indiana-Starke","America/Iqaluit|America/Pangnirtung","America/Jamaica|Jamaica","America/Kentucky/Louisville|America/Louisville","America/La_Paz|Etc/GMT+4","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Manaus|Brazil/West","America/Mazatlan|Mexico/BajaSur","America/Mexico_City|Mexico/General","America/New_York|EST5EDT","America/New_York|US/Eastern","America/Noronha|Brazil/DeNoronha","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|EST","America/Phoenix|America/Creston","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Puerto_Rico|America/Anguilla","America/Puerto_Rico|America/Antigua","America/Puerto_Rico|America/Aruba","America/Puerto_Rico|America/Blanc-Sablon","America/Puerto_Rico|America/Curacao","America/Puerto_Rico|America/Dominica","America/Puerto_Rico|America/Grenada","America/Puerto_Rico|America/Guadeloupe","America/Puerto_Rico|America/Kralendijk","America/Puerto_Rico|America/Lower_Princes","America/Puerto_Rico|America/Marigot","America/Puerto_Rico|America/Montserrat","America/Puerto_Rico|America/Port_of_Spain","America/Puerto_Rico|America/St_Barthelemy","America/Puerto_Rico|America/St_Kitts","America/Puerto_Rico|America/St_Lucia","America/Puerto_Rico|America/St_Thomas","America/Puerto_Rico|America/St_Vincent","America/Puerto_Rico|America/Tortola","America/Puerto_Rico|America/Virgin","America/Regina|Canada/Saskatchewan","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Chile/Continental","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","America/Tijuana|America/Ensenada","America/Tijuana|America/Santa_Isabel","America/Tijuana|Mexico/BajaNorte","America/Toronto|America/Montreal","America/Toronto|America/Nassau","America/Toronto|America/Nipigon","America/Toronto|America/Thunder_Bay","America/Toronto|Canada/Eastern","America/Vancouver|Canada/Pacific","America/Whitehorse|Canada/Yukon","America/Winnipeg|America/Rainy_River","America/Winnipeg|Canada/Central","Asia/Ashgabat|Asia/Ashkhabad","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Vientiane","Asia/Bangkok|Etc/GMT-7","Asia/Bangkok|Indian/Christmas","Asia/Brunei|Asia/Kuching","Asia/Brunei|Etc/GMT-8","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Dubai|Etc/GMT-4","Asia/Dubai|Indian/Mahe","Asia/Dubai|Indian/Reunion","Asia/Ho_Chi_Minh|Asia/Saigon","Asia/Hong_Kong|Hongkong","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Singapore","Asia/Kuala_Lumpur|Singapore","Asia/Macau|Asia/Macao","Asia/Makassar|Asia/Ujung_Pandang","Asia/Nicosia|Europe/Nicosia","Asia/Qatar|Asia/Bahrain","Asia/Rangoon|Asia/Yangon","Asia/Rangoon|Indian/Cocos","Asia/Riyadh|Antarctica/Syowa","Asia/Riyadh|Asia/Aden","Asia/Riyadh|Asia/Kuwait","Asia/Riyadh|Etc/GMT-3","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|PRC","Asia/Taipei|ROC","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Antarctica/Vostok","Asia/Urumqi|Asia/Kashgar","Asia/Urumqi|Etc/GMT-6","Atlantic/Faroe|Atlantic/Faeroe","Atlantic/South_Georgia|Etc/GMT+2","Australia/Adelaide|Australia/South","Australia/Brisbane|Australia/Queensland","Australia/Broken_Hill|Australia/Yancowinna","Australia/Darwin|Australia/North","Australia/Hobart|Australia/Currie","Australia/Hobart|Australia/Tasmania","Australia/Lord_Howe|Australia/LHI","Australia/Melbourne|Australia/Victoria","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/NSW","Etc/UTC|Etc/UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UCT","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Belgrade|Europe/Ljubljana","Europe/Belgrade|Europe/Podgorica","Europe/Belgrade|Europe/Sarajevo","Europe/Belgrade|Europe/Skopje","Europe/Belgrade|Europe/Zagreb","Europe/Berlin|Arctic/Longyearbyen","Europe/Berlin|Atlantic/Jan_Mayen","Europe/Berlin|Europe/Copenhagen","Europe/Berlin|Europe/Oslo","Europe/Berlin|Europe/Stockholm","Europe/Brussels|CET","Europe/Brussels|Europe/Amsterdam","Europe/Brussels|Europe/Luxembourg","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Helsinki|Europe/Mariehamn","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Kiev|Europe/Kyiv","Europe/Kiev|Europe/Uzhgorod","Europe/Kiev|Europe/Zaporozhye","Europe/Lisbon|Portugal","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Europe/Monaco","Europe/Prague|Europe/Bratislava","Europe/Rome|Europe/San_Marino","Europe/Rome|Europe/Vatican","Europe/Warsaw|Poland","Europe/Zurich|Europe/Busingen","Europe/Zurich|Europe/Vaduz","Indian/Maldives|Etc/GMT-5","Indian/Maldives|Indian/Kerguelen","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Easter|Chile/EasterIsland","Pacific/Enderbury|Pacific/Kanton","Pacific/Gambier|Etc/GMT+9","Pacific/Guadalcanal|Etc/GMT-11","Pacific/Guadalcanal|Pacific/Pohnpei","Pacific/Guadalcanal|Pacific/Ponape","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Kwajalein|Kwajalein","Pacific/Niue|Etc/GMT+11","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Palau|Etc/GMT-9","Pacific/Port_Moresby|Antarctica/DumontDUrville","Pacific/Port_Moresby|Etc/GMT-10","Pacific/Port_Moresby|Pacific/Chuuk","Pacific/Port_Moresby|Pacific/Truk","Pacific/Port_Moresby|Pacific/Yap","Pacific/Tahiti|Etc/GMT+10","Pacific/Tarawa|Etc/GMT-12","Pacific/Tarawa|Pacific/Funafuti","Pacific/Tarawa|Pacific/Majuro","Pacific/Tarawa|Pacific/Wake","Pacific/Tarawa|Pacific/Wallis"],countries:["AD|Europe/Andorra","AE|Asia/Dubai","AF|Asia/Kabul","AG|America/Puerto_Rico America/Antigua","AI|America/Puerto_Rico America/Anguilla","AL|Europe/Tirane","AM|Asia/Yerevan","AO|Africa/Lagos Africa/Luanda","AQ|Antarctica/Casey Antarctica/Davis Antarctica/Mawson Antarctica/Palmer Antarctica/Rothera Antarctica/Troll Asia/Urumqi Pacific/Auckland Pacific/Port_Moresby Asia/Riyadh Antarctica/McMurdo Antarctica/DumontDUrville Antarctica/Syowa Antarctica/Vostok","AR|America/Argentina/Buenos_Aires America/Argentina/Cordoba America/Argentina/Salta America/Argentina/Jujuy America/Argentina/Tucuman America/Argentina/Catamarca America/Argentina/La_Rioja America/Argentina/San_Juan America/Argentina/Mendoza America/Argentina/San_Luis America/Argentina/Rio_Gallegos America/Argentina/Ushuaia","AS|Pacific/Pago_Pago","AT|Europe/Vienna","AU|Australia/Lord_Howe Antarctica/Macquarie Australia/Hobart Australia/Melbourne Australia/Sydney Australia/Broken_Hill Australia/Brisbane Australia/Lindeman Australia/Adelaide Australia/Darwin Australia/Perth Australia/Eucla","AW|America/Puerto_Rico America/Aruba","AX|Europe/Helsinki Europe/Mariehamn","AZ|Asia/Baku","BA|Europe/Belgrade Europe/Sarajevo","BB|America/Barbados","BD|Asia/Dhaka","BE|Europe/Brussels","BF|Africa/Abidjan Africa/Ouagadougou","BG|Europe/Sofia","BH|Asia/Qatar Asia/Bahrain","BI|Africa/Maputo Africa/Bujumbura","BJ|Africa/Lagos Africa/Porto-Novo","BL|America/Puerto_Rico America/St_Barthelemy","BM|Atlantic/Bermuda","BN|Asia/Kuching Asia/Brunei","BO|America/La_Paz","BQ|America/Puerto_Rico America/Kralendijk","BR|America/Noronha America/Belem America/Fortaleza America/Recife America/Araguaina America/Maceio America/Bahia America/Sao_Paulo America/Campo_Grande America/Cuiaba America/Santarem America/Porto_Velho America/Boa_Vista America/Manaus America/Eirunepe America/Rio_Branco","BS|America/Toronto America/Nassau","BT|Asia/Thimphu","BW|Africa/Maputo Africa/Gaborone","BY|Europe/Minsk","BZ|America/Belize","CA|America/St_Johns America/Halifax America/Glace_Bay America/Moncton America/Goose_Bay America/Toronto America/Iqaluit America/Winnipeg America/Resolute America/Rankin_Inlet America/Regina America/Swift_Current America/Edmonton America/Cambridge_Bay America/Inuvik America/Dawson_Creek America/Fort_Nelson America/Whitehorse America/Dawson America/Vancouver America/Panama America/Puerto_Rico America/Phoenix America/Blanc-Sablon America/Atikokan America/Creston","CC|Asia/Yangon Indian/Cocos","CD|Africa/Maputo Africa/Lagos Africa/Kinshasa Africa/Lubumbashi","CF|Africa/Lagos Africa/Bangui","CG|Africa/Lagos Africa/Brazzaville","CH|Europe/Zurich","CI|Africa/Abidjan","CK|Pacific/Rarotonga","CL|America/Santiago America/Punta_Arenas Pacific/Easter","CM|Africa/Lagos Africa/Douala","CN|Asia/Shanghai Asia/Urumqi","CO|America/Bogota","CR|America/Costa_Rica","CU|America/Havana","CV|Atlantic/Cape_Verde","CW|America/Puerto_Rico America/Curacao","CX|Asia/Bangkok Indian/Christmas","CY|Asia/Nicosia Asia/Famagusta","CZ|Europe/Prague","DE|Europe/Zurich Europe/Berlin Europe/Busingen","DJ|Africa/Nairobi Africa/Djibouti","DK|Europe/Berlin Europe/Copenhagen","DM|America/Puerto_Rico America/Dominica","DO|America/Santo_Domingo","DZ|Africa/Algiers","EC|America/Guayaquil Pacific/Galapagos","EE|Europe/Tallinn","EG|Africa/Cairo","EH|Africa/El_Aaiun","ER|Africa/Nairobi Africa/Asmara","ES|Europe/Madrid Africa/Ceuta Atlantic/Canary","ET|Africa/Nairobi Africa/Addis_Ababa","FI|Europe/Helsinki","FJ|Pacific/Fiji","FK|Atlantic/Stanley","FM|Pacific/Kosrae Pacific/Port_Moresby Pacific/Guadalcanal Pacific/Chuuk Pacific/Pohnpei","FO|Atlantic/Faroe","FR|Europe/Paris","GA|Africa/Lagos Africa/Libreville","GB|Europe/London","GD|America/Puerto_Rico America/Grenada","GE|Asia/Tbilisi","GF|America/Cayenne","GG|Europe/London Europe/Guernsey","GH|Africa/Abidjan Africa/Accra","GI|Europe/Gibraltar","GL|America/Nuuk America/Danmarkshavn America/Scoresbysund America/Thule","GM|Africa/Abidjan Africa/Banjul","GN|Africa/Abidjan Africa/Conakry","GP|America/Puerto_Rico America/Guadeloupe","GQ|Africa/Lagos Africa/Malabo","GR|Europe/Athens","GS|Atlantic/South_Georgia","GT|America/Guatemala","GU|Pacific/Guam","GW|Africa/Bissau","GY|America/Guyana","HK|Asia/Hong_Kong","HN|America/Tegucigalpa","HR|Europe/Belgrade Europe/Zagreb","HT|America/Port-au-Prince","HU|Europe/Budapest","ID|Asia/Jakarta Asia/Pontianak Asia/Makassar Asia/Jayapura","IE|Europe/Dublin","IL|Asia/Jerusalem","IM|Europe/London Europe/Isle_of_Man","IN|Asia/Kolkata","IO|Indian/Chagos","IQ|Asia/Baghdad","IR|Asia/Tehran","IS|Africa/Abidjan Atlantic/Reykjavik","IT|Europe/Rome","JE|Europe/London Europe/Jersey","JM|America/Jamaica","JO|Asia/Amman","JP|Asia/Tokyo","KE|Africa/Nairobi","KG|Asia/Bishkek","KH|Asia/Bangkok Asia/Phnom_Penh","KI|Pacific/Tarawa Pacific/Kanton Pacific/Kiritimati","KM|Africa/Nairobi Indian/Comoro","KN|America/Puerto_Rico America/St_Kitts","KP|Asia/Pyongyang","KR|Asia/Seoul","KW|Asia/Riyadh Asia/Kuwait","KY|America/Panama America/Cayman","KZ|Asia/Almaty Asia/Qyzylorda Asia/Qostanay Asia/Aqtobe Asia/Aqtau Asia/Atyrau Asia/Oral","LA|Asia/Bangkok Asia/Vientiane","LB|Asia/Beirut","LC|America/Puerto_Rico America/St_Lucia","LI|Europe/Zurich Europe/Vaduz","LK|Asia/Colombo","LR|Africa/Monrovia","LS|Africa/Johannesburg Africa/Maseru","LT|Europe/Vilnius","LU|Europe/Brussels Europe/Luxembourg","LV|Europe/Riga","LY|Africa/Tripoli","MA|Africa/Casablanca","MC|Europe/Paris Europe/Monaco","MD|Europe/Chisinau","ME|Europe/Belgrade Europe/Podgorica","MF|America/Puerto_Rico America/Marigot","MG|Africa/Nairobi Indian/Antananarivo","MH|Pacific/Tarawa Pacific/Kwajalein Pacific/Majuro","MK|Europe/Belgrade Europe/Skopje","ML|Africa/Abidjan Africa/Bamako","MM|Asia/Yangon","MN|Asia/Ulaanbaatar Asia/Hovd Asia/Choibalsan","MO|Asia/Macau","MP|Pacific/Guam Pacific/Saipan","MQ|America/Martinique","MR|Africa/Abidjan Africa/Nouakchott","MS|America/Puerto_Rico America/Montserrat","MT|Europe/Malta","MU|Indian/Mauritius","MV|Indian/Maldives","MW|Africa/Maputo Africa/Blantyre","MX|America/Mexico_City America/Cancun America/Merida America/Monterrey America/Matamoros America/Chihuahua America/Ciudad_Juarez America/Ojinaga America/Mazatlan America/Bahia_Banderas America/Hermosillo America/Tijuana","MY|Asia/Kuching Asia/Singapore Asia/Kuala_Lumpur","MZ|Africa/Maputo","NA|Africa/Windhoek","NC|Pacific/Noumea","NE|Africa/Lagos Africa/Niamey","NF|Pacific/Norfolk","NG|Africa/Lagos","NI|America/Managua","NL|Europe/Brussels Europe/Amsterdam","NO|Europe/Berlin Europe/Oslo","NP|Asia/Kathmandu","NR|Pacific/Nauru","NU|Pacific/Niue","NZ|Pacific/Auckland Pacific/Chatham","OM|Asia/Dubai Asia/Muscat","PA|America/Panama","PE|America/Lima","PF|Pacific/Tahiti Pacific/Marquesas Pacific/Gambier","PG|Pacific/Port_Moresby Pacific/Bougainville","PH|Asia/Manila","PK|Asia/Karachi","PL|Europe/Warsaw","PM|America/Miquelon","PN|Pacific/Pitcairn","PR|America/Puerto_Rico","PS|Asia/Gaza Asia/Hebron","PT|Europe/Lisbon Atlantic/Madeira Atlantic/Azores","PW|Pacific/Palau","PY|America/Asuncion","QA|Asia/Qatar","RE|Asia/Dubai Indian/Reunion","RO|Europe/Bucharest","RS|Europe/Belgrade","RU|Europe/Kaliningrad Europe/Moscow Europe/Simferopol Europe/Kirov Europe/Volgograd Europe/Astrakhan Europe/Saratov Europe/Ulyanovsk Europe/Samara Asia/Yekaterinburg Asia/Omsk Asia/Novosibirsk Asia/Barnaul Asia/Tomsk Asia/Novokuznetsk Asia/Krasnoyarsk Asia/Irkutsk Asia/Chita Asia/Yakutsk Asia/Khandyga Asia/Vladivostok Asia/Ust-Nera Asia/Magadan Asia/Sakhalin Asia/Srednekolymsk Asia/Kamchatka Asia/Anadyr","RW|Africa/Maputo Africa/Kigali","SA|Asia/Riyadh","SB|Pacific/Guadalcanal","SC|Asia/Dubai Indian/Mahe","SD|Africa/Khartoum","SE|Europe/Berlin Europe/Stockholm","SG|Asia/Singapore","SH|Africa/Abidjan Atlantic/St_Helena","SI|Europe/Belgrade Europe/Ljubljana","SJ|Europe/Berlin Arctic/Longyearbyen","SK|Europe/Prague Europe/Bratislava","SL|Africa/Abidjan Africa/Freetown","SM|Europe/Rome Europe/San_Marino","SN|Africa/Abidjan Africa/Dakar","SO|Africa/Nairobi Africa/Mogadishu","SR|America/Paramaribo","SS|Africa/Juba","ST|Africa/Sao_Tome","SV|America/El_Salvador","SX|America/Puerto_Rico America/Lower_Princes","SY|Asia/Damascus","SZ|Africa/Johannesburg Africa/Mbabane","TC|America/Grand_Turk","TD|Africa/Ndjamena","TF|Asia/Dubai Indian/Maldives Indian/Kerguelen","TG|Africa/Abidjan Africa/Lome","TH|Asia/Bangkok","TJ|Asia/Dushanbe","TK|Pacific/Fakaofo","TL|Asia/Dili","TM|Asia/Ashgabat","TN|Africa/Tunis","TO|Pacific/Tongatapu","TR|Europe/Istanbul","TT|America/Puerto_Rico America/Port_of_Spain","TV|Pacific/Tarawa Pacific/Funafuti","TW|Asia/Taipei","TZ|Africa/Nairobi Africa/Dar_es_Salaam","UA|Europe/Simferopol Europe/Kyiv","UG|Africa/Nairobi Africa/Kampala","UM|Pacific/Pago_Pago Pacific/Tarawa Pacific/Midway Pacific/Wake","US|America/New_York America/Detroit America/Kentucky/Louisville America/Kentucky/Monticello America/Indiana/Indianapolis America/Indiana/Vincennes America/Indiana/Winamac America/Indiana/Marengo America/Indiana/Petersburg America/Indiana/Vevay America/Chicago America/Indiana/Tell_City America/Indiana/Knox America/Menominee America/North_Dakota/Center America/North_Dakota/New_Salem America/North_Dakota/Beulah America/Denver America/Boise America/Phoenix America/Los_Angeles America/Anchorage America/Juneau America/Sitka America/Metlakatla America/Yakutat America/Nome America/Adak Pacific/Honolulu","UY|America/Montevideo","UZ|Asia/Samarkand Asia/Tashkent","VA|Europe/Rome Europe/Vatican","VC|America/Puerto_Rico America/St_Vincent","VE|America/Caracas","VG|America/Puerto_Rico America/Tortola","VI|America/Puerto_Rico America/St_Thomas","VN|Asia/Bangkok Asia/Ho_Chi_Minh","VU|Pacific/Efate","WF|Pacific/Tarawa Pacific/Wallis","WS|Pacific/Apia","YE|Asia/Riyadh Asia/Aden","YT|Africa/Nairobi Indian/Mayotte","ZA|Africa/Johannesburg","ZM|Africa/Maputo Africa/Lusaka","ZW|Africa/Maputo Africa/Harare"]}),e}))},{moment:1223}],1306:[function(e,t,r){(function(e,n){if(typeof define==="function"&&define.amd){define(n)}else if(typeof r==="object"){t.exports=n()}else{e.NProgress=n()}})(this,(function(){var e={};e.version="0.1.6";var t=e.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:true,trickleRate:.02,trickleSpeed:800,showSpinner:true,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};e.configure=function(e){var r,n;for(r in e){n=e[r];if(n!==undefined&&e.hasOwnProperty(r))t[r]=n}return this};e.status=null;e.set=function(n){var a=e.isStarted();n=r(n,t.minimum,1);e.status=n===1?null:n;var l=e.render(!a),u=l.querySelector(t.barSelector),c=t.speed,f=t.easing;l.offsetWidth;s((function(r){if(t.positionUsing==="")t.positionUsing=e.getPositioningCSS();i(u,o(n,c,f));if(n===1){i(l,{transition:"none",opacity:1});l.offsetWidth;setTimeout((function(){i(l,{transition:"all "+c+"ms linear",opacity:0});setTimeout((function(){e.remove();r()}),c)}),c)}else{setTimeout(r,c)}}));return this};e.isStarted=function(){return typeof e.status==="number"};e.start=function(){if(!e.status)e.set(0);var r=function(){setTimeout((function(){if(!e.status)return;e.trickle();r()}),t.trickleSpeed)};if(t.trickle)r();return this};e.done=function(t){if(!t&&!e.status)return this;return e.inc(.3+.5*Math.random()).set(1)};e.inc=function(t){var n=e.status;if(!n){return e.start()}else{if(typeof t!=="number"){t=(1-n)*r(Math.random()*n,.1,.95)}n=r(n+t,0,.994);return e.set(n)}};e.trickle=function(){return e.inc(Math.random()*t.trickleRate)};(function(){var t=0,r=0;e.promise=function(n){if(!n||n.state()=="resolved"){return this}if(r==0){e.start()}t++;r++;n.always((function(){r--;if(r==0){t=0;e.done()}else{e.set((t-r)/t)}}));return this}})();e.render=function(r){if(e.isRendered())return document.getElementById("nprogress");l(document.documentElement,"nprogress-busy");var o=document.createElement("div");o.id="nprogress";o.innerHTML=t.template;var s=o.querySelector(t.barSelector),a=r?"-100":n(e.status||0),u=document.querySelector(t.parent),c;i(s,{transition:"all 0 linear",transform:"translate3d("+a+"%,0,0)"});if(!t.showSpinner){c=o.querySelector(t.spinnerSelector);c&&f(c)}if(u!=document.body){l(u,"nprogress-custom-parent")}u.appendChild(o);return o};e.remove=function(){u(document.documentElement,"nprogress-busy");u(document.querySelector(t.parent),"nprogress-custom-parent");var e=document.getElementById("nprogress");e&&f(e)};e.isRendered=function(){return!!document.getElementById("nprogress")};e.getPositioningCSS=function(){var e=document.body.style;var t="WebkitTransform"in e?"Webkit":"MozTransform"in e?"Moz":"msTransform"in e?"ms":"OTransform"in e?"O":"";if(t+"Perspective"in e){return"translate3d"}else if(t+"Transform"in e){return"translate"}else{return"margin"}};function r(e,t,r){if(e<t)return t;if(e>r)return r;return e}function n(e){return(-1+e)*100}function o(e,r,o){var s;if(t.positionUsing==="translate3d"){s={transform:"translate3d("+n(e)+"%,0,0)"}}else if(t.positionUsing==="translate"){s={transform:"translate("+n(e)+"%,0)"}}else{s={"margin-left":n(e)+"%"}}s.transition="all "+r+"ms "+o;return s}var s=function(){var e=[];function t(){var r=e.shift();if(r){r(t)}}return function(r){e.push(r);if(e.length==1)t()}}();var i=function(){var e=["Webkit","O","Moz","ms"],t={};function r(e){return e.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,(function(e,t){return t.toUpperCase()}))}function n(t){var r=document.body.style;if(t in r)return t;var n=e.length,o=t.charAt(0).toUpperCase()+t.slice(1),s;while(n--){s=e[n]+o;if(s in r)return s}return t}function o(e){e=r(e);return t[e]||(t[e]=n(e))}function s(e,t,r){t=o(t);e.style[t]=r}return function(e,t){var r=arguments,n,o;if(r.length==2){for(n in t){o=t[n];if(o!==undefined&&t.hasOwnProperty(n))s(e,n,o)}}else{s(e,r[1],r[2])}}}();function a(e,t){var r=typeof e=="string"?e:c(e);return r.indexOf(" "+t+" ")>=0}function l(e,t){var r=c(e),n=r+t;if(a(r,t))return;e.className=n.substring(1)}function u(e,t){var r=c(e),n;if(!a(e,t))return;n=r.replace(" "+t+" "," ");e.className=n.substring(1,n.length-1)}function c(e){return(" "+(e.className||"")+" ").replace(/\s+/gi," ")}function f(e){e&&e.parentNode&&e.parentNode.removeChild(e)}return e}))},{}],1307:[function(e,t,r){(function(e,n){if(typeof r=="object")t.exports=n();else if(typeof define=="function"&&define.amd)define(n);else e.Spinner=n()})(this,(function(){"use strict";var e=["webkit","Moz","ms","O"],t={},r;function n(e,t){var r=document.createElement(e||"div"),n;for(n in t)r[n]=t[n];return r}function o(e){for(var t=1,r=arguments.length;t<r;t++)e.appendChild(arguments[t]);return e}var s=function(){var e=n("style",{type:"text/css"});o(document.getElementsByTagName("head")[0],e);return e.sheet||e.styleSheet}();function i(e,n,o,i){var a=["opacity",n,~~(e*100),o,i].join("-"),l=.01+o/i*100,u=Math.max(1-(1-e)/n*(100-l),e),c=r.substring(0,r.indexOf("Animation")).toLowerCase(),f=c&&"-"+c+"-"||"";if(!t[a]){s.insertRule("@"+f+"keyframes "+a+"{"+"0%{opacity:"+u+"}"+l+"%{opacity:"+e+"}"+(l+.01)+"%{opacity:1}"+(l+n)%100+"%{opacity:"+e+"}"+"100%{opacity:"+u+"}"+"}",s.cssRules.length);t[a]=1}return a}function a(t,r){var n=t.style,o,s;if(n[r]!==undefined)return r;r=r.charAt(0).toUpperCase()+r.slice(1);for(s=0;s<e.length;s++){o=e[s]+r;if(n[o]!==undefined)return o}}function l(e,t){for(var r in t)e.style[a(e,r)||r]=t[r];return e}function u(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)if(e[n]===undefined)e[n]=r[n]}return e}function c(e){var t={x:e.offsetLeft,y:e.offsetTop};while(e=e.offsetParent)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:1/4,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};function d(e){if(typeof this=="undefined")return new d(e);this.opts=u(e||{},d.defaults,f)}d.defaults={};u(d.prototype,{spin:function(e){this.stop();var t=this,o=t.opts,s=t.el=l(n(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),i=o.radius+o.length+o.width,a,u;if(e){e.insertBefore(s,e.firstChild||null);u=c(e);a=c(s);l(s,{left:(o.left=="auto"?u.x-a.x+(e.offsetWidth>>1):parseInt(o.left,10)+i)+"px",top:(o.top=="auto"?u.y-a.y+(e.offsetHeight>>1):parseInt(o.top,10)+i)+"px"})}s.setAttribute("role","progressbar");t.lines(s,t.opts);if(!r){var f=0,d=(o.lines-1)*(1-o.direction)/2,p,_=o.fps,m=_/o.speed,y=(1-o.opacity)/(m*o.trail/100),v=m/o.lines;(function e(){f++;for(var r=0;r<o.lines;r++){p=Math.max(1-(f+(o.lines-r)*v)%m*y,o.opacity);t.opacity(s,r*o.direction+d,p,o)}t.timeout=t.el&&setTimeout(e,~~(1e3/_))})()}return t},stop:function(){var e=this.el;if(e){clearTimeout(this.timeout);if(e.parentNode)e.parentNode.removeChild(e);this.el=undefined}return this},lines:function(e,t){var s=0,a=(t.lines-1)*(1-t.direction)/2,u;function c(e,r){return l(n(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:r,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*s+t.rotate)+"deg) translate("+t.radius+"px"+",0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(;s<t.lines;s++){u=l(n(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:r&&i(t.opacity,t.trail,a+s*t.direction,t.lines)+" "+1/t.speed+"s linear infinite"});if(t.shadow)o(u,l(c("#000","0 0 4px "+"#000"),{top:2+"px"}));o(e,o(u,c(t.color,"0 0 1px rgba(0,0,0,.1)")))}return e},opacity:function(e,t,r){if(t<e.childNodes.length)e.childNodes[t].style.opacity=r}});function p(){function e(e,t){return n("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}s.addRule(".spin-vml","behavior:url(#default#VML)");d.prototype.lines=function(t,r){var n=r.length+r.width,s=2*n;function i(){return l(e("group",{coordsize:s+" "+s,coordorigin:-n+" "+-n}),{width:s,height:s})}var a=-(r.width+r.length)*2+"px",u=l(i(),{position:"absolute",top:a,left:a}),c;function f(t,s,a){o(u,o(l(i(),{rotation:360/r.lines*t+"deg",left:~~s}),o(l(e("roundrect",{arcsize:r.corners}),{width:n,height:r.width,left:r.radius,top:-r.width>>1,filter:a}),e("fill",{color:r.color,opacity:r.opacity}),e("stroke",{opacity:0}))))}if(r.shadow)for(c=1;c<=r.lines;c++)f(c,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(c=1;c<=r.lines;c++)f(c);return o(t,u)};d.prototype.opacity=function(e,t,r,n){var o=e.firstChild;n=n.shadow&&n.lines||0;if(o&&t+n<o.childNodes.length){o=o.childNodes[t+n];o=o&&o.firstChild;o=o&&o.firstChild;if(o)o.opacity=r}}}var _=l(n("group"),{behavior:"url(#default#VML)"});if(!a(_,"transform")&&_.adj)p();else r=a(_,"animation");return d}))},{}]},{},[720,13,24,28,29,30,31,32,33,34,35,14,15,16,17,18,19,20,21,22,23,25,26,27]);